/*! For license information please see 2.96e8165b.chunk.js.LICENSE.txt */
(this["webpackJsonpexcalidraw-claymate"]=this["webpackJsonpexcalidraw-claymate"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(75)},function(e,t,n){e.exports=n(51)},function(e,t,n){"use strict";e.exports=n(44)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(g){a=!0,i=g}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),g=c.value}catch(l){return void n(l)}c.done?t(g):Promise.resolve(g).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function c(e){r(o,a,i,c,g,"next",e)}function g(e){r(o,a,i,c,g,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){e.exports=n(49)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);var a=n(19);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){var r=n(33),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(5),i=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top.location}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}();i?n.e(4).then(n.bind(null,144)):n.e(7).then(n.bind(null,145));i?n.e(3).then(n.bind(null,149)):n.e(6).then(n.bind(null,146));var o=i?n.e(5).then(n.bind(null,147)):n.e(8).then(n.bind(null,148));function c(){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(r.mark((function e(){var t,n=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){var r=n(89),a=n(94);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}},function(e,t,n){var r=n(79),a=n(80),i=n(81),o=n(82),c=n(83);function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}g.prototype.clear=r,g.prototype.delete=a,g.prototype.get=i,g.prototype.has=o,g.prototype.set=c,e.exports=g},function(e,t,n){var r=n(31);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(25),a=n(90),i=n(91),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,n){var r=n(10)(Object,"create");e.exports=r},function(e,t,n){var r=n(103);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return Q}));var r=n(7),a=n(4),i=n(6),o="http://www.w3.org/2000/svg",c=function(e,t,n,r,a){t.setAttribute("opacity","0");var i=e.ownerDocument.createElementNS(o,"animate");i.setAttribute("attributeName","opacity"),i.setAttribute("from","1"),i.setAttribute("to","1"),i.setAttribute("begin","".concat(n,"ms")),i.setAttribute("dur","".concat(r,"ms")),a&&i.setAttribute("fill","freeze"),t.appendChild(i)},g=function(e,t,n,r,i,g){var l;if(g.pointerImg){var s=e.ownerDocument.createElementNS(o,"image");s.setAttribute("href",g.pointerImg),g.pointerWidth&&s.setAttribute("width",g.pointerWidth),g.pointerHeight&&s.setAttribute("height",g.pointerHeight),c(e,s,r,i);var u=e.ownerDocument.createElementNS(o,"animateMotion");u.setAttribute("path",function(e){var t=e.match(/(M[^C]*C[^M]*)/g);if(!t)return e;if(t.length<=2)return t[t.length-1];var n=t.reduce((function(e,t,n){var r=t.match(/M([\d.-]+) ([\d.-]+) C([\d.-]+) ([\d.-]+)/)||[],i=Object(a.a)(r,5),o=i[1],c=i[2],g=i[3],l=i[4],s=Math.hypot(Number(g)-Number(o),Number(l)-Number(c));return s>e[1]?[n,s]:e}),[0,0]);return t[Object(a.a)(n,1)[0]]}(n)),u.setAttribute("begin","".concat(r,"ms")),u.setAttribute("dur","".concat(i,"ms")),s.appendChild(u),null===(l=t.parentNode)||void 0===l||l.appendChild(s)}},l=function(e,t,n,r,i){for(var l,s,u=t.getAttribute("d")||"",I=(null===(l=u.match(/M/g))||void 0===l?void 0:l.length)||0,d=((null===(s=u.match(/C/g))||void 0===s?void 0:s.length)||0)/I,C=u,B=function(i){var c=u.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){","".concat(i),"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[3]?t[3].match(/.* (\S+) (\S+)$/).slice(1,3):[t[1],t[2]],o=Object(a.a)(r,2),c=o[0],g=o[1];return"M".concat(t[1]," ").concat(t[2]).concat(t[3])+" C".concat(c," ").concat(g,", ").concat(c," ").concat(g,", ").concat(c," ").concat(g).repeat(d-i)}));0===i&&t.setAttribute("d",c);var g=e.ownerDocument.createElementNS(o,"animate");g.setAttribute("attributeName","d"),g.setAttribute("from",c),g.setAttribute("to",C),g.setAttribute("begin","".concat(n+i*(r/d),"ms")),g.setAttribute("dur","".concat(r/d,"ms")),g.setAttribute("fill","freeze"),t.appendChild(g),C=c},b=d-1;b>=0;b-=1)B(b);g(e,t,u,n,r,i),c(e,t,n,r,!0)},s=function(e,t,n,r,a){var i=t.getAttribute("d")||"";if(i.includes("C"))l(e,t,n,r,a);else{var c=i.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"M".concat(t[1]," ").concat(t[2])+t[3].replace(/L\S+ \S+/g,"L".concat(t[1]," ").concat(t[2]))}));t.setAttribute("d",c);var g=e.ownerDocument.createElementNS(o,"animate");g.setAttribute("attributeName","d"),g.setAttribute("from",c),g.setAttribute("to",i),g.setAttribute("begin","".concat(n,"ms")),g.setAttribute("dur","".concat(r,"ms")),g.setAttribute("fill","freeze"),t.appendChild(g)}},u=function(e,t,n,i,l){var s,u,I,d,C=t.getAttribute("d")||"",B=(null===(s=C.match(/M/g))||void 0===s?void 0:s.length)||0,b=(null===(u=C.match(/C/g))||void 0===u?void 0:u.length)||0;if(B===b+1&&(B=(null===(I=(C=C.replace(/^M\S+ \S+ M/,"M")).match(/M/g))||void 0===I?void 0:I.length)||0,b=(null===(d=C.match(/C/g))||void 0===d?void 0:d.length)||0),B!==b)throw new Error("unexpected m/c counts");for(var A=t.getAttribute("stroke-dasharray")?1:Math.min(2,B),h=B/A,m=C,p=function(c){var s=C.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(A),"){","".concat(c),"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(A),".*"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"".concat(t[1])+Object(r.a)(Array(A).keys()).map((function(e){var n=t.slice(2+2*A+2*e),r=Object(a.a)(n,2),i=r[0],o=r[1];return"M".concat(i," ").concat(o," C").concat(i," ").concat(o,", ").concat(i," ").concat(o,", ").concat(i," ").concat(o," ")})).join("").repeat(h-c)}));0===c&&t.setAttribute("d",s);var u=e.ownerDocument.createElementNS(o,"animate");u.setAttribute("attributeName","d"),u.setAttribute("from",s),u.setAttribute("to",m),u.setAttribute("begin","".concat(n+c*(i/h),"ms")),u.setAttribute("dur","".concat(i/h,"ms")),u.setAttribute("fill","freeze"),t.appendChild(u),m=s,g(e,t,C.replace(new RegExp(["(?:","M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(A),"){","".concat(c),"}","(M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+) ?".repeat(A),".*"].join("")),"$1"),n+c*(i/h),i/h,l)},Q=h-1;Q>=0;Q-=1)p(Q);c(e,t,n,i,!0)},I=0,d=function(e,t,n,r,a,i){var c=e.ownerDocument.createElementNS(o,"path"),g=e.ownerDocument.createElementNS(o,"animate");g.setAttribute("attributeName","d"),g.setAttribute("from",n),g.setAttribute("to",r),g.setAttribute("begin","".concat(a,"ms")),g.setAttribute("dur","".concat(i,"ms")),c.appendChild(g),t.appendChild(c)},C=function(e,t,n,r,a,i){var c=t.childNodes,l=c.length;c.forEach((function(t){!function(e,t,n,r,a,i){var c;if("start"!==(n.getAttribute("text-anchor")||"start")){var l=n.getAttribute("opacity")||"1.0",s=e.ownerDocument.createElementNS(o,"animate");return s.setAttribute("attributeName","opacity"),s.setAttribute("from","0.0"),s.setAttribute("to",l),s.setAttribute("begin","".concat(r,"ms")),s.setAttribute("dur","".concat(a,"ms")),s.setAttribute("fill","freeze"),n.appendChild(s),void n.setAttribute("opacity","0.0")}var u=Number(n.getAttribute("x")||0),d=Number(n.getAttribute("y")||0);I+=1;var C=e.ownerDocument.createElementNS(o,"path");C.setAttribute("id","pathForText"+I);var B=e.ownerDocument.createElementNS(o,"animate");B.setAttribute("attributeName","d"),B.setAttribute("from","m".concat(u," ").concat(d," h0")),B.setAttribute("to","m".concat(u," ").concat(d," h").concat(t)),B.setAttribute("begin","".concat(r,"ms")),B.setAttribute("dur","".concat(a,"ms")),B.setAttribute("fill","freeze"),C.appendChild(B);var b=e.ownerDocument.createElementNS(o,"textPath");b.setAttribute("href","#pathForText"+I),b.textContent=n.textContent,n.textContent=" ",null===(c=function(e,t){for(var n=e.childNodes,r=0;r<n.length;++r)if(n[r].tagName===t)return n[r];return null}(e,"defs"))||void 0===c||c.appendChild(C),n.appendChild(b),g(e,n,"m".concat(u," ").concat(d," h").concat(t),r,a,i)}(e,n,t,r,a/l,i),r+=a/l}))},B=function(e,t,n,r,c,I){var B=n.type,b=n.strokeSharpness,A=n.width;"line"===B?function(e,t,n,r,a,i){var o="sharp"!==n?l:u,c=t.childNodes;c[0].getAttribute("fill-rule")?(o(e,c[0].childNodes[1],r,.75*a,i),r+=.75*a,s(e,c[0].childNodes[0],r,.25*a,i)):o(e,c[0].childNodes[0],r,a,i)}(e,t,b,r,c,I):"arrow"===B?function(e,t,n,r,a,i){var o="sharp"!==n?l:u,c=t.childNodes.length;o(e,t.childNodes[0].childNodes[0],r,a/(c+2)*3,i),r+=a/(c+2)*3;for(var g=1;g<c;g+=1)for(var s=t.childNodes[g].childNodes.length,I=0;I<s;I+=1)l(e,t.childNodes[g].childNodes[I],r,a/(c+2)/s,i),r+=a/(c+2)/s}(e,t,b,r,c,I):"rectangle"===B||"diamond"===B?function(e,t,n,r,a){t.childNodes[1]?(u(e,t.childNodes[1],n,.75*r,a),n+=.75*r,s(e,t.childNodes[0],n,.25*r,a)):u(e,t.childNodes[0],n,r,a)}(e,t,r,c,I):"ellipse"===B?function(e,t,n,r,a){t.childNodes[1]?(l(e,t.childNodes[1],n,.75*r,a),n+=.75*r,s(e,t.childNodes[0],n,.25*r,a)):l(e,t.childNodes[0],n,r,a)}(e,t,r,c,I):"text"===B?C(e,t,A,r,c,I):"freedraw"===n.type&&function(e,t,n,r,c,l){var s=t.childNodes[0];s.setAttribute("opacity","0");var u=e.ownerDocument.createElementNS(o,"animate");u.setAttribute("attributeName","opacity"),u.setAttribute("from","0"),u.setAttribute("to","1"),u.setAttribute("calcMode","discrete"),u.setAttribute("begin","".concat(r+c-1,"ms")),u.setAttribute("dur","".concat(1,"ms")),u.setAttribute("fill","freeze"),s.appendChild(u),g(e,s,n.points.reduce((function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1];return e?e+" T ".concat(r," ").concat(i):"M ".concat(r," ").concat(i)}),""),r,c,l);for(var I=n.points.length,C=s.getAttribute("d"),B=I-1;B>=0;B-=1){var b=B>0?Object(i.getFreeDrawSvgPath)(Object.assign(Object.assign({},n),{points:n.points.slice(0,B)})):"M 0 0";d(e,t,b,C,r+B*(c/I),c/I),C=b}}(e,t,n,r,c,I)},b=function(e,t){var n={},r=0;return e.childNodes.forEach((function(e){if("g"===e.tagName){var a=t[r].groupIds;if(a.length>=1){var i=a[0];n[i]=n[i]||[],n[i].push([e,r])}r+=1}})),n},A=function(e){return Object(r.a)(e).filter((function(e){return"g"===e.tagName}))},h=function(e,t){var n=e.id.match(new RegExp("".concat(t,":(-?\\d+)")));return n&&Number(n[1])||0},m=function(e,t){return Object(r.a)(e).sort((function(n,r){var a=e.indexOf(n),i=e.indexOf(r);return h(t[a],"animateOrder")-h(t[i],"animateOrder")}))},p=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=b(e,t),o=new Map,c=null!==(n=r.startMs)&&void 0!==n?n:1e3,g=5e3,l=500,s=A(e.childNodes);if(s.length!==t.length)throw new Error("element length mismatch");var u=new Map(s.map((function(e,n){return[e,t[n]]})));return m(s,t).forEach((function(n){var s=u.get(n),I=s.groupIds;if(!o.has(n))if(I.length>=1){var d=I[0],C=i[d],b=h(s,"animateDuration")||g/(C.length+1);B(e,n,s,c,b,r),c+=b,o.set(n,!0),C.forEach((function(n){var i=Object(a.a)(n,2),l=i[0],s=i[1],u=h(t[s],"animateDuration")||g/(C.length+1);o.has(l)||(B(e,l,t[s],c,u,r),c+=u,o.set(l,!0))})),delete i[d]}else{var A=h(s,"animateDuration")||l;B(e,n,s,c,A,r),c+=A,o.set(n,!0)}})),{finishedMs:c+1e3}},Q=function(e){var t=[],n=[],r=function e(t){if("animate"===t.tagName){var r=/([0-9.]+)ms/.exec(t.getAttribute("begin")||"");r&&n.push(Number(r[1]))}t.childNodes.forEach((function(t){e(t)}))};return e.childNodes.forEach((function(e){"g"===e.tagName?(r(e),n.length&&(t.push(Math.min.apply(Math,n)),n.splice(0))):"defs"===e.tagName&&e.childNodes.forEach((function(e){r(e),n.length&&(t.push(Math.min.apply(Math,n)),n.splice(0))}))})),t};n(1),n(9)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,c,g=o(e),l=1;l<arguments.length;l++){for(var s in n=Object(arguments[l]))a.call(n,s)&&(g[s]=n[s]);if(r){c=r(n);for(var u=0;u<c.length;u++)i.call(n,c[u])&&(g[c[u]]=n[c[u]])}}return g}},function(e,t,n){var r=n(29);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(10)(n(8),"Map");e.exports=r},function(e,t,n){var r=n(8).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(45)},function(e,t,n){var r=n(76);e.exports=function(e,t){return r(e,t)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(15),a=n(34);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(30))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(95),a=n(102),i=n(104),o=n(105),c=n(106);function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}g.prototype.clear=r,g.prototype.delete=a,g.prototype.get=i,g.prototype.has=o,g.prototype.set=c,e.exports=g},function(e,t,n){var r=n(107),a=n(110),i=n(111);e.exports=function(e,t,n,o,c,g){var l=1&n,s=e.length,u=t.length;if(s!=u&&!(l&&u>s))return!1;var I=g.get(e),d=g.get(t);if(I&&d)return I==t&&d==e;var C=-1,B=!0,b=2&n?new r:void 0;for(g.set(e,t),g.set(t,e);++C<s;){var A=e[C],h=t[C];if(o)var m=l?o(h,A,C,t,e,g):o(A,h,C,e,t,g);if(void 0!==m){if(m)continue;B=!1;break}if(b){if(!a(t,(function(e,t){if(!i(b,t)&&(A===e||c(A,e,n,o,g)))return b.push(t)}))){B=!1;break}}else if(A!==h&&!c(A,h,n,o,g)){B=!1;break}}return g.delete(e),g.delete(t),B}},function(e,t,n){(function(e){var r=n(8),a=n(128),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=o&&o.exports===i?r.Buffer:void 0,g=(c?c.isBuffer:void 0)||a;e.exports=g}).call(this,n(23)(e))},function(e,t,n){var r=n(130),a=n(131),i=n(132),o=i&&i.isTypedArray,c=o?a(o):r;e.exports=c},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e,r){var a;(function(){var i,o="Expected a function",c="__lodash_hash_undefined__",g="__lodash_placeholder__",l=16,s=32,u=64,I=128,d=256,C=1/0,B=9007199254740991,b=NaN,A=4294967295,h=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",s],["partialRight",u],["rearg",d]],m="[object Arguments]",p="[object Array]",Q="[object Boolean]",f="[object Date]",F="[object Error]",y="[object Function]",x="[object GeneratorFunction]",v="[object Map]",G="[object Number]",U="[object Object]",X="[object Promise]",E="[object RegExp]",S="[object Set]",w="[object String]",N="[object Symbol]",Z="[object WeakMap]",V="[object ArrayBuffer]",W="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",T="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",Y="[object Uint8Array]",R="[object Uint8ClampedArray]",H="[object Uint16Array]",L="[object Uint32Array]",z=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,_=RegExp(P.source),q=RegExp(K.source),$=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ce=/^\s+/,ge=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,Ce=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,Ae=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fe=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ve="\\u2700-\\u27bf",Ge="a-z\\xdf-\\xf6\\xf8-\\xff",Ue="A-Z\\xc0-\\xd6\\xd8-\\xde",Xe="\\ufe0e\\ufe0f",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="['\u2019]",we="[\\ud800-\\udfff]",Ne="["+Ee+"]",Ze="["+xe+"]",Ve="\\d+",We="[\\u2700-\\u27bf]",De="["+Ge+"]",Me="[^\\ud800-\\udfff"+Ee+Ve+ve+Ge+Ue+"]",Te="\\ud83c[\\udffb-\\udfff]",Oe="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+Ue+"]",He="(?:"+De+"|"+Me+")",Le="(?:"+Re+"|"+Me+")",ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",je="(?:"+Ze+"|"+Te+")"+"?",Pe="[\\ufe0e\\ufe0f]?",Ke=Pe+je+("(?:\\u200d(?:"+[Oe,ke,Ye].join("|")+")"+Pe+je+")*"),_e="(?:"+[We,ke,Ye].join("|")+")"+Ke,qe="(?:"+[Oe+Ze+"?",Ze,ke,Ye,we].join("|")+")",$e=RegExp(Se,"g"),et=RegExp(Ze,"g"),tt=RegExp(Te+"(?="+Te+")|"+qe+Ke,"g"),nt=RegExp([Re+"?"+De+"+"+ze+"(?="+[Ne,Re,"$"].join("|")+")",Le+"+"+Je+"(?="+[Ne,Re+He,"$"].join("|")+")",Re+"?"+He+"+"+ze,Re+"+"+Je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ve,_e].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+xe+Xe+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,ct={};ct[D]=ct[M]=ct[T]=ct[O]=ct[k]=ct[Y]=ct[R]=ct[H]=ct[L]=!0,ct[m]=ct[p]=ct[V]=ct[Q]=ct[W]=ct[f]=ct[F]=ct[y]=ct[v]=ct[G]=ct[U]=ct[E]=ct[S]=ct[w]=ct[Z]=!1;var gt={};gt[m]=gt[p]=gt[V]=gt[W]=gt[Q]=gt[f]=gt[D]=gt[M]=gt[T]=gt[O]=gt[k]=gt[v]=gt[G]=gt[U]=gt[E]=gt[S]=gt[w]=gt[N]=gt[Y]=gt[R]=gt[H]=gt[L]=!0,gt[F]=gt[y]=gt[Z]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,It="object"==typeof e&&e&&e.Object===Object&&e,dt="object"==typeof self&&self&&self.Object===Object&&self,Ct=It||dt||Function("return this")(),Bt=t&&!t.nodeType&&t,bt=Bt&&"object"==typeof r&&r&&!r.nodeType&&r,At=bt&&bt.exports===Bt,ht=At&&It.process,mt=function(){try{var e=bt&&bt.require&&bt.require("util").types;return e||ht&&ht.binding&&ht.binding("util")}catch(t){}}(),pt=mt&&mt.isArrayBuffer,Qt=mt&&mt.isDate,ft=mt&&mt.isMap,Ft=mt&&mt.isRegExp,yt=mt&&mt.isSet,xt=mt&&mt.isTypedArray;function vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Gt(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function St(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function wt(e,t){return!!(null==e?0:e.length)&&Yt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Vt(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Wt(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function Dt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Tt=zt("length");function Ot(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function kt(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Yt(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):kt(e,Ht,n)}function Rt(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function Ht(e){return e!==e}function Lt(e,t){var n=null==e?0:e.length;return n?Pt(e,t)/n:b}function zt(e){return function(t){return null==t?i:t[e]}}function Jt(e){return function(t){return null==e?i:e[t]}}function jt(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function Pt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function _t(e){return e?e.slice(0,bn(e)+1).replace(ce,""):e}function qt(e){return function(t){return e(t)}}function $t(e,t){return Zt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Yt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Yt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var an=Jt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cn(e){return"\\"+lt[e]}function gn(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==g||(e[n]=g,i[a++]=n)}return i}function In(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Cn(e){return gn(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Tt(e)}function Bn(e){return gn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function bn(e){for(var t=e.length;t--&&ge.test(e.charAt(t)););return t}var An=Jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var hn=function e(t){var n=(t=null==t?Ct:hn.defaults(Ct.Object(),t,hn.pick(Ct,it))).Array,r=t.Date,a=t.Error,ge=t.Function,xe=t.Math,ve=t.Object,Ge=t.RegExp,Ue=t.String,Xe=t.TypeError,Ee=n.prototype,Se=ge.prototype,we=ve.prototype,Ne=t["__core-js_shared__"],Ze=Se.toString,Ve=we.hasOwnProperty,We=0,De=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=we.toString,Te=Ze.call(ve),Oe=Ct._,ke=Ge("^"+Ze.call(Ve).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=At?t.Buffer:i,Re=t.Symbol,He=t.Uint8Array,Le=Ye?Ye.allocUnsafe:i,ze=sn(ve.getPrototypeOf,ve),Je=ve.create,je=we.propertyIsEnumerable,Pe=Ee.splice,Ke=Re?Re.isConcatSpreadable:i,_e=Re?Re.iterator:i,qe=Re?Re.toStringTag:i,tt=function(){try{var e=Ii(ve,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==Ct.clearTimeout&&t.clearTimeout,lt=r&&r.now!==Ct.Date.now&&r.now,It=t.setTimeout!==Ct.setTimeout&&t.setTimeout,dt=xe.ceil,Bt=xe.floor,bt=ve.getOwnPropertySymbols,ht=Ye?Ye.isBuffer:i,mt=t.isFinite,Tt=Ee.join,Jt=sn(ve.keys,ve),mn=xe.max,pn=xe.min,Qn=r.now,fn=t.parseInt,Fn=xe.random,yn=Ee.reverse,xn=Ii(t,"DataView"),vn=Ii(t,"Map"),Gn=Ii(t,"Promise"),Un=Ii(t,"Set"),Xn=Ii(t,"WeakMap"),En=Ii(ve,"create"),Sn=Xn&&new Xn,wn={},Nn=Ti(xn),Zn=Ti(vn),Vn=Ti(Gn),Wn=Ti(Un),Dn=Ti(Xn),Mn=Re?Re.prototype:i,Tn=Mn?Mn.valueOf:i,On=Mn?Mn.toString:i;function kn(e){if(rc(e)&&!zo(e)&&!(e instanceof Ln)){if(e instanceof Hn)return e;if(Ve.call(e,"__wrapped__"))return Oi(e)}return new Hn(e)}var Yn=function(){function e(){}return function(t){if(!nc(t))return{};if(Je)return Je(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Rn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Jn(e);this.size=t.size}function _n(e,t){var n=zo(e),r=!n&&Lo(e),a=!n&&!r&&Ko(e),i=!n&&!r&&!a&&uc(e),o=n||r||a||i,c=o?Kt(e.length,Ue):[],g=c.length;for(var l in e)!t&&!Ve.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mi(l,g))||c.push(l);return c}function qn(e){var t=e.length;return t?e[Pr(0,t-1)]:i}function $n(e,t){return Wi(Ea(e),gr(t,0,e.length))}function er(e){return Wi(Ea(e))}function tr(e,t,n){(n!==i&&!Yo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Ve.call(e,t)&&Yo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Yo(e[n][0],t))return n;return-1}function ar(e,t,n,r){return dr(e,(function(e,a,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Sa(t,Nc(t),e)}function or(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cr(e,t){for(var r=-1,a=t.length,o=n(a),c=null==e;++r<a;)o[r]=c?i:Uc(e,t[r]);return o}function gr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,a,o){var c,g=1&t,l=2&t,s=4&t;if(n&&(c=a?n(e,r,a,o):n(e)),c!==i)return c;if(!nc(e))return e;var u=zo(e);if(u){if(c=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ve.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!g)return Ea(e,c)}else{var I=Bi(e),d=I==y||I==x;if(Ko(e))return ya(e,g);if(I==U||I==m||d&&!a){if(c=l||d?{}:Ai(e),!g)return l?function(e,t){return Sa(e,Ci(e),t)}(e,function(e,t){return e&&Sa(t,Zc(t),e)}(c,e)):function(e,t){return Sa(e,di(e),t)}(e,ir(c,e))}else{if(!gt[I])return a?e:{};c=function(e,t,n){var r=e.constructor;switch(t){case V:return xa(e);case Q:case f:return new r(+e);case W:return function(e,t){var n=t?xa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case M:case T:case O:case k:case Y:case R:case H:case L:return va(e,n);case v:return new r;case G:case w:return new r(e);case E:return function(e){var t=new e.constructor(e.source,be.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new r;case N:return a=e,Tn?ve(Tn.call(a)):{}}var a}(e,I,g)}}o||(o=new Kn);var C=o.get(e);if(C)return C;o.set(e,c),gc(e)?e.forEach((function(r){c.add(lr(r,t,n,r,e,o))})):ac(e)&&e.forEach((function(r,a){c.set(a,lr(r,t,n,a,e,o))}));var B=u?i:(s?l?ii:ai:l?Zc:Nc)(e);return Ut(B||e,(function(r,a){B&&(r=e[a=r]),nr(c,a,lr(r,t,n,a,e,o))})),c}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var a=n[r],o=t[a],c=e[a];if(c===i&&!(a in e)||!o(c))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Xe(o);return wi((function(){e.apply(i,n)}),t)}function Ir(e,t,n,r){var a=-1,i=wt,o=!0,c=e.length,g=[],l=t.length;if(!c)return g;n&&(t=Zt(t,qt(n))),r?(i=Nt,o=!1):t.length>=200&&(i=en,o=!1,t=new Pn(t));e:for(;++a<c;){var s=e[a],u=null==n?s:n(s);if(s=r||0!==s?s:0,o&&u===u){for(var I=l;I--;)if(t[I]===u)continue e;g.push(s)}else i(t,u,r)||g.push(s)}return g}kn.templateSettings={escape:$,evaluate:ee,interpolate:te,variable:"",imports:{_:kn}},kn.prototype=Rn.prototype,kn.prototype.constructor=kn,Hn.prototype=Yn(Rn.prototype),Hn.prototype.constructor=Hn,Ln.prototype=Yn(Rn.prototype),Ln.prototype.constructor=Ln,zn.prototype.clear=function(){this.__data__=En?En(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(En){var n=t[e];return n===c?i:n}return Ve.call(t,e)?t[e]:i},zn.prototype.has=function(e){var t=this.__data__;return En?t[e]!==i:Ve.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=En&&t===i?c:t,this},Jn.prototype.clear=function(){this.__data__=[],this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Pe.call(t,n,1),--this.size,!0)},Jn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Jn.prototype.has=function(e){return rr(this.__data__,e)>-1},Jn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(vn||Jn),string:new zn}},jn.prototype.delete=function(e){var t=si(this,e).delete(e);return this.size-=t?1:0,t},jn.prototype.get=function(e){return si(this,e).get(e)},jn.prototype.has=function(e){return si(this,e).has(e)},jn.prototype.set=function(e,t){var n=si(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Pn.prototype.add=Pn.prototype.push=function(e){return this.__data__.set(e,c),this},Pn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Jn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Jn){var r=n.__data__;if(!vn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(e,t),this.size=n.size,this};var dr=Za(Qr),Cr=Za(fr,!0);function Br(e,t){var n=!0;return dr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function br(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],c=t(o);if(null!=c&&(g===i?c===c&&!sc(c):n(c,g)))var g=c,l=o}return l}function Ar(e,t){var n=[];return dr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function hr(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=hi),a||(a=[]);++i<o;){var c=e[i];t>0&&n(c)?t>1?hr(c,t-1,n,r,a):Vt(a,c):r||(a[a.length]=c)}return a}var mr=Va(),pr=Va(!0);function Qr(e,t){return e&&mr(e,t,Nc)}function fr(e,t){return e&&pr(e,t,Nc)}function Fr(e,t){return St(t,(function(t){return $o(e[t])}))}function yr(e,t){for(var n=0,r=(t=pa(t,e)).length;null!=e&&n<r;)e=e[Mi(t[n++])];return n&&n==r?e:i}function xr(e,t,n){var r=t(e);return zo(e)?r:Vt(r,n(e))}function vr(e){return null==e?e===i?"[object Undefined]":"[object Null]":qe&&qe in ve(e)?function(e){var t=Ve.call(e,qe),n=e[qe];try{e[qe]=i;var r=!0}catch(o){}var a=Me.call(e);r&&(t?e[qe]=n:delete e[qe]);return a}(e):function(e){return Me.call(e)}(e)}function Gr(e,t){return e>t}function Ur(e,t){return null!=e&&Ve.call(e,t)}function Xr(e,t){return null!=e&&t in ve(e)}function Er(e,t,r){for(var a=r?Nt:wt,o=e[0].length,c=e.length,g=c,l=n(c),s=1/0,u=[];g--;){var I=e[g];g&&t&&(I=Zt(I,qt(t))),s=pn(I.length,s),l[g]=!r&&(t||o>=120&&I.length>=120)?new Pn(g&&I):i}I=e[0];var d=-1,C=l[0];e:for(;++d<o&&u.length<s;){var B=I[d],b=t?t(B):B;if(B=r||0!==B?B:0,!(C?en(C,b):a(u,b,r))){for(g=c;--g;){var A=l[g];if(!(A?en(A,b):a(e[g],b,r)))continue e}C&&C.push(b),u.push(B)}}return u}function Sr(e,t,n){var r=null==(e=Ui(e,t=pa(t,e)))?e:e[Mi(_i(t))];return null==r?i:vt(r,e,n)}function wr(e){return rc(e)&&vr(e)==m}function Nr(e,t,n,r,a){return e===t||(null==e||null==t||!rc(e)&&!rc(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var c=zo(e),g=zo(t),l=c?p:Bi(e),s=g?p:Bi(t),u=(l=l==m?U:l)==U,I=(s=s==m?U:s)==U,d=l==s;if(d&&Ko(e)){if(!Ko(t))return!1;c=!0,u=!1}if(d&&!u)return o||(o=new Kn),c||uc(e)?ni(e,t,n,r,a,o):function(e,t,n,r,a,i,o){switch(n){case W:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case V:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case Q:case f:case G:return Yo(+e,+t);case F:return e.name==t.name&&e.message==t.message;case E:case w:return e==t+"";case v:var c=ln;case S:var g=1&r;if(c||(c=In),e.size!=t.size&&!g)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var s=ni(c(e),c(t),r,a,i,o);return o.delete(e),s;case N:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var C=u&&Ve.call(e,"__wrapped__"),B=I&&Ve.call(t,"__wrapped__");if(C||B){var b=C?e.value():e,A=B?t.value():t;return o||(o=new Kn),a(b,A,n,r,o)}}if(!d)return!1;return o||(o=new Kn),function(e,t,n,r,a,o){var c=1&n,g=ai(e),l=g.length,s=ai(t).length;if(l!=s&&!c)return!1;var u=l;for(;u--;){var I=g[u];if(!(c?I in t:Ve.call(t,I)))return!1}var d=o.get(e),C=o.get(t);if(d&&C)return d==t&&C==e;var B=!0;o.set(e,t),o.set(t,e);var b=c;for(;++u<l;){var A=e[I=g[u]],h=t[I];if(r)var m=c?r(h,A,I,t,e,o):r(A,h,I,e,t,o);if(!(m===i?A===h||a(A,h,n,r,o):m)){B=!1;break}b||(b="constructor"==I)}if(B&&!b){var p=e.constructor,Q=t.constructor;p==Q||!("constructor"in e)||!("constructor"in t)||"function"==typeof p&&p instanceof p&&"function"==typeof Q&&Q instanceof Q||(B=!1)}return o.delete(e),o.delete(t),B}(e,t,n,r,a,o)}(e,t,n,r,Nr,a))}function Zr(e,t,n,r){var a=n.length,o=a,c=!r;if(null==e)return!o;for(e=ve(e);a--;){var g=n[a];if(c&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++a<o;){var l=(g=n[a])[0],s=e[l],u=g[1];if(c&&g[2]){if(s===i&&!(l in e))return!1}else{var I=new Kn;if(r)var d=r(s,u,l,e,t,I);if(!(d===i?Nr(u,s,3,r,I):d))return!1}}return!0}function Vr(e){return!(!nc(e)||(t=e,De&&De in t))&&($o(e)?ke:me).test(Ti(e));var t}function Wr(e){return"function"==typeof e?e:null==e?ig:"object"==typeof e?zo(e)?Yr(e[0],e[1]):kr(e):Cg(e)}function Dr(e){if(!yi(e))return Jt(e);var t=[];for(var n in ve(e))Ve.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!nc(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=yi(e),n=[];for(var r in e)("constructor"!=r||!t&&Ve.call(e,r))&&n.push(r);return n}function Tr(e,t){return e<t}function Or(e,t){var r=-1,a=jo(e)?n(e.length):[];return dr(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}function kr(e){var t=ui(e);return 1==t.length&&t[0][2]?vi(t[0][0],t[0][1]):function(n){return n===e||Zr(n,e,t)}}function Yr(e,t){return Qi(e)&&xi(t)?vi(Mi(e),t):function(n){var r=Uc(n,e);return r===i&&r===t?Xc(n,e):Nr(t,r,3)}}function Rr(e,t,n,r,a){e!==t&&mr(t,(function(o,c){if(a||(a=new Kn),nc(o))!function(e,t,n,r,a,o,c){var g=Ei(e,n),l=Ei(t,n),s=c.get(l);if(s)return void tr(e,n,s);var u=o?o(g,l,n+"",e,t,c):i,I=u===i;if(I){var d=zo(l),C=!d&&Ko(l),B=!d&&!C&&uc(l);u=l,d||C||B?zo(g)?u=g:Po(g)?u=Ea(g):C?(I=!1,u=ya(l,!0)):B?(I=!1,u=va(l,!0)):u=[]:oc(l)||Lo(l)?(u=g,Lo(g)?u=mc(g):nc(g)&&!$o(g)||(u=Ai(l))):I=!1}I&&(c.set(l,u),a(u,l,r,o,c),c.delete(l));tr(e,n,u)}(e,t,c,n,Rr,r,a);else{var g=r?r(Ei(e,c),o,c+"",e,t,a):i;g===i&&(g=o),tr(e,c,g)}}),Zc)}function Hr(e,t){var n=e.length;if(n)return mi(t+=t<0?n:0,n)?e[t]:i}function Lr(e,t,n){t=t.length?Zt(t,(function(e){return zo(e)?function(t){return yr(t,1===e.length?e[0]:e)}:e})):[ig];var r=-1;return t=Zt(t,qt(li())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Or(e,(function(e,n,a){return{criteria:Zt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,i=t.criteria,o=a.length,c=n.length;for(;++r<o;){var g=Ga(a[r],i[r]);if(g)return r>=c?g:g*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function zr(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],c=yr(e,o);n(c,o)&&ea(i,pa(o,e),c)}return i}function Jr(e,t,n,r){var a=r?Rt:Yt,i=-1,o=t.length,c=e;for(e===t&&(t=Ea(t)),n&&(c=Zt(e,qt(n)));++i<o;)for(var g=0,l=t[i],s=n?n(l):l;(g=a(c,s,g,r))>-1;)c!==e&&Pe.call(c,g,1),Pe.call(e,g,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;mi(a)?Pe.call(e,a,1):Ia(e,a)}}return e}function Pr(e,t){return e+Bt(Fn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>B)return n;do{t%2&&(n+=e),(t=Bt(t/2))&&(e+=e)}while(t);return n}function _r(e,t){return Ni(Gi(e,t,ig),e+"")}function qr(e){return qn(Yc(e))}function $r(e,t){var n=Yc(e);return Wi(n,gr(t,0,n.length))}function ea(e,t,n,r){if(!nc(e))return e;for(var a=-1,o=(t=pa(t,e)).length,c=o-1,g=e;null!=g&&++a<o;){var l=Mi(t[a]),s=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=c){var u=g[l];(s=r?r(u,l,g):i)===i&&(s=nc(u)?u:mi(t[a+1])?[]:{})}nr(g,l,s),g=g[l]}return e}var ta=Sn?function(e,t){return Sn.set(e,t),e}:ig,na=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:ng(t),writable:!0})}:ig;function ra(e){return Wi(Yc(e))}function aa(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=n(i);++a<i;)o[a]=e[a+t];return o}function ia(e,t){var n;return dr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function oa(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!sc(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return ca(e,t,ig,n)}function ca(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var c=(t=n(t))!==t,g=null===t,l=sc(t),s=t===i;a<o;){var u=Bt((a+o)/2),I=n(e[u]),d=I!==i,C=null===I,B=I===I,b=sc(I);if(c)var A=r||B;else A=s?B&&(r||d):g?B&&d&&(r||!C):l?B&&d&&!C&&(r||!b):!C&&!b&&(r?I<=t:I<t);A?a=u+1:o=u}return pn(o,4294967294)}function ga(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],c=t?t(o):o;if(!n||!Yo(c,g)){var g=c;i[a++]=0===o?0:o}}return i}function la(e){return"number"==typeof e?e:sc(e)?b:+e}function sa(e){if("string"==typeof e)return e;if(zo(e))return Zt(e,sa)+"";if(sc(e))return On?On.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ua(e,t,n){var r=-1,a=wt,i=e.length,o=!0,c=[],g=c;if(n)o=!1,a=Nt;else if(i>=200){var l=t?null:Ka(e);if(l)return In(l);o=!1,a=en,g=new Pn}else g=t?[]:c;e:for(;++r<i;){var s=e[r],u=t?t(s):s;if(s=n||0!==s?s:0,o&&u===u){for(var I=g.length;I--;)if(g[I]===u)continue e;t&&g.push(u),c.push(s)}else a(g,u,n)||(g!==c&&g.push(u),c.push(s))}return c}function Ia(e,t){return null==(e=Ui(e,t=pa(t,e)))||delete e[Mi(_i(t))]}function da(e,t,n,r){return ea(e,t,n(yr(e,t)),r)}function Ca(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?aa(e,r?0:i,r?i+1:a):aa(e,r?i+1:0,r?a:i)}function Ba(e,t){var n=e;return n instanceof Ln&&(n=n.value()),Wt(t,(function(e,t){return t.func.apply(t.thisArg,Vt([e],t.args))}),n)}function ba(e,t,r){var a=e.length;if(a<2)return a?ua(e[0]):[];for(var i=-1,o=n(a);++i<a;)for(var c=e[i],g=-1;++g<a;)g!=i&&(o[i]=Ir(o[i]||c,e[g],t,r));return ua(hr(o,1),t,r)}function Aa(e,t,n){for(var r=-1,a=e.length,o=t.length,c={};++r<a;){var g=r<o?t[r]:i;n(c,e[r],g)}return c}function ha(e){return Po(e)?e:[]}function ma(e){return"function"==typeof e?e:ig}function pa(e,t){return zo(e)?e:Qi(e,t)?[e]:Di(pc(e))}var Qa=_r;function fa(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:aa(e,t,n)}var Fa=rt||function(e){return Ct.clearTimeout(e)};function ya(e,t){if(t)return e.slice();var n=e.length,r=Le?Le(n):new e.constructor(n);return e.copy(r),r}function xa(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function va(e,t){var n=t?xa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ga(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=sc(e),c=t!==i,g=null===t,l=t===t,s=sc(t);if(!g&&!s&&!o&&e>t||o&&c&&l&&!g&&!s||r&&c&&l||!n&&l||!a)return 1;if(!r&&!o&&!s&&e<t||s&&n&&a&&!r&&!o||g&&n&&a||!c&&a||!l)return-1}return 0}function Ua(e,t,r,a){for(var i=-1,o=e.length,c=r.length,g=-1,l=t.length,s=mn(o-c,0),u=n(l+s),I=!a;++g<l;)u[g]=t[g];for(;++i<c;)(I||i<o)&&(u[r[i]]=e[i]);for(;s--;)u[g++]=e[i++];return u}function Xa(e,t,r,a){for(var i=-1,o=e.length,c=-1,g=r.length,l=-1,s=t.length,u=mn(o-g,0),I=n(u+s),d=!a;++i<u;)I[i]=e[i];for(var C=i;++l<s;)I[C+l]=t[l];for(;++c<g;)(d||i<o)&&(I[C+r[c]]=e[i++]);return I}function Ea(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Sa(e,t,n,r){var a=!n;n||(n={});for(var o=-1,c=t.length;++o<c;){var g=t[o],l=r?r(n[g],e[g],g,n,e):i;l===i&&(l=e[g]),a?or(n,g,l):nr(n,g,l)}return n}function wa(e,t){return function(n,r){var a=zo(n)?Gt:ar,i=t?t():{};return a(n,e,li(r,2),i)}}function Na(e){return _r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,c=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,c&&pi(n[0],n[1],c)&&(o=a<3?i:o,a=1),t=ve(t);++r<a;){var g=n[r];g&&e(t,g,r,o)}return t}))}function Za(e,t){return function(n,r){if(null==n)return n;if(!jo(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=ve(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function Va(e){return function(t,n,r){for(var a=-1,i=ve(t),o=r(t),c=o.length;c--;){var g=o[e?c:++a];if(!1===n(i[g],g,i))break}return t}}function Wa(e){return function(t){var n=gn(t=pc(t))?Bn(t):i,r=n?n[0]:t.charAt(0),a=n?fa(n,1).join(""):t.slice(1);return r[e]()+a}}function Da(e){return function(t){return Wt($c(Lc(t).replace($e,"")),e,"")}}function Ma(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Yn(e.prototype),r=e.apply(n,t);return nc(r)?r:n}}function Ta(e){return function(t,n,r){var a=ve(t);if(!jo(t)){var o=li(n,3);t=Nc(t),n=function(e){return o(a[e],e,a)}}var c=e(t,n,r);return c>-1?a[o?t[c]:c]:i}}function Oa(e){return ri((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if("function"!=typeof c)throw new Xe(o);if(a&&!g&&"wrapper"==ci(c))var g=new Hn([],!0)}for(r=g?r:n;++r<n;){var l=ci(c=t[r]),s="wrapper"==l?oi(c):i;g=s&&fi(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?g[ci(s[0])].apply(g,s[3]):1==c.length&&fi(c)?g[l]():g.thru(c)}return function(){var e=arguments,r=e[0];if(g&&1==e.length&&zo(r))return g.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function ka(e,t,r,a,o,c,g,l,s,u){var d=t&I,C=1&t,B=2&t,b=24&t,A=512&t,h=B?i:Ma(e);return function i(){for(var I=arguments.length,m=n(I),p=I;p--;)m[p]=arguments[p];if(b)var Q=gi(i),f=rn(m,Q);if(a&&(m=Ua(m,a,o,b)),c&&(m=Xa(m,c,g,b)),I-=f,b&&I<u){var F=un(m,Q);return ja(e,t,ka,i.placeholder,r,m,F,l,s,u-I)}var y=C?r:this,x=B?y[e]:e;return I=m.length,l?m=Xi(m,l):A&&I>1&&m.reverse(),d&&s<I&&(m.length=s),this&&this!==Ct&&this instanceof i&&(x=h||Ma(x)),x.apply(y,m)}}function Ya(e,t){return function(n,r){return function(e,t,n,r){return Qr(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function Ra(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=sa(n),r=sa(r)):(n=la(n),r=la(r)),a=e(n,r)}return a}}function Ha(e){return ri((function(t){return t=Zt(t,qt(li())),_r((function(n){var r=this;return e(t,(function(e){return vt(e,r,n)}))}))}))}function La(e,t){var n=(t=t===i?" ":sa(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,dt(e/Cn(t)));return gn(t)?fa(Bn(r),0,e).join(""):r.slice(0,e)}function za(e){return function(t,r,a){return a&&"number"!=typeof a&&pi(t,r,a)&&(r=a=i),t=Bc(t),r===i?(r=t,t=0):r=Bc(r),function(e,t,r,a){for(var i=-1,o=mn(dt((t-e)/(r||1)),0),c=n(o);o--;)c[a?o:++i]=e,e+=r;return c}(t,r,a=a===i?t<r?1:-1:Bc(a),e)}}function Ja(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=hc(t),n=hc(n)),e(t,n)}}function ja(e,t,n,r,a,o,c,g,l,I){var d=8&t;t|=d?s:u,4&(t&=~(d?u:s))||(t&=-4);var C=[e,t,a,d?o:i,d?c:i,d?i:o,d?i:c,g,l,I],B=n.apply(i,C);return fi(e)&&Si(B,C),B.placeholder=r,Zi(B,e,t)}function Pa(e){var t=xe[e];return function(e,n){if(e=hc(e),(n=null==n?0:pn(bc(n),292))&&mt(e)){var r=(pc(e)+"e").split("e");return+((r=(pc(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ka=Un&&1/In(new Un([,-0]))[1]==C?function(e){return new Un(e)}:sg;function _a(e){return function(t){var n=Bi(t);return n==v?ln(t):n==S?dn(t):function(e,t){return Zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qa(e,t,r,a,c,C,B,b){var A=2&t;if(!A&&"function"!=typeof e)throw new Xe(o);var h=a?a.length:0;if(h||(t&=-97,a=c=i),B=B===i?B:mn(bc(B),0),b=b===i?b:bc(b),h-=c?c.length:0,t&u){var m=a,p=c;a=c=i}var Q=A?i:oi(e),f=[e,t,r,a,c,m,p,C,B,b];if(Q&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<131,o=r==I&&8==n||r==I&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!o)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ua(l,c,t[4]):c,e[4]=l?un(e[3],g):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Xa(l,c,t[6]):c,e[6]=l?un(e[5],g):t[6]);(c=t[7])&&(e[7]=c);r&I&&(e[8]=null==e[8]?t[8]:pn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(f,Q),e=f[0],t=f[1],r=f[2],a=f[3],c=f[4],!(b=f[9]=f[9]===i?A?0:e.length:mn(f[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)F=8==t||t==l?function(e,t,r){var a=Ma(e);return function o(){for(var c=arguments.length,g=n(c),l=c,s=gi(o);l--;)g[l]=arguments[l];var u=c<3&&g[0]!==s&&g[c-1]!==s?[]:un(g,s);return(c-=u.length)<r?ja(e,t,ka,o.placeholder,i,g,u,i,i,r-c):vt(this&&this!==Ct&&this instanceof o?a:e,this,g)}}(e,t,b):t!=s&&33!=t||c.length?ka.apply(i,f):function(e,t,r,a){var i=1&t,o=Ma(e);return function t(){for(var c=-1,g=arguments.length,l=-1,s=a.length,u=n(s+g),I=this&&this!==Ct&&this instanceof t?o:e;++l<s;)u[l]=a[l];for(;g--;)u[l++]=arguments[++c];return vt(I,i?r:this,u)}}(e,t,r,a);else var F=function(e,t,n){var r=1&t,a=Ma(e);return function t(){return(this&&this!==Ct&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Zi((Q?ta:Si)(F,f),e,t)}function $a(e,t,n,r){return e===i||Yo(e,we[n])&&!Ve.call(r,n)?t:e}function ei(e,t,n,r,a,o){return nc(e)&&nc(t)&&(o.set(t,e),Rr(e,t,i,ei,o),o.delete(t)),e}function ti(e){return oc(e)?i:e}function ni(e,t,n,r,a,o){var c=1&n,g=e.length,l=t.length;if(g!=l&&!(c&&l>g))return!1;var s=o.get(e),u=o.get(t);if(s&&u)return s==t&&u==e;var I=-1,d=!0,C=2&n?new Pn:i;for(o.set(e,t),o.set(t,e);++I<g;){var B=e[I],b=t[I];if(r)var A=c?r(b,B,I,t,e,o):r(B,b,I,e,t,o);if(A!==i){if(A)continue;d=!1;break}if(C){if(!Mt(t,(function(e,t){if(!en(C,t)&&(B===e||a(B,e,n,r,o)))return C.push(t)}))){d=!1;break}}else if(B!==b&&!a(B,b,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ri(e){return Ni(Gi(e,i,zi),e+"")}function ai(e){return xr(e,Nc,di)}function ii(e){return xr(e,Zc,Ci)}var oi=Sn?function(e){return Sn.get(e)}:sg;function ci(e){for(var t=e.name+"",n=wn[t],r=Ve.call(wn,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function gi(e){return(Ve.call(kn,"placeholder")?kn:e).placeholder}function li(){var e=kn.iteratee||og;return e=e===og?Wr:e,arguments.length?e(arguments[0],arguments[1]):e}function si(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ui(e){for(var t=Nc(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,xi(a)]}return t}function Ii(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Vr(n)?n:i}var di=bt?function(e){return null==e?[]:(e=ve(e),St(bt(e),(function(t){return je.call(e,t)})))}:Ag,Ci=bt?function(e){for(var t=[];e;)Vt(t,di(e)),e=ze(e);return t}:Ag,Bi=vr;function bi(e,t,n){for(var r=-1,a=(t=pa(t,e)).length,i=!1;++r<a;){var o=Mi(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&tc(a)&&mi(o,a)&&(zo(e)||Lo(e))}function Ai(e){return"function"!=typeof e.constructor||yi(e)?{}:Yn(ze(e))}function hi(e){return zo(e)||Lo(e)||!!(Ke&&e&&e[Ke])}function mi(e,t){var n=typeof e;return!!(t=null==t?B:t)&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function pi(e,t,n){if(!nc(n))return!1;var r=typeof t;return!!("number"==r?jo(n)&&mi(t,n.length):"string"==r&&t in n)&&Yo(n[t],e)}function Qi(e,t){if(zo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!sc(e))||(re.test(e)||!ne.test(e)||null!=t&&e in ve(t))}function fi(e){var t=ci(e),n=kn[t];if("function"!=typeof n||!(t in Ln.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(xn&&Bi(new xn(new ArrayBuffer(1)))!=W||vn&&Bi(new vn)!=v||Gn&&Bi(Gn.resolve())!=X||Un&&Bi(new Un)!=S||Xn&&Bi(new Xn)!=Z)&&(Bi=function(e){var t=vr(e),n=t==U?e.constructor:i,r=n?Ti(n):"";if(r)switch(r){case Nn:return W;case Zn:return v;case Vn:return X;case Wn:return S;case Dn:return Z}return t});var Fi=Ne?$o:hg;function yi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function xi(e){return e===e&&!nc(e)}function vi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ve(n)))}}function Gi(e,t,r){return t=mn(t===i?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=mn(a.length-t,0),c=n(o);++i<o;)c[i]=a[t+i];i=-1;for(var g=n(t+1);++i<t;)g[i]=a[i];return g[t]=r(c),vt(e,this,g)}}function Ui(e,t){return t.length<2?e:yr(e,aa(t,0,-1))}function Xi(e,t){for(var n=e.length,r=pn(t.length,n),a=Ea(e);r--;){var o=t[r];e[r]=mi(o,n)?a[o]:i}return e}function Ei(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Si=Vi(ta),wi=It||function(e,t){return Ct.setTimeout(e,t)},Ni=Vi(na);function Zi(e,t,n){var r=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ut(h,(function(n){var r="_."+n[0];t&n[1]&&!wt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(r),n)))}function Vi(e){var t=0,n=0;return function(){var r=Qn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Wi(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Pr(n,a),c=e[o];e[o]=e[n],e[n]=c}return e.length=t,e}var Di=function(e){var t=Wo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ae,(function(e,n,r,a){t.push(r?a.replace(Ce,"$1"):n||e)})),t}));function Mi(e){if("string"==typeof e||sc(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ti(e){if(null!=e){try{return Ze.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Oi(e){if(e instanceof Ln)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ea(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ki=_r((function(e,t){return Po(e)?Ir(e,hr(t,1,Po,!0)):[]})),Yi=_r((function(e,t){var n=_i(t);return Po(n)&&(n=i),Po(e)?Ir(e,hr(t,1,Po,!0),li(n,2)):[]})),Ri=_r((function(e,t){var n=_i(t);return Po(n)&&(n=i),Po(e)?Ir(e,hr(t,1,Po,!0),i,n):[]}));function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:bc(n);return a<0&&(a=mn(r+a,0)),kt(e,li(t,3),a)}function Li(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=bc(n),a=n<0?mn(r+a,0):pn(a,r-1)),kt(e,li(t,3),a,!0)}function zi(e){return(null==e?0:e.length)?hr(e,1):[]}function Ji(e){return e&&e.length?e[0]:i}var ji=_r((function(e){var t=Zt(e,ha);return t.length&&t[0]===e[0]?Er(t):[]})),Pi=_r((function(e){var t=_i(e),n=Zt(e,ha);return t===_i(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Er(n,li(t,2)):[]})),Ki=_r((function(e){var t=_i(e),n=Zt(e,ha);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Er(n,i,t):[]}));function _i(e){var t=null==e?0:e.length;return t?e[t-1]:i}var qi=_r($i);function $i(e,t){return e&&e.length&&t&&t.length?Jr(e,t):e}var eo=ri((function(e,t){var n=null==e?0:e.length,r=cr(e,t);return jr(e,Zt(t,(function(e){return mi(e,n)?+e:e})).sort(Ga)),r}));function to(e){return null==e?e:yn.call(e)}var no=_r((function(e){return ua(hr(e,1,Po,!0))})),ro=_r((function(e){var t=_i(e);return Po(t)&&(t=i),ua(hr(e,1,Po,!0),li(t,2))})),ao=_r((function(e){var t=_i(e);return t="function"==typeof t?t:i,ua(hr(e,1,Po,!0),i,t)}));function io(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Po(e))return t=mn(e.length,t),!0})),Kt(t,(function(t){return Zt(e,zt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=io(e);return null==t?n:Zt(n,(function(e){return vt(t,i,e)}))}var co=_r((function(e,t){return Po(e)?Ir(e,t):[]})),go=_r((function(e){return ba(St(e,Po))})),lo=_r((function(e){var t=_i(e);return Po(t)&&(t=i),ba(St(e,Po),li(t,2))})),so=_r((function(e){var t=_i(e);return t="function"==typeof t?t:i,ba(St(e,Po),i,t)})),uo=_r(io);var Io=_r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function Co(e){var t=kn(e);return t.__chain__=!0,t}function Bo(e,t){return t(e)}var bo=ri((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ln&&mi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Bo,args:[a],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var Ao=wa((function(e,t,n){Ve.call(e,n)?++e[n]:or(e,n,1)}));var ho=Ta(Hi),mo=Ta(Li);function po(e,t){return(zo(e)?Ut:dr)(e,li(t,3))}function Qo(e,t){return(zo(e)?Xt:Cr)(e,li(t,3))}var fo=wa((function(e,t,n){Ve.call(e,n)?e[n].push(t):or(e,n,[t])}));var Fo=_r((function(e,t,r){var a=-1,i="function"==typeof t,o=jo(e)?n(e.length):[];return dr(e,(function(e){o[++a]=i?vt(t,e,r):Sr(e,t,r)})),o})),yo=wa((function(e,t,n){or(e,n,t)}));function xo(e,t){return(zo(e)?Zt:Or)(e,li(t,3))}var vo=wa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Go=_r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&pi(e,t[0],t[1])?t=[]:n>2&&pi(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,hr(t,1),[])})),Uo=lt||function(){return Ct.Date.now()};function Xo(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,qa(e,I,i,i,i,i,t)}function Eo(e,t){var n;if("function"!=typeof t)throw new Xe(o);return e=bc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var So=_r((function(e,t,n){var r=1;if(n.length){var a=un(n,gi(So));r|=s}return qa(e,r,t,n,a)})),wo=_r((function(e,t,n){var r=3;if(n.length){var a=un(n,gi(wo));r|=s}return qa(t,r,e,n,a)}));function No(e,t,n){var r,a,c,g,l,s,u=0,I=!1,d=!1,C=!0;if("function"!=typeof e)throw new Xe(o);function B(t){var n=r,o=a;return r=a=i,u=t,g=e.apply(o,n)}function b(e){return u=e,l=wi(h,t),I?B(e):g}function A(e){var n=e-s;return s===i||n>=t||n<0||d&&e-u>=c}function h(){var e=Uo();if(A(e))return m(e);l=wi(h,function(e){var n=t-(e-s);return d?pn(n,c-(e-u)):n}(e))}function m(e){return l=i,C&&r?B(e):(r=a=i,g)}function p(){var e=Uo(),n=A(e);if(r=arguments,a=this,s=e,n){if(l===i)return b(s);if(d)return Fa(l),l=wi(h,t),B(s)}return l===i&&(l=wi(h,t)),g}return t=hc(t)||0,nc(n)&&(I=!!n.leading,c=(d="maxWait"in n)?mn(hc(n.maxWait)||0,t):c,C="trailing"in n?!!n.trailing:C),p.cancel=function(){l!==i&&Fa(l),u=0,r=s=a=l=i},p.flush=function(){return l===i?g:m(Uo())},p}var Zo=_r((function(e,t){return ur(e,1,t)})),Vo=_r((function(e,t,n){return ur(e,hc(t)||0,n)}));function Wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Xe(o);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Wo.Cache||jn),n}function Do(e){if("function"!=typeof e)throw new Xe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Wo.Cache=jn;var Mo=Qa((function(e,t){var n=(t=1==t.length&&zo(t[0])?Zt(t[0],qt(li())):Zt(hr(t,1),qt(li()))).length;return _r((function(r){for(var a=-1,i=pn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return vt(e,this,r)}))})),To=_r((function(e,t){var n=un(t,gi(To));return qa(e,s,i,t,n)})),Oo=_r((function(e,t){var n=un(t,gi(Oo));return qa(e,u,i,t,n)})),ko=ri((function(e,t){return qa(e,d,i,i,i,t)}));function Yo(e,t){return e===t||e!==e&&t!==t}var Ro=Ja(Gr),Ho=Ja((function(e,t){return e>=t})),Lo=wr(function(){return arguments}())?wr:function(e){return rc(e)&&Ve.call(e,"callee")&&!je.call(e,"callee")},zo=n.isArray,Jo=pt?qt(pt):function(e){return rc(e)&&vr(e)==V};function jo(e){return null!=e&&tc(e.length)&&!$o(e)}function Po(e){return rc(e)&&jo(e)}var Ko=ht||hg,_o=Qt?qt(Qt):function(e){return rc(e)&&vr(e)==f};function qo(e){if(!rc(e))return!1;var t=vr(e);return t==F||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oc(e)}function $o(e){if(!nc(e))return!1;var t=vr(e);return t==y||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ec(e){return"number"==typeof e&&e==bc(e)}function tc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B}function nc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rc(e){return null!=e&&"object"==typeof e}var ac=ft?qt(ft):function(e){return rc(e)&&Bi(e)==v};function ic(e){return"number"==typeof e||rc(e)&&vr(e)==G}function oc(e){if(!rc(e)||vr(e)!=U)return!1;var t=ze(e);if(null===t)return!0;var n=Ve.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ze.call(n)==Te}var cc=Ft?qt(Ft):function(e){return rc(e)&&vr(e)==E};var gc=yt?qt(yt):function(e){return rc(e)&&Bi(e)==S};function lc(e){return"string"==typeof e||!zo(e)&&rc(e)&&vr(e)==w}function sc(e){return"symbol"==typeof e||rc(e)&&vr(e)==N}var uc=xt?qt(xt):function(e){return rc(e)&&tc(e.length)&&!!ct[vr(e)]};var Ic=Ja(Tr),dc=Ja((function(e,t){return e<=t}));function Cc(e){if(!e)return[];if(jo(e))return lc(e)?Bn(e):Ea(e);if(_e&&e[_e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[_e]());var t=Bi(e);return(t==v?ln:t==S?In:Yc)(e)}function Bc(e){return e?(e=hc(e))===C||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function bc(e){var t=Bc(e),n=t%1;return t===t?n?t-n:t:0}function Ac(e){return e?gr(bc(e),0,A):0}function hc(e){if("number"==typeof e)return e;if(sc(e))return b;if(nc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=_t(e);var n=he.test(e);return n||pe.test(e)?ut(e.slice(2),n?2:8):Ae.test(e)?b:+e}function mc(e){return Sa(e,Zc(e))}function pc(e){return null==e?"":sa(e)}var Qc=Na((function(e,t){if(yi(t)||jo(t))Sa(t,Nc(t),e);else for(var n in t)Ve.call(t,n)&&nr(e,n,t[n])})),fc=Na((function(e,t){Sa(t,Zc(t),e)})),Fc=Na((function(e,t,n,r){Sa(t,Zc(t),e,r)})),yc=Na((function(e,t,n,r){Sa(t,Nc(t),e,r)})),xc=ri(cr);var vc=_r((function(e,t){e=ve(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&pi(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],c=Zc(o),g=-1,l=c.length;++g<l;){var s=c[g],u=e[s];(u===i||Yo(u,we[s])&&!Ve.call(e,s))&&(e[s]=o[s])}return e})),Gc=_r((function(e){return e.push(i,ei),vt(Wc,i,e)}));function Uc(e,t,n){var r=null==e?i:yr(e,t);return r===i?n:r}function Xc(e,t){return null!=e&&bi(e,t,Xr)}var Ec=Ya((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),ng(ig)),Sc=Ya((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ve.call(e,t)?e[t].push(n):e[t]=[n]}),li),wc=_r(Sr);function Nc(e){return jo(e)?_n(e):Dr(e)}function Zc(e){return jo(e)?_n(e,!0):Mr(e)}var Vc=Na((function(e,t,n){Rr(e,t,n)})),Wc=Na((function(e,t,n,r){Rr(e,t,n,r)})),Dc=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,(function(t){return t=pa(t,e),r||(r=t.length>1),t})),Sa(e,ii(e),n),r&&(n=lr(n,7,ti));for(var a=t.length;a--;)Ia(n,t[a]);return n}));var Mc=ri((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return Xc(e,n)}))}(e,t)}));function Tc(e,t){if(null==e)return{};var n=Zt(ii(e),(function(e){return[e]}));return t=li(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Oc=_a(Nc),kc=_a(Zc);function Yc(e){return null==e?[]:$t(e,Nc(e))}var Rc=Da((function(e,t,n){return t=t.toLowerCase(),e+(n?Hc(t):t)}));function Hc(e){return qc(pc(e).toLowerCase())}function Lc(e){return(e=pc(e))&&e.replace(fe,an).replace(et,"")}var zc=Da((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Jc=Da((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),jc=Wa("toLowerCase");var Pc=Da((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Kc=Da((function(e,t,n){return e+(n?" ":"")+qc(t)}));var _c=Da((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qc=Wa("toUpperCase");function $c(e,t,n){return e=pc(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(Ie)||[]}(e):e.match(t)||[]}var eg=_r((function(e,t){try{return vt(e,i,t)}catch(n){return qo(n)?n:new a(n)}})),tg=ri((function(e,t){return Ut(t,(function(t){t=Mi(t),or(e,t,So(e[t],e))})),e}));function ng(e){return function(){return e}}var rg=Oa(),ag=Oa(!0);function ig(e){return e}function og(e){return Wr("function"==typeof e?e:lr(e,1))}var cg=_r((function(e,t){return function(n){return Sr(n,e,t)}})),gg=_r((function(e,t){return function(n){return Sr(e,n,t)}}));function lg(e,t,n){var r=Nc(t),a=Fr(t,r);null!=n||nc(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Fr(t,Nc(t)));var i=!(nc(n)&&"chain"in n)||!!n.chain,o=$o(e);return Ut(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),a=n.__actions__=Ea(this.__actions__);return a.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Vt([this.value()],arguments))})})),e}function sg(){}var ug=Ha(Zt),Ig=Ha(Et),dg=Ha(Mt);function Cg(e){return Qi(e)?zt(Mi(e)):function(e){return function(t){return yr(t,e)}}(e)}var Bg=za(),bg=za(!0);function Ag(){return[]}function hg(){return!1}var mg=Ra((function(e,t){return e+t}),0),pg=Pa("ceil"),Qg=Ra((function(e,t){return e/t}),1),fg=Pa("floor");var Fg=Ra((function(e,t){return e*t}),1),yg=Pa("round"),xg=Ra((function(e,t){return e-t}),0);return kn.after=function(e,t){if("function"!=typeof t)throw new Xe(o);return e=bc(e),function(){if(--e<1)return t.apply(this,arguments)}},kn.ary=Xo,kn.assign=Qc,kn.assignIn=fc,kn.assignInWith=Fc,kn.assignWith=yc,kn.at=xc,kn.before=Eo,kn.bind=So,kn.bindAll=tg,kn.bindKey=wo,kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zo(e)?e:[e]},kn.chain=Co,kn.chunk=function(e,t,r){t=(r?pi(e,t,r):t===i)?1:mn(bc(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,c=0,g=n(dt(a/t));o<a;)g[c++]=aa(e,o,o+=t);return g},kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Vt(zo(r)?Ea(r):[r],hr(t,1))},kn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Zt(e,(function(e){if("function"!=typeof e[1])throw new Xe(o);return[n(e[0]),e[1]]})):[],_r((function(n){for(var r=-1;++r<t;){var a=e[r];if(vt(a[0],this,n))return vt(a[1],this,n)}}))},kn.conforms=function(e){return function(e){var t=Nc(e);return function(n){return sr(n,e,t)}}(lr(e,1))},kn.constant=ng,kn.countBy=Ao,kn.create=function(e,t){var n=Yn(e);return null==t?n:ir(n,t)},kn.curry=function e(t,n,r){var a=qa(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},kn.curryRight=function e(t,n,r){var a=qa(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},kn.debounce=No,kn.defaults=vc,kn.defaultsDeep=Gc,kn.defer=Zo,kn.delay=Vo,kn.difference=ki,kn.differenceBy=Yi,kn.differenceWith=Ri,kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=n||t===i?1:bc(t))<0?0:t,r):[]},kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,0,(t=r-(t=n||t===i?1:bc(t)))<0?0:t):[]},kn.dropRightWhile=function(e,t){return e&&e.length?Ca(e,li(t,3),!0,!0):[]},kn.dropWhile=function(e,t){return e&&e.length?Ca(e,li(t,3),!0):[]},kn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&pi(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=bc(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:bc(r))<0&&(r+=a),r=n>r?0:Ac(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},kn.filter=function(e,t){return(zo(e)?St:Ar)(e,li(t,3))},kn.flatMap=function(e,t){return hr(xo(e,t),1)},kn.flatMapDeep=function(e,t){return hr(xo(e,t),C)},kn.flatMapDepth=function(e,t,n){return n=n===i?1:bc(n),hr(xo(e,t),n)},kn.flatten=zi,kn.flattenDeep=function(e){return(null==e?0:e.length)?hr(e,C):[]},kn.flattenDepth=function(e,t){return(null==e?0:e.length)?hr(e,t=t===i?1:bc(t)):[]},kn.flip=function(e){return qa(e,512)},kn.flow=rg,kn.flowRight=ag,kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},kn.functions=function(e){return null==e?[]:Fr(e,Nc(e))},kn.functionsIn=function(e){return null==e?[]:Fr(e,Zc(e))},kn.groupBy=fo,kn.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},kn.intersection=ji,kn.intersectionBy=Pi,kn.intersectionWith=Ki,kn.invert=Ec,kn.invertBy=Sc,kn.invokeMap=Fo,kn.iteratee=og,kn.keyBy=yo,kn.keys=Nc,kn.keysIn=Zc,kn.map=xo,kn.mapKeys=function(e,t){var n={};return t=li(t,3),Qr(e,(function(e,r,a){or(n,t(e,r,a),e)})),n},kn.mapValues=function(e,t){var n={};return t=li(t,3),Qr(e,(function(e,r,a){or(n,r,t(e,r,a))})),n},kn.matches=function(e){return kr(lr(e,1))},kn.matchesProperty=function(e,t){return Yr(e,lr(t,1))},kn.memoize=Wo,kn.merge=Vc,kn.mergeWith=Wc,kn.method=cg,kn.methodOf=gg,kn.mixin=lg,kn.negate=Do,kn.nthArg=function(e){return e=bc(e),_r((function(t){return Hr(t,e)}))},kn.omit=Dc,kn.omitBy=function(e,t){return Tc(e,Do(li(t)))},kn.once=function(e){return Eo(2,e)},kn.orderBy=function(e,t,n,r){return null==e?[]:(zo(t)||(t=null==t?[]:[t]),zo(n=r?i:n)||(n=null==n?[]:[n]),Lr(e,t,n))},kn.over=ug,kn.overArgs=Mo,kn.overEvery=Ig,kn.overSome=dg,kn.partial=To,kn.partialRight=Oo,kn.partition=vo,kn.pick=Mc,kn.pickBy=Tc,kn.property=Cg,kn.propertyOf=function(e){return function(t){return null==e?i:yr(e,t)}},kn.pull=qi,kn.pullAll=$i,kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Jr(e,t,li(n,2)):e},kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Jr(e,t,i,n):e},kn.pullAt=eo,kn.range=Bg,kn.rangeRight=bg,kn.rearg=ko,kn.reject=function(e,t){return(zo(e)?St:Ar)(e,Do(li(t,3)))},kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=li(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return jr(e,a),n},kn.rest=function(e,t){if("function"!=typeof e)throw new Xe(o);return _r(e,t=t===i?t:bc(t))},kn.reverse=to,kn.sampleSize=function(e,t,n){return t=(n?pi(e,t,n):t===i)?1:bc(t),(zo(e)?$n:$r)(e,t)},kn.set=function(e,t,n){return null==e?e:ea(e,t,n)},kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ea(e,t,n,r)},kn.shuffle=function(e){return(zo(e)?er:ra)(e)},kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&pi(e,t,n)?(t=0,n=r):(t=null==t?0:bc(t),n=n===i?r:bc(n)),aa(e,t,n)):[]},kn.sortBy=Go,kn.sortedUniq=function(e){return e&&e.length?ga(e):[]},kn.sortedUniqBy=function(e,t){return e&&e.length?ga(e,li(t,2)):[]},kn.split=function(e,t,n){return n&&"number"!=typeof n&&pi(e,t,n)&&(t=n=i),(n=n===i?A:n>>>0)?(e=pc(e))&&("string"==typeof t||null!=t&&!cc(t))&&!(t=sa(t))&&gn(e)?fa(Bn(e),0,n):e.split(t,n):[]},kn.spread=function(e,t){if("function"!=typeof e)throw new Xe(o);return t=null==t?0:mn(bc(t),0),_r((function(n){var r=n[t],a=fa(n,0,t);return r&&Vt(a,r),vt(e,this,a)}))},kn.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},kn.take=function(e,t,n){return e&&e.length?aa(e,0,(t=n||t===i?1:bc(t))<0?0:t):[]},kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=r-(t=n||t===i?1:bc(t)))<0?0:t,r):[]},kn.takeRightWhile=function(e,t){return e&&e.length?Ca(e,li(t,3),!1,!0):[]},kn.takeWhile=function(e,t){return e&&e.length?Ca(e,li(t,3)):[]},kn.tap=function(e,t){return t(e),e},kn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Xe(o);return nc(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),No(e,t,{leading:r,maxWait:t,trailing:a})},kn.thru=Bo,kn.toArray=Cc,kn.toPairs=Oc,kn.toPairsIn=kc,kn.toPath=function(e){return zo(e)?Zt(e,Mi):sc(e)?[e]:Ea(Di(pc(e)))},kn.toPlainObject=mc,kn.transform=function(e,t,n){var r=zo(e),a=r||Ko(e)||uc(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:nc(e)&&$o(i)?Yn(ze(e)):{}}return(a?Ut:Qr)(e,(function(e,r,a){return t(n,e,r,a)})),n},kn.unary=function(e){return Xo(e,1)},kn.union=no,kn.unionBy=ro,kn.unionWith=ao,kn.uniq=function(e){return e&&e.length?ua(e):[]},kn.uniqBy=function(e,t){return e&&e.length?ua(e,li(t,2)):[]},kn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ua(e,i,t):[]},kn.unset=function(e,t){return null==e||Ia(e,t)},kn.unzip=io,kn.unzipWith=oo,kn.update=function(e,t,n){return null==e?e:da(e,t,ma(n))},kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:da(e,t,ma(n),r)},kn.values=Yc,kn.valuesIn=function(e){return null==e?[]:$t(e,Zc(e))},kn.without=co,kn.words=$c,kn.wrap=function(e,t){return To(ma(t),e)},kn.xor=go,kn.xorBy=lo,kn.xorWith=so,kn.zip=uo,kn.zipObject=function(e,t){return Aa(e||[],t||[],nr)},kn.zipObjectDeep=function(e,t){return Aa(e||[],t||[],ea)},kn.zipWith=Io,kn.entries=Oc,kn.entriesIn=kc,kn.extend=fc,kn.extendWith=Fc,lg(kn,kn),kn.add=mg,kn.attempt=eg,kn.camelCase=Rc,kn.capitalize=Hc,kn.ceil=pg,kn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=hc(n))===n?n:0),t!==i&&(t=(t=hc(t))===t?t:0),gr(hc(e),t,n)},kn.clone=function(e){return lr(e,4)},kn.cloneDeep=function(e){return lr(e,5)},kn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},kn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},kn.conformsTo=function(e,t){return null==t||sr(e,t,Nc(t))},kn.deburr=Lc,kn.defaultTo=function(e,t){return null==e||e!==e?t:e},kn.divide=Qg,kn.endsWith=function(e,t,n){e=pc(e),t=sa(t);var r=e.length,a=n=n===i?r:gr(bc(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},kn.eq=Yo,kn.escape=function(e){return(e=pc(e))&&q.test(e)?e.replace(K,on):e},kn.escapeRegExp=function(e){return(e=pc(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},kn.every=function(e,t,n){var r=zo(e)?Et:Br;return n&&pi(e,t,n)&&(t=i),r(e,li(t,3))},kn.find=ho,kn.findIndex=Hi,kn.findKey=function(e,t){return Ot(e,li(t,3),Qr)},kn.findLast=mo,kn.findLastIndex=Li,kn.findLastKey=function(e,t){return Ot(e,li(t,3),fr)},kn.floor=fg,kn.forEach=po,kn.forEachRight=Qo,kn.forIn=function(e,t){return null==e?e:mr(e,li(t,3),Zc)},kn.forInRight=function(e,t){return null==e?e:pr(e,li(t,3),Zc)},kn.forOwn=function(e,t){return e&&Qr(e,li(t,3))},kn.forOwnRight=function(e,t){return e&&fr(e,li(t,3))},kn.get=Uc,kn.gt=Ro,kn.gte=Ho,kn.has=function(e,t){return null!=e&&bi(e,t,Ur)},kn.hasIn=Xc,kn.head=Ji,kn.identity=ig,kn.includes=function(e,t,n,r){e=jo(e)?e:Yc(e),n=n&&!r?bc(n):0;var a=e.length;return n<0&&(n=mn(a+n,0)),lc(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Yt(e,t,n)>-1},kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:bc(n);return a<0&&(a=mn(r+a,0)),Yt(e,t,a)},kn.inRange=function(e,t,n){return t=Bc(t),n===i?(n=t,t=0):n=Bc(n),function(e,t,n){return e>=pn(t,n)&&e<mn(t,n)}(e=hc(e),t,n)},kn.invoke=wc,kn.isArguments=Lo,kn.isArray=zo,kn.isArrayBuffer=Jo,kn.isArrayLike=jo,kn.isArrayLikeObject=Po,kn.isBoolean=function(e){return!0===e||!1===e||rc(e)&&vr(e)==Q},kn.isBuffer=Ko,kn.isDate=_o,kn.isElement=function(e){return rc(e)&&1===e.nodeType&&!oc(e)},kn.isEmpty=function(e){if(null==e)return!0;if(jo(e)&&(zo(e)||"string"==typeof e||"function"==typeof e.splice||Ko(e)||uc(e)||Lo(e)))return!e.length;var t=Bi(e);if(t==v||t==S)return!e.size;if(yi(e))return!Dr(e).length;for(var n in e)if(Ve.call(e,n))return!1;return!0},kn.isEqual=function(e,t){return Nr(e,t)},kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Nr(e,t,i,n):!!r},kn.isError=qo,kn.isFinite=function(e){return"number"==typeof e&&mt(e)},kn.isFunction=$o,kn.isInteger=ec,kn.isLength=tc,kn.isMap=ac,kn.isMatch=function(e,t){return e===t||Zr(e,t,ui(t))},kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Zr(e,t,ui(t),n)},kn.isNaN=function(e){return ic(e)&&e!=+e},kn.isNative=function(e){if(Fi(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Vr(e)},kn.isNil=function(e){return null==e},kn.isNull=function(e){return null===e},kn.isNumber=ic,kn.isObject=nc,kn.isObjectLike=rc,kn.isPlainObject=oc,kn.isRegExp=cc,kn.isSafeInteger=function(e){return ec(e)&&e>=-9007199254740991&&e<=B},kn.isSet=gc,kn.isString=lc,kn.isSymbol=sc,kn.isTypedArray=uc,kn.isUndefined=function(e){return e===i},kn.isWeakMap=function(e){return rc(e)&&Bi(e)==Z},kn.isWeakSet=function(e){return rc(e)&&"[object WeakSet]"==vr(e)},kn.join=function(e,t){return null==e?"":Tt.call(e,t)},kn.kebabCase=zc,kn.last=_i,kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=bc(n))<0?mn(r+a,0):pn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):kt(e,Ht,a,!0)},kn.lowerCase=Jc,kn.lowerFirst=jc,kn.lt=Ic,kn.lte=dc,kn.max=function(e){return e&&e.length?br(e,ig,Gr):i},kn.maxBy=function(e,t){return e&&e.length?br(e,li(t,2),Gr):i},kn.mean=function(e){return Lt(e,ig)},kn.meanBy=function(e,t){return Lt(e,li(t,2))},kn.min=function(e){return e&&e.length?br(e,ig,Tr):i},kn.minBy=function(e,t){return e&&e.length?br(e,li(t,2),Tr):i},kn.stubArray=Ag,kn.stubFalse=hg,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=Fg,kn.nth=function(e,t){return e&&e.length?Hr(e,bc(t)):i},kn.noConflict=function(){return Ct._===this&&(Ct._=Oe),this},kn.noop=sg,kn.now=Uo,kn.pad=function(e,t,n){e=pc(e);var r=(t=bc(t))?Cn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return La(Bt(a),n)+e+La(dt(a),n)},kn.padEnd=function(e,t,n){e=pc(e);var r=(t=bc(t))?Cn(e):0;return t&&r<t?e+La(t-r,n):e},kn.padStart=function(e,t,n){e=pc(e);var r=(t=bc(t))?Cn(e):0;return t&&r<t?La(t-r,n)+e:e},kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),fn(pc(e).replace(ce,""),t||0)},kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&pi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Bc(e),t===i?(t=e,e=0):t=Bc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Fn();return pn(e+a*(t-e+st("1e-"+((a+"").length-1))),t)}return Pr(e,t)},kn.reduce=function(e,t,n){var r=zo(e)?Wt:jt,a=arguments.length<3;return r(e,li(t,4),n,a,dr)},kn.reduceRight=function(e,t,n){var r=zo(e)?Dt:jt,a=arguments.length<3;return r(e,li(t,4),n,a,Cr)},kn.repeat=function(e,t,n){return t=(n?pi(e,t,n):t===i)?1:bc(t),Kr(pc(e),t)},kn.replace=function(){var e=arguments,t=pc(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kn.result=function(e,t,n){var r=-1,a=(t=pa(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Mi(t[r])];o===i&&(r=a,o=n),e=$o(o)?o.call(e):o}return e},kn.round=yg,kn.runInContext=e,kn.sample=function(e){return(zo(e)?qn:qr)(e)},kn.size=function(e){if(null==e)return 0;if(jo(e))return lc(e)?Cn(e):e.length;var t=Bi(e);return t==v||t==S?e.size:Dr(e).length},kn.snakeCase=Pc,kn.some=function(e,t,n){var r=zo(e)?Mt:ia;return n&&pi(e,t,n)&&(t=i),r(e,li(t,3))},kn.sortedIndex=function(e,t){return oa(e,t)},kn.sortedIndexBy=function(e,t,n){return ca(e,t,li(n,2))},kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oa(e,t);if(r<n&&Yo(e[r],t))return r}return-1},kn.sortedLastIndex=function(e,t){return oa(e,t,!0)},kn.sortedLastIndexBy=function(e,t,n){return ca(e,t,li(n,2),!0)},kn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oa(e,t,!0)-1;if(Yo(e[n],t))return n}return-1},kn.startCase=Kc,kn.startsWith=function(e,t,n){return e=pc(e),n=null==n?0:gr(bc(n),0,e.length),t=sa(t),e.slice(n,n+t.length)==t},kn.subtract=xg,kn.sum=function(e){return e&&e.length?Pt(e,ig):0},kn.sumBy=function(e,t){return e&&e.length?Pt(e,li(t,2)):0},kn.template=function(e,t,n){var r=kn.templateSettings;n&&pi(e,t,n)&&(t=i),e=pc(e),t=Fc({},t,r,$a);var o,c,g=Fc({},t.imports,r.imports,$a),l=Nc(g),s=$t(g,l),u=0,I=t.interpolate||Fe,d="__p += '",C=Ge((t.escape||Fe).source+"|"+I.source+"|"+(I===te?Be:Fe).source+"|"+(t.evaluate||Fe).source+"|$","g"),B="//# sourceURL="+(Ve.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(C,(function(t,n,r,a,i,g){return r||(r=a),d+=e.slice(u,g).replace(ye,cn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),i&&(c=!0,d+="';\n"+i+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=g+t.length,t})),d+="';\n";var b=Ve.call(t,"variable")&&t.variable;if(b){if(de.test(b))throw new a("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(c?d.replace(z,""):d).replace(J,"$1").replace(j,"$1;"),d="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var A=eg((function(){return ge(l,B+"return "+d).apply(i,s)}));if(A.source=d,qo(A))throw A;return A},kn.times=function(e,t){if((e=bc(e))<1||e>B)return[];var n=A,r=pn(e,A);t=li(t),e-=A;for(var a=Kt(r,t);++n<e;)t(n);return a},kn.toFinite=Bc,kn.toInteger=bc,kn.toLength=Ac,kn.toLower=function(e){return pc(e).toLowerCase()},kn.toNumber=hc,kn.toSafeInteger=function(e){return e?gr(bc(e),-9007199254740991,B):0===e?e:0},kn.toString=pc,kn.toUpper=function(e){return pc(e).toUpperCase()},kn.trim=function(e,t,n){if((e=pc(e))&&(n||t===i))return _t(e);if(!e||!(t=sa(t)))return e;var r=Bn(e),a=Bn(t);return fa(r,tn(r,a),nn(r,a)+1).join("")},kn.trimEnd=function(e,t,n){if((e=pc(e))&&(n||t===i))return e.slice(0,bn(e)+1);if(!e||!(t=sa(t)))return e;var r=Bn(e);return fa(r,0,nn(r,Bn(t))+1).join("")},kn.trimStart=function(e,t,n){if((e=pc(e))&&(n||t===i))return e.replace(ce,"");if(!e||!(t=sa(t)))return e;var r=Bn(e);return fa(r,tn(r,Bn(t))).join("")},kn.truncate=function(e,t){var n=30,r="...";if(nc(t)){var a="separator"in t?t.separator:a;n="length"in t?bc(t.length):n,r="omission"in t?sa(t.omission):r}var o=(e=pc(e)).length;if(gn(e)){var c=Bn(e);o=c.length}if(n>=o)return e;var g=n-Cn(r);if(g<1)return r;var l=c?fa(c,0,g).join(""):e.slice(0,g);if(a===i)return l+r;if(c&&(g+=l.length-g),cc(a)){if(e.slice(g).search(a)){var s,u=l;for(a.global||(a=Ge(a.source,pc(be.exec(a))+"g")),a.lastIndex=0;s=a.exec(u);)var I=s.index;l=l.slice(0,I===i?g:I)}}else if(e.indexOf(sa(a),g)!=g){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+r},kn.unescape=function(e){return(e=pc(e))&&_.test(e)?e.replace(P,An):e},kn.uniqueId=function(e){var t=++We;return pc(e)+t},kn.upperCase=_c,kn.upperFirst=qc,kn.each=po,kn.eachRight=Qo,kn.first=Ji,lg(kn,function(){var e={};return Qr(kn,(function(t,n){Ve.call(kn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),kn.VERSION="4.17.21",Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kn[e].placeholder=kn})),Ut(["drop","take"],(function(e,t){Ln.prototype[e]=function(n){n=n===i?1:mn(bc(n),0);var r=this.__filtered__&&!t?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=pn(n,r.__takeCount__):r.__views__.push({size:pn(n,A),type:e+(r.__dir__<0?"Right":"")}),r},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ut(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ut(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}})),Ut(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(ig)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=_r((function(e,t){return"function"==typeof e?new Ln(this):this.map((function(n){return Sr(n,e,t)}))})),Ln.prototype.reject=function(e){return this.filter(Do(li(e)))},Ln.prototype.slice=function(e,t){e=bc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=bc(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(A)},Qr(Ln.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=kn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(kn.prototype[t]=function(){var t=this.__wrapped__,c=r?[1]:arguments,g=t instanceof Ln,l=c[0],s=g||zo(t),u=function(e){var t=a.apply(kn,Vt([e],c));return r&&I?t[0]:t};s&&n&&"function"==typeof l&&1!=l.length&&(g=s=!1);var I=this.__chain__,d=!!this.__actions__.length,C=o&&!I,B=g&&!d;if(!o&&s){t=B?t:new Ln(this);var b=e.apply(t,c);return b.__actions__.push({func:Bo,args:[u],thisArg:i}),new Hn(b,I)}return C&&B?e.apply(this,c):(b=this.thru(u),C?r?b.value()[0]:b.value():b)})})),Ut(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ee[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(zo(a)?a:[],e)}return this[n]((function(n){return t.apply(zo(n)?n:[],e)}))}})),Qr(Ln.prototype,(function(e,t){var n=kn[t];if(n){var r=n.name+"";Ve.call(wn,r)||(wn[r]=[]),wn[r].push({name:t,func:n})}})),wn[ka(i,2).name]=[{name:"wrapper",func:i}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=Ea(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ea(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ea(this.__views__),e},Ln.prototype.reverse=function(){if(this.__filtered__){var e=new Ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zo(e),r=t<0,a=n?e.length:0,i=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=pn(t,e+o);break;case"takeRight":e=mn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,c=i.end,g=c-o,l=r?c:o-1,s=this.__iteratees__,u=s.length,I=0,d=pn(g,this.__takeCount__);if(!n||!r&&a==g&&d==g)return Ba(e,this.__actions__);var C=[];e:for(;g--&&I<d;){for(var B=-1,b=e[l+=t];++B<u;){var A=s[B],h=A.iteratee,m=A.type,p=h(b);if(2==m)b=p;else if(!p){if(1==m)continue e;break e}}C[I++]=b}return C},kn.prototype.at=bo,kn.prototype.chain=function(){return Co(this)},kn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},kn.prototype.next=function(){this.__values__===i&&(this.__values__=Cc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},kn.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var r=Oi(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ln){var t=e;return this.__actions__.length&&(t=new Ln(this)),(t=t.reverse()).__actions__.push({func:Bo,args:[to],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(to)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return Ba(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,_e&&(kn.prototype[_e]=function(){return this}),kn}();Ct._=hn,(a=function(){return hn}.call(t,n,t,r))===i||(r.exports=a)}).call(this)}).call(this,n(30),n(23)(e))},function(e,t,n){e.exports=function e(t,n,r){function a(o,c){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var g=new Error("Cannot find module '"+o+"'");throw g.code="MODULE_NOT_FOUND",g}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return a(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i=!1,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"===typeof e}function i(e){return"number"===typeof e}function o(e){return"object"===typeof e&&null!==e}function c(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,g,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(c(n=this._events[e]))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,g=0;g<r;g++)l[g].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=c(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,i,c;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(c=i;c-- >0;)if(n[c]===t||n[c].listener&&n[c].listener===t){r=c;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r,a,i,o,c;c=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),i="ie"===(r=c.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(a={name:"version"===r[1]?r[3]:r[1],version:i||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:c.match(/ip(?:ad|od|hone)/)?"ios":(c.match(/(?:webos|android)/)||o.match(/mac|win|linux/)||["other"])[0]}})[a.name]=!0,a[a.name+parseInt(a.version,10)]=!0,a.platform[a.platform.name]=!0,t.exports=a},{}],3:[function(e,t,n){var r,a,i,o=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},l=[].slice;r=e("events").EventEmitter,i=e("./browser.coffee"),a=function(e){var t,n;function r(e){var n,r,a;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)a=t[r],null==(n=this.options)[r]&&(n[r]=a)}return o(r,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},r.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)c.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},r.prototype.addFrame=function(e,t){var r,a;for(a in null==t&&(t={}),(r={}).transparent=this.options.transparent,n)r[a]=t[a]||n[a];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!==typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!==typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!==typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},r.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var e,t,n,r;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(e){var t;return r.log("spawning worker "+e),(t=new Worker(r.options.workerScript)).onmessage=function(e){return r.activeWorkers.splice(r.activeWorkers.indexOf(t),1),r.freeWorkers.push(t),r.frameFinished(e.data)},r.freeWorkers.push(t)})),e},r.prototype.frameFinished=function(e){var t,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,n=this.freeWorkers.length;1<=n?t<n:t>n;1<=n?++t:--t)this.renderNextFrame();return g.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var e,t,n,r,a,i,o,c,g,l,s,u,I,d,C,B;for(c=0,a=0,g=(d=this.imageParts).length;a<g;a++)c+=((t=d[a]).data.length-1)*t.pageSize+t.cursor;for(c+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(c/1e3)+"kb"),e=new Uint8Array(c),u=0,i=0,l=(C=this.imageParts).length;i<l;i++)for(n=o=0,s=(B=(t=C[i]).data).length;o<s;n=++o)I=B[n],e.set(I,u),n===t.data.length-1?u+=t.cursor:u+=t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},r.prototype.renderNextFrame=function(){var e,t,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(t)},r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},r.prototype.getTask=function(e){var t,n;if(n={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===i.name},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},r.prototype.log=function(){var e;if(e=1<=arguments.length?l.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},r}(r),t.exports=a},{"./browser.coffee":2,events:1}]},{},[3])(3)},function(module,exports,__webpack_require__){var g;self,g=function(){return function(){var __webpack_modules__={415:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ src)\n});\n\n// NAMESPACE OBJECT: ./src/parser.ts\nvar src_parser_namespaceObject = {};\n__webpack_require__.r(src_parser_namespaceObject);\n__webpack_require__.d(src_parser_namespaceObject, {\n  "convert": () => (convert)\n});\n\n;// CONCATENATED MODULE: ./src/elements/ExcalidrawScene.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ExcalidrawScene = /*#__PURE__*/function () {\n  function ExcalidrawScene() {\n    var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, ExcalidrawScene);\n\n    _defineProperty(this, "type", "excalidraw");\n\n    _defineProperty(this, "version", 2);\n\n    _defineProperty(this, "source", "https://excalidraw.com");\n\n    _defineProperty(this, "elements", []);\n\n    this.elements = elements;\n  }\n\n  _createClass(ExcalidrawScene, [{\n    key: "toExJSON",\n    value: function toExJSON() {\n      return _objectSpread(_objectSpread({}, this), {}, {\n        elements: this.elements.map(function (el) {\n          return _objectSpread({}, el);\n        })\n      });\n    }\n  }]);\n\n  return ExcalidrawScene;\n}();\n\n/* harmony default export */ const elements_ExcalidrawScene = (ExcalidrawScene);\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/common.js\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== \'undefined\' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/mat4.js\n\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction create() {\n  var out = new ARRAY_TYPE(16);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction clone(a) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str(a) {\n  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4\'s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix\'s elements by\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4\'s after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b\'s elements by before adding\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction mat4_equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nvar mul = (/* unused pure expression or super */ null && (multiply));\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nvar sub = (/* unused pure expression or super */ null && (subtract));\n;// CONCATENATED MODULE: ./node_modules/roughjs/bin/math.js\nfunction randomSeed() {\n    return Math.floor(Math.random() * 2 ** 31);\n}\nclass Random {\n    constructor(seed) {\n        this.seed = seed;\n    }\n    next() {\n        if (this.seed) {\n            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;\n        }\n        else {\n            return Math.random();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./node_modules/nanoid/index.prod.js\n// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\n\n\nif (false) {}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = \'\'\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| \'\'` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || \'\'\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = \'\'\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += \'_\'\n    } else {\n      id += \'-\'\n    }\n  }\n  return id\n}\n\n\n\n;// CONCATENATED MODULE: ./src/utils.ts\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar utils_random = new Random(Date.now());\nvar randomInteger = function randomInteger() {\n  return Math.floor(utils_random.next() * Math.pow(2, 31));\n};\nvar randomId = function randomId() {\n  return nanoid();\n};\nvar safeNumber = function safeNumber(number) {\n  return Number(number.toFixed(2));\n};\nfunction dimensionsFromPoints(points) {\n  var xCoords = points.map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        x = _ref2[0];\n\n    return x;\n  });\n  var yCoords = points.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        y = _ref4[1];\n\n    return y;\n  });\n  var minX = Math.min.apply(Math, _toConsumableArray(xCoords));\n  var minY = Math.min.apply(Math, _toConsumableArray(yCoords));\n  var maxX = Math.max.apply(Math, _toConsumableArray(xCoords));\n  var maxY = Math.max.apply(Math, _toConsumableArray(yCoords));\n  return [maxX - minX, maxY - minY];\n} // winding order is clockwise values is positive, counter clockwise if negative.\n\nfunction getWindingOrder(points) {\n  var total = points.reduce(function (acc, _ref5, idx, arr) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        x1 = _ref6[0],\n        y1 = _ref6[1];\n\n    var p2 = arr[idx + 1];\n    var x2 = p2 ? p2[0] : 0;\n    var y2 = p2 ? p2[1] : 0;\n    var e = (x2 - x1) * (y2 + y1);\n    return e + acc;\n  }, 0);\n  return total > 0 ? "clockwise" : "counterclockwise";\n}\n// EXTERNAL MODULE: ./node_modules/chroma-js/chroma.js\nvar chroma = __webpack_require__(792);\nvar chroma_default = /*#__PURE__*/__webpack_require__.n(chroma);\n;// CONCATENATED MODULE: ./src/attributes.ts\nfunction attributes_toConsumableArray(arr) { return attributes_arrayWithoutHoles(arr) || attributes_iterableToArray(arr) || attributes_unsupportedIterableToArray(arr) || attributes_nonIterableSpread(); }\n\nfunction attributes_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction attributes_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return attributes_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return attributes_arrayLikeToArray(o, minLen); }\n\nfunction attributes_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction attributes_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return attributes_arrayLikeToArray(arr); }\n\nfunction attributes_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nfunction hexWithAlpha(color, alpha) {\n  return chroma_default()(color).alpha(alpha).css();\n}\nfunction has(el, attr) {\n  return el.hasAttribute(attr);\n}\nfunction get(el, attr, backup) {\n  return el.getAttribute(attr) || backup || "";\n}\nfunction getNum(el, attr, backup) {\n  var numVal = Number(get(el, attr));\n  return numVal === NaN ? backup || 0 : numVal;\n}\nvar presAttrs = {\n  stroke: "stroke",\n  "stroke-opacity": "stroke-opacity",\n  "stroke-width": "stroke-width",\n  fill: "fill",\n  "fill-opacity": "fill-opacity",\n  opacity: "opacity"\n};\nvar attrHandlers = {\n  stroke: function stroke(_ref) {\n    var el = _ref.el,\n        exVals = _ref.exVals;\n    var strokeColor = get(el, "stroke");\n    exVals.strokeColor = has(el, "stroke-opacity") ? hexWithAlpha(strokeColor, getNum(el, "stroke-opacity")) : strokeColor;\n  },\n  "stroke-opacity": function strokeOpacity(_ref2) {\n    var el = _ref2.el,\n        exVals = _ref2.exVals;\n    exVals.strokeColor = hexWithAlpha(get(el, "stroke", "#000000"), getNum(el, "stroke-opacity"));\n  },\n  "stroke-width": function strokeWidth(_ref3) {\n    var el = _ref3.el,\n        exVals = _ref3.exVals;\n    exVals.strokeWidth = getNum(el, "stroke-width");\n  },\n  fill: function fill(_ref4) {\n    var el = _ref4.el,\n        exVals = _ref4.exVals;\n    var fill = get(el, "fill");\n    exVals.backgroundColor = fill === "none" ? "#00000000" : fill;\n  },\n  "fill-opacity": function fillOpacity(_ref5) {\n    var el = _ref5.el,\n        exVals = _ref5.exVals;\n    exVals.backgroundColor = hexWithAlpha(get(el, "fill", "#000000"), getNum(el, "fill-opacity"));\n  },\n  opacity: function opacity(_ref6) {\n    var el = _ref6.el,\n        exVals = _ref6.exVals;\n    exVals.opacity = getNum(el, "opacity", 100);\n  }\n}; // Presentation Attributes for SVG Elements:\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation\n\nfunction presAttrsToElementValues(el) {\n  var exVals = attributes_toConsumableArray(el.attributes).reduce(function (exVals, attr) {\n    var name = attr.name;\n\n    if (Object.keys(attrHandlers).includes(name)) {\n      attrHandlers[name]({\n        el: el,\n        exVals: exVals\n      });\n    }\n\n    return exVals;\n  }, {});\n\n  return exVals;\n}\nfunction filterAttrsToElementValues(el) {\n  var filterVals = {};\n\n  if (has(el, "x")) {\n    filterVals.x = getNum(el, "x");\n  }\n\n  if (has(el, "y")) {\n    filterVals.y = getNum(el, "y");\n  }\n\n  if (has(el, "width")) {\n    filterVals.width = getNum(el, "width");\n  }\n\n  if (has(el, "height")) {\n    filterVals.height = getNum(el, "height");\n  }\n\n  return filterVals;\n}\nfunction pointsAttrToPoints(el) {\n  var points = [];\n\n  if (has(el, "points")) {\n    points = get(el, "points").split(" ").map(function (p) {\n      return p.split(",").map(parseFloat);\n    });\n  }\n\n  return points;\n}\n;// CONCATENATED MODULE: ./src/elements/Group.ts\nfunction Group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction Group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Group_ownKeys(Object(source), true).forEach(function (key) { Group_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction Group_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction getGroupAttrs(groups) {\n  return groups.reduce(function (acc, _ref) {\n    var element = _ref.element;\n    var elVals = presAttrsToElementValues(element);\n    return Group_objectSpread(Group_objectSpread({}, acc), elVals);\n  }, {});\n}\n\nvar Group = function Group(element) {\n  Group_classCallCheck(this, Group);\n\n  Group_defineProperty(this, "id", randomId());\n\n  Group_defineProperty(this, "element", void 0);\n\n  this.element = element;\n};\n\n/* harmony default export */ const elements_Group = (Group);\n;// CONCATENATED MODULE: ./src/elements/ExcalidrawElement.ts\nfunction ExcalidrawElement_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction ExcalidrawElement_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExcalidrawElement_ownKeys(Object(source), true).forEach(function (key) { ExcalidrawElement_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExcalidrawElement_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction ExcalidrawElement_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction createExElement() {\n  return {\n    id: randomId(),\n    x: 0,\n    y: 0,\n    strokeColor: "#000000",\n    backgroundColor: "#000000",\n    fillStyle: "solid",\n    strokeWidth: 1,\n    strokeStyle: "solid",\n    strokeSharpness: "sharp",\n    roughness: 0,\n    opacity: 100,\n    width: 0,\n    height: 0,\n    angle: 0,\n    seed: randomInteger(),\n    version: 0,\n    versionNonce: 0,\n    isDeleted: false,\n    groupIds: [],\n    boundElementIds: null\n  };\n}\nfunction createExRect() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "rectangle"\n  });\n}\nfunction createExLine() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "line",\n    points: []\n  });\n}\nfunction createExEllipse() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "ellipse"\n  });\n}\nfunction createExDraw() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "draw",\n    points: []\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/vec3.js\n\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_create() {\n  var out = new ARRAY_TYPE(3);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction vec3_length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_fromValues(x, y, z) {\n  var out = new ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3\'s after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly \'1\'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction vec3_str(a) {\n  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction vec3_exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction vec3_equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nvar vec3_sub = (/* unused pure expression or super */ null && (vec3_subtract));\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nvar vec3_mul = (/* unused pure expression or super */ null && (vec3_multiply));\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nvar div = (/* unused pure expression or super */ null && (divide));\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nvar dist = (/* unused pure expression or super */ null && (distance));\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = (/* unused pure expression or super */ null && (squaredDistance));\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nvar len = (/* unused pure expression or super */ null && (vec3_length));\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = (/* unused pure expression or super */ null && (squaredLength));\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = vec3_create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n;// CONCATENATED MODULE: ./src/transform.ts\nfunction transform_slicedToArray(arr, i) { return transform_arrayWithHoles(arr) || transform_iterableToArrayLimit(arr, i) || transform_unsupportedIterableToArray(arr, i) || transform_nonIterableRest(); }\n\nfunction transform_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction transform_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return transform_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return transform_arrayLikeToArray(o, minLen); }\n\nfunction transform_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction transform_iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction transform_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n/*\nSVG transform attr is a bit strange in that it can accept traditional\ncss transform string (at least per spec) as well as a it\'s own "unitless"\nversion of transform functions.\n\nhttps://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform\n*/\n\nvar transformFunctions = {\n  matrix: "matrix",\n  matrix3d: "matrix3d",\n  perspective: "perspective",\n  rotate: "rotate",\n  rotate3d: "rotate3d",\n  rotateX: "rotateX",\n  rotateY: "rotateY",\n  rotateZ: "rotateZ",\n  scale: "scale",\n  scale3d: "scale3d",\n  scaleX: "scaleX",\n  scaleY: "scaleY",\n  scaleZ: "scaleZ",\n  skew: "skew",\n  skewX: "skewX",\n  skewY: "skewY",\n  translate: "translate",\n  translate3d: "translate3d",\n  translateX: "translateX",\n  translateY: "translateY",\n  translateZ: "translateZ"\n};\nvar transformFunctionsArr = Object.keys(transformFunctions); // type Transform\n\nvar defaultUnits = {\n  matrix: "",\n  matrix3d: "",\n  perspective: "perspective",\n  rotate: "deg",\n  rotate3d: "deg",\n  rotateX: "deg",\n  rotateY: "deg",\n  rotateZ: "deg",\n  scale: "",\n  scale3d: "",\n  scaleX: "",\n  scaleY: "",\n  scaleZ: "",\n  skew: "skew",\n  skewX: "deg",\n  skewY: "deg",\n  translate: "px",\n  translate3d: "px",\n  translateX: "px",\n  translateY: "px",\n  translateZ: "px"\n}; // Convert between possible svg transform attribute values to css transform attribute values.\n\nvar svgTransformToCSSTransform = function svgTransformToCSSTransform(svgTransformStr) {\n  // Create transform function string "chunks", e.g "rotate(90deg)"\n  var tFuncs = svgTransformStr.match(/(\\w+)\\(([^)]*)\\)/g);\n\n  if (!tFuncs) {\n    return "";\n  }\n\n  var tFuncValues = tFuncs.map(function (tFuncStr) {\n    var _values;\n\n    var type = tFuncStr.split("(")[0];\n\n    if (!type) {\n      throw new Error("Unable to find transform name");\n    }\n\n    if (!transformFunctionsArr.includes(type)) {\n      throw new Error("transform function name \\"".concat(type, "\\" is not valid"));\n    } // get the arg/props of the transform function, e.g "90deg".\n\n\n    var tFuncParts = tFuncStr.match(/([-+]?[0-9]*\\.?[0-9]+)([a-z])*/g);\n\n    if (!tFuncParts) {\n      return {\n        type: type,\n        values: []\n      };\n    }\n\n    var values = tFuncParts.map(function (a) {\n      // Separate the arg value and unit. e.g ["90", "deg"]\n      var _a$matchAll = a.matchAll(/([-+]?[0-9]*\\.?[0-9]+)|([a-z])*/g),\n          _a$matchAll2 = transform_slicedToArray(_a$matchAll, 2),\n          value = _a$matchAll2[0],\n          unit = _a$matchAll2[1];\n\n      return {\n        unit: unit[0] || defaultUnits[type],\n        value: value[0]\n      };\n    }); // Not supporting x, y args of svg rotate transform yet...\n\n    if (values && type === "rotate" && ((_values = values) === null || _values === void 0 ? void 0 : _values.length) > 1) {\n      values = [values[0]];\n    }\n\n    return {\n      type: type,\n      values: values\n    };\n  }); // Generate a string of transform functions that can be set as a CSS Transform.\n\n  var csstransformStr = tFuncValues.map(function (_ref) {\n    var type = _ref.type,\n        values = _ref.values;\n    var valStr = values.map(function (_ref2) {\n      var unit = _ref2.unit,\n          value = _ref2.value;\n      return "".concat(value).concat(unit);\n    }).join(", ");\n    return "".concat(type, "(").concat(valStr, ")");\n  }).join(" ");\n  return csstransformStr;\n};\n\nvar createDOMMatrixFromSVGStr = function createDOMMatrixFromSVGStr(svgTransformStr) {\n  var cssTransformStr = svgTransformToCSSTransform(svgTransformStr);\n  return new DOMMatrix(cssTransformStr);\n};\nfunction getElementMatrix(el) {\n  if (el.hasAttribute("transform")) {\n    var elMat = new DOMMatrix(svgTransformToCSSTransform(el.getAttribute("transform") || ""));\n    return multiply(create(), create(), elMat.toFloat32Array());\n  }\n\n  return create();\n}\nfunction getTransformMatrix(el, groups) {\n  var accumMat = groups.map(function (_ref3) {\n    var element = _ref3.element;\n    return getElementMatrix(element);\n  }).concat([getElementMatrix(el)]).reduce(function (acc, mat) {\n    return multiply(acc, acc, mat);\n  }, create());\n  return accumMat;\n}\nfunction transformPoints(points, transform) {\n  return points.map(function (_ref4) {\n    var _ref5 = transform_slicedToArray(_ref4, 2),\n        x = _ref5[0],\n        y = _ref5[1];\n\n    var _vec3$transformMat = transformMat4(vec3_create(), vec3_fromValues(x, y, 1), transform),\n        _vec3$transformMat2 = transform_slicedToArray(_vec3$transformMat, 2),\n        newX = _vec3$transformMat2[0],\n        newY = _vec3$transformMat2[1];\n\n    return [newX, newY];\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/points-on-curve/lib/index.js\n// distance between 2 points\nfunction lib_distance(p1, p2) {\n    return Math.sqrt(distanceSq(p1, p2));\n}\n// distance between 2 points squared\nfunction distanceSq(p1, p2) {\n    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);\n}\n// Sistance squared from a point p to the line segment vw\nfunction distanceToSegmentSq(p, v, w) {\n    const l2 = distanceSq(v, w);\n    if (l2 === 0) {\n        return distanceSq(p, v);\n    }\n    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;\n    t = Math.max(0, Math.min(1, t));\n    return distanceSq(p, lib_lerp(v, w, t));\n}\nfunction lib_lerp(a, b, t) {\n    return [\n        a[0] + (b[0] - a[0]) * t,\n        a[1] + (b[1] - a[1]) * t,\n    ];\n}\n// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/\nfunction flatness(points, offset) {\n    const p1 = points[offset + 0];\n    const p2 = points[offset + 1];\n    const p3 = points[offset + 2];\n    const p4 = points[offset + 3];\n    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];\n    ux *= ux;\n    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];\n    uy *= uy;\n    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];\n    vx *= vx;\n    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];\n    vy *= vy;\n    if (ux < vx) {\n        ux = vx;\n    }\n    if (uy < vy) {\n        uy = vy;\n    }\n    return ux + uy;\n}\nfunction getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {\n    const outPoints = newPoints || [];\n    if (flatness(points, offset) < tolerance) {\n        const p0 = points[offset + 0];\n        if (outPoints.length) {\n            const d = lib_distance(outPoints[outPoints.length - 1], p0);\n            if (d > 1) {\n                outPoints.push(p0);\n            }\n        }\n        else {\n            outPoints.push(p0);\n        }\n        outPoints.push(points[offset + 3]);\n    }\n    else {\n        // subdivide\n        const t = .5;\n        const p1 = points[offset + 0];\n        const p2 = points[offset + 1];\n        const p3 = points[offset + 2];\n        const p4 = points[offset + 3];\n        const q1 = lib_lerp(p1, p2, t);\n        const q2 = lib_lerp(p2, p3, t);\n        const q3 = lib_lerp(p3, p4, t);\n        const r1 = lib_lerp(q1, q2, t);\n        const r2 = lib_lerp(q2, q3, t);\n        const red = lib_lerp(r1, r2, t);\n        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);\n        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);\n    }\n    return outPoints;\n}\nfunction simplify(points, distance) {\n    return simplifyPoints(points, 0, points.length, distance);\n}\n// Ramer\u2013Douglas\u2013Peucker algorithm\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction simplifyPoints(points, start, end, epsilon, newPoints) {\n    const outPoints = newPoints || [];\n    // find the most distance point from the endpoints\n    const s = points[start];\n    const e = points[end - 1];\n    let maxDistSq = 0;\n    let maxNdx = 1;\n    for (let i = start + 1; i < end - 1; ++i) {\n        const distSq = distanceToSegmentSq(points[i], s, e);\n        if (distSq > maxDistSq) {\n            maxDistSq = distSq;\n            maxNdx = i;\n        }\n    }\n    // if that point is too far, split\n    if (Math.sqrt(maxDistSq) > epsilon) {\n        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);\n        simplifyPoints(points, maxNdx, end, epsilon, outPoints);\n    }\n    else {\n        if (!outPoints.length) {\n            outPoints.push(s);\n        }\n        outPoints.push(e);\n    }\n    return outPoints;\n}\nfunction pointsOnBezierCurves(points, tolerance = 0.15, distance) {\n    const newPoints = [];\n    const numSegments = (points.length - 1) / 3;\n    for (let i = 0; i < numSegments; i++) {\n        const offset = i * 3;\n        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);\n    }\n    if (distance && distance > 0) {\n        return simplifyPoints(newPoints, 0, newPoints.length, distance);\n    }\n    return newPoints;\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/parser.js\nconst COMMAND = 0;\nconst NUMBER = 1;\nconst EOD = 2;\nconst PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };\nfunction tokenize(d) {\n    const tokens = new Array();\n    while (d !== \'\') {\n        if (d.match(/^([ \\t\\r\\n,]+)/)) {\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {\n            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {\n            tokens[tokens.length] = { type: NUMBER, text: `${parseFloat(RegExp.$1)}` };\n            d = d.substr(RegExp.$1.length);\n        }\n        else {\n            return [];\n        }\n    }\n    tokens[tokens.length] = { type: EOD, text: \'\' };\n    return tokens;\n}\nfunction isType(token, type) {\n    return token.type === type;\n}\nfunction parsePath(d) {\n    const segments = [];\n    const tokens = tokenize(d);\n    let mode = \'BOD\';\n    let index = 0;\n    let token = tokens[index];\n    while (!isType(token, EOD)) {\n        let paramsCount = 0;\n        const params = [];\n        if (mode === \'BOD\') {\n            if (token.text === \'M\' || token.text === \'m\') {\n                index++;\n                paramsCount = PARAMS[token.text];\n                mode = token.text;\n            }\n            else {\n                return parsePath(\'M0,0\' + d);\n            }\n        }\n        else if (isType(token, NUMBER)) {\n            paramsCount = PARAMS[mode];\n        }\n        else {\n            index++;\n            paramsCount = PARAMS[token.text];\n            mode = token.text;\n        }\n        if ((index + paramsCount) < tokens.length) {\n            for (let i = index; i < index + paramsCount; i++) {\n                const numbeToken = tokens[i];\n                if (isType(numbeToken, NUMBER)) {\n                    params[params.length] = +numbeToken.text;\n                }\n                else {\n                    throw new Error(\'Param not a number: \' + mode + \',\' + numbeToken.text);\n                }\n            }\n            if (typeof PARAMS[mode] === \'number\') {\n                const segment = { key: mode, data: params };\n                segments.push(segment);\n                index += paramsCount;\n                token = tokens[index];\n                if (mode === \'M\')\n                    mode = \'L\';\n                if (mode === \'m\')\n                    mode = \'l\';\n            }\n            else {\n                throw new Error(\'Bad segment: \' + mode);\n            }\n        }\n        else {\n            throw new Error(\'Path data ended short\');\n        }\n    }\n    return segments;\n}\nfunction serialize(segments) {\n    const tokens = [];\n    for (const { key, data } of segments) {\n        tokens.push(key);\n        switch (key) {\n            case \'C\':\n            case \'c\':\n                tokens.push(data[0], `${data[1]},`, data[2], `${data[3]},`, data[4], data[5]);\n                break;\n            case \'S\':\n            case \'s\':\n            case \'Q\':\n            case \'q\':\n                tokens.push(data[0], `${data[1]},`, data[2], data[3]);\n                break;\n            default:\n                tokens.push(...data);\n                break;\n        }\n    }\n    return tokens.join(\' \');\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/absolutize.js\n// Translate relative commands to absolute commands\nfunction absolutize(segments) {\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    const out = [];\n    for (const { key, data } of segments) {\n        switch (key) {\n            case \'M\':\n                out.push({ key: \'M\', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case \'m\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'M\', data: [cx, cy] });\n                subx = cx;\n                suby = cy;\n                break;\n            case \'L\':\n                out.push({ key: \'L\', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case \'l\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'C\':\n                out.push({ key: \'C\', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                break;\n            case \'c\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'C\', data: newdata });\n                cx = newdata[4];\n                cy = newdata[5];\n                break;\n            }\n            case \'Q\':\n                out.push({ key: \'Q\', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case \'q\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'Q\', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case \'A\':\n                out.push({ key: \'A\', data: [...data] });\n                cx = data[5];\n                cy = data[6];\n                break;\n            case \'a\':\n                cx += data[5];\n                cy += data[6];\n                out.push({ key: \'A\', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });\n                break;\n            case \'H\':\n                out.push({ key: \'H\', data: [...data] });\n                cx = data[0];\n                break;\n            case \'h\':\n                cx += data[0];\n                out.push({ key: \'H\', data: [cx] });\n                break;\n            case \'V\':\n                out.push({ key: \'V\', data: [...data] });\n                cy = data[0];\n                break;\n            case \'v\':\n                cy += data[0];\n                out.push({ key: \'V\', data: [cy] });\n                break;\n            case \'S\':\n                out.push({ key: \'S\', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case \'s\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'S\', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case \'T\':\n                out.push({ key: \'T\', data: [...data] });\n                cx = data[0];\n                cy = data[1];\n                break;\n            case \'t\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'T\', data: [cx, cy] });\n                break;\n            case \'Z\':\n            case \'z\':\n                out.push({ key: \'Z\', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n    }\n    return out;\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/normalize.js\n// Normalize path to include only M, L, C, and Z commands\nfunction normalize_normalize(segments) {\n    const out = [];\n    let lastType = \'\';\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    let lcx = 0, lcy = 0;\n    for (const { key, data } of segments) {\n        switch (key) {\n            case \'M\':\n                out.push({ key: \'M\', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case \'C\':\n                out.push({ key: \'C\', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                lcx = data[2];\n                lcy = data[3];\n                break;\n            case \'L\':\n                out.push({ key: \'L\', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case \'H\':\n                cx = data[0];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'V\':\n                cy = data[0];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'S\': {\n                let cx1 = 0, cy1 = 0;\n                if (lastType === \'C\' || lastType === \'S\') {\n                    cx1 = cx + (cx - lcx);\n                    cy1 = cy + (cy - lcy);\n                }\n                else {\n                    cx1 = cx;\n                    cy1 = cy;\n                }\n                out.push({ key: \'C\', data: [cx1, cy1, ...data] });\n                lcx = data[0];\n                lcy = data[1];\n                cx = data[2];\n                cy = data[3];\n                break;\n            }\n            case \'T\': {\n                const [x, y] = data;\n                let x1 = 0, y1 = 0;\n                if (lastType === \'Q\' || lastType === \'T\') {\n                    x1 = cx + (cx - lcx);\n                    y1 = cy + (cy - lcy);\n                }\n                else {\n                    x1 = cx;\n                    y1 = cy;\n                }\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: \'C\', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case \'Q\': {\n                const [x1, y1, x, y] = data;\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: \'C\', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case \'A\': {\n                const r1 = Math.abs(data[0]);\n                const r2 = Math.abs(data[1]);\n                const angle = data[2];\n                const largeArcFlag = data[3];\n                const sweepFlag = data[4];\n                const x = data[5];\n                const y = data[6];\n                if (r1 === 0 || r2 === 0) {\n                    out.push({ key: \'C\', data: [cx, cy, x, y, x, y] });\n                    cx = x;\n                    cy = y;\n                }\n                else {\n                    if (cx !== x || cy !== y) {\n                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n                        curves.forEach(function (curve) {\n                            out.push({ key: \'C\', data: curve });\n                        });\n                        cx = x;\n                        cy = y;\n                    }\n                }\n                break;\n            }\n            case \'Z\':\n                out.push({ key: \'Z\', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n        lastType = key;\n    }\n    return out;\n}\nfunction degToRad(degrees) {\n    return (Math.PI * degrees) / 180;\n}\nfunction normalize_rotate(x, y, angleRad) {\n    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);\n    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);\n    return [X, Y];\n}\nfunction arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {\n    const angleRad = degToRad(angle);\n    let params = [];\n    let f1 = 0, f2 = 0, cx = 0, cy = 0;\n    if (recursive) {\n        [f1, f2, cx, cy] = recursive;\n    }\n    else {\n        [x1, y1] = normalize_rotate(x1, y1, -angleRad);\n        [x2, y2] = normalize_rotate(x2, y2, -angleRad);\n        const x = (x1 - x2) / 2;\n        const y = (y1 - y2) / 2;\n        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            r1 = h * r1;\n            r2 = h * r2;\n        }\n        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;\n        const r1Pow = r1 * r1;\n        const r2Pow = r2 * r2;\n        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;\n        const right = r1Pow * y * y + r2Pow * x * x;\n        const k = sign * Math.sqrt(Math.abs(left / right));\n        cx = k * r1 * y / r2 + (x1 + x2) / 2;\n        cy = k * -r2 * x / r1 + (y1 + y2) / 2;\n        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));\n        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));\n        if (x1 < cx) {\n            f1 = Math.PI - f1;\n        }\n        if (x2 < cx) {\n            f2 = Math.PI - f2;\n        }\n        if (f1 < 0) {\n            f1 = Math.PI * 2 + f1;\n        }\n        if (f2 < 0) {\n            f2 = Math.PI * 2 + f2;\n        }\n        if (sweepFlag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweepFlag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    let df = f2 - f1;\n    if (Math.abs(df) > (Math.PI * 120 / 180)) {\n        const f2old = f2;\n        const x2old = x2;\n        const y2old = y2;\n        if (sweepFlag && f2 > f1) {\n            f2 = f1 + (Math.PI * 120 / 180) * (1);\n        }\n        else {\n            f2 = f1 + (Math.PI * 120 / 180) * (-1);\n        }\n        x2 = cx + r1 * Math.cos(f2);\n        y2 = cy + r2 * Math.sin(f2);\n        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    const c1 = Math.cos(f1);\n    const s1 = Math.sin(f1);\n    const c2 = Math.cos(f2);\n    const s2 = Math.sin(f2);\n    const t = Math.tan(df / 4);\n    const hx = 4 / 3 * r1 * t;\n    const hy = 4 / 3 * r2 * t;\n    const m1 = [x1, y1];\n    const m2 = [x1 + hx * s1, y1 - hy * c1];\n    const m3 = [x2 + hx * s2, y2 - hy * c2];\n    const m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(params);\n    }\n    else {\n        params = [m2, m3, m4].concat(params);\n        const curves = [];\n        for (let i = 0; i < params.length; i += 3) {\n            const r1 = normalize_rotate(params[i][0], params[i][1], angleRad);\n            const r2 = normalize_rotate(params[i + 1][0], params[i + 1][1], angleRad);\n            const r3 = normalize_rotate(params[i + 2][0], params[i + 2][1], angleRad);\n            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);\n        }\n        return curves;\n    }\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/points-on-path/lib/index.js\n\n\nfunction pointsOnPath(path, tolerance, distance) {\n    const segments = parsePath(path);\n    const normalized = normalize_normalize(absolutize(segments));\n    const sets = [];\n    let currentPoints = [];\n    let start = [0, 0];\n    let pendingCurve = [];\n    const appendPendingCurve = () => {\n        if (pendingCurve.length >= 4) {\n            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));\n        }\n        pendingCurve = [];\n    };\n    const appendPendingPoints = () => {\n        appendPendingCurve();\n        if (currentPoints.length) {\n            sets.push(currentPoints);\n            currentPoints = [];\n        }\n    };\n    for (const { key, data } of normalized) {\n        switch (key) {\n            case \'M\':\n                appendPendingPoints();\n                start = [data[0], data[1]];\n                currentPoints.push(start);\n                break;\n            case \'L\':\n                appendPendingCurve();\n                currentPoints.push([data[0], data[1]]);\n                break;\n            case \'C\':\n                if (!pendingCurve.length) {\n                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;\n                    pendingCurve.push([lastPoint[0], lastPoint[1]]);\n                }\n                pendingCurve.push([data[0], data[1]]);\n                pendingCurve.push([data[2], data[3]]);\n                pendingCurve.push([data[4], data[5]]);\n                break;\n            case \'Z\':\n                appendPendingCurve();\n                currentPoints.push([start[0], start[1]]);\n                break;\n        }\n    }\n    appendPendingPoints();\n    if (!distance) {\n        return sets;\n    }\n    const out = [];\n    for (const set of sets) {\n        const simplifiedSet = simplify(set, distance);\n        if (simplifiedSet.length) {\n            out.push(simplifiedSet);\n        }\n    }\n    return out;\n}\n\n;// CONCATENATED MODULE: ./src/walker.ts\nfunction walker_slicedToArray(arr, i) { return walker_arrayWithHoles(arr) || walker_iterableToArrayLimit(arr, i) || walker_unsupportedIterableToArray(arr, i) || walker_nonIterableRest(); }\n\nfunction walker_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction walker_iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction walker_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction walker_toConsumableArray(arr) { return walker_arrayWithoutHoles(arr) || walker_iterableToArray(arr) || walker_unsupportedIterableToArray(arr) || walker_nonIterableSpread(); }\n\nfunction walker_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction walker_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return walker_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return walker_arrayLikeToArray(o, minLen); }\n\nfunction walker_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction walker_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return walker_arrayLikeToArray(arr); }\n\nfunction walker_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction walker_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction walker_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { walker_ownKeys(Object(source), true).forEach(function (key) { walker_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { walker_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction walker_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\nvar SUPPORTED_TAGS = ["svg", "path", "g", "use", "circle", "ellipse", "rect", "polyline", "polygon"];\n\nvar nodeValidator = function nodeValidator(node) {\n  if (SUPPORTED_TAGS.includes(node.tagName)) {\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_REJECT;\n};\n\nfunction createTreeWalker(dom) {\n  return document.createTreeWalker(dom, NodeFilter.SHOW_ALL, {\n    acceptNode: nodeValidator\n  });\n}\n\nvar walker_presAttrs = function presAttrs(el, groups) {\n  return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, getGroupAttrs(groups)), presAttrsToElementValues(el)), filterAttrsToElementValues(el));\n};\n\nvar skippedUseAttrs = ["id"];\nvar allwaysPassedUseAttrs = ["x", "y", "width", "height", "href", "xlink:href"];\n/*\n  "Most attributes on use do not override those already on the element\n  referenced by use. (This differs from how CSS style attributes override\n  those set \'earlier\' in the cascade). Only the attributes x, y, width,\n  height and href on the use element will override those set on the\n  referenced element. However, any other attributes not set on the referenced\n  element will be applied to the use element."\n\n  Situation 1: Attr is set on defEl, NOT on useEl\n    - result: use defEl attr\n  Situation 2: Attr is on useEl, NOT on defEl\n    - result: use the useEl attr\n  Situation 3: Attr is on both useEl and defEl\n    - result: use the defEl attr (Unless x, y, width, height, href, xlink:href)\n*/\n\nvar getDefElWithCorrectAttrs = function getDefElWithCorrectAttrs(defEl, useEl) {\n  var finalEl = walker_toConsumableArray(useEl.attributes).reduce(function (el, attr) {\n    if (skippedUseAttrs.includes(attr.value)) {\n      return el;\n    } // Does defEl have the attr? If so, use it, else use the useEl attr\n\n\n    if (!defEl.hasAttribute(attr.name) || allwaysPassedUseAttrs.includes(attr.name)) {\n      el.setAttribute(attr.name, useEl.getAttribute(attr.name) || "");\n    }\n\n    return el;\n  }, defEl.cloneNode());\n\n  return finalEl;\n};\n\nvar walkers = {\n  svg: function svg(args) {\n    walk(args, args.tw.nextNode());\n  },\n  g: function g(args) {\n    var nextArgs = walker_objectSpread(walker_objectSpread({}, args), {}, {\n      tw: createTreeWalker(args.tw.currentNode),\n      groups: [].concat(walker_toConsumableArray(args.groups), [new elements_Group(args.tw.currentNode)])\n    });\n\n    walk(nextArgs, nextArgs.tw.nextNode());\n    walk(args, args.tw.nextSibling());\n  },\n  use: function use(args) {\n    var root = args.root,\n        tw = args.tw,\n        scene = args.scene;\n    var useEl = tw.currentNode;\n    var id = useEl.getAttribute("href") || useEl.getAttribute("xlink:href");\n\n    if (!id) {\n      throw new Error("unable to get id of use element");\n    }\n\n    var defEl = root.querySelector(id);\n\n    if (!defEl) {\n      throw new Error("unable to find def element with id: ".concat(id));\n    }\n\n    var tempScene = new elements_ExcalidrawScene();\n    var finalEl = getDefElWithCorrectAttrs(defEl, useEl);\n    walk(walker_objectSpread(walker_objectSpread({}, args), {}, {\n      scene: tempScene,\n      tw: createTreeWalker(finalEl)\n    }), finalEl);\n    var exEl = tempScene.elements.pop();\n\n    if (!exEl) {\n      throw new Error("Unable to create ex element");\n    }\n\n    scene.elements.push(exEl);\n    walk(args, args.tw.nextNode());\n  },\n  circle: function circle(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var r = getNum(el, "r", 0);\n    var d = r * 2;\n    var x = getNum(el, "x", 0) + getNum(el, "cx", 0) - r;\n    var y = getNum(el, "y", 0) + getNum(el, "cy", 0) - r;\n    var mat = getTransformMatrix(el, groups); // @ts-ignore\n\n    var m = fromValues(d, 0, 0, 0, 0, d, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n\n    var circle = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      groupIds: groups.map(function (g) {\n        return g.id;\n      })\n    });\n\n    scene.elements.push(circle);\n    walk(args, tw.nextNode());\n  },\n  ellipse: function ellipse(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var rx = getNum(el, "rx", 0);\n    var ry = getNum(el, "ry", 0);\n    var cx = getNum(el, "cx", 0);\n    var cy = getNum(el, "cy", 0);\n    var x = getNum(el, "x", 0) + cx - rx;\n    var y = getNum(el, "y", 0) + cy - ry;\n    var w = rx * 2;\n    var h = ry * 2;\n    var mat = getTransformMatrix(el, groups);\n    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n\n    var ellipse = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      groupIds: groups.map(function (g) {\n        return g.id;\n      })\n    });\n\n    scene.elements.push(ellipse);\n    walk(args, tw.nextNode());\n  },\n  line: function line(args) {\n    // unimplemented\n    walk(args, args.tw.nextNode());\n  },\n  polygon: function polygon(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var points = pointsAttrToPoints(el);\n    var mat = getTransformMatrix(el, groups);\n    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points\n    // are relative to the first point.\n\n    var x = transformedPoints[0][0];\n    var y = transformedPoints[0][1];\n    var relativePoints = transformedPoints.map(function (_ref) {\n      var _ref2 = walker_slicedToArray(_ref, 2),\n          _x = _ref2[0],\n          _y = _ref2[1];\n\n      return [_x - x, _y - y];\n    });\n\n    var _dimensionsFromPoints = dimensionsFromPoints(relativePoints),\n        _dimensionsFromPoints2 = walker_slicedToArray(_dimensionsFromPoints, 2),\n        width = _dimensionsFromPoints2[0],\n        height = _dimensionsFromPoints2[1];\n\n    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {\n      points: relativePoints.concat([[0, 0]]),\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    scene.elements.push(line);\n    walk(args, args.tw.nextNode());\n  },\n  polyline: function polyline(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var mat = getTransformMatrix(el, groups);\n    var points = pointsAttrToPoints(el);\n    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points\n    // are relative to the first point.\n\n    var x = transformedPoints[0][0];\n    var y = transformedPoints[0][1];\n    var relativePoints = transformedPoints.map(function (_ref3) {\n      var _ref4 = walker_slicedToArray(_ref3, 2),\n          _x = _ref4[0],\n          _y = _ref4[1];\n\n      return [_x - x, _y - y];\n    });\n\n    var _dimensionsFromPoints3 = dimensionsFromPoints(relativePoints),\n        _dimensionsFromPoints4 = walker_slicedToArray(_dimensionsFromPoints3, 2),\n        width = _dimensionsFromPoints4[0],\n        height = _dimensionsFromPoints4[1];\n\n    var hasFill = has(el, "fill");\n    var fill = get(el, "fill");\n    var shouldFill = !hasFill || hasFill && fill !== "none";\n\n    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {\n      points: relativePoints.concat(shouldFill ? [[0, 0]] : []),\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    scene.elements.push(line);\n    walk(args, args.tw.nextNode());\n  },\n  rect: function rect(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var x = getNum(el, "x", 0);\n    var y = getNum(el, "y", 0);\n    var w = getNum(el, "width", 0);\n    var h = getNum(el, "height", 0);\n    var mat = getTransformMatrix(el, groups); // @ts-ignore\n\n    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n    /*\n    NOTE: Currently there doesn\'t seem to be a way to specify the border\n          radius of a rect within Excalidraw. This means that attributes\n          rx and ry can\'t be used.\n    */\n\n    var isRound = el.hasAttribute("rx") || el.hasAttribute("ry");\n\n    var rect = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExRect()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      strokeSharpness: isRound ? "round" : "sharp"\n    });\n\n    scene.elements.push(rect);\n    walk(args, args.tw.nextNode());\n  },\n  path: function path(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var mat = getTransformMatrix(el, groups);\n    var points = pointsOnPath(get(el, "d"));\n    var fillColor = get(el, "fill", "black");\n    var fillRule = get(el, "fill-rule", "nonzero");\n    var elements = [];\n    var localGroup = randomId();\n\n    switch (fillRule) {\n      case "nonzero":\n        var initialWindingOrder = "clockwise";\n        elements = points.map(function (pointArr, idx) {\n          var tPoints = transformPoints(pointArr, clone(mat));\n          var x = tPoints[0][0];\n          var y = tPoints[0][1];\n\n          var _dimensionsFromPoints5 = dimensionsFromPoints(tPoints),\n              _dimensionsFromPoints6 = walker_slicedToArray(_dimensionsFromPoints5, 2),\n              width = _dimensionsFromPoints6[0],\n              height = _dimensionsFromPoints6[1];\n\n          var relativePoints = tPoints.map(function (_ref5) {\n            var _ref6 = walker_slicedToArray(_ref5, 2),\n                _x = _ref6[0],\n                _y = _ref6[1];\n\n            return [_x - x, _y - y];\n          });\n          var windingOrder = getWindingOrder(relativePoints);\n\n          if (idx === 0) {\n            initialWindingOrder = windingOrder;\n            localGroup = randomId();\n          }\n\n          var backgroundColor = fillColor;\n\n          if (initialWindingOrder !== windingOrder) {\n            backgroundColor = "#FFFFFF";\n          }\n\n          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), {}, {\n            strokeWidth: 0,\n            strokeColor: "#00000000"\n          }, walker_presAttrs(el, groups)), {}, {\n            points: relativePoints,\n            backgroundColor: backgroundColor,\n            width: width,\n            height: height,\n            x: x + getNum(el, "x", 0),\n            y: y + getNum(el, "y", 0),\n            groupIds: [localGroup]\n          });\n        });\n        break;\n\n      case "evenodd":\n        elements = points.map(function (pointArr, idx) {\n          var tPoints = transformPoints(pointArr, clone(mat));\n          var x = tPoints[0][0];\n          var y = tPoints[0][1];\n\n          var _dimensionsFromPoints7 = dimensionsFromPoints(tPoints),\n              _dimensionsFromPoints8 = walker_slicedToArray(_dimensionsFromPoints7, 2),\n              width = _dimensionsFromPoints8[0],\n              height = _dimensionsFromPoints8[1];\n\n          var relativePoints = tPoints.map(function (_ref7) {\n            var _ref8 = walker_slicedToArray(_ref7, 2),\n                _x = _ref8[0],\n                _y = _ref8[1];\n\n            return [_x - x, _y - y];\n          });\n\n          if (idx === 0) {\n            localGroup = randomId();\n          }\n\n          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), walker_presAttrs(el, groups)), {}, {\n            points: relativePoints,\n            width: width,\n            height: height,\n            x: x + getNum(el, "x", 0),\n            y: y + getNum(el, "y", 0)\n          });\n        });\n        break;\n\n      default:\n    }\n\n    scene.elements = scene.elements.concat(elements);\n    walk(args, tw.nextNode());\n  }\n};\nfunction walk(args, nextNode) {\n  if (!nextNode) {\n    return;\n  }\n\n  var nodeName = nextNode.nodeName;\n\n  if (walkers[nodeName]) {\n    walkers[nodeName](args);\n  }\n}\n;// CONCATENATED MODULE: ./src/parser.ts\nfunction parser_toConsumableArray(arr) { return parser_arrayWithoutHoles(arr) || parser_iterableToArray(arr) || parser_unsupportedIterableToArray(arr) || parser_nonIterableSpread(); }\n\nfunction parser_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction parser_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parser_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parser_arrayLikeToArray(o, minLen); }\n\nfunction parser_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction parser_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parser_arrayLikeToArray(arr); }\n\nfunction parser_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\nvar convert = function convert(svgString) {\n  var parser = new DOMParser();\n  var svgDOM = parser.parseFromString(svgString, "image/svg+xml"); // was there a parsing error?\n\n  var errorsElements = svgDOM.querySelectorAll("parsererror");\n  var hasErrors = errorsElements.length > 0;\n  var content = null;\n\n  if (hasErrors) {\n    console.error("There were errors while parsing the given SVG: ", parser_toConsumableArray(errorsElements).map(function (el) {\n      return el.innerHTML;\n    }));\n  } else {\n    var tw = createTreeWalker(svgDOM);\n    var scene = new elements_ExcalidrawScene();\n    var groups = [];\n    walk({\n      tw: tw,\n      scene: scene,\n      groups: groups,\n      root: svgDOM\n    }, tw.nextNode());\n    content = scene.toExJSON();\n  }\n\n  return {\n    hasErrors: hasErrors,\n    errors: hasErrors ? errorsElements : null,\n    content: content\n  };\n};\n;// CONCATENATED MODULE: ./src/index.ts\n\n/* harmony default export */ const src = (src_parser_namespaceObject);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy9lbGVtZW50cy9FeGNhbGlkcmF3U2NlbmUudHM/MWM0NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL2NvbW1vbi5qcz9jOTRkIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcz82NWExIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3JvdWdoanMvYmluL21hdGguanM/MjEyYiIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9uYW5vaWQvaW5kZXgucHJvZC5qcz9mNTg5Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3V0aWxzLnRzPzdkZGEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvYXR0cmlidXRlcy50cz8zZDk0Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2VsZW1lbnRzL0dyb3VwLnRzP2E3MjciLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvZWxlbWVudHMvRXhjYWxpZHJhd0VsZW1lbnQudHM/ZDM1YSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanM/OWZlNyIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy90cmFuc2Zvcm0udHM/NWNmYSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wb2ludHMtb24tY3VydmUvbGliL2luZGV4LmpzP2Y0NDgiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcGF0aC1kYXRhLXBhcnNlci9saWIvcGFyc2VyLmpzPzE5ZDkiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcGF0aC1kYXRhLXBhcnNlci9saWIvYWJzb2x1dGl6ZS5qcz9jMzA2Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL25vcm1hbGl6ZS5qcz8zMDg0Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL2luZGV4LmpzPzlkODYiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcG9pbnRzLW9uLXBhdGgvbGliL2luZGV4LmpzP2YxOTEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvd2Fsa2VyLnRzPzAxZGMiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvcGFyc2VyLnRzP2I5NzEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6WyJFeGNhbGlkcmF3U2NlbmUiLCJlbGVtZW50cyIsIm1hcCIsImVsIiwicmFuZG9tIiwiUmFuZG9tIiwiRGF0ZSIsIm5vdyIsInJhbmRvbUludGVnZXIiLCJNYXRoIiwiZmxvb3IiLCJuZXh0IiwicmFuZG9tSWQiLCJuYW5vaWQiLCJzYWZlTnVtYmVyIiwibnVtYmVyIiwiTnVtYmVyIiwidG9GaXhlZCIsImRpbWVuc2lvbnNGcm9tUG9pbnRzIiwicG9pbnRzIiwieENvb3JkcyIsIngiLCJ5Q29vcmRzIiwieSIsIm1pblgiLCJtaW4iLCJtaW5ZIiwibWF4WCIsIm1heCIsIm1heFkiLCJnZXRXaW5kaW5nT3JkZXIiLCJ0b3RhbCIsInJlZHVjZSIsImFjYyIsImlkeCIsImFyciIsIngxIiwieTEiLCJwMiIsIngyIiwieTIiLCJlIiwiaGV4V2l0aEFscGhhIiwiY29sb3IiLCJhbHBoYSIsImNocm9tYSIsImNzcyIsImhhcyIsImF0dHIiLCJoYXNBdHRyaWJ1dGUiLCJnZXQiLCJiYWNrdXAiLCJnZXRBdHRyaWJ1dGUiLCJnZXROdW0iLCJudW1WYWwiLCJOYU4iLCJwcmVzQXR0cnMiLCJzdHJva2UiLCJmaWxsIiwib3BhY2l0eSIsImF0dHJIYW5kbGVycyIsImV4VmFscyIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2lkdGgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMiLCJhdHRyaWJ1dGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJpbmNsdWRlcyIsImZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzIiwiZmlsdGVyVmFscyIsIndpZHRoIiwiaGVpZ2h0IiwicG9pbnRzQXR0clRvUG9pbnRzIiwic3BsaXQiLCJwIiwicGFyc2VGbG9hdCIsImdldEdyb3VwQXR0cnMiLCJncm91cHMiLCJlbGVtZW50IiwiZWxWYWxzIiwiR3JvdXAiLCJjcmVhdGVFeEVsZW1lbnQiLCJpZCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwic3Ryb2tlU2hhcnBuZXNzIiwicm91Z2huZXNzIiwiYW5nbGUiLCJzZWVkIiwidmVyc2lvbiIsInZlcnNpb25Ob25jZSIsImlzRGVsZXRlZCIsImdyb3VwSWRzIiwiYm91bmRFbGVtZW50SWRzIiwiY3JlYXRlRXhSZWN0IiwidHlwZSIsImNyZWF0ZUV4TGluZSIsImNyZWF0ZUV4RWxsaXBzZSIsImNyZWF0ZUV4RHJhdyIsInRyYW5zZm9ybUZ1bmN0aW9ucyIsIm1hdHJpeCIsIm1hdHJpeDNkIiwicGVyc3BlY3RpdmUiLCJyb3RhdGUiLCJyb3RhdGUzZCIsInJvdGF0ZVgiLCJyb3RhdGVZIiwicm90YXRlWiIsInNjYWxlIiwic2NhbGUzZCIsInNjYWxlWCIsInNjYWxlWSIsInNjYWxlWiIsInNrZXciLCJza2V3WCIsInNrZXdZIiwidHJhbnNsYXRlIiwidHJhbnNsYXRlM2QiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInRyYW5zbGF0ZVoiLCJ0cmFuc2Zvcm1GdW5jdGlvbnNBcnIiLCJkZWZhdWx0VW5pdHMiLCJzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybSIsInN2Z1RyYW5zZm9ybVN0ciIsInRGdW5jcyIsIm1hdGNoIiwidEZ1bmNWYWx1ZXMiLCJ0RnVuY1N0ciIsIkVycm9yIiwidEZ1bmNQYXJ0cyIsInZhbHVlcyIsImEiLCJtYXRjaEFsbCIsInZhbHVlIiwidW5pdCIsImxlbmd0aCIsImNzc3RyYW5zZm9ybVN0ciIsInZhbFN0ciIsImpvaW4iLCJjcmVhdGVET01NYXRyaXhGcm9tU1ZHU3RyIiwiY3NzVHJhbnNmb3JtU3RyIiwiRE9NTWF0cml4IiwiZ2V0RWxlbWVudE1hdHJpeCIsImVsTWF0IiwibWF0NCIsInRvRmxvYXQzMkFycmF5IiwiZ2V0VHJhbnNmb3JtTWF0cml4IiwiYWNjdW1NYXQiLCJjb25jYXQiLCJtYXQiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJ0cmFuc2Zvcm0iLCJ2ZWMzIiwibmV3WCIsIm5ld1kiLCJTVVBQT1JURURfVEFHUyIsIm5vZGVWYWxpZGF0b3IiLCJub2RlIiwidGFnTmFtZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJkb20iLCJkb2N1bWVudCIsIlNIT1dfQUxMIiwiYWNjZXB0Tm9kZSIsInNraXBwZWRVc2VBdHRycyIsImFsbHdheXNQYXNzZWRVc2VBdHRycyIsImdldERlZkVsV2l0aENvcnJlY3RBdHRycyIsImRlZkVsIiwidXNlRWwiLCJmaW5hbEVsIiwic2V0QXR0cmlidXRlIiwiY2xvbmVOb2RlIiwid2Fsa2VycyIsInN2ZyIsImFyZ3MiLCJ3YWxrIiwidHciLCJuZXh0Tm9kZSIsImciLCJuZXh0QXJncyIsImN1cnJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJ1c2UiLCJyb290Iiwic2NlbmUiLCJxdWVyeVNlbGVjdG9yIiwidGVtcFNjZW5lIiwiZXhFbCIsInBvcCIsInB1c2giLCJjaXJjbGUiLCJyIiwiZCIsIm0iLCJyZXN1bHQiLCJlbGxpcHNlIiwicngiLCJyeSIsImN4IiwiY3kiLCJ3IiwiaCIsImxpbmUiLCJwb2x5Z29uIiwidHJhbnNmb3JtZWRQb2ludHMiLCJyZWxhdGl2ZVBvaW50cyIsIl94IiwiX3kiLCJwb2x5bGluZSIsImhhc0ZpbGwiLCJzaG91bGRGaWxsIiwicmVjdCIsImlzUm91bmQiLCJwYXRoIiwicG9pbnRzT25QYXRoIiwiZmlsbENvbG9yIiwiZmlsbFJ1bGUiLCJsb2NhbEdyb3VwIiwiaW5pdGlhbFdpbmRpbmdPcmRlciIsInBvaW50QXJyIiwidFBvaW50cyIsIndpbmRpbmdPcmRlciIsIm5vZGVOYW1lIiwiY29udmVydCIsInN2Z1N0cmluZyIsInBhcnNlciIsIkRPTVBhcnNlciIsInN2Z0RPTSIsInBhcnNlRnJvbVN0cmluZyIsImVycm9yc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImhhc0Vycm9ycyIsImNvbnRlbnQiLCJjb25zb2xlIiwiZXJyb3IiLCJpbm5lckhUTUwiLCJ0b0V4SlNPTiIsImVycm9ycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVNQSxlO0FBTUosNkJBQTJCO0FBQUEsUUFBZkMsUUFBZSx1RUFBSixFQUFJOztBQUFBOztBQUFBLGtDQUxwQixZQUtvQjs7QUFBQSxxQ0FKakIsQ0FJaUI7O0FBQUEsb0NBSGxCLHdCQUdrQjs7QUFBQSxzQ0FGWSxFQUVaOztBQUN6QixTQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNEOzs7O1dBRUQsb0JBQWdCO0FBQ2QsNkNBQ0ssSUFETDtBQUVFQSxnQkFBUSxFQUFFLEtBQUtBLFFBQUwsQ0FBY0MsR0FBZCxDQUFrQixVQUFDQyxFQUFEO0FBQUEsbUNBQWNBLEVBQWQ7QUFBQSxTQUFsQjtBQUZaO0FBSUQ7Ozs7OztBQUdILCtEQUFlSCxlQUFmLEU7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJDQUEyQztBQUN0RDs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsS0FBSztBQUNsQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEtBQUs7QUFDbEI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxLQUFLO0FBQ2xCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFP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TSxDQUFDRyxlQUFQLENBQXVCSixTQUF2QixFQUFrQyxlQUFsQyxDQUFmLENBRjhELENBSTlEOztBQUNBLE1BQU1LLGNBQWMsR0FBR0YsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixhQUF4QixDQUF2QjtBQUNBLE1BQU1DLFNBQVMsR0FBR0YsY0FBYyxDQUFDakcsTUFBZixHQUF3QixDQUExQztBQUNBLE1BQUlvRyxPQUFPLEdBQUcsSUFBZDs7QUFFQSxNQUFJRCxTQUFKLEVBQWU7QUFDYkUsV0FBTyxDQUFDQyxLQUFSLENBQ0UsaURBREYsRUFFRSx5QkFBSUwsY0FBSixFQUFvQjFPLEdBQXBCLENBQXdCLFVBQUNDLEVBQUQ7QUFBQSxhQUFRQSxFQUFFLENBQUMrTyxTQUFYO0FBQUEsS0FBeEIsQ0FGRjtBQUlELEdBTEQsTUFLTztBQUNMLFFBQU0zRCxFQUFFLEdBQUdqQixnQkFBZ0IsQ0FBQ29FLE1BQUQsQ0FBM0I7QUFDQSxRQUFNM0MsS0FBSyxHQUFHLElBQUkvTCx3QkFBSixFQUFkO0FBQ0EsUUFBTWdGLE1BQWUsR0FBRyxFQUF4QjtBQUVBc0csUUFBSSxDQUFDO0FBQUVDLFFBQUUsRUFBRkEsRUFBRjtBQUFNUSxXQUFLLEVBQUxBLEtBQU47QUFBYS9HLFlBQU0sRUFBTkEsTUFBYjtBQUFxQjhHLFVBQUksRUFBRTRDO0FBQTNCLEtBQUQsRUFBc0NuRCxFQUFFLENBQUNDLFFBQUgsRUFBdEMsQ0FBSjtBQUVBdUQsV0FBTyxHQUFHaEQsS0FBSyxDQUFDb0QsUUFBTixFQUFWO0FBQ0Q7O0FBRUQsU0FBTztBQUNMTCxhQUFTLEVBQVRBLFNBREs7QUFFTE0sVUFBTSxFQUFFTixTQUFTLEdBQUdGLGNBQUgsR0FBb0IsSUFGaEM7QUFHTEcsV0FBTyxFQUFQQTtBQUhLLEdBQVA7QUFLRCxDQTdCTSxDOztBQ1ZQO0FBRUEsMENBQWVQLDBCQUFmIiwiZmlsZSI6IjQxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4Y2FsaWRyYXdHZW5lcmljRWxlbWVudCB9IGZyb20gXCIuL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5cbmNsYXNzIEV4Y2FsaWRyYXdTY2VuZSB7XG4gIHR5cGUgPSBcImV4Y2FsaWRyYXdcIjtcbiAgdmVyc2lvbiA9IDI7XG4gIHNvdXJjZSA9IFwiaHR0cHM6Ly9leGNhbGlkcmF3LmNvbVwiO1xuICBlbGVtZW50czogRXhjYWxpZHJhd0dlbmVyaWNFbGVtZW50W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IFtdKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB9XG5cbiAgdG9FeEpTT04oKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcyxcbiAgICAgIGVsZW1lbnRzOiB0aGlzLmVsZW1lbnRzLm1hcCgoZWwpID0+ICh7IC4uLmVsIH0pKSxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2FsaWRyYXdTY2VuZTtcbiIsIi8qKlxyXG4gKiBDb21tb24gdXRpbGl0aWVzXHJcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcclxuICovXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbi8qKlxyXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcclxuICpcclxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXHJcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cbi8qKlxyXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXHJcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcclxuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgeSA9IDAsXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xufTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxyXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cclxuICogQG1vZHVsZSBtYXQ0XHJcbiAqL1xuXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcclxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBJbnZlcnRzIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcclxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zbGF0ZSBhIG1hdDQgYnkgdGhlIGdpdmVuIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdLFxuICAgICAgeiA9IHZbMl07XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG5cbiAgaWYgKGEgPT09IG91dCkge1xuICAgIG91dFsxMl0gPSBhWzBdICogeCArIGFbNF0gKiB5ICsgYVs4XSAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxXSAqIHggKyBhWzVdICogeSArIGFbOV0gKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMl0gKiB4ICsgYVs2XSAqIHkgKyBhWzEwXSAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVszXSAqIHggKyBhWzddICogeSArIGFbMTFdICogeiArIGFbMTVdO1xuICB9IGVsc2Uge1xuICAgIGEwMCA9IGFbMF07XG4gICAgYTAxID0gYVsxXTtcbiAgICBhMDIgPSBhWzJdO1xuICAgIGEwMyA9IGFbM107XG4gICAgYTEwID0gYVs0XTtcbiAgICBhMTEgPSBhWzVdO1xuICAgIGExMiA9IGFbNl07XG4gICAgYTEzID0gYVs3XTtcbiAgICBhMjAgPSBhWzhdO1xuICAgIGEyMSA9IGFbOV07XG4gICAgYTIyID0gYVsxMF07XG4gICAgYTIzID0gYVsxMV07XG4gICAgb3V0WzBdID0gYTAwO1xuICAgIG91dFsxXSA9IGEwMTtcbiAgICBvdXRbMl0gPSBhMDI7XG4gICAgb3V0WzNdID0gYTAzO1xuICAgIG91dFs0XSA9IGExMDtcbiAgICBvdXRbNV0gPSBhMTE7XG4gICAgb3V0WzZdID0gYTEyO1xuICAgIG91dFs3XSA9IGExMztcbiAgICBvdXRbOF0gPSBhMjA7XG4gICAgb3V0WzldID0gYTIxO1xuICAgIG91dFsxMF0gPSBhMjI7XG4gICAgb3V0WzExXSA9IGEyMztcbiAgICBvdXRbMTJdID0gYTAwICogeCArIGExMCAqIHkgKyBhMjAgKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGEwMSAqIHggKyBhMTEgKiB5ICsgYTIxICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhMDIgKiB4ICsgYTEyICogeSArIGEyMiAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYTAzICogeCArIGExMyAqIHkgKyBhMjMgKiB6ICsgYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG4gIHZhciBiMDAsIGIwMSwgYjAyO1xuICB2YXIgYjEwLCBiMTEsIGIxMjtcbiAgdmFyIGIyMCwgYjIxLCBiMjI7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuICBhMDAgPSBhWzBdO1xuICBhMDEgPSBhWzFdO1xuICBhMDIgPSBhWzJdO1xuICBhMDMgPSBhWzNdO1xuICBhMTAgPSBhWzRdO1xuICBhMTEgPSBhWzVdO1xuICBhMTIgPSBhWzZdO1xuICBhMTMgPSBhWzddO1xuICBhMjAgPSBhWzhdO1xuICBhMjEgPSBhWzldO1xuICBhMjIgPSBhWzEwXTtcbiAgYTIzID0gYVsxMV07IC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxuXG4gIGIwMCA9IHggKiB4ICogdCArIGM7XG4gIGIwMSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcbiAgYjEwID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIGIxMSA9IHkgKiB5ICogdCArIGM7XG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xuICBiMjAgPSB4ICogeiAqIHQgKyB5ICogcztcbiAgYjIxID0geSAqIHogKiB0IC0geCAqIHM7XG4gIGIyMiA9IHogKiB6ICogdCArIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyO1xuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XG4gIG91dFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcbiAgb3V0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyO1xuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XG4gIG91dFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjtcbiAgb3V0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyO1xuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XG4gIG91dFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjtcbiAgb3V0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xuICBvdXRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbOF0gPSBhWzhdO1xuICAgIG91dFs5XSA9IGFbOV07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzExXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGUgYXJvdW5kIGEgZ2l2ZW4gYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVgoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAtcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gcztcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdikge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0gKHl5ICsgenopO1xuICBvdXRbMV0gPSB4eSArIHd6O1xuICBvdXRbMl0gPSB4eiAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4eSAtIHd6O1xuICBvdXRbNV0gPSAxIC0gKHh4ICsgenopO1xuICBvdXRbNl0gPSB5eiArIHd4O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4eiArIHd5O1xuICBvdXRbOV0gPSB5eiAtIHd4O1xuICBvdXRbMTBdID0gMSAtICh4eCArIHl5KTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0MihvdXQsIGEpIHtcbiAgdmFyIHRyYW5zbGF0aW9uID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN107XG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3OyAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcblxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyIC8gbWFnbml0dWRlO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICB9XG5cbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBhLCB0cmFuc2xhdGlvbik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXHJcbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXHJcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXHJcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcclxuICogIHRoZSBzYW1lIGFzIHRoZSBzY2FsaW5nIHZlY3RvclxyXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbmFsIGNvbXBvbmVudFxyXG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcclxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxyXG4gKiAgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LCBxLCB2LCBzLCBvKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIHZhciBveCA9IG9bMF07XG4gIHZhciBveSA9IG9bMV07XG4gIHZhciBveiA9IG9bMl07XG4gIHZhciBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIHZhciBvdXQxID0gKHh5ICsgd3opICogc3g7XG4gIHZhciBvdXQyID0gKHh6IC0gd3kpICogc3g7XG4gIHZhciBvdXQ0ID0gKHh5IC0gd3opICogc3k7XG4gIHZhciBvdXQ1ID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIHZhciBvdXQ2ID0gKHl6ICsgd3gpICogc3k7XG4gIHZhciBvdXQ4ID0gKHh6ICsgd3kpICogc3o7XG4gIHZhciBvdXQ5ID0gKHl6IC0gd3gpICogc3o7XG4gIHZhciBvdXQxMCA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMF0gPSBvdXQwO1xuICBvdXRbMV0gPSBvdXQxO1xuICBvdXRbMl0gPSBvdXQyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSBvdXQ0O1xuICBvdXRbNV0gPSBvdXQ1O1xuICBvdXRbNl0gPSBvdXQ2O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBvdXQ4O1xuICBvdXRbOV0gPSBvdXQ5O1xuICBvdXRbMTBdID0gb3V0MTA7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXSArIG94IC0gKG91dDAgKiBveCArIG91dDQgKiBveSArIG91dDggKiBveik7XG4gIG91dFsxM10gPSB2WzFdICsgb3kgLSAob3V0MSAqIG94ICsgb3V0NSAqIG95ICsgb3V0OSAqIG96KTtcbiAgb3V0WzE0XSA9IHZbMl0gKyBveiAtIChvdXQyICogb3ggKyBvdXQ2ICogb3kgKyBvdXQxMCAqIG96KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZydXN0dW0ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgcmwgPSAxIC8gKHJpZ2h0IC0gbGVmdCk7XG4gIHZhciB0YiA9IDEgLyAodG9wIC0gYm90dG9tKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gbmVhciAqIDIgKiBybDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gbmVhciAqIDIgKiB0YjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHJpZ2h0ICsgbGVmdCkgKiBybDtcbiAgb3V0WzldID0gKHRvcCArIGJvdHRvbSkgKiB0YjtcbiAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiAyICogbmY7XG4gIG91dFsxNV0gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZShvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXHJcbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcclxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRobyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxyXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dCwgZXllLCBjZW50ZXIsIHVwKSB7XG4gIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XG4gIHZhciBleWV4ID0gZXllWzBdO1xuICB2YXIgZXlleSA9IGV5ZVsxXTtcbiAgdmFyIGV5ZXogPSBleWVbMl07XG4gIHZhciB1cHggPSB1cFswXTtcbiAgdmFyIHVweSA9IHVwWzFdO1xuICB2YXIgdXB6ID0gdXBbMl07XG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xuICB2YXIgY2VudGVyeSA9IGNlbnRlclsxXTtcbiAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XG5cbiAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleSAtIGNlbnRlcnkpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV6IC0gY2VudGVyeikgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5KG91dCk7XG4gIH1cblxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICBsZW4gPSAxIC8gTWF0aC5oeXBvdCh6MCwgejEsIHoyKTtcbiAgejAgKj0gbGVuO1xuICB6MSAqPSBsZW47XG4gIHoyICo9IGxlbjtcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xuICB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh4MCwgeDEsIHgyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHgwID0gMDtcbiAgICB4MSA9IDA7XG4gICAgeDIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICB5MSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xuICBsZW4gPSBNYXRoLmh5cG90KHkwLCB5MSwgeTIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeTAgPSAwO1xuICAgIHkxID0gMDtcbiAgICB5MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB5MCAqPSBsZW47XG4gICAgeTEgKj0gbGVuO1xuICAgIHkyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB5MDtcbiAgb3V0WzJdID0gejA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHgxO1xuICBvdXRbNV0gPSB5MTtcbiAgb3V0WzZdID0gejE7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHgyO1xuICBvdXRbOV0gPSB5MjtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IC0oeDAgKiBleWV4ICsgeDEgKiBleWV5ICsgeDIgKiBleWV6KTtcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcbiAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdLCBhWzldLCBhWzEwXSwgYVsxMV0sIGFbMTJdLCBhWzEzXSwgYVsxNF0sIGFbMTVdKTtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3NcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICBvdXRbOV0gPSBhWzldICogYjtcbiAgb3V0WzEwXSA9IGFbMTBdICogYjtcbiAgb3V0WzExXSA9IGFbMTFdICogYjtcbiAgb3V0WzEyXSA9IGFbMTJdICogYjtcbiAgb3V0WzEzXSA9IGFbMTNdICogYjtcbiAgb3V0WzE0XSA9IGFbMTRdICogYjtcbiAgb3V0WzE1XSA9IGFbMTVdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwiZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVNlZWQoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIgKiogMzEpO1xufVxuZXhwb3J0IGNsYXNzIFJhbmRvbSB7XG4gICAgY29uc3RydWN0b3Ioc2VlZCkge1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5zZWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKCgyICoqIDMxIC0gMSkgJiAodGhpcy5zZWVkID0gTWF0aC5pbXVsKDQ4MjcxLCB0aGlzLnNlZWQpKSkgLyAyICoqIDMxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBUaGlzIGZpbGUgcmVwbGFjZXMgYGluZGV4LmpzYCBpbiBidW5kbGVycyBsaWtlIHdlYnBhY2sgb3IgUm9sbHVwLFxuLy8gYWNjb3JkaW5nIHRvIGBicm93c2VyYCBjb25maWcgaW4gYHBhY2thZ2UuanNvbmAuXG5cbmltcG9ydCB7IHVybEFscGhhYmV0IH0gZnJvbSAnLi91cmwtYWxwaGFiZXQvaW5kZXguanMnXG5cbmlmIChmYWxzZSkge1xuICAvLyBBbGwgYnVuZGxlcnMgd2lsbCByZW1vdmUgdGhpcyBibG9jayBpbiB0aGUgcHJvZHVjdGlvbiBidW5kbGUuXG4gIGlmIChcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnICYmXG4gICAgdHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCdcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1JlYWN0IE5hdGl2ZSBkb2VzIG5vdCBoYXZlIGEgYnVpbHQtaW4gc2VjdXJlIHJhbmRvbSBnZW5lcmF0b3IuICcgK1xuICAgICAgICAnSWYgeW91IGRvbuKAmXQgbmVlZCB1bnByZWRpY3RhYmxlIElEcyB1c2UgYG5hbm9pZC9ub24tc2VjdXJlYC4gJyArXG4gICAgICAgICdGb3Igc2VjdXJlIElEcywgaW1wb3J0IGByZWFjdC1uYXRpdmUtZ2V0LXJhbmRvbS12YWx1ZXNgICcgK1xuICAgICAgICAnYmVmb3JlIE5hbm8gSUQuJ1xuICAgIClcbiAgfVxuICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdJbXBvcnQgZmlsZSB3aXRoIGBpZiAoIXdpbmRvdy5jcnlwdG8pIHdpbmRvdy5jcnlwdG8gPSB3aW5kb3cubXNDcnlwdG9gJyArXG4gICAgICAgICcgYmVmb3JlIGltcG9ydGluZyBOYW5vIElEIHRvIGZpeCBJRSAxMSBzdXBwb3J0J1xuICAgIClcbiAgfVxuICBpZiAodHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnWW91ciBicm93c2VyIGRvZXMgbm90IGhhdmUgc2VjdXJlIHJhbmRvbSBnZW5lcmF0b3IuICcgK1xuICAgICAgICAnSWYgeW91IGRvbuKAmXQgbmVlZCB1bnByZWRpY3RhYmxlIElEcywgeW91IGNhbiB1c2UgbmFub2lkL25vbi1zZWN1cmUuJ1xuICAgIClcbiAgfVxufVxuXG5sZXQgcmFuZG9tID0gYnl0ZXMgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlcykpXG5cbmxldCBjdXN0b21SYW5kb20gPSAoYWxwaGFiZXQsIHNpemUsIGdldFJhbmRvbSkgPT4ge1xuICAvLyBGaXJzdCwgYSBiaXRtYXNrIGlzIG5lY2Vzc2FyeSB0byBnZW5lcmF0ZSB0aGUgSUQuIFRoZSBiaXRtYXNrIG1ha2VzIGJ5dGVzXG4gIC8vIHZhbHVlcyBjbG9zZXIgdG8gdGhlIGFscGhhYmV0IHNpemUuIFRoZSBiaXRtYXNrIGNhbGN1bGF0ZXMgdGhlIGNsb3Nlc3RcbiAgLy8gYDJeMzEgLSAxYCBudW1iZXIsIHdoaWNoIGV4Y2VlZHMgdGhlIGFscGhhYmV0IHNpemUuXG4gIC8vIEZvciBleGFtcGxlLCB0aGUgYml0bWFzayBmb3IgdGhlIGFscGhhYmV0IHNpemUgMzAgaXMgMzEgKDAwMDExMTExKS5cbiAgLy8gYE1hdGguY2x6MzJgIGlzIG5vdCB1c2VkLCBiZWNhdXNlIGl0IGlzIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlcnMuXG4gIGxldCBtYXNrID0gKDIgPDwgKE1hdGgubG9nKGFscGhhYmV0Lmxlbmd0aCAtIDEpIC8gTWF0aC5MTjIpKSAtIDFcbiAgLy8gVGhvdWdoLCB0aGUgYml0bWFzayBzb2x1dGlvbiBpcyBub3QgcGVyZmVjdCBzaW5jZSB0aGUgYnl0ZXMgZXhjZWVkaW5nXG4gIC8vIHRoZSBhbHBoYWJldCBzaXplIGFyZSByZWZ1c2VkLiBUaGVyZWZvcmUsIHRvIHJlbGlhYmx5IGdlbmVyYXRlIHRoZSBJRCxcbiAgLy8gdGhlIHJhbmRvbSBieXRlcyByZWR1bmRhbmN5IGhhcyB0byBiZSBzYXRpc2ZpZWQuXG5cbiAgLy8gTm90ZTogZXZlcnkgaGFyZHdhcmUgcmFuZG9tIGdlbmVyYXRvciBjYWxsIGlzIHBlcmZvcm1hbmNlIGV4cGVuc2l2ZSxcbiAgLy8gYmVjYXVzZSB0aGUgc3lzdGVtIGNhbGwgZm9yIGVudHJvcHkgY29sbGVjdGlvbiB0YWtlcyBhIGxvdCBvZiB0aW1lLlxuICAvLyBTbywgdG8gYXZvaWQgYWRkaXRpb25hbCBzeXN0ZW0gY2FsbHMsIGV4dHJhIGJ5dGVzIGFyZSByZXF1ZXN0ZWQgaW4gYWR2YW5jZS5cblxuICAvLyBOZXh0LCBhIHN0ZXAgZGV0ZXJtaW5lcyBob3cgbWFueSByYW5kb20gYnl0ZXMgdG8gZ2VuZXJhdGUuXG4gIC8vIFRoZSBudW1iZXIgb2YgcmFuZG9tIGJ5dGVzIGdldHMgZGVjaWRlZCB1cG9uIHRoZSBJRCBzaXplLCBtYXNrLFxuICAvLyBhbHBoYWJldCBzaXplLCBhbmQgbWFnaWMgbnVtYmVyIDEuNiAodXNpbmcgMS42IHBlYWtzIGF0IHBlcmZvcm1hbmNlXG4gIC8vIGFjY29yZGluZyB0byBiZW5jaG1hcmtzKS5cblxuICAvLyBgLX5mID0+IE1hdGguY2VpbChmKWAgaWYgZiBpcyBhIGZsb2F0XG4gIC8vIGAtfmkgPT4gaSArIDFgIGlmIGkgaXMgYW4gaW50ZWdlclxuICBsZXQgc3RlcCA9IC1+KCgxLjYgKiBtYXNrICogc2l6ZSkgLyBhbHBoYWJldC5sZW5ndGgpXG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgaWQgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgYnl0ZXMgPSBnZXRSYW5kb20oc3RlcClcbiAgICAgIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gICAgICBsZXQgaiA9IHN0ZXBcbiAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgLy8gQWRkaW5nIGB8fCAnJ2AgcmVmdXNlcyBhIHJhbmRvbSBieXRlIHRoYXQgZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAgICAgaWQgKz0gYWxwaGFiZXRbYnl0ZXNbal0gJiBtYXNrXSB8fCAnJ1xuICAgICAgICBpZiAoaWQubGVuZ3RoID09PSBzaXplKSByZXR1cm4gaWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubGV0IGN1c3RvbUFscGhhYmV0ID0gKGFscGhhYmV0LCBzaXplKSA9PiBjdXN0b21SYW5kb20oYWxwaGFiZXQsIHNpemUsIHJhbmRvbSlcblxubGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcbiAgbGV0IGlkID0gJydcbiAgbGV0IGJ5dGVzID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSlcblxuICAvLyBBIGNvbXBhY3QgYWx0ZXJuYXRpdmUgZm9yIGBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7IGkrKylgLlxuICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgLy8gSXQgaXMgaW5jb3JyZWN0IHRvIHVzZSBieXRlcyBleGNlZWRpbmcgdGhlIGFscGhhYmV0IHNpemUuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBtYXNrIHJlZHVjZXMgdGhlIHJhbmRvbSBieXRlIGluIHRoZSAwLTI1NSB2YWx1ZVxuICAgIC8vIHJhbmdlIHRvIHRoZSAwLTYzIHZhbHVlIHJhbmdlLiBUaGVyZWZvcmUsIGFkZGluZyBoYWNrcywgc3VjaFxuICAgIC8vIGFzIGVtcHR5IHN0cmluZyBmYWxsYmFjayBvciBtYWdpYyBudW1iZXJzLCBpcyB1bm5lY2Nlc3NhcnkgYmVjYXVzZVxuICAgIC8vIHRoZSBiaXRtYXNrIHRyaW1zIGJ5dGVzIGRvd24gdG8gdGhlIGFscGhhYmV0IHNpemUuXG4gICAgbGV0IGJ5dGUgPSBieXRlc1tzaXplXSAmIDYzXG4gICAgaWYgKGJ5dGUgPCAzNikge1xuICAgICAgLy8gYDAtOWEtemBcbiAgICAgIGlkICs9IGJ5dGUudG9TdHJpbmcoMzYpXG4gICAgfSBlbHNlIGlmIChieXRlIDwgNjIpIHtcbiAgICAgIC8vIGBBLVpgXG4gICAgICBpZCArPSAoYnl0ZSAtIDI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKVxuICAgIH0gZWxzZSBpZiAoYnl0ZSA8IDYzKSB7XG4gICAgICBpZCArPSAnXydcbiAgICB9IGVsc2Uge1xuICAgICAgaWQgKz0gJy0nXG4gICAgfVxuICB9XG4gIHJldHVybiBpZFxufVxuXG5leHBvcnQgeyBuYW5vaWQsIGN1c3RvbUFscGhhYmV0LCBjdXN0b21SYW5kb20sIHVybEFscGhhYmV0LCByYW5kb20gfVxuIiwiaW1wb3J0IHsgUmFuZG9tIH0gZnJvbSBcInJvdWdoanMvYmluL21hdGhcIjtcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gXCJuYW5vaWRcIjtcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuY29uc3QgcmFuZG9tID0gbmV3IFJhbmRvbShEYXRlLm5vdygpKTtcblxuZXhwb3J0IGNvbnN0IHJhbmRvbUludGVnZXIgPSAoKTogbnVtYmVyID0+IE1hdGguZmxvb3IocmFuZG9tLm5leHQoKSAqIDIgKiogMzEpO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tSWQgPSAoKTogc3RyaW5nID0+IG5hbm9pZCgpO1xuXG5leHBvcnQgY29uc3Qgc2FmZU51bWJlciA9IChudW1iZXI6IG51bWJlcik6IG51bWJlciA9PiBOdW1iZXIobnVtYmVyLnRvRml4ZWQoMikpO1xuXG5leHBvcnQgZnVuY3Rpb24gZGltZW5zaW9uc0Zyb21Qb2ludHMocG9pbnRzOiBudW1iZXJbXVtdKTogbnVtYmVyW10ge1xuICBjb25zdCB4Q29vcmRzID0gcG9pbnRzLm1hcCgoW3hdKSA9PiB4KTtcbiAgY29uc3QgeUNvb3JkcyA9IHBvaW50cy5tYXAoKFssIHldKSA9PiB5KTtcblxuICBjb25zdCBtaW5YID0gTWF0aC5taW4oLi4ueENvb3Jkcyk7XG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbiguLi55Q29vcmRzKTtcbiAgY29uc3QgbWF4WCA9IE1hdGgubWF4KC4uLnhDb29yZHMpO1xuICBjb25zdCBtYXhZID0gTWF0aC5tYXgoLi4ueUNvb3Jkcyk7XG5cbiAgcmV0dXJuIFttYXhYIC0gbWluWCwgbWF4WSAtIG1pblldO1xufVxuXG4vLyB3aW5kaW5nIG9yZGVyIGlzIGNsb2Nrd2lzZSB2YWx1ZXMgaXMgcG9zaXRpdmUsIGNvdW50ZXIgY2xvY2t3aXNlIGlmIG5lZ2F0aXZlLlxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRpbmdPcmRlcihcbiAgcG9pbnRzOiBQb2ludFtdLFxuKTogXCJjbG9ja3dpc2VcIiB8IFwiY291bnRlcmNsb2Nrd2lzZVwiIHtcbiAgY29uc3QgdG90YWwgPSBwb2ludHMucmVkdWNlKChhY2MsIFt4MSwgeTFdLCBpZHgsIGFycikgPT4ge1xuICAgIGNvbnN0IHAyID0gYXJyW2lkeCArIDFdO1xuICAgIGNvbnN0IHgyID0gcDIgPyBwMlswXSA6IDA7XG4gICAgY29uc3QgeTIgPSBwMiA/IHAyWzFdIDogMDtcblxuICAgIGNvbnN0IGUgPSAoeDIgLSB4MSkgKiAoeTIgKyB5MSk7XG5cbiAgICByZXR1cm4gZSArIGFjYztcbiAgfSwgMCk7XG5cbiAgcmV0dXJuIHRvdGFsID4gMCA/IFwiY2xvY2t3aXNlXCIgOiBcImNvdW50ZXJjbG9ja3dpc2VcIjtcbn1cbiIsImltcG9ydCBjaHJvbWEgZnJvbSBcImNocm9tYS1qc1wiO1xuaW1wb3J0IHsgRXhjYWxpZHJhd0VsZW1lbnRCYXNlIH0gZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhleFdpdGhBbHBoYShjb2xvcjogc3RyaW5nLCBhbHBoYTogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNocm9tYShjb2xvcikuYWxwaGEoYWxwaGEpLmNzcygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzKGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShhdHRyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChlbDogRWxlbWVudCwgYXR0cjogc3RyaW5nLCBiYWNrdXA/OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKGF0dHIpIHx8IGJhY2t1cCB8fCBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TnVtKGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcsIGJhY2t1cD86IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IG51bVZhbCA9IE51bWJlcihnZXQoZWwsIGF0dHIpKTtcbiAgcmV0dXJuIG51bVZhbCA9PT0gTmFOID8gYmFja3VwIHx8IDAgOiBudW1WYWw7XG59XG5cbmNvbnN0IHByZXNBdHRycyA9IHtcbiAgc3Ryb2tlOiBcInN0cm9rZVwiLFxuICBcInN0cm9rZS1vcGFjaXR5XCI6IFwic3Ryb2tlLW9wYWNpdHlcIixcbiAgXCJzdHJva2Utd2lkdGhcIjogXCJzdHJva2Utd2lkdGhcIixcbiAgZmlsbDogXCJmaWxsXCIsXG4gIFwiZmlsbC1vcGFjaXR5XCI6IFwiZmlsbC1vcGFjaXR5XCIsXG4gIG9wYWNpdHk6IFwib3BhY2l0eVwiLFxufSBhcyBjb25zdDtcblxudHlwZSBFeFBhcnRpYWxFbGVtZW50ID0gUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+O1xuXG50eXBlIEF0dHJIYW5kbGVyQXJncyA9IHtcbiAgZWw6IEVsZW1lbnQ7XG4gIGV4VmFsczogRXhQYXJ0aWFsRWxlbWVudDtcbn07XG5cbnR5cGUgUHJlc0F0dHJIYW5kbGVycyA9IHtcbiAgW2tleSBpbiBrZXlvZiB0eXBlb2YgcHJlc0F0dHJzXTogKGFyZ3M6IEF0dHJIYW5kbGVyQXJncykgPT4gdm9pZDtcbn07XG5cbmNvbnN0IGF0dHJIYW5kbGVyczogUHJlc0F0dHJIYW5kbGVycyA9IHtcbiAgc3Ryb2tlOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBjb25zdCBzdHJva2VDb2xvciA9IGdldChlbCwgXCJzdHJva2VcIik7XG5cbiAgICBleFZhbHMuc3Ryb2tlQ29sb3IgPSBoYXMoZWwsIFwic3Ryb2tlLW9wYWNpdHlcIilcbiAgICAgID8gaGV4V2l0aEFscGhhKHN0cm9rZUNvbG9yLCBnZXROdW0oZWwsIFwic3Ryb2tlLW9wYWNpdHlcIikpXG4gICAgICA6IHN0cm9rZUNvbG9yO1xuICB9LFxuXG4gIFwic3Ryb2tlLW9wYWNpdHlcIjogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgZXhWYWxzLnN0cm9rZUNvbG9yID0gaGV4V2l0aEFscGhhKFxuICAgICAgZ2V0KGVsLCBcInN0cm9rZVwiLCBcIiMwMDAwMDBcIiksXG4gICAgICBnZXROdW0oZWwsIFwic3Ryb2tlLW9wYWNpdHlcIiksXG4gICAgKTtcbiAgfSxcblxuICBcInN0cm9rZS13aWR0aFwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuc3Ryb2tlV2lkdGggPSBnZXROdW0oZWwsIFwic3Ryb2tlLXdpZHRoXCIpO1xuICB9LFxuXG4gIGZpbGw6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGNvbnN0IGZpbGwgPSBnZXQoZWwsIGBmaWxsYCk7XG5cbiAgICBleFZhbHMuYmFja2dyb3VuZENvbG9yID0gZmlsbCA9PT0gXCJub25lXCIgPyBcIiMwMDAwMDAwMFwiIDogZmlsbDtcbiAgfSxcblxuICBcImZpbGwtb3BhY2l0eVwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuYmFja2dyb3VuZENvbG9yID0gaGV4V2l0aEFscGhhKFxuICAgICAgZ2V0KGVsLCBcImZpbGxcIiwgXCIjMDAwMDAwXCIpLFxuICAgICAgZ2V0TnVtKGVsLCBcImZpbGwtb3BhY2l0eVwiKSxcbiAgICApO1xuICB9LFxuXG4gIG9wYWNpdHk6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5vcGFjaXR5ID0gZ2V0TnVtKGVsLCBcIm9wYWNpdHlcIiwgMTAwKTtcbiAgfSxcbn07XG5cbi8vIFByZXNlbnRhdGlvbiBBdHRyaWJ1dGVzIGZvciBTVkcgRWxlbWVudHM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL1ByZXNlbnRhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhcbiAgZWw6IEVsZW1lbnQsXG4pOiBQYXJ0aWFsPEV4Y2FsaWRyYXdFbGVtZW50QmFzZT4ge1xuICBjb25zdCBleFZhbHMgPSBbLi4uZWwuYXR0cmlidXRlc10ucmVkdWNlKChleFZhbHMsIGF0dHIpID0+IHtcbiAgICBjb25zdCBuYW1lID0gYXR0ci5uYW1lO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGF0dHJIYW5kbGVycykuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIGF0dHJIYW5kbGVyc1tuYW1lIGFzIGtleW9mIFByZXNBdHRySGFuZGxlcnNdKHsgZWwsIGV4VmFscyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhWYWxzO1xuICB9LCB7fSBhcyBFeFBhcnRpYWxFbGVtZW50KTtcblxuICByZXR1cm4gZXhWYWxzO1xufVxuXG50eXBlIEZpbHRlckF0dHJzID0gUGFydGlhbDxcbiAgUGljazxFeGNhbGlkcmF3RWxlbWVudEJhc2UsIFwieFwiIHwgXCJ5XCIgfCBcIndpZHRoXCIgfCBcImhlaWdodFwiPlxuPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzKGVsOiBFbGVtZW50KTogRmlsdGVyQXR0cnMge1xuICBjb25zdCBmaWx0ZXJWYWxzOiBGaWx0ZXJBdHRycyA9IHt9O1xuXG4gIGlmIChoYXMoZWwsIFwieFwiKSkge1xuICAgIGZpbHRlclZhbHMueCA9IGdldE51bShlbCwgXCJ4XCIpO1xuICB9XG5cbiAgaWYgKGhhcyhlbCwgXCJ5XCIpKSB7XG4gICAgZmlsdGVyVmFscy55ID0gZ2V0TnVtKGVsLCBcInlcIik7XG4gIH1cblxuICBpZiAoaGFzKGVsLCBcIndpZHRoXCIpKSB7XG4gICAgZmlsdGVyVmFscy53aWR0aCA9IGdldE51bShlbCwgXCJ3aWR0aFwiKTtcbiAgfVxuXG4gIGlmIChoYXMoZWwsIFwiaGVpZ2h0XCIpKSB7XG4gICAgZmlsdGVyVmFscy5oZWlnaHQgPSBnZXROdW0oZWwsIFwiaGVpZ2h0XCIpO1xuICB9XG5cbiAgcmV0dXJuIGZpbHRlclZhbHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBdHRyVG9Qb2ludHMoZWw6IEVsZW1lbnQpOiBudW1iZXJbXVtdIHtcbiAgbGV0IHBvaW50czogbnVtYmVyW11bXSA9IFtdO1xuXG4gIGlmIChoYXMoZWwsIFwicG9pbnRzXCIpKSB7XG4gICAgcG9pbnRzID0gZ2V0KGVsLCBcInBvaW50c1wiKVxuICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgLm1hcCgocCkgPT4gcC5zcGxpdChcIixcIikubWFwKHBhcnNlRmxvYXQpKTtcbiAgfVxuXG4gIHJldHVybiBwb2ludHM7XG59XG4iLCJpbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzIH0gZnJvbSBcIi4uL2F0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSB9IGZyb20gXCIuLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JvdXBBdHRycyhncm91cHM6IEdyb3VwW10pOiBhbnkge1xuICByZXR1cm4gZ3JvdXBzLnJlZHVjZSgoYWNjLCB7IGVsZW1lbnQgfSkgPT4ge1xuICAgIGNvbnN0IGVsVmFscyA9IHByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbGVtZW50KTtcblxuICAgIHJldHVybiB7IC4uLmFjYywgLi4uZWxWYWxzIH07XG4gIH0sIHt9IGFzIFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPik7XG59XG5cbmNsYXNzIEdyb3VwIHtcbiAgaWQgPSByYW5kb21JZCgpO1xuXG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JvdXA7XG4iLCJpbXBvcnQgeyByYW5kb21JZCwgcmFuZG9tSW50ZWdlciB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQge1xuICBHcm91cElkLFxuICBGaWxsU3R5bGUsXG4gIFN0cm9rZVN0eWxlLFxuICBTdHJva2VTaGFycG5lc3MsXG4gIEV4Y2FsaWRyYXdMaW5lYXJFbGVtZW50LFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgUG9pbnQgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBzdHJva2VDb2xvcjogc3RyaW5nO1xuICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcbiAgZmlsbFN0eWxlOiBGaWxsU3R5bGU7XG4gIHN0cm9rZVdpZHRoOiBudW1iZXI7XG4gIHN0cm9rZVN0eWxlOiBTdHJva2VTdHlsZTtcbiAgc3Ryb2tlU2hhcnBuZXNzOiBTdHJva2VTaGFycG5lc3M7XG4gIHJvdWdobmVzczogbnVtYmVyO1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBhbmdsZTogbnVtYmVyO1xuICAvKiogUmFuZG9tIGludGVnZXIgdXNlZCB0byBzZWVkIHNoYXBlIGdlbmVyYXRpb24gc28gdGhhdCB0aGUgcm91Z2hqcyBzaGFwZVxuICAgICAgZG9lc24ndCBkaWZmZXIgYWNyb3NzIHJlbmRlcnMuICovXG4gIHNlZWQ6IG51bWJlcjtcbiAgLyoqIEludGVnZXIgdGhhdCBpcyBzZXF1ZW50aWFsbHkgaW5jcmVtZW50ZWQgb24gZWFjaCBjaGFuZ2UuIFVzZWQgdG8gcmVjb25jaWxlXG4gICAgICBlbGVtZW50cyBkdXJpbmcgY29sbGFib3JhdGlvbiBvciB3aGVuIHNhdmluZyB0byBzZXJ2ZXIuICovXG4gIHZlcnNpb246IG51bWJlcjtcbiAgLyoqIFJhbmRvbSBpbnRlZ2VyIHRoYXQgaXMgcmVnZW5lcmF0ZWQgb24gZWFjaCBjaGFuZ2UuXG4gICAgICBVc2VkIGZvciBkZXRlcm1pbmlzdGljIHJlY29uY2lsaWF0aW9uIG9mIHVwZGF0ZXMgZHVyaW5nIGNvbGxhYm9yYXRpb24sXG4gICAgICBpbiBjYXNlIHRoZSB2ZXJzaW9ucyAoc2VlIGFib3ZlKSBhcmUgaWRlbnRpY2FsLiAqL1xuICB2ZXJzaW9uTm9uY2U6IG51bWJlcjtcbiAgaXNEZWxldGVkOiBib29sZWFuO1xuICAvKiogTGlzdCBvZiBncm91cHMgdGhlIGVsZW1lbnQgYmVsb25ncyB0by5cbiAgICAgIE9yZGVyZWQgZnJvbSBkZWVwZXN0IHRvIHNoYWxsb3dlc3QuICovXG4gIGdyb3VwSWRzOiBHcm91cElkW107XG4gIC8qKiBJZHMgb2YgKGxpbmVhcikgZWxlbWVudHMgdGhhdCBhcmUgYm91bmQgdG8gdGhpcyBlbGVtZW50LiAqL1xuICBib3VuZEVsZW1lbnRJZHM6IEV4Y2FsaWRyYXdMaW5lYXJFbGVtZW50W1wiaWRcIl1bXSB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3UmVjdGFuZ2xlID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcInJlY3RhbmdsZVwiO1xufTtcblxuZXhwb3J0IHR5cGUgRXhjYWxpZHJhd0xpbmUgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwibGluZVwiO1xuICBwb2ludHM6IHJlYWRvbmx5IFBvaW50W107XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3RWxsaXBzZSA9IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSAmIHtcbiAgdHlwZTogXCJlbGxpcHNlXCI7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3R2VuZXJpY0VsZW1lbnQgPVxuICB8IEV4Y2FsaWRyYXdSZWN0YW5nbGVcbiAgfCBFeGNhbGlkcmF3RWxsaXBzZVxuICB8IEV4Y2FsaWRyYXdMaW5lXG4gIHwgRXhjYWxpZHJhd0RyYXc7XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdEcmF3ID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcImRyYXdcIjtcbiAgcG9pbnRzOiByZWFkb25seSBQb2ludFtdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RWxlbWVudCgpOiBFeGNhbGlkcmF3RWxlbWVudEJhc2Uge1xuICByZXR1cm4ge1xuICAgIGlkOiByYW5kb21JZCgpLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBzdHJva2VDb2xvcjogXCIjMDAwMDAwXCIsXG4gICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBmaWxsU3R5bGU6IFwic29saWRcIixcbiAgICBzdHJva2VXaWR0aDogMSxcbiAgICBzdHJva2VTdHlsZTogXCJzb2xpZFwiLFxuICAgIHN0cm9rZVNoYXJwbmVzczogXCJzaGFycFwiLFxuICAgIHJvdWdobmVzczogMCxcbiAgICBvcGFjaXR5OiAxMDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIGFuZ2xlOiAwLFxuICAgIHNlZWQ6IHJhbmRvbUludGVnZXIoKSxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHZlcnNpb25Ob25jZTogMCxcbiAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxuICAgIGdyb3VwSWRzOiBbXSxcbiAgICBib3VuZEVsZW1lbnRJZHM6IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeFJlY3QoKTogRXhjYWxpZHJhd1JlY3RhbmdsZSB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJyZWN0YW5nbGVcIixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4TGluZSgpOiBFeGNhbGlkcmF3TGluZSB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJsaW5lXCIsXG4gICAgcG9pbnRzOiBbXSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RWxsaXBzZSgpOiBFeGNhbGlkcmF3RWxsaXBzZSB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJlbGxpcHNlXCIsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeERyYXcoKTogRXhjYWxpZHJhd0RyYXcge1xuICByZXR1cm4ge1xuICAgIC4uLmNyZWF0ZUV4RWxlbWVudCgpLFxuICAgIHR5cGU6IFwiZHJhd1wiLFxuICAgIHBvaW50czogW10sXG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxyXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxyXG4gKiBAbW9kdWxlIHZlYzNcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXHJcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXTtcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBmYWN0b3JUaW1lczIgKiAoMiAqIHQgLSAzKSArIDE7XG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gIHZhciBmYWN0b3IzID0gZmFjdG9yVGltZXMyICogKHQgLSAxKTtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiAoMyAtIDIgKiB0KTtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cclxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XHJcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIC8vIGJlbmNobWFya3M6IGh0dHBzOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXRyYW5zZm9ybS12ZWMzLWltcGxlbWVudGF0aW9ucy1maXhlZFxuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdO1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcbiAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG5cbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcbiAgICAgIHV2eSA9IHF6ICogeCAtIHF4ICogeixcbiAgICAgIHV2eiA9IHF4ICogeSAtIHF5ICogeDsgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcblxuICB2YXIgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnksXG4gICAgICB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2eixcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuXG4gIHZhciB3MiA9IHF3ICogMjtcbiAgdXZ4ICo9IHcyO1xuICB1dnkgKj0gdzI7XG4gIHV2eiAqPSB3MjsgLy8gdmVjMy5zY2FsZSh1dXYsIHV1diwgMik7XG5cbiAgdXV2eCAqPSAyO1xuICB1dXZ5ICo9IDI7XG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XG5cbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgclsxXSA9IHBbMF0gKiBNYXRoLnNpbihyYWQpICsgcFsxXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpO1xufVxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImltcG9ydCBHcm91cCBmcm9tIFwiLi9lbGVtZW50cy9Hcm91cFwiO1xuaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcblxuLypcblNWRyB0cmFuc2Zvcm0gYXR0ciBpcyBhIGJpdCBzdHJhbmdlIGluIHRoYXQgaXQgY2FuIGFjY2VwdCB0cmFkaXRpb25hbFxuY3NzIHRyYW5zZm9ybSBzdHJpbmcgKGF0IGxlYXN0IHBlciBzcGVjKSBhcyB3ZWxsIGFzIGEgaXQncyBvd24gXCJ1bml0bGVzc1wiXG52ZXJzaW9uIG9mIHRyYW5zZm9ybSBmdW5jdGlvbnMuXG5cbmh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdHJhbnNmb3JtXG4qL1xuXG5jb25zdCB0cmFuc2Zvcm1GdW5jdGlvbnMgPSB7XG4gIG1hdHJpeDogXCJtYXRyaXhcIixcbiAgbWF0cml4M2Q6IFwibWF0cml4M2RcIixcbiAgcGVyc3BlY3RpdmU6IFwicGVyc3BlY3RpdmVcIixcbiAgcm90YXRlOiBcInJvdGF0ZVwiLFxuICByb3RhdGUzZDogXCJyb3RhdGUzZFwiLFxuICByb3RhdGVYOiBcInJvdGF0ZVhcIixcbiAgcm90YXRlWTogXCJyb3RhdGVZXCIsXG4gIHJvdGF0ZVo6IFwicm90YXRlWlwiLFxuICBzY2FsZTogXCJzY2FsZVwiLFxuICBzY2FsZTNkOiBcInNjYWxlM2RcIixcbiAgc2NhbGVYOiBcInNjYWxlWFwiLFxuICBzY2FsZVk6IFwic2NhbGVZXCIsXG4gIHNjYWxlWjogXCJzY2FsZVpcIixcbiAgc2tldzogXCJza2V3XCIsXG4gIHNrZXdYOiBcInNrZXdYXCIsXG4gIHNrZXdZOiBcInNrZXdZXCIsXG4gIHRyYW5zbGF0ZTogXCJ0cmFuc2xhdGVcIixcbiAgdHJhbnNsYXRlM2Q6IFwidHJhbnNsYXRlM2RcIixcbiAgdHJhbnNsYXRlWDogXCJ0cmFuc2xhdGVYXCIsXG4gIHRyYW5zbGF0ZVk6IFwidHJhbnNsYXRlWVwiLFxuICB0cmFuc2xhdGVaOiBcInRyYW5zbGF0ZVpcIixcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IHRyYW5zZm9ybUZ1bmN0aW9uc0FyciA9IE9iamVjdC5rZXlzKHRyYW5zZm9ybUZ1bmN0aW9ucyk7XG5cbi8vIHR5cGUgVHJhbnNmb3JtXG5cbnR5cGUgVHJhbnNmb3JtRnVuY1ZhbHVlID0ge1xuICB2YWx1ZTogc3RyaW5nO1xuICB1bml0OiBzdHJpbmc7XG59O1xuXG50eXBlIFRyYW5zZm9ybUZ1bmMgPSB7XG4gIHR5cGU6IGtleW9mIHR5cGVvZiB0cmFuc2Zvcm1GdW5jdGlvbnM7XG4gIHZhbHVlczogVHJhbnNmb3JtRnVuY1ZhbHVlW107XG59O1xuXG5jb25zdCBkZWZhdWx0VW5pdHMgPSB7XG4gIG1hdHJpeDogXCJcIixcbiAgbWF0cml4M2Q6IFwiXCIsXG4gIHBlcnNwZWN0aXZlOiBcInBlcnNwZWN0aXZlXCIsXG4gIHJvdGF0ZTogXCJkZWdcIixcbiAgcm90YXRlM2Q6IFwiZGVnXCIsXG4gIHJvdGF0ZVg6IFwiZGVnXCIsXG4gIHJvdGF0ZVk6IFwiZGVnXCIsXG4gIHJvdGF0ZVo6IFwiZGVnXCIsXG4gIHNjYWxlOiBcIlwiLFxuICBzY2FsZTNkOiBcIlwiLFxuICBzY2FsZVg6IFwiXCIsXG4gIHNjYWxlWTogXCJcIixcbiAgc2NhbGVaOiBcIlwiLFxuICBza2V3OiBcInNrZXdcIixcbiAgc2tld1g6IFwiZGVnXCIsXG4gIHNrZXdZOiBcImRlZ1wiLFxuICB0cmFuc2xhdGU6IFwicHhcIixcbiAgdHJhbnNsYXRlM2Q6IFwicHhcIixcbiAgdHJhbnNsYXRlWDogXCJweFwiLFxuICB0cmFuc2xhdGVZOiBcInB4XCIsXG4gIHRyYW5zbGF0ZVo6IFwicHhcIixcbn07XG5cbi8vIENvbnZlcnQgYmV0d2VlbiBwb3NzaWJsZSBzdmcgdHJhbnNmb3JtIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gY3NzIHRyYW5zZm9ybSBhdHRyaWJ1dGUgdmFsdWVzLlxuY29uc3Qgc3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0gPSAoc3ZnVHJhbnNmb3JtU3RyOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAvLyBDcmVhdGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHN0cmluZyBcImNodW5rc1wiLCBlLmcgXCJyb3RhdGUoOTBkZWcpXCJcbiAgY29uc3QgdEZ1bmNzID0gc3ZnVHJhbnNmb3JtU3RyLm1hdGNoKC8oXFx3KylcXCgoW14pXSopXFwpL2cpO1xuICBpZiAoIXRGdW5jcykge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgY29uc3QgdEZ1bmNWYWx1ZXM6IFRyYW5zZm9ybUZ1bmNbXSA9IHRGdW5jcy5tYXAoXG4gICAgKHRGdW5jU3RyKTogVHJhbnNmb3JtRnVuYyA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gdEZ1bmNTdHIuc3BsaXQoXCIoXCIpWzBdIGFzIGtleW9mIHR5cGVvZiB0cmFuc2Zvcm1GdW5jdGlvbnM7XG4gICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgdHJhbnNmb3JtIG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zZm9ybUZ1bmN0aW9uc0Fyci5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHRyYW5zZm9ybSBmdW5jdGlvbiBuYW1lIFwiJHt0eXBlfVwiIGlzIG5vdCB2YWxpZGApO1xuICAgICAgfVxuXG4gICAgICAvLyBnZXQgdGhlIGFyZy9wcm9wcyBvZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uLCBlLmcgXCI5MGRlZ1wiLlxuICAgICAgY29uc3QgdEZ1bmNQYXJ0cyA9IHRGdW5jU3RyLm1hdGNoKC8oWy0rXT9bMC05XSpcXC4/WzAtOV0rKShbYS16XSkqL2cpO1xuICAgICAgaWYgKCF0RnVuY1BhcnRzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGUsIHZhbHVlczogW10gfTtcbiAgICAgIH1cblxuICAgICAgbGV0IHZhbHVlcyA9IHRGdW5jUGFydHMubWFwKFxuICAgICAgICAoYSk6IFRyYW5zZm9ybUZ1bmNWYWx1ZSA9PiB7XG4gICAgICAgICAgLy8gU2VwYXJhdGUgdGhlIGFyZyB2YWx1ZSBhbmQgdW5pdC4gZS5nIFtcIjkwXCIsIFwiZGVnXCJdXG4gICAgICAgICAgY29uc3QgW3ZhbHVlLCB1bml0XSA9IGEubWF0Y2hBbGwoLyhbLStdP1swLTldKlxcLj9bMC05XSspfChbYS16XSkqL2cpO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuaXQ6IHVuaXRbMF0gfHwgZGVmYXVsdFVuaXRzW3R5cGVdLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlWzBdLFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICAvLyBOb3Qgc3VwcG9ydGluZyB4LCB5IGFyZ3Mgb2Ygc3ZnIHJvdGF0ZSB0cmFuc2Zvcm0geWV0Li4uXG4gICAgICBpZiAodmFsdWVzICYmIHR5cGUgPT09IFwicm90YXRlXCIgJiYgdmFsdWVzPy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhbHVlcyA9IFt2YWx1ZXNbMF1dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlLFxuICAgICAgICB2YWx1ZXMsXG4gICAgICB9O1xuICAgIH0sXG4gICk7XG5cbiAgLy8gR2VuZXJhdGUgYSBzdHJpbmcgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBzZXQgYXMgYSBDU1MgVHJhbnNmb3JtLlxuICBjb25zdCBjc3N0cmFuc2Zvcm1TdHIgPSB0RnVuY1ZhbHVlc1xuICAgIC5tYXAoKHsgdHlwZSwgdmFsdWVzIH0pID0+IHtcbiAgICAgIGNvbnN0IHZhbFN0ciA9IHZhbHVlc1xuICAgICAgICAubWFwKCh7IHVuaXQsIHZhbHVlIH0pID0+IGAke3ZhbHVlfSR7dW5pdH1gKVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgcmV0dXJuIGAke3R5cGV9KCR7dmFsU3RyfSlgO1xuICAgIH0pXG4gICAgLmpvaW4oXCIgXCIpO1xuXG4gIHJldHVybiBjc3N0cmFuc2Zvcm1TdHI7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRE9NTWF0cml4RnJvbVNWR1N0ciA9IChcbiAgc3ZnVHJhbnNmb3JtU3RyOiBzdHJpbmcsXG4pOiBET01NYXRyaXggPT4ge1xuICBjb25zdCBjc3NUcmFuc2Zvcm1TdHIgPSBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybShzdmdUcmFuc2Zvcm1TdHIpO1xuXG4gIHJldHVybiBuZXcgRE9NTWF0cml4KGNzc1RyYW5zZm9ybVN0cik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudE1hdHJpeChlbDogRWxlbWVudCk6IG1hdDQge1xuICBpZiAoZWwuaGFzQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpKSB7XG4gICAgY29uc3QgZWxNYXQgPSBuZXcgRE9NTWF0cml4KFxuICAgICAgc3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0oZWwuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpIHx8IFwiXCIpLFxuICAgICk7XG5cbiAgICByZXR1cm4gbWF0NC5tdWx0aXBseShtYXQ0LmNyZWF0ZSgpLCBtYXQ0LmNyZWF0ZSgpLCBlbE1hdC50b0Zsb2F0MzJBcnJheSgpKTtcbiAgfVxuXG4gIHJldHVybiBtYXQ0LmNyZWF0ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtTWF0cml4KGVsOiBFbGVtZW50LCBncm91cHM6IEdyb3VwW10pOiBtYXQ0IHtcbiAgY29uc3QgYWNjdW1NYXQgPSBncm91cHNcbiAgICAubWFwKCh7IGVsZW1lbnQgfSkgPT4gZ2V0RWxlbWVudE1hdHJpeChlbGVtZW50KSlcbiAgICAuY29uY2F0KFtnZXRFbGVtZW50TWF0cml4KGVsKV0pXG4gICAgLnJlZHVjZSgoYWNjLCBtYXQpID0+IG1hdDQubXVsdGlwbHkoYWNjLCBhY2MsIG1hdCksIG1hdDQuY3JlYXRlKCkpO1xuXG4gIHJldHVybiBhY2N1bU1hdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50cyhcbiAgcG9pbnRzOiBudW1iZXJbXVtdLFxuICB0cmFuc2Zvcm06IG1hdDQsXG4pOiBbbnVtYmVyLCBudW1iZXJdW10ge1xuICByZXR1cm4gcG9pbnRzLm1hcCgoW3gsIHldKSA9PiB7XG4gICAgY29uc3QgW25ld1gsIG5ld1ldID0gdmVjMy50cmFuc2Zvcm1NYXQ0KFxuICAgICAgdmVjMy5jcmVhdGUoKSxcbiAgICAgIHZlYzMuZnJvbVZhbHVlcyh4LCB5LCAxKSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICApO1xuXG4gICAgcmV0dXJuIFtuZXdYLCBuZXdZXTtcbiAgfSk7XG59XG4iLCIvLyBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzXG5mdW5jdGlvbiBkaXN0YW5jZShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGRpc3RhbmNlU3EocDEsIHAyKSk7XG59XG4vLyBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzIHNxdWFyZWRcbmZ1bmN0aW9uIGRpc3RhbmNlU3EocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAxWzBdIC0gcDJbMF0sIDIpICsgTWF0aC5wb3cocDFbMV0gLSBwMlsxXSwgMik7XG59XG4vLyBTaXN0YW5jZSBzcXVhcmVkIGZyb20gYSBwb2ludCBwIHRvIHRoZSBsaW5lIHNlZ21lbnQgdndcbmZ1bmN0aW9uIGRpc3RhbmNlVG9TZWdtZW50U3EocCwgdiwgdykge1xuICAgIGNvbnN0IGwyID0gZGlzdGFuY2VTcSh2LCB3KTtcbiAgICBpZiAobDIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlU3EocCwgdik7XG4gICAgfVxuICAgIGxldCB0ID0gKChwWzBdIC0gdlswXSkgKiAod1swXSAtIHZbMF0pICsgKHBbMV0gLSB2WzFdKSAqICh3WzFdIC0gdlsxXSkpIC8gbDI7XG4gICAgdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHQpKTtcbiAgICByZXR1cm4gZGlzdGFuY2VTcShwLCBsZXJwKHYsIHcsIHQpKTtcbn1cbmZ1bmN0aW9uIGxlcnAoYSwgYiwgdCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIGFbMF0gKyAoYlswXSAtIGFbMF0pICogdCxcbiAgICAgICAgYVsxXSArIChiWzFdIC0gYVsxXSkgKiB0LFxuICAgIF07XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zZWFudDIzLndvcmRwcmVzcy5jb20vMjAxMC8xMS8xMi9vZmZzZXQtYmV6aWVyLWN1cnZlcy9cbmZ1bmN0aW9uIGZsYXRuZXNzKHBvaW50cywgb2Zmc2V0KSB7XG4gICAgY29uc3QgcDEgPSBwb2ludHNbb2Zmc2V0ICsgMF07XG4gICAgY29uc3QgcDIgPSBwb2ludHNbb2Zmc2V0ICsgMV07XG4gICAgY29uc3QgcDMgPSBwb2ludHNbb2Zmc2V0ICsgMl07XG4gICAgY29uc3QgcDQgPSBwb2ludHNbb2Zmc2V0ICsgM107XG4gICAgbGV0IHV4ID0gMyAqIHAyWzBdIC0gMiAqIHAxWzBdIC0gcDRbMF07XG4gICAgdXggKj0gdXg7XG4gICAgbGV0IHV5ID0gMyAqIHAyWzFdIC0gMiAqIHAxWzFdIC0gcDRbMV07XG4gICAgdXkgKj0gdXk7XG4gICAgbGV0IHZ4ID0gMyAqIHAzWzBdIC0gMiAqIHA0WzBdIC0gcDFbMF07XG4gICAgdnggKj0gdng7XG4gICAgbGV0IHZ5ID0gMyAqIHAzWzFdIC0gMiAqIHA0WzFdIC0gcDFbMV07XG4gICAgdnkgKj0gdnk7XG4gICAgaWYgKHV4IDwgdngpIHtcbiAgICAgICAgdXggPSB2eDtcbiAgICB9XG4gICAgaWYgKHV5IDwgdnkpIHtcbiAgICAgICAgdXkgPSB2eTtcbiAgICB9XG4gICAgcmV0dXJuIHV4ICsgdXk7XG59XG5mdW5jdGlvbiBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhwb2ludHMsIG9mZnNldCwgdG9sZXJhbmNlLCBuZXdQb2ludHMpIHtcbiAgICBjb25zdCBvdXRQb2ludHMgPSBuZXdQb2ludHMgfHwgW107XG4gICAgaWYgKGZsYXRuZXNzKHBvaW50cywgb2Zmc2V0KSA8IHRvbGVyYW5jZSkge1xuICAgICAgICBjb25zdCBwMCA9IHBvaW50c1tvZmZzZXQgKyAwXTtcbiAgICAgICAgaWYgKG91dFBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkaXN0YW5jZShvdXRQb2ludHNbb3V0UG9pbnRzLmxlbmd0aCAtIDFdLCBwMCk7XG4gICAgICAgICAgICBpZiAoZCA+IDEpIHtcbiAgICAgICAgICAgICAgICBvdXRQb2ludHMucHVzaChwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRQb2ludHMucHVzaChwMCk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0UG9pbnRzLnB1c2gocG9pbnRzW29mZnNldCArIDNdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN1YmRpdmlkZVxuICAgICAgICBjb25zdCB0ID0gLjU7XG4gICAgICAgIGNvbnN0IHAxID0gcG9pbnRzW29mZnNldCArIDBdO1xuICAgICAgICBjb25zdCBwMiA9IHBvaW50c1tvZmZzZXQgKyAxXTtcbiAgICAgICAgY29uc3QgcDMgPSBwb2ludHNbb2Zmc2V0ICsgMl07XG4gICAgICAgIGNvbnN0IHA0ID0gcG9pbnRzW29mZnNldCArIDNdO1xuICAgICAgICBjb25zdCBxMSA9IGxlcnAocDEsIHAyLCB0KTtcbiAgICAgICAgY29uc3QgcTIgPSBsZXJwKHAyLCBwMywgdCk7XG4gICAgICAgIGNvbnN0IHEzID0gbGVycChwMywgcDQsIHQpO1xuICAgICAgICBjb25zdCByMSA9IGxlcnAocTEsIHEyLCB0KTtcbiAgICAgICAgY29uc3QgcjIgPSBsZXJwKHEyLCBxMywgdCk7XG4gICAgICAgIGNvbnN0IHJlZCA9IGxlcnAocjEsIHIyLCB0KTtcbiAgICAgICAgZ2V0UG9pbnRzT25CZXppZXJDdXJ2ZVdpdGhTcGxpdHRpbmcoW3AxLCBxMSwgcjEsIHJlZF0sIDAsIHRvbGVyYW5jZSwgb3V0UG9pbnRzKTtcbiAgICAgICAgZ2V0UG9pbnRzT25CZXppZXJDdXJ2ZVdpdGhTcGxpdHRpbmcoW3JlZCwgcjIsIHEzLCBwNF0sIDAsIHRvbGVyYW5jZSwgb3V0UG9pbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dFBvaW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeShwb2ludHMsIGRpc3RhbmNlKSB7XG4gICAgcmV0dXJuIHNpbXBsaWZ5UG9pbnRzKHBvaW50cywgMCwgcG9pbnRzLmxlbmd0aCwgZGlzdGFuY2UpO1xufVxuLy8gUmFtZXLigJNEb3VnbGFz4oCTUGV1Y2tlciBhbGdvcml0aG1cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyJUUyJTgwJTkzRG91Z2xhcyVFMiU4MCU5M1BldWNrZXJfYWxnb3JpdGhtXG5mdW5jdGlvbiBzaW1wbGlmeVBvaW50cyhwb2ludHMsIHN0YXJ0LCBlbmQsIGVwc2lsb24sIG5ld1BvaW50cykge1xuICAgIGNvbnN0IG91dFBvaW50cyA9IG5ld1BvaW50cyB8fCBbXTtcbiAgICAvLyBmaW5kIHRoZSBtb3N0IGRpc3RhbmNlIHBvaW50IGZyb20gdGhlIGVuZHBvaW50c1xuICAgIGNvbnN0IHMgPSBwb2ludHNbc3RhcnRdO1xuICAgIGNvbnN0IGUgPSBwb2ludHNbZW5kIC0gMV07XG4gICAgbGV0IG1heERpc3RTcSA9IDA7XG4gICAgbGV0IG1heE5keCA9IDE7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0ICsgMTsgaSA8IGVuZCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBkaXN0U3EgPSBkaXN0YW5jZVRvU2VnbWVudFNxKHBvaW50c1tpXSwgcywgZSk7XG4gICAgICAgIGlmIChkaXN0U3EgPiBtYXhEaXN0U3EpIHtcbiAgICAgICAgICAgIG1heERpc3RTcSA9IGRpc3RTcTtcbiAgICAgICAgICAgIG1heE5keCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgdGhhdCBwb2ludCBpcyB0b28gZmFyLCBzcGxpdFxuICAgIGlmIChNYXRoLnNxcnQobWF4RGlzdFNxKSA+IGVwc2lsb24pIHtcbiAgICAgICAgc2ltcGxpZnlQb2ludHMocG9pbnRzLCBzdGFydCwgbWF4TmR4ICsgMSwgZXBzaWxvbiwgb3V0UG9pbnRzKTtcbiAgICAgICAgc2ltcGxpZnlQb2ludHMocG9pbnRzLCBtYXhOZHgsIGVuZCwgZXBzaWxvbiwgb3V0UG9pbnRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghb3V0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgb3V0UG9pbnRzLnB1c2gocyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0UG9pbnRzLnB1c2goZSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRQb2ludHM7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzT25CZXppZXJDdXJ2ZXMocG9pbnRzLCB0b2xlcmFuY2UgPSAwLjE1LCBkaXN0YW5jZSkge1xuICAgIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICAgIGNvbnN0IG51bVNlZ21lbnRzID0gKHBvaW50cy5sZW5ndGggLSAxKSAvIDM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TZWdtZW50czsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGkgKiAzO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhwb2ludHMsIG9mZnNldCwgdG9sZXJhbmNlLCBuZXdQb2ludHMpO1xuICAgIH1cbiAgICBpZiAoZGlzdGFuY2UgJiYgZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgIHJldHVybiBzaW1wbGlmeVBvaW50cyhuZXdQb2ludHMsIDAsIG5ld1BvaW50cy5sZW5ndGgsIGRpc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1BvaW50cztcbn1cbiIsImNvbnN0IENPTU1BTkQgPSAwO1xuY29uc3QgTlVNQkVSID0gMTtcbmNvbnN0IEVPRCA9IDI7XG5jb25zdCBQQVJBTVMgPSB7IEE6IDcsIGE6IDcsIEM6IDYsIGM6IDYsIEg6IDEsIGg6IDEsIEw6IDIsIGw6IDIsIE06IDIsIG06IDIsIFE6IDQsIHE6IDQsIFM6IDQsIHM6IDQsIFQ6IDIsIHQ6IDIsIFY6IDEsIHY6IDEsIFo6IDAsIHo6IDAgfTtcbmZ1bmN0aW9uIHRva2VuaXplKGQpIHtcbiAgICBjb25zdCB0b2tlbnMgPSBuZXcgQXJyYXkoKTtcbiAgICB3aGlsZSAoZCAhPT0gJycpIHtcbiAgICAgICAgaWYgKGQubWF0Y2goL14oWyBcXHRcXHJcXG4sXSspLykpIHtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkLm1hdGNoKC9eKFthQWNDaEhsTG1NcVFzU3RUdlZ6Wl0pLykpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogQ09NTUFORCwgdGV4dDogUmVnRXhwLiQxIH07XG4gICAgICAgICAgICBkID0gZC5zdWJzdHIoUmVnRXhwLiQxLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZC5tYXRjaCgvXigoWy0rXT9bMC05XSsoXFwuWzAtOV0qKT98Wy0rXT9cXC5bMC05XSspKFtlRV1bLStdP1swLTldKyk/KS8pKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aF0gPSB7IHR5cGU6IE5VTUJFUiwgdGV4dDogYCR7cGFyc2VGbG9hdChSZWdFeHAuJDEpfWAgfTtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aF0gPSB7IHR5cGU6IEVPRCwgdGV4dDogJycgfTtcbiAgICByZXR1cm4gdG9rZW5zO1xufVxuZnVuY3Rpb24gaXNUeXBlKHRva2VuLCB0eXBlKSB7XG4gICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IHR5cGU7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQYXRoKGQpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplKGQpO1xuICAgIGxldCBtb2RlID0gJ0JPRCc7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaW5kZXhdO1xuICAgIHdoaWxlICghaXNUeXBlKHRva2VuLCBFT0QpKSB7XG4gICAgICAgIGxldCBwYXJhbXNDb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ0JPRCcpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50ZXh0ID09PSAnTScgfHwgdG9rZW4udGV4dCA9PT0gJ20nKSB7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBwYXJhbXNDb3VudCA9IFBBUkFNU1t0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgICAgICBtb2RlID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBhdGgoJ00wLDAnICsgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNUeXBlKHRva2VuLCBOVU1CRVIpKSB7XG4gICAgICAgICAgICBwYXJhbXNDb3VudCA9IFBBUkFNU1ttb2RlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBwYXJhbXNDb3VudCA9IFBBUkFNU1t0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgIG1vZGUgPSB0b2tlbi50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaW5kZXggKyBwYXJhbXNDb3VudCkgPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBpbmRleCArIHBhcmFtc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1iZVRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpc1R5cGUobnVtYmVUb2tlbiwgTlVNQkVSKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbcGFyYW1zLmxlbmd0aF0gPSArbnVtYmVUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJhbSBub3QgYSBudW1iZXI6ICcgKyBtb2RlICsgJywnICsgbnVtYmVUb2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFBBUkFNU1ttb2RlXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0geyBrZXk6IG1vZGUsIGRhdGE6IHBhcmFtcyB9O1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gcGFyYW1zQ291bnQ7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnTScpXG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPSAnTCc7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdtJylcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9ICdsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQ6ICcgKyBtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGF0aCBkYXRhIGVuZGVkIHNob3J0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlZ21lbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShzZWdtZW50cykge1xuICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgIGZvciAoY29uc3QgeyBrZXksIGRhdGEgfSBvZiBzZWdtZW50cykge1xuICAgICAgICB0b2tlbnMucHVzaChrZXkpO1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChkYXRhWzBdLCBgJHtkYXRhWzFdfSxgLCBkYXRhWzJdLCBgJHtkYXRhWzNdfSxgLCBkYXRhWzRdLCBkYXRhWzVdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1MnOlxuICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgIGNhc2UgJ3EnOlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGRhdGFbMF0sIGAke2RhdGFbMV19LGAsIGRhdGFbMl0sIGRhdGFbM10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCguLi5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG9rZW5zLmpvaW4oJyAnKTtcbn1cbiIsIi8vIFRyYW5zbGF0ZSByZWxhdGl2ZSBjb21tYW5kcyB0byBhYnNvbHV0ZSBjb21tYW5kc1xuZXhwb3J0IGZ1bmN0aW9uIGFic29sdXRpemUoc2VnbWVudHMpIHtcbiAgICBsZXQgY3ggPSAwLCBjeSA9IDA7XG4gICAgbGV0IHN1YnggPSAwLCBzdWJ5ID0gMDtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgW3N1YngsIHN1YnldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ20nOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ00nLCBkYXRhOiBbY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBzdWJ4ID0gY3g7XG4gICAgICAgICAgICAgICAgc3VieSA9IGN5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIFtjeCwgY3ldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2wnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVs0XTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1EnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3EnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3ZGF0YSA9IGRhdGEubWFwKChkLCBpKSA9PiAoaSAlIDIpID8gKGQgKyBjeSkgOiAoZCArIGN4KSk7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdRJywgZGF0YTogbmV3ZGF0YSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IG5ld2RhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBuZXdkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdBJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICBjeCArPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGN5ICs9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdBJywgZGF0YTogW2RhdGFbMF0sIGRhdGFbMV0sIGRhdGFbMl0sIGRhdGFbM10sIGRhdGFbNF0sIGN4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0gnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0gnLCBkYXRhOiBbY3hdIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdWJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgICAgIGN5ICs9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdWJywgZGF0YTogW2N5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1MnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1QnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1QnLCBkYXRhOiBbY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdaJywgZGF0YTogW10gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBzdWJ4O1xuICAgICAgICAgICAgICAgIGN5ID0gc3VieTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiLy8gTm9ybWFsaXplIHBhdGggdG8gaW5jbHVkZSBvbmx5IE0sIEwsIEMsIGFuZCBaIGNvbW1hbmRzXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHNlZ21lbnRzKSB7XG4gICAgY29uc3Qgb3V0ID0gW107XG4gICAgbGV0IGxhc3RUeXBlID0gJyc7XG4gICAgbGV0IGN4ID0gMCwgY3kgPSAwO1xuICAgIGxldCBzdWJ4ID0gMCwgc3VieSA9IDA7XG4gICAgbGV0IGxjeCA9IDAsIGxjeSA9IDA7XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ00nLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIFtzdWJ4LCBzdWJ5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBsY3ggPSBkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGxjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSCc6XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6IHtcbiAgICAgICAgICAgICAgICBsZXQgY3gxID0gMCwgY3kxID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFR5cGUgPT09ICdDJyB8fCBsYXN0VHlwZSA9PT0gJ1MnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN4MSA9IGN4ICsgKGN4IC0gbGN4KTtcbiAgICAgICAgICAgICAgICAgICAgY3kxID0gY3kgKyAoY3kgLSBsY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3gxID0gY3g7XG4gICAgICAgICAgICAgICAgICAgIGN5MSA9IGN5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBbY3gxLCBjeTEsIC4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgbGN5ID0gZGF0YVsxXTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnVCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbeCwgeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGxldCB4MSA9IDAsIHkxID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFR5cGUgPT09ICdRJyB8fCBsYXN0VHlwZSA9PT0gJ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHgxID0gY3ggKyAoY3ggLSBsY3gpO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IGN5ICsgKGN5IC0gbGN5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHgxID0gY3g7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gY3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN4MSA9IGN4ICsgMiAqICh4MSAtIGN4KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3kxID0gY3kgKyAyICogKHkxIC0gY3kpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeDIgPSB4ICsgMiAqICh4MSAtIHgpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTIgPSB5ICsgMiAqICh5MSAtIHkpIC8gMztcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBbY3gxLCBjeTEsIGN4MiwgY3kyLCB4LCB5XSB9KTtcbiAgICAgICAgICAgICAgICBsY3ggPSB4MTtcbiAgICAgICAgICAgICAgICBsY3kgPSB5MTtcbiAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgY3kgPSB5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbeDEsIHkxLCB4LCB5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgY3gxID0gY3ggKyAyICogKHgxIC0gY3gpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTEgPSBjeSArIDIgKiAoeTEgLSBjeSkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN4MiA9IHggKyAyICogKHgxIC0geCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MiA9IHkgKyAyICogKHkxIC0geSkgLyAzO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgY3gyLCBjeTIsIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IHgxO1xuICAgICAgICAgICAgICAgIGxjeSA9IHkxO1xuICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIxID0gTWF0aC5hYnMoZGF0YVswXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcjIgPSBNYXRoLmFicyhkYXRhWzFdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY29uc3QgbGFyZ2VBcmNGbGFnID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzd2VlcEZsYWcgPSBkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBkYXRhWzZdO1xuICAgICAgICAgICAgICAgIGlmIChyMSA9PT0gMCB8fCByMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBbY3gsIGN5LCB4LCB5LCB4LCB5XSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggIT09IHggfHwgY3kgIT09IHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnZlcyA9IGFyY1RvQ3ViaWNDdXJ2ZXMoY3gsIGN5LCB4LCB5LCByMSwgcjIsIGFuZ2xlLCBsYXJnZUFyY0ZsYWcsIHN3ZWVwRmxhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VydmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0MnLCBkYXRhOiBjdXJ2ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSB5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdaJywgZGF0YTogW10gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBzdWJ4O1xuICAgICAgICAgICAgICAgIGN5ID0gc3VieTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsYXN0VHlwZSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGRlZ1RvUmFkKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gKE1hdGguUEkgKiBkZWdyZWVzKSAvIDE4MDtcbn1cbmZ1bmN0aW9uIHJvdGF0ZSh4LCB5LCBhbmdsZVJhZCkge1xuICAgIGNvbnN0IFggPSB4ICogTWF0aC5jb3MoYW5nbGVSYWQpIC0geSAqIE1hdGguc2luKGFuZ2xlUmFkKTtcbiAgICBjb25zdCBZID0geCAqIE1hdGguc2luKGFuZ2xlUmFkKSArIHkgKiBNYXRoLmNvcyhhbmdsZVJhZCk7XG4gICAgcmV0dXJuIFtYLCBZXTtcbn1cbmZ1bmN0aW9uIGFyY1RvQ3ViaWNDdXJ2ZXMoeDEsIHkxLCB4MiwgeTIsIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnLCByZWN1cnNpdmUpIHtcbiAgICBjb25zdCBhbmdsZVJhZCA9IGRlZ1RvUmFkKGFuZ2xlKTtcbiAgICBsZXQgcGFyYW1zID0gW107XG4gICAgbGV0IGYxID0gMCwgZjIgPSAwLCBjeCA9IDAsIGN5ID0gMDtcbiAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICAgIFtmMSwgZjIsIGN4LCBjeV0gPSByZWN1cnNpdmU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBbeDEsIHkxXSA9IHJvdGF0ZSh4MSwgeTEsIC1hbmdsZVJhZCk7XG4gICAgICAgIFt4MiwgeTJdID0gcm90YXRlKHgyLCB5MiwgLWFuZ2xlUmFkKTtcbiAgICAgICAgY29uc3QgeCA9ICh4MSAtIHgyKSAvIDI7XG4gICAgICAgIGNvbnN0IHkgPSAoeTEgLSB5MikgLyAyO1xuICAgICAgICBsZXQgaCA9ICh4ICogeCkgLyAocjEgKiByMSkgKyAoeSAqIHkpIC8gKHIyICogcjIpO1xuICAgICAgICBpZiAoaCA+IDEpIHtcbiAgICAgICAgICAgIGggPSBNYXRoLnNxcnQoaCk7XG4gICAgICAgICAgICByMSA9IGggKiByMTtcbiAgICAgICAgICAgIHIyID0gaCAqIHIyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpZ24gPSAobGFyZ2VBcmNGbGFnID09PSBzd2VlcEZsYWcpID8gLTEgOiAxO1xuICAgICAgICBjb25zdCByMVBvdyA9IHIxICogcjE7XG4gICAgICAgIGNvbnN0IHIyUG93ID0gcjIgKiByMjtcbiAgICAgICAgY29uc3QgbGVmdCA9IHIxUG93ICogcjJQb3cgLSByMVBvdyAqIHkgKiB5IC0gcjJQb3cgKiB4ICogeDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSByMVBvdyAqIHkgKiB5ICsgcjJQb3cgKiB4ICogeDtcbiAgICAgICAgY29uc3QgayA9IHNpZ24gKiBNYXRoLnNxcnQoTWF0aC5hYnMobGVmdCAvIHJpZ2h0KSk7XG4gICAgICAgIGN4ID0gayAqIHIxICogeSAvIHIyICsgKHgxICsgeDIpIC8gMjtcbiAgICAgICAgY3kgPSBrICogLXIyICogeCAvIHIxICsgKHkxICsgeTIpIC8gMjtcbiAgICAgICAgZjEgPSBNYXRoLmFzaW4ocGFyc2VGbG9hdCgoKHkxIC0gY3kpIC8gcjIpLnRvRml4ZWQoOSkpKTtcbiAgICAgICAgZjIgPSBNYXRoLmFzaW4ocGFyc2VGbG9hdCgoKHkyIC0gY3kpIC8gcjIpLnRvRml4ZWQoOSkpKTtcbiAgICAgICAgaWYgKHgxIDwgY3gpIHtcbiAgICAgICAgICAgIGYxID0gTWF0aC5QSSAtIGYxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4MiA8IGN4KSB7XG4gICAgICAgICAgICBmMiA9IE1hdGguUEkgLSBmMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZjEgPCAwKSB7XG4gICAgICAgICAgICBmMSA9IE1hdGguUEkgKiAyICsgZjE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGYyIDwgMCkge1xuICAgICAgICAgICAgZjIgPSBNYXRoLlBJICogMiArIGYyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2VlcEZsYWcgJiYgZjEgPiBmMikge1xuICAgICAgICAgICAgZjEgPSBmMSAtIE1hdGguUEkgKiAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3dlZXBGbGFnICYmIGYyID4gZjEpIHtcbiAgICAgICAgICAgIGYyID0gZjIgLSBNYXRoLlBJICogMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGYgPSBmMiAtIGYxO1xuICAgIGlmIChNYXRoLmFicyhkZikgPiAoTWF0aC5QSSAqIDEyMCAvIDE4MCkpIHtcbiAgICAgICAgY29uc3QgZjJvbGQgPSBmMjtcbiAgICAgICAgY29uc3QgeDJvbGQgPSB4MjtcbiAgICAgICAgY29uc3QgeTJvbGQgPSB5MjtcbiAgICAgICAgaWYgKHN3ZWVwRmxhZyAmJiBmMiA+IGYxKSB7XG4gICAgICAgICAgICBmMiA9IGYxICsgKE1hdGguUEkgKiAxMjAgLyAxODApICogKDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZjIgPSBmMSArIChNYXRoLlBJICogMTIwIC8gMTgwKSAqICgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgeDIgPSBjeCArIHIxICogTWF0aC5jb3MoZjIpO1xuICAgICAgICB5MiA9IGN5ICsgcjIgKiBNYXRoLnNpbihmMik7XG4gICAgICAgIHBhcmFtcyA9IGFyY1RvQ3ViaWNDdXJ2ZXMoeDIsIHkyLCB4Mm9sZCwgeTJvbGQsIHIxLCByMiwgYW5nbGUsIDAsIHN3ZWVwRmxhZywgW2YyLCBmMm9sZCwgY3gsIGN5XSk7XG4gICAgfVxuICAgIGRmID0gZjIgLSBmMTtcbiAgICBjb25zdCBjMSA9IE1hdGguY29zKGYxKTtcbiAgICBjb25zdCBzMSA9IE1hdGguc2luKGYxKTtcbiAgICBjb25zdCBjMiA9IE1hdGguY29zKGYyKTtcbiAgICBjb25zdCBzMiA9IE1hdGguc2luKGYyKTtcbiAgICBjb25zdCB0ID0gTWF0aC50YW4oZGYgLyA0KTtcbiAgICBjb25zdCBoeCA9IDQgLyAzICogcjEgKiB0O1xuICAgIGNvbnN0IGh5ID0gNCAvIDMgKiByMiAqIHQ7XG4gICAgY29uc3QgbTEgPSBbeDEsIHkxXTtcbiAgICBjb25zdCBtMiA9IFt4MSArIGh4ICogczEsIHkxIC0gaHkgKiBjMV07XG4gICAgY29uc3QgbTMgPSBbeDIgKyBoeCAqIHMyLCB5MiAtIGh5ICogYzJdO1xuICAgIGNvbnN0IG00ID0gW3gyLCB5Ml07XG4gICAgbTJbMF0gPSAyICogbTFbMF0gLSBtMlswXTtcbiAgICBtMlsxXSA9IDIgKiBtMVsxXSAtIG0yWzFdO1xuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgcmV0dXJuIFttMiwgbTMsIG00XS5jb25jYXQocGFyYW1zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9IFttMiwgbTMsIG00XS5jb25jYXQocGFyYW1zKTtcbiAgICAgICAgY29uc3QgY3VydmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICBjb25zdCByMSA9IHJvdGF0ZShwYXJhbXNbaV1bMF0sIHBhcmFtc1tpXVsxXSwgYW5nbGVSYWQpO1xuICAgICAgICAgICAgY29uc3QgcjIgPSByb3RhdGUocGFyYW1zW2kgKyAxXVswXSwgcGFyYW1zW2kgKyAxXVsxXSwgYW5nbGVSYWQpO1xuICAgICAgICAgICAgY29uc3QgcjMgPSByb3RhdGUocGFyYW1zW2kgKyAyXVswXSwgcGFyYW1zW2kgKyAyXVsxXSwgYW5nbGVSYWQpO1xuICAgICAgICAgICAgY3VydmVzLnB1c2goW3IxWzBdLCByMVsxXSwgcjJbMF0sIHIyWzFdLCByM1swXSwgcjNbMV1dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VydmVzO1xuICAgIH1cbn1cbiIsImV4cG9ydCB7IHBhcnNlUGF0aCwgc2VyaWFsaXplIH0gZnJvbSAnLi9wYXJzZXIuanMnO1xuZXhwb3J0IHsgYWJzb2x1dGl6ZSB9IGZyb20gJy4vYWJzb2x1dGl6ZS5qcyc7XG5leHBvcnQgeyBub3JtYWxpemUgfSBmcm9tICcuL25vcm1hbGl6ZS5qcyc7XG4iLCJpbXBvcnQgeyBwb2ludHNPbkJlemllckN1cnZlcywgc2ltcGxpZnkgfSBmcm9tICdwb2ludHMtb24tY3VydmUnO1xuaW1wb3J0IHsgcGFyc2VQYXRoLCBhYnNvbHV0aXplLCBub3JtYWxpemUgfSBmcm9tICdwYXRoLWRhdGEtcGFyc2VyJztcbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPblBhdGgocGF0aCwgdG9sZXJhbmNlLCBkaXN0YW5jZSkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemUoYWJzb2x1dGl6ZShzZWdtZW50cykpO1xuICAgIGNvbnN0IHNldHMgPSBbXTtcbiAgICBsZXQgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGxldCBzdGFydCA9IFswLCAwXTtcbiAgICBsZXQgcGVuZGluZ0N1cnZlID0gW107XG4gICAgY29uc3QgYXBwZW5kUGVuZGluZ0N1cnZlID0gKCkgPT4ge1xuICAgICAgICBpZiAocGVuZGluZ0N1cnZlLmxlbmd0aCA+PSA0KSB7XG4gICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goLi4ucG9pbnRzT25CZXppZXJDdXJ2ZXMocGVuZGluZ0N1cnZlLCB0b2xlcmFuY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBwZW5kaW5nQ3VydmUgPSBbXTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGVuZFBlbmRpbmdQb2ludHMgPSAoKSA9PiB7XG4gICAgICAgIGFwcGVuZFBlbmRpbmdDdXJ2ZSgpO1xuICAgICAgICBpZiAoY3VycmVudFBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldHMucHVzaChjdXJyZW50UG9pbnRzKTtcbiAgICAgICAgICAgIGN1cnJlbnRQb2ludHMgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIGFwcGVuZFBlbmRpbmdQb2ludHMoKTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtkYXRhWzBdLCBkYXRhWzFdXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBvaW50cy5wdXNoKFtkYXRhWzBdLCBkYXRhWzFdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdDdXJ2ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gY3VycmVudFBvaW50cy5sZW5ndGggPyBjdXJyZW50UG9pbnRzW2N1cnJlbnRQb2ludHMubGVuZ3RoIC0gMV0gOiBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2xhc3RQb2ludFswXSwgbGFzdFBvaW50WzFdXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBlbmRpbmdDdXJ2ZS5wdXNoKFtkYXRhWzBdLCBkYXRhWzFdXSk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2RhdGFbMl0sIGRhdGFbM11dKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbZGF0YVs0XSwgZGF0YVs1XV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBvaW50cy5wdXNoKFtzdGFydFswXSwgc3RhcnRbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmRQZW5kaW5nUG9pbnRzKCk7XG4gICAgaWYgKCFkaXN0YW5jZSkge1xuICAgICAgICByZXR1cm4gc2V0cztcbiAgICB9XG4gICAgY29uc3Qgb3V0ID0gW107XG4gICAgZm9yIChjb25zdCBzZXQgb2Ygc2V0cykge1xuICAgICAgICBjb25zdCBzaW1wbGlmaWVkU2V0ID0gc2ltcGxpZnkoc2V0LCBkaXN0YW5jZSk7XG4gICAgICAgIGlmIChzaW1wbGlmaWVkU2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgb3V0LnB1c2goc2ltcGxpZmllZFNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImltcG9ydCB7IG1hdDQgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XG5pbXBvcnQgeyBkaW1lbnNpb25zRnJvbVBvaW50cyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgRXhjYWxpZHJhd1NjZW5lIGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdTY2VuZVwiO1xuaW1wb3J0IEdyb3VwLCB7IGdldEdyb3VwQXR0cnMgfSBmcm9tIFwiLi9lbGVtZW50cy9Hcm91cFwiO1xuaW1wb3J0IHtcbiAgRXhjYWxpZHJhd0VsZW1lbnRCYXNlLFxuICBFeGNhbGlkcmF3UmVjdGFuZ2xlLFxuICBFeGNhbGlkcmF3RWxsaXBzZSxcbiAgRXhjYWxpZHJhd0xpbmUsXG4gIEV4Y2FsaWRyYXdEcmF3LFxuICBjcmVhdGVFeFJlY3QsXG4gIGNyZWF0ZUV4RWxsaXBzZSxcbiAgY3JlYXRlRXhMaW5lLFxuICBjcmVhdGVFeERyYXcsXG4gIFBvaW50LFxufSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuaW1wb3J0IHtcbiAgcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzLFxuICBmaWx0ZXJBdHRyc1RvRWxlbWVudFZhbHVlcyxcbiAgcG9pbnRzQXR0clRvUG9pbnRzLFxuICBoYXMsXG4gIGdldCxcbiAgZ2V0TnVtLFxufSBmcm9tIFwiLi9hdHRyaWJ1dGVzXCI7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm1NYXRyaXgsIHRyYW5zZm9ybVBvaW50cyB9IGZyb20gXCIuL3RyYW5zZm9ybVwiO1xuaW1wb3J0IHsgcG9pbnRzT25QYXRoIH0gZnJvbSBcInBvaW50cy1vbi1wYXRoXCI7XG5pbXBvcnQgeyByYW5kb21JZCwgZ2V0V2luZGluZ09yZGVyIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgU1VQUE9SVEVEX1RBR1MgPSBbXG4gIFwic3ZnXCIsXG4gIFwicGF0aFwiLFxuICBcImdcIixcbiAgXCJ1c2VcIixcbiAgXCJjaXJjbGVcIixcbiAgXCJlbGxpcHNlXCIsXG4gIFwicmVjdFwiLFxuICBcInBvbHlsaW5lXCIsXG4gIFwicG9seWdvblwiLFxuXTtcblxuY29uc3Qgbm9kZVZhbGlkYXRvciA9IChub2RlOiBFbGVtZW50KTogbnVtYmVyID0+IHtcbiAgaWYgKFNVUFBPUlRFRF9UQUdTLmluY2x1ZGVzKG5vZGUudGFnTmFtZSkpIHtcbiAgICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUO1xuICB9XG5cbiAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmVlV2Fsa2VyKGRvbTogTm9kZSk6IFRyZWVXYWxrZXIge1xuICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihkb20sIE5vZGVGaWx0ZXIuU0hPV19BTEwsIHtcbiAgICBhY2NlcHROb2RlOiBub2RlVmFsaWRhdG9yLFxuICB9KTtcbn1cblxudHlwZSBXYWxrZXJBcmdzID0ge1xuICByb290OiBEb2N1bWVudDtcbiAgdHc6IFRyZWVXYWxrZXI7XG4gIHNjZW5lOiBFeGNhbGlkcmF3U2NlbmU7XG4gIGdyb3VwczogR3JvdXBbXTtcbn07XG5cbmNvbnN0IHByZXNBdHRycyA9IChcbiAgZWw6IEVsZW1lbnQsXG4gIGdyb3VwczogR3JvdXBbXSxcbik6IFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPiA9PiB7XG4gIHJldHVybiB7XG4gICAgLi4uZ2V0R3JvdXBBdHRycyhncm91cHMpLFxuICAgIC4uLnByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gICAgLi4uZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICB9O1xufTtcblxuY29uc3Qgc2tpcHBlZFVzZUF0dHJzID0gW1wiaWRcIl07XG5jb25zdCBhbGx3YXlzUGFzc2VkVXNlQXR0cnMgPSBbXG4gIFwieFwiLFxuICBcInlcIixcbiAgXCJ3aWR0aFwiLFxuICBcImhlaWdodFwiLFxuICBcImhyZWZcIixcbiAgXCJ4bGluazpocmVmXCIsXG5dO1xuXG4vKlxuICBcIk1vc3QgYXR0cmlidXRlcyBvbiB1c2UgZG8gbm90IG92ZXJyaWRlIHRob3NlIGFscmVhZHkgb24gdGhlIGVsZW1lbnRcbiAgcmVmZXJlbmNlZCBieSB1c2UuIChUaGlzIGRpZmZlcnMgZnJvbSBob3cgQ1NTIHN0eWxlIGF0dHJpYnV0ZXMgb3ZlcnJpZGVcbiAgdGhvc2Ugc2V0ICdlYXJsaWVyJyBpbiB0aGUgY2FzY2FkZSkuIE9ubHkgdGhlIGF0dHJpYnV0ZXMgeCwgeSwgd2lkdGgsXG4gIGhlaWdodCBhbmQgaHJlZiBvbiB0aGUgdXNlIGVsZW1lbnQgd2lsbCBvdmVycmlkZSB0aG9zZSBzZXQgb24gdGhlXG4gIHJlZmVyZW5jZWQgZWxlbWVudC4gSG93ZXZlciwgYW55IG90aGVyIGF0dHJpYnV0ZXMgbm90IHNldCBvbiB0aGUgcmVmZXJlbmNlZFxuICBlbGVtZW50IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgdXNlIGVsZW1lbnQuXCJcblxuICBTaXR1YXRpb24gMTogQXR0ciBpcyBzZXQgb24gZGVmRWwsIE5PVCBvbiB1c2VFbFxuICAgIC0gcmVzdWx0OiB1c2UgZGVmRWwgYXR0clxuICBTaXR1YXRpb24gMjogQXR0ciBpcyBvbiB1c2VFbCwgTk9UIG9uIGRlZkVsXG4gICAgLSByZXN1bHQ6IHVzZSB0aGUgdXNlRWwgYXR0clxuICBTaXR1YXRpb24gMzogQXR0ciBpcyBvbiBib3RoIHVzZUVsIGFuZCBkZWZFbFxuICAgIC0gcmVzdWx0OiB1c2UgdGhlIGRlZkVsIGF0dHIgKFVubGVzcyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBocmVmLCB4bGluazpocmVmKVxuKi9cbmNvbnN0IGdldERlZkVsV2l0aENvcnJlY3RBdHRycyA9IChkZWZFbDogRWxlbWVudCwgdXNlRWw6IEVsZW1lbnQpOiBFbGVtZW50ID0+IHtcbiAgY29uc3QgZmluYWxFbCA9IFsuLi51c2VFbC5hdHRyaWJ1dGVzXS5yZWR1Y2UoKGVsLCBhdHRyKSA9PiB7XG4gICAgaWYgKHNraXBwZWRVc2VBdHRycy5pbmNsdWRlcyhhdHRyLnZhbHVlKSkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIC8vIERvZXMgZGVmRWwgaGF2ZSB0aGUgYXR0cj8gSWYgc28sIHVzZSBpdCwgZWxzZSB1c2UgdGhlIHVzZUVsIGF0dHJcbiAgICBpZiAoXG4gICAgICAhZGVmRWwuaGFzQXR0cmlidXRlKGF0dHIubmFtZSkgfHxcbiAgICAgIGFsbHdheXNQYXNzZWRVc2VBdHRycy5pbmNsdWRlcyhhdHRyLm5hbWUpXG4gICAgKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCB1c2VFbC5nZXRBdHRyaWJ1dGUoYXR0ci5uYW1lKSB8fCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LCBkZWZFbC5jbG9uZU5vZGUoKSBhcyBFbGVtZW50KTtcblxuICByZXR1cm4gZmluYWxFbDtcbn07XG5cbmNvbnN0IHdhbGtlcnMgPSB7XG4gIHN2ZzogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgZzogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICBjb25zdCBuZXh0QXJncyA9IHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICB0dzogY3JlYXRlVHJlZVdhbGtlcihhcmdzLnR3LmN1cnJlbnROb2RlKSxcbiAgICAgIGdyb3VwczogWy4uLmFyZ3MuZ3JvdXBzLCBuZXcgR3JvdXAoYXJncy50dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50KV0sXG4gICAgfTtcblxuICAgIHdhbGsobmV4dEFyZ3MsIG5leHRBcmdzLnR3Lm5leHROb2RlKCkpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHRTaWJsaW5nKCkpO1xuICB9LFxuXG4gIHVzZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJvb3QsIHR3LCBzY2VuZSB9ID0gYXJncztcbiAgICBjb25zdCB1c2VFbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBpZCA9IHVzZUVsLmdldEF0dHJpYnV0ZShcImhyZWZcIikgfHwgdXNlRWwuZ2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiKTtcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuYWJsZSB0byBnZXQgaWQgb2YgdXNlIGVsZW1lbnRcIik7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmRWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoaWQpO1xuXG4gICAgaWYgKCFkZWZFbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmFibGUgdG8gZmluZCBkZWYgZWxlbWVudCB3aXRoIGlkOiAke2lkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBTY2VuZSA9IG5ldyBFeGNhbGlkcmF3U2NlbmUoKTtcblxuICAgIGNvbnN0IGZpbmFsRWwgPSBnZXREZWZFbFdpdGhDb3JyZWN0QXR0cnMoZGVmRWwsIHVzZUVsKTtcblxuICAgIHdhbGsoXG4gICAgICB7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHNjZW5lOiB0ZW1wU2NlbmUsXG4gICAgICAgIHR3OiBjcmVhdGVUcmVlV2Fsa2VyKGZpbmFsRWwpLFxuICAgICAgfSxcbiAgICAgIGZpbmFsRWwsXG4gICAgKTtcblxuICAgIGNvbnN0IGV4RWwgPSB0ZW1wU2NlbmUuZWxlbWVudHMucG9wKCk7XG5cbiAgICBpZiAoIWV4RWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgZXggZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGV4RWwpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGNpcmNsZTogKGFyZ3M6IFdhbGtlckFyZ3MpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHR3LCBzY2VuZSwgZ3JvdXBzIH0gPSBhcmdzO1xuICAgIGNvbnN0IGVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IHIgPSBnZXROdW0oZWwsIFwiclwiLCAwKTtcbiAgICBjb25zdCBkID0gciAqIDI7XG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApICsgZ2V0TnVtKGVsLCBcImN4XCIsIDApIC0gcjtcbiAgICBjb25zdCB5ID0gZ2V0TnVtKGVsLCBcInlcIiwgMCkgKyBnZXROdW0oZWwsIFwiY3lcIiwgMCkgLSByO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXMoZCwgMCwgMCwgMCwgMCwgZCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICBjb25zdCBjaXJjbGU6IEV4Y2FsaWRyYXdFbGxpcHNlID0ge1xuICAgICAgLi4uY3JlYXRlRXhFbGxpcHNlKCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIGdyb3VwSWRzOiBncm91cHMubWFwKChnKSA9PiBnLmlkKSxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChjaXJjbGUpO1xuXG4gICAgd2FsayhhcmdzLCB0dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBlbGxpcHNlOiAoYXJnczogV2Fsa2VyQXJncyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgcnggPSBnZXROdW0oZWwsIFwicnhcIiwgMCk7XG4gICAgY29uc3QgcnkgPSBnZXROdW0oZWwsIFwicnlcIiwgMCk7XG4gICAgY29uc3QgY3ggPSBnZXROdW0oZWwsIFwiY3hcIiwgMCk7XG4gICAgY29uc3QgY3kgPSBnZXROdW0oZWwsIFwiY3lcIiwgMCk7XG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApICsgY3ggLSByeDtcbiAgICBjb25zdCB5ID0gZ2V0TnVtKGVsLCBcInlcIiwgMCkgKyBjeSAtIHJ5O1xuICAgIGNvbnN0IHcgPSByeCAqIDI7XG4gICAgY29uc3QgaCA9IHJ5ICogMjtcblxuICAgIGNvbnN0IG1hdCA9IGdldFRyYW5zZm9ybU1hdHJpeChlbCwgZ3JvdXBzKTtcblxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXModywgMCwgMCwgMCwgMCwgaCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICBjb25zdCBlbGxpcHNlOiBFeGNhbGlkcmF3RWxsaXBzZSA9IHtcbiAgICAgIC4uLmNyZWF0ZUV4RWxsaXBzZSgpLFxuICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgeDogcmVzdWx0WzEyXSxcbiAgICAgIHk6IHJlc3VsdFsxM10sXG4gICAgICB3aWR0aDogcmVzdWx0WzBdLFxuICAgICAgaGVpZ2h0OiByZXN1bHRbNV0sXG4gICAgICBncm91cElkczogZ3JvdXBzLm1hcCgoZykgPT4gZy5pZCksXG4gICAgfTtcblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2goZWxsaXBzZSk7XG5cbiAgICB3YWxrKGFyZ3MsIHR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGxpbmU6IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgLy8gdW5pbXBsZW1lbnRlZFxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBwb2x5Z29uOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzQXR0clRvUG9pbnRzKGVsKTtcblxuICAgIGNvbnN0IG1hdCA9IGdldFRyYW5zZm9ybU1hdHJpeChlbCwgZ3JvdXBzKTtcblxuICAgIGNvbnN0IHRyYW5zZm9ybWVkUG9pbnRzID0gdHJhbnNmb3JtUG9pbnRzKHBvaW50cywgbWF0KTtcblxuICAgIC8vIFRoZSBmaXJzdCBwb2ludCBuZWVkcyB0byBiZSAwLCAwLCBhbmQgYWxsIGZvbGxvd2luZyBwb2ludHNcbiAgICAvLyBhcmUgcmVsYXRpdmUgdG8gdGhlIGZpcnN0IHBvaW50LlxuICAgIGNvbnN0IHggPSB0cmFuc2Zvcm1lZFBvaW50c1swXVswXTtcbiAgICBjb25zdCB5ID0gdHJhbnNmb3JtZWRQb2ludHNbMF1bMV07XG5cbiAgICBjb25zdCByZWxhdGl2ZVBvaW50cyA9IHRyYW5zZm9ybWVkUG9pbnRzLm1hcCgoW194LCBfeV0pID0+IFtcbiAgICAgIF94IC0geCxcbiAgICAgIF95IC0geSxcbiAgICBdKTtcblxuICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IGRpbWVuc2lvbnNGcm9tUG9pbnRzKHJlbGF0aXZlUG9pbnRzKTtcblxuICAgIGNvbnN0IGxpbmU6IEV4Y2FsaWRyYXdMaW5lID0ge1xuICAgICAgLi4uY3JlYXRlRXhMaW5lKCksXG4gICAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgICAuLi5wcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cy5jb25jYXQoW1swLCAwXV0pLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChsaW5lKTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBwb2x5bGluZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHR3LCBzY2VuZSwgZ3JvdXBzIH0gPSBhcmdzO1xuICAgIGNvbnN0IGVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IG1hdCA9IGdldFRyYW5zZm9ybU1hdHJpeChlbCwgZ3JvdXBzKTtcblxuICAgIGNvbnN0IHBvaW50cyA9IHBvaW50c0F0dHJUb1BvaW50cyhlbCk7XG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludHMgPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXQpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBvaW50IG5lZWRzIHRvIGJlIDAsIDAsIGFuZCBhbGwgZm9sbG93aW5nIHBvaW50c1xuICAgIC8vIGFyZSByZWxhdGl2ZSB0byB0aGUgZmlyc3QgcG9pbnQuXG4gICAgY29uc3QgeCA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzBdO1xuICAgIGNvbnN0IHkgPSB0cmFuc2Zvcm1lZFBvaW50c1swXVsxXTtcblxuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdHJhbnNmb3JtZWRQb2ludHMubWFwKChbX3gsIF95XSkgPT4gW1xuICAgICAgX3ggLSB4LFxuICAgICAgX3kgLSB5LFxuICAgIF0pO1xuXG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHMocmVsYXRpdmVQb2ludHMpO1xuXG4gICAgY29uc3QgaGFzRmlsbCA9IGhhcyhlbCwgXCJmaWxsXCIpO1xuICAgIGNvbnN0IGZpbGwgPSBnZXQoZWwsIFwiZmlsbFwiKTtcblxuICAgIGNvbnN0IHNob3VsZEZpbGwgPSAhaGFzRmlsbCB8fCAoaGFzRmlsbCAmJiBmaWxsICE9PSBcIm5vbmVcIik7XG5cbiAgICBjb25zdCBsaW5lOiBFeGNhbGlkcmF3TGluZSA9IHtcbiAgICAgIC4uLmNyZWF0ZUV4TGluZSgpLFxuICAgICAgLi4uZ2V0R3JvdXBBdHRycyhncm91cHMpLFxuICAgICAgLi4ucHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsKSxcbiAgICAgIHBvaW50czogcmVsYXRpdmVQb2ludHMuY29uY2F0KHNob3VsZEZpbGwgPyBbWzAsIDBdXSA6IFtdKSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgfTtcblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2gobGluZSk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgcmVjdDogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHR3LCBzY2VuZSwgZ3JvdXBzIH0gPSBhcmdzO1xuICAgIGNvbnN0IGVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IHggPSBnZXROdW0oZWwsIFwieFwiLCAwKTtcbiAgICBjb25zdCB5ID0gZ2V0TnVtKGVsLCBcInlcIiwgMCk7XG4gICAgY29uc3QgdyA9IGdldE51bShlbCwgXCJ3aWR0aFwiLCAwKTtcbiAgICBjb25zdCBoID0gZ2V0TnVtKGVsLCBcImhlaWdodFwiLCAwKTtcblxuICAgIGNvbnN0IG1hdCA9IGdldFRyYW5zZm9ybU1hdHJpeChlbCwgZ3JvdXBzKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBtID0gbWF0NC5mcm9tVmFsdWVzKHcsIDAsIDAsIDAsIDAsIGgsIDAsIDAsIDAsIDAsIDEsIDAsIHgsIHksIDAsIDEpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gbWF0NC5tdWx0aXBseShtYXQ0LmNyZWF0ZSgpLCBtYXQsIG0pO1xuXG4gICAgLypcbiAgICBOT1RFOiBDdXJyZW50bHkgdGhlcmUgZG9lc24ndCBzZWVtIHRvIGJlIGEgd2F5IHRvIHNwZWNpZnkgdGhlIGJvcmRlclxuICAgICAgICAgIHJhZGl1cyBvZiBhIHJlY3Qgd2l0aGluIEV4Y2FsaWRyYXcuIFRoaXMgbWVhbnMgdGhhdCBhdHRyaWJ1dGVzXG4gICAgICAgICAgcnggYW5kIHJ5IGNhbid0IGJlIHVzZWQuXG4gICAgKi9cbiAgICBjb25zdCBpc1JvdW5kID0gZWwuaGFzQXR0cmlidXRlKFwicnhcIikgfHwgZWwuaGFzQXR0cmlidXRlKFwicnlcIik7XG5cbiAgICBjb25zdCByZWN0OiBFeGNhbGlkcmF3UmVjdGFuZ2xlID0ge1xuICAgICAgLi4uY3JlYXRlRXhSZWN0KCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIHN0cm9rZVNoYXJwbmVzczogaXNSb3VuZCA/IFwicm91bmRcIiA6IFwic2hhcnBcIixcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChyZWN0KTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBwYXRoOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzT25QYXRoKGdldChlbCwgXCJkXCIpKTtcblxuICAgIGNvbnN0IGZpbGxDb2xvciA9IGdldChlbCwgXCJmaWxsXCIsIFwiYmxhY2tcIik7XG4gICAgY29uc3QgZmlsbFJ1bGUgPSBnZXQoZWwsIFwiZmlsbC1ydWxlXCIsIFwibm9uemVyb1wiKTtcblxuICAgIGxldCBlbGVtZW50czogRXhjYWxpZHJhd0RyYXdbXSA9IFtdO1xuICAgIGxldCBsb2NhbEdyb3VwID0gcmFuZG9tSWQoKTtcblxuICAgIHN3aXRjaCAoZmlsbFJ1bGUpIHtcbiAgICAgIGNhc2UgXCJub256ZXJvXCI6XG4gICAgICAgIGxldCBpbml0aWFsV2luZGluZ09yZGVyID0gXCJjbG9ja3dpc2VcIjtcblxuICAgICAgICBlbGVtZW50cyA9IHBvaW50cy5tYXAoXG4gICAgICAgICAgKHBvaW50QXJyLCBpZHgpOiBFeGNhbGlkcmF3RHJhdyA9PiB7XG4gICAgICAgICAgICBjb25zdCB0UG9pbnRzOiBQb2ludFtdID0gdHJhbnNmb3JtUG9pbnRzKHBvaW50QXJyLCBtYXQ0LmNsb25lKG1hdCkpO1xuICAgICAgICAgICAgY29uc3QgeCA9IHRQb2ludHNbMF1bMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gdFBvaW50c1swXVsxXTtcblxuICAgICAgICAgICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHModFBvaW50cyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdFBvaW50cy5tYXAoXG4gICAgICAgICAgICAgIChbX3gsIF95XSk6IFBvaW50ID0+IFtfeCAtIHgsIF95IC0geV0sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB3aW5kaW5nT3JkZXIgPSBnZXRXaW5kaW5nT3JkZXIocmVsYXRpdmVQb2ludHMpO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICBpbml0aWFsV2luZGluZ09yZGVyID0gd2luZGluZ09yZGVyO1xuICAgICAgICAgICAgICBsb2NhbEdyb3VwID0gcmFuZG9tSWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGJhY2tncm91bmRDb2xvciA9IGZpbGxDb2xvcjtcbiAgICAgICAgICAgIGlmIChpbml0aWFsV2luZGluZ09yZGVyICE9PSB3aW5kaW5nT3JkZXIpIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gXCIjRkZGRkZGXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUV4RHJhdygpLFxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMCxcbiAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IFwiIzAwMDAwMDAwXCIsXG4gICAgICAgICAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgICAgICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICB4OiB4ICsgZ2V0TnVtKGVsLCBcInhcIiwgMCksXG4gICAgICAgICAgICAgIHk6IHkgKyBnZXROdW0oZWwsIFwieVwiLCAwKSxcbiAgICAgICAgICAgICAgZ3JvdXBJZHM6IFtsb2NhbEdyb3VwXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXZlbm9kZFwiOlxuICAgICAgICBlbGVtZW50cyA9IHBvaW50cy5tYXAoXG4gICAgICAgICAgKHBvaW50QXJyLCBpZHgpOiBFeGNhbGlkcmF3RHJhdyA9PiB7XG4gICAgICAgICAgICBjb25zdCB0UG9pbnRzOiBQb2ludFtdID0gdHJhbnNmb3JtUG9pbnRzKHBvaW50QXJyLCBtYXQ0LmNsb25lKG1hdCkpO1xuICAgICAgICAgICAgY29uc3QgeCA9IHRQb2ludHNbMF1bMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gdFBvaW50c1swXVsxXTtcblxuICAgICAgICAgICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHModFBvaW50cyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdFBvaW50cy5tYXAoXG4gICAgICAgICAgICAgIChbX3gsIF95XSk6IFBvaW50ID0+IFtfeCAtIHgsIF95IC0geV0sXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5jcmVhdGVFeERyYXcoKSxcbiAgICAgICAgICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgICAgICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICB4OiB4ICsgZ2V0TnVtKGVsLCBcInhcIiwgMCksXG4gICAgICAgICAgICAgIHk6IHkgKyBnZXROdW0oZWwsIFwieVwiLCAwKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cblxuICAgIHNjZW5lLmVsZW1lbnRzID0gc2NlbmUuZWxlbWVudHMuY29uY2F0KGVsZW1lbnRzKTtcblxuICAgIHdhbGsoYXJncywgdHcubmV4dE5vZGUoKSk7XG4gIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gd2FsayhhcmdzOiBXYWxrZXJBcmdzLCBuZXh0Tm9kZTogTm9kZSB8IG51bGwpOiB2b2lkIHtcbiAgaWYgKCFuZXh0Tm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG5vZGVOYW1lID0gbmV4dE5vZGUubm9kZU5hbWUgYXMga2V5b2YgdHlwZW9mIHdhbGtlcnM7XG4gIGlmICh3YWxrZXJzW25vZGVOYW1lXSkge1xuICAgIHdhbGtlcnNbbm9kZU5hbWVdKGFyZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgRXhjYWxpZHJhd1NjZW5lIGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdTY2VuZVwiO1xuaW1wb3J0IEdyb3VwIGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQgeyBjcmVhdGVUcmVlV2Fsa2VyLCB3YWxrIH0gZnJvbSBcIi4vd2Fsa2VyXCI7XG5cbmV4cG9ydCB0eXBlIENvbnZlcnNpb25SZXN1bHQgPSB7XG4gIGhhc0Vycm9yczogYm9vbGVhbjtcbiAgZXJyb3JzOiBOb2RlTGlzdE9mPEVsZW1lbnQ+IHwgbnVsbDtcbiAgY29udGVudDogYW55OyAvLyBTZXJpYWxpemVkIEV4Y2FsaWRyYXcgSlNPTlxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnQgPSAoc3ZnU3RyaW5nOiBzdHJpbmcpOiBDb252ZXJzaW9uUmVzdWx0ID0+IHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBzdmdET00gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2Z1N0cmluZywgXCJpbWFnZS9zdmcreG1sXCIpO1xuXG4gIC8vIHdhcyB0aGVyZSBhIHBhcnNpbmcgZXJyb3I/XG4gIGNvbnN0IGVycm9yc0VsZW1lbnRzID0gc3ZnRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwYXJzZXJlcnJvclwiKTtcbiAgY29uc3QgaGFzRXJyb3JzID0gZXJyb3JzRWxlbWVudHMubGVuZ3RoID4gMDtcbiAgbGV0IGNvbnRlbnQgPSBudWxsO1xuXG4gIGlmIChoYXNFcnJvcnMpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJUaGVyZSB3ZXJlIGVycm9ycyB3aGlsZSBwYXJzaW5nIHRoZSBnaXZlbiBTVkc6IFwiLFxuICAgICAgWy4uLmVycm9yc0VsZW1lbnRzXS5tYXAoKGVsKSA9PiBlbC5pbm5lckhUTUwpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdHcgPSBjcmVhdGVUcmVlV2Fsa2VyKHN2Z0RPTSk7XG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgRXhjYWxpZHJhd1NjZW5lKCk7XG4gICAgY29uc3QgZ3JvdXBzOiBHcm91cFtdID0gW107XG5cbiAgICB3YWxrKHsgdHcsIHNjZW5lLCBncm91cHMsIHJvb3Q6IHN2Z0RPTSB9LCB0dy5uZXh0Tm9kZSgpKTtcblxuICAgIGNvbnRlbnQgPSBzY2VuZS50b0V4SlNPTigpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoYXNFcnJvcnMsXG4gICAgZXJyb3JzOiBoYXNFcnJvcnMgPyBlcnJvcnNFbGVtZW50cyA6IG51bGwsXG4gICAgY29udGVudCxcbiAgfTtcbn07XG4iLCJpbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcIi4vcGFyc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///415\n')},792:function _(module){eval("/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    0;\n}(this, (function () { 'use strict';\n\n    var limit = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var clip_rgb = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {\n        var name = list[i];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var unpack = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var last = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb,\n    \tlimit: limit,\n    \ttype: type,\n    \tunpack: unpack,\n    \tlast: last,\n    \tPI: PI,\n    \tTWOPI: PI*2,\n    \tPITHIRD: PI/3,\n    \tDEG2RAD: PI / 180,\n    \tRAD2DEG: 180 / PI\n    };\n\n    var input = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$1 = utils.last;\n    var clip_rgb$1 = utils.clip_rgb;\n    var type$1 = utils.type;\n\n\n    var Color = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$1(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$1(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!input.sorted) {\n                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (input.format[mode]) {\n            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$1(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color.prototype.toString = function toString () {\n        if (type$1(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color;\n\n    var chroma = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));\n    };\n\n    chroma.Color = Color_1;\n    chroma.version = '2.1.1';\n\n    var chroma_1 = chroma;\n\n    var unpack$1 = utils.unpack;\n    var max = Math.max;\n\n    var rgb2cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$1(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max(r,max(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk;\n\n    var unpack$2 = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$2(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var unpack$3 = utils.unpack;\n    var type$2 = utils.type;\n\n\n\n    Color_1.prototype.cmyk = function() {\n        return rgb2cmyk_1(this._rgb);\n    };\n\n    chroma_1.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input.format.cmyk = cmyk2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'cmyk');\n            if (type$2(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$4 = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$4(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css;\n\n    var unpack$5 = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$5(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl;\n\n    var unpack$6 = utils.unpack;\n    var last$3 = utils.last;\n\n\n    var round = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$6(args, 'rgba');\n        var mode = last$3(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css_1(rgb2hsl_1(rgba), mode);\n        }\n        rgba[0] = round(rgba[0]);\n        rgba[1] = round(rgba[1]);\n        rgba[2] = round(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css;\n\n    var unpack$7 = utils.unpack;\n    var round$1 = Math.round;\n\n    var hsl2rgb = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$7(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$2 = Math.round;\n\n    var css2rgb = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input.format.named) {\n            try {\n                return input.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb_1(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb_1(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb;\n\n    var type$3 = utils.type;\n\n\n\n\n    Color_1.prototype.css = function(mode) {\n        return rgb2css_1(this._rgb, mode);\n    };\n\n    chroma_1.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));\n    };\n\n    input.format.css = css2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    input.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$8(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma_1.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color_1.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$9 = utils.unpack;\n\n    var rgb2hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$9(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg;\n\n    var unpack$a = utils.unpack;\n    var floor = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$a(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$b = utils.unpack;\n    var type$4 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hcg = function() {\n        return rgb2hcg_1(this._rgb);\n    };\n\n    chroma_1.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input.format.hcg = hcg2rgb_1;\n\n    input.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$b(args, 'hcg');\n            if (type$4(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$c = utils.unpack;\n    var last$4 = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$c(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last$4(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb;\n\n    var type$5 = utils.type;\n\n\n\n\n    Color_1.prototype.hex = function(mode) {\n        return rgb2hex_1(this._rgb, mode);\n    };\n\n    chroma_1.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));\n    };\n\n    input.format.hex = hex2rgb_1;\n    input.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$d = utils.unpack;\n    var TWOPI = utils.TWOPI;\n    var min = Math.min;\n    var sqrt = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI - h;\n            }\n            h /= TWOPI;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi;\n\n    var unpack$e = utils.unpack;\n    var limit$1 = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$e(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit$1(i*r*3);\n        g = limit$1(i*g*3);\n        b = limit$1(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$f = utils.unpack;\n    var type$6 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsi = function() {\n        return rgb2hsi_1(this._rgb);\n    };\n\n    chroma_1.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input.format.hsi = hsi2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'hsi');\n            if (type$6(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$g = utils.unpack;\n    var type$7 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsl = function() {\n        return rgb2hsl_1(this._rgb);\n    };\n\n    chroma_1.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input.format.hsl = hsl2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$g(args, 'hsl');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$h = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$h(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv = rgb2hsl$1;\n\n    var unpack$i = utils.unpack;\n    var floor$1 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$i(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$1(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$j = utils.unpack;\n    var type$8 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma_1.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input.format.hsv = hsv2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$j(args, 'hsv');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var unpack$k = utils.unpack;\n    var pow = Math.pow;\n\n    var rgb2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$k(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > labConstants.t3) { return pow(t, 1 / 3); }\n        return t / labConstants.t2 + labConstants.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab;\n\n    var unpack$l = utils.unpack;\n    var pow$1 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$l(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = labConstants.Yn * lab_xyz(y);\n        x = labConstants.Xn * lab_xyz(x);\n        z = labConstants.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$9 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lab = function() {\n        return rgb2lab_1(this._rgb);\n    };\n\n    chroma_1.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));\n    };\n\n    input.format.lab = lab2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'lab');\n            if (type$9(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$n = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$1 = Math.sqrt;\n    var atan2 = Math.atan2;\n    var round$4 = Math.round;\n\n    var lab2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$n(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$1(a * a + b * b);\n        var h = (atan2(b, a) * RAD2DEG + 360) % 360;\n        if (round$4(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch;\n\n    var unpack$o = utils.unpack;\n\n\n\n    var rgb2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab_1(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch_1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch;\n\n    var unpack$p = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin = Math.sin;\n    var cos$1 = Math.cos;\n\n    var lch2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$p(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$1(h) * c, sin(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab;\n\n    var unpack$q = utils.unpack;\n\n\n\n    var lch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$q(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab_1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb_1 (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb;\n\n    var unpack$r = utils.unpack;\n\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$r(args, 'hcl').reverse();\n        return lch2rgb_1.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$s = utils.unpack;\n    var type$a = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };\n    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };\n\n    chroma_1.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));\n    };\n    chroma_1.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input.format.lch = lch2rgb_1;\n    input.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$s(args, m);\n            if (type$a(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11;\n\n    var type$b = utils.type;\n\n\n\n\n\n    Color_1.prototype.name = function() {\n        var hex = rgb2hex_1(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$t = utils.unpack;\n\n    var rgb2num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$t(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num;\n\n    var type$c = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$c(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var type$d = utils.type;\n\n\n\n    Color_1.prototype.num = function() {\n        return rgb2num_1(this._rgb);\n    };\n\n    chroma_1.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));\n    };\n\n    input.format.num = num2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var unpack$u = utils.unpack;\n    var type$e = utils.type;\n    var round$5 = Math.round;\n\n    Color_1.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$5);\n    };\n\n    Color_1.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$5(v)) : v;\n        });\n    };\n\n    chroma_1.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$u(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$u(args, 'rgba');\n            if (type$e(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log = Math.log;\n\n    var temperature2rgb = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n\n    var unpack$v = utils.unpack;\n    var round$6 = Math.round;\n\n    var rgb2temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$v(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb_1(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round$6(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature;\n\n    Color_1.prototype.temp =\n    Color_1.prototype.kelvin =\n    Color_1.prototype.temperature = function() {\n        return rgb2temperature_1(this._rgb);\n    };\n\n    chroma_1.temp =\n    chroma_1.kelvin =\n    chroma_1.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));\n    };\n\n    input.format.temp =\n    input.format.kelvin =\n    input.format.temperature = temperature2rgb_1;\n\n    var type$f = utils.type;\n\n    Color_1.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$f(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    Color_1.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    Color_1.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= labConstants.Kn * amount;\n    \treturn new Color_1(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color_1.prototype.darker = Color_1.prototype.darken;\n    Color_1.prototype.brighter = Color_1.prototype.brighten;\n\n    Color_1.prototype.get = function(mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var type$g = utils.type;\n    var pow$2 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color_1.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$g(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color_1([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color_1([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();\n            return new Color_1(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator = {};\n\n    var type$h = utils.type;\n\n\n    var mix = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }\n        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    Color_1.prototype.mix =\n    Color_1.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    Color_1.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    Color_1.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += labConstants.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color_1(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var type$i = utils.type;\n\n    Color_1.prototype.set = function(mc, value, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) {\n                if (type$i(value) == 'string') {\n                    switch(value.charAt(0)) {\n                        case '+': src[i] += +value; break;\n                        case '-': src[i] += +value; break;\n                        case '*': src[i] *= +(value.substr(1)); break;\n                        case '/': src[i] /= +(value.substr(1)); break;\n                        default: src[i] = +value;\n                    }\n                } else if (type$i(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color_1(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var rgb$1 = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.rgb = rgb$1;\n\n    var sqrt$2 = Math.sqrt;\n    var pow$3 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color_1(\n            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),\n            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),\n            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.lrgb = lrgb;\n\n    var lab$1 = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator.lab = lab$1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1-(hue0+360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1+360-hue0;\n            } else{\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1-lbv0);\n        return new Color_1([hue, sat, lbv], m);\n    };\n\n    var lch$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator.lch = lch$1;\n    interpolator.hcl = lch$1;\n\n    var num$1 = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color_1(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator.num = num$1;\n\n    var hcg$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator.hcg = hcg$1;\n\n    var hsi$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator.hsi = hsi$1;\n\n    var hsl$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator.hsl = hsl$1;\n\n    var hsv$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator.hsv = hsv$1;\n\n    var clip_rgb$2 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$3 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$1 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$1(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$1(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$3(xyz[0]);\n        xyz[1] = sqrt$3(xyz[1]);\n        xyz[2] = sqrt$3(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color_1(clip_rgb$2(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n\n    var type$j = utils.type;\n\n    var pow$5 = Math.pow;\n\n    var scale = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma_1('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&\n                chroma_1.brewer[colors.toLowerCase()]) {\n                colors = chroma_1.brewer[colors.toLowerCase()];\n            }\n            if (type$j(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma_1(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$5(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$j(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$j(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma_1(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$j(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma_1.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma_1.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors, _pos);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$j(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma_1[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma_1(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n\n\n\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 5) {\n            var I0 = bezier(colors.slice(0, 3));\n            var I1 = bezier(colors.slice(2, 5));\n            I = function(t) {\n                if (t < 0.5) {\n                    return I0(t*2);\n                } else {\n                    return I1((t-0.5)*2);\n                }\n            };\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n\n\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma_1(top).rgb();\n            var c1 = chroma_1(bottom).rgb();\n            return chroma_1.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken$1 = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken$1));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$k = utils.type;\n    var clip_rgb$3 = utils.clip_rgb;\n    var TWOPI$2 = utils.TWOPI;\n    var pow$6 = Math.pow;\n    var sin$2 = Math.sin;\n    var cos$3 = Math.cos;\n\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$k(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));\n            var l = pow$6(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$3(a);\n            var sin_a = sin$2(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$k(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$k(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma_1.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var digits = '0123456789abcdef';\n\n    var floor$2 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$2(random() * 16));\n        }\n        return new Color_1(code, 'hex');\n    };\n\n    var log$1 = Math.log;\n    var pow$7 = Math.pow;\n    var floor$3 = Math.floor;\n    var abs = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log$1(min);\n            var max_log = Math.LOG10E * log$1(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor$3(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var sqrt$4 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var abs$1 = Math.abs;\n    var cos$4 = Math.cos;\n    var PI$2 = Math.PI;\n\n    var deltaE = function(a, b, L, C) {\n        if ( L === void 0 ) L=1;\n        if ( C === void 0 ) C=1;\n\n        // Delta E (CMC)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var c1 = sqrt$4((a1 * a1) + (b1 * b1));\n        var c2 = sqrt$4((a2 * a2) + (b2 * b2));\n        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));\n        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;\n        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;\n        while (h1 < 0) { h1 += 360; }\n        while (h1 >= 360) { h1 -= 360; }\n        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));\n        var c4 = c1 * c1 * c1 * c1;\n        var f = sqrt$4(c4 / (c4 + 1900.0));\n        var sh = sc * (((f * t) + 1.0) - f);\n        var delL = L1 - L2;\n        var delC = c1 - c2;\n        var delA = a1 - a2;\n        var delB = b1 - b2;\n        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);\n        var v1 = delL / (L * sl);\n        var v2 = delC / (C * sc);\n        var v3 = sh;\n        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));\n    };\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n\n\n\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {\n        var key = list$1[i$1];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --\x3e convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --\x3e modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma_1.average = average;\n    chroma_1.bezier = bezier_1;\n    chroma_1.blend = blend_1;\n    chroma_1.cubehelix = cubehelix;\n    chroma_1.mix = chroma_1.interpolate = mix;\n    chroma_1.random = random_1;\n    chroma_1.scale = scale;\n\n    // other utility methods\n    chroma_1.analyze = analyze_1.analyze;\n    chroma_1.contrast = contrast;\n    chroma_1.deltaE = deltaE;\n    chroma_1.distance = distance;\n    chroma_1.limits = analyze_1.limits;\n    chroma_1.valid = valid;\n\n    // scale\n    chroma_1.scales = scales;\n\n    // colors\n    chroma_1.colors = w3cx11_1;\n    chroma_1.brewer = colorbrewer_1;\n\n    var chroma_js = chroma_1;\n\n    return chroma_js;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9jaHJvbWEtanMvY2hyb21hLmpzPzYxNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLEtBQTREO0FBQ2hFLElBQUksQ0FDMkI7QUFDL0IsQ0FBQyxxQkFBcUI7O0FBRXRCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixNQUFNO0FBQzNCO0FBQ0EsaURBQWlELHFCQUFxQjtBQUN0RTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1SEFBdUgsaUJBQWlCO0FBQ3hJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLCtCQUErQix5Q0FBeUM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUNBQWlDLEVBQUU7QUFDaEUsMEJBQTBCLG1CQUFtQixFQUFFO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQztBQUNBLHdDQUF3Qyw4QkFBOEI7QUFDdEU7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixPQUFPO0FBQzlCLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEMsb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QixxQkFBcUI7QUFDbEQsNkJBQTZCLHVCQUF1QjtBQUNwRCw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw0QkFBNEIsT0FBTztBQUNuQywwQkFBMEIsVUFBVTtBQUNwQyx3QkFBd0IsVUFBVTtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEZBQTBGO0FBQzFGLGtHQUFrRztBQUNsRyxrR0FBa0c7QUFDbEcsa0dBQWtHO0FBQ2xHLGtHQUFrRztBQUNsRyxrR0FBa0c7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0Msc0JBQXNCO0FBQ3hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUVBQW1FO0FBQ25FO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZ0JBQWdCO0FBQ3JEO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQSx3Q0FBd0MsNkJBQTZCO0FBQ3JFLHdDQUF3Qyx1Q0FBdUM7O0FBRS9FO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSxFQUFFOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBLHFEQUFxRCxpQkFBaUI7QUFDdEU7O0FBRUEsc0NBQXNDLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixrQ0FBa0M7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxhQUFhO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDBCQUEwQjtBQUNsRSx3Q0FBd0MsMEJBQTBCO0FBQ2xFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixZQUFZO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELG1EQUFtRDtBQUNuRCwrREFBK0Q7QUFDL0QsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlEQUF5RCxZQUFZO0FBQ3JFLFNBQVM7QUFDVDtBQUNBLHlEQUF5RCxZQUFZO0FBQ3JFLFNBQVM7QUFDVDtBQUNBOztBQUVBLGdDQUFnQyxnQ0FBZ0M7QUFDaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixxREFBcUQsVUFBVSxFQUFFLEVBQUU7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Q0E7O0FBRUEscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOzs7OztBQUtBO0FBQ0EsNEJBQTRCLGtFQUFrRTtBQUM5RiwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3REFBd0QscUJBQXFCO0FBQzdFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiNzkyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbC5jaHJvbWEgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiAoeCwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKCBtaW4gPT09IHZvaWQgMCApIG1pbj0wO1xuICAgICAgICBpZiAoIG1heCA9PT0gdm9pZCAwICkgbWF4PTE7XG5cbiAgICAgICAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbiAgICB9O1xuXG4gICAgdmFyIGNsaXBfcmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgICAgICByZ2IuX2NsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgcmdiLl91bmNsaXBwZWQgPSByZ2Iuc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmdiW2ldIDwgMCB8fCByZ2JbaV0gPiAyNTUpIHsgcmdiLl9jbGlwcGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLy8gcG9ydGVkIGZyb20galF1ZXJ5J3MgJC50eXBlXG4gICAgdmFyIGNsYXNzVG9UeXBlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3RbaV07XG5cbiAgICAgICAgY2xhc3NUb1R5cGVbKFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIildID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2sgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUoYXJnc1swXSkgPT0gJ29iamVjdCcgJiYga2V5T3JkZXIpIHtcbiAgICBcdFx0cmV0dXJuIGtleU9yZGVyLnNwbGl0KCcnKVxuICAgIFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba10gIT09IHVuZGVmaW5lZDsgfSlcbiAgICBcdFx0XHQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBhcmdzWzBdW2tdOyB9KTtcbiAgICBcdH1cbiAgICBcdC8vIG90aGVyd2lzZSB3ZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICBcdC8vICh3aGljaCB3ZSBzdXBwb3NlIGlzIGFuIGFycmF5IG9mIGFyZ3MpXG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBhcmdzLmxlbmd0aC0xO1xuICAgICAgICBpZiAodHlwZShhcmdzW2xdKSA9PSAnc3RyaW5nJykgeyByZXR1cm4gYXJnc1tsXS50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiLFxuICAgIFx0bGltaXQ6IGxpbWl0LFxuICAgIFx0dHlwZTogdHlwZSxcbiAgICBcdHVucGFjazogdW5wYWNrLFxuICAgIFx0bGFzdDogbGFzdCxcbiAgICBcdFBJOiBQSSxcbiAgICBcdFRXT1BJOiBQSSoyLFxuICAgIFx0UElUSElSRDogUEkvMyxcbiAgICBcdERFRzJSQUQ6IFBJIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUElcbiAgICB9O1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgIFx0Zm9ybWF0OiB7fSxcbiAgICBcdGF1dG9kZXRlY3Q6IFtdXG4gICAgfTtcblxuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBjbGlwX3JnYiQxID0gdXRpbHMuY2xpcF9yZ2I7XG4gICAgdmFyIHR5cGUkMSA9IHV0aWxzLnR5cGU7XG5cblxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIENvbG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlJDEoYXJnc1swXSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgYXJndW1lbnQgaXMgYWxyZWFkeSBhIENvbG9yIGluc3RhbmNlXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgYXJndW1lbnQgY291bGQgYmUgdGhlIG1vZGVcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDEoYXJncyk7XG4gICAgICAgIHZhciBhdXRvZGV0ZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFtb2RlKSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaW5wdXQuc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2RldGVjdCA9IGlucHV0LmF1dG9kZXRlY3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiLnAgLSBhLnA7IH0pO1xuICAgICAgICAgICAgICAgIGlucHV0LnNvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvLWRldGVjdCBmb3JtYXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQuZm9ybWF0W21vZGVdKSB7XG4gICAgICAgICAgICB2YXIgcmdiID0gaW5wdXQuZm9ybWF0W21vZGVdLmFwcGx5KG51bGwsIGF1dG9kZXRlY3QgPyBhcmdzIDogYXJncy5zbGljZSgwLC0xKSk7XG4gICAgICAgICAgICBtZS5fcmdiID0gY2xpcF9yZ2IkMShyZ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdDogJythcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBhbHBoYSBjaGFubmVsXG4gICAgICAgIGlmIChtZS5fcmdiLmxlbmd0aCA9PT0gMykgeyBtZS5fcmdiLnB1c2goMSk7IH1cbiAgICB9O1xuXG4gICAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICBpZiAodHlwZSQxKHRoaXMuaGV4KSA9PSAnZnVuY3Rpb24nKSB7IHJldHVybiB0aGlzLmhleCgpOyB9XG4gICAgICAgIHJldHVybiAoXCJbXCIgKyAodGhpcy5fcmdiLmpvaW4oJywnKSkgKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHZhciBDb2xvcl8xID0gQ29sb3I7XG5cbiAgICB2YXIgY2hyb21hID0gZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBcdHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBjaHJvbWEuQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgfTtcblxuICAgIGNocm9tYS5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hLnZlcnNpb24gPSAnMi4xLjEnO1xuXG4gICAgdmFyIGNocm9tYV8xID0gY2hyb21hO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDEoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICByID0gciAvIDI1NTtcbiAgICAgICAgZyA9IGcgLyAyNTU7XG4gICAgICAgIGIgPSBiIC8gMjU1O1xuICAgICAgICB2YXIgayA9IDEgLSBtYXgocixtYXgoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIGNteWsycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skMihhcmdzLCAnY215aycpO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBtID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgayA9IGFyZ3NbM107XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAxO1xuICAgICAgICBpZiAoayA9PT0gMSkgeyByZXR1cm4gWzAsMCwwLGFscGhhXTsgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYyA+PSAxID8gMCA6IDI1NSAqICgxLWMpICogKDEtayksIC8vIHJcbiAgICAgICAgICAgIG0gPj0gMSA/IDAgOiAyNTUgKiAoMS1tKSAqICgxLWspLCAvLyBnXG4gICAgICAgICAgICB5ID49IDEgPyAwIDogMjU1ICogKDEteSkgKiAoMS1rKSwgLy8gYlxuICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgdmFyIGNteWsycmdiXzEgPSBjbXlrMnJnYjtcblxuICAgIHZhciB1bnBhY2skMyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQyID0gdXRpbHMudHlwZTtcblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5jbXlrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyY215a18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmNteWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjbXlrJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuY215ayA9IGNteWsycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQzKGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQyKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ0ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhzbGEgPSB1bnBhY2skNChhcmdzLCAnaHNsYScpO1xuICAgICAgICB2YXIgbW9kZSA9IGxhc3QkMihhcmdzKSB8fCAnbHNhJztcbiAgICAgICAgaHNsYVswXSA9IHJuZChoc2xhWzBdIHx8IDApO1xuICAgICAgICBoc2xhWzFdID0gcm5kKGhzbGFbMV0qMTAwKSArICclJztcbiAgICAgICAgaHNsYVsyXSA9IHJuZChoc2xhWzJdKjEwMCkgKyAnJSc7XG4gICAgICAgIGlmIChtb2RlID09PSAnaHNsYScgfHwgKGhzbGEubGVuZ3RoID4gMyAmJiBoc2xhWzNdPDEpKSB7XG4gICAgICAgICAgICBoc2xhWzNdID0gaHNsYS5sZW5ndGggPiAzID8gaHNsYVszXSA6IDE7XG4gICAgICAgICAgICBtb2RlID0gJ2hzbGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHNsYS5sZW5ndGggPSAzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobW9kZSArIFwiKFwiICsgKGhzbGEuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJjc3NfMSA9IGhzbDJjc3M7XG5cbiAgICB2YXIgdW5wYWNrJDUgPSB1dGlscy51bnBhY2s7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHNsKHIsZyxiKVxuICAgICAqIC0gcmdiMmhzbChyLGcsYixhKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGIsYV0pXG4gICAgICogLSByZ2IyaHNsKHtyLGcsYixhfSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbDtcblxuICAgIHZhciB1bnBhY2skNiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcblxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIC8qXG4gICAgICogc3VwcG9ydGVkIGFyZ3VtZW50czpcbiAgICAgKiAtIHJnYjJjc3MocixnLGIpXG4gICAgICogLSByZ2IyY3NzKHIsZyxiLGEpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYl0sIG1vZGUpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYixhXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3Moe3IsZyxiLGF9LCBtb2RlKVxuICAgICAqL1xuICAgIHZhciByZ2IyY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDYoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDMoYXJncykgfHwgJ3JnYic7XG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDMpID09ICdoc2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHNsMmNzc18xKHJnYjJoc2xfMShyZ2JhKSwgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmdiYVswXSA9IHJvdW5kKHJnYmFbMF0pO1xuICAgICAgICByZ2JhWzFdID0gcm91bmQocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZChyZ2JhWzJdKTtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdyZ2JhJyB8fCAocmdiYS5sZW5ndGggPiAzICYmIHJnYmFbM108MSkpIHtcbiAgICAgICAgICAgIHJnYmFbM10gPSByZ2JhLmxlbmd0aCA+IDMgPyByZ2JhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAncmdiYSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAocmdiYS5zbGljZSgwLG1vZGU9PT0ncmdiJz8zOjQpLmpvaW4oJywnKSkgKyBcIilcIik7XG4gICAgfTtcblxuICAgIHZhciByZ2IyY3NzXzEgPSByZ2IyY3NzO1xuXG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBoc2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skNyhhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkMShjWzBdKjI1NSkscm91bmQkMShjWzFdKjI1NSkscm91bmQkMShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2I7XG5cbiAgICB2YXIgUkVfUkdCID0gL15yZ2JcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC87XG4gICAgdmFyIFJFX1JHQkEgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX1JHQl9QQ1QgPSAvXnJnYlxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQV9QQ1QgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX0hTTCA9IC9eaHNsXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqXFwpJC87XG4gICAgdmFyIFJFX0hTTEEgPSAvXmhzbGFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcblxuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBjc3MycmdiID0gZnVuY3Rpb24gKGNzcykge1xuICAgICAgICBjc3MgPSBjc3MudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciBtO1xuXG4gICAgICAgIGlmIChpbnB1dC5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZvcm1hdC5uYW1lZChjc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiKDI1MCwyMCwwKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gK3JnYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYlszXSA9IDE7ICAvLyBkZWZhdWx0IGFscGhhXG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgyNTAsMjAsMCwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMT0wOyBpJDE8NDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkMVtpJDFdID0gK3JnYiQxW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmdiJDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMTAwJSwwJSwwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQl9QQ1QpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQyID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQyPTA7IGkkMjwzOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJnYiQyW2kkMl0gPSByb3VuZCQyKHJnYiQyW2kkMl0gKiAyLjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYiQyWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2IkMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYmEoMTAwJSwwJSwwJSwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDMgPSBtLnNsaWNlKDEsNSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDM9MDsgaSQzPDM7IGkkMysrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDNbaSQzXSA9IHJvdW5kJDIocmdiJDNbaSQzXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDNbM10gPSArcmdiJDNbM107XG4gICAgICAgICAgICByZXR1cm4gcmdiJDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoc2woMCwxMDAlLDUwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTCkpKSB7XG4gICAgICAgICAgICB2YXIgaHNsID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsWzFdICo9IDAuMDE7XG4gICAgICAgICAgICBoc2xbMl0gKj0gMC4wMTtcbiAgICAgICAgICAgIHZhciByZ2IkNCA9IGhzbDJyZ2JfMShoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiXzEoaHNsJDEpO1xuICAgICAgICAgICAgcmdiJDVbM10gPSArbVs0XTsgIC8vIGRlZmF1bHQgYWxwaGEgPSAxXG4gICAgICAgICAgICByZXR1cm4gcmdiJDU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY3NzMnJnYi50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2I7XG5cbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3NfMSh0aGlzLl9yZ2IsIG1vZGUpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5jc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjc3MnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5jc3MgPSBjc3MycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSQzKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiXzEudGVzdChoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ4ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQuZm9ybWF0LmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2IgPSB1bnBhY2skOChhcmdzLCAncmdiYScpO1xuICAgICAgICByZ2JbMF0gKj0gMjU1O1xuICAgICAgICByZ2JbMV0gKj0gMjU1O1xuICAgICAgICByZ2JbMl0gKj0gMjU1O1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5nbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2dsJ10pICkpO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmdiID0gdGhpcy5fcmdiO1xuICAgICAgICByZXR1cm4gW3JnYlswXS8yNTUsIHJnYlsxXS8yNTUsIHJnYlsyXS8yNTUsIHJnYlszXV07XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2skOSA9IHV0aWxzLnVucGFjaztcblxuICAgIHZhciByZ2IyaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciBjID0gZGVsdGEgKiAxMDAgLyAyNTU7XG4gICAgICAgIHZhciBfZyA9IG1pbiAvICgyNTUgLSBkZWx0YSkgKiAxMDA7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4KSB7IGggPSAyKyhiIC0gcikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGIgPT09IG1heCkgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIGMsIF9nXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoY2dfMSA9IHJnYjJoY2c7XG5cbiAgICB2YXIgdW5wYWNrJGEgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICAgIC8qXG4gICAgICogdGhpcyBpcyBiYXNpY2FsbHkganVzdCBIU1Ygd2l0aCBzb21lIG1pbm9yIHR3ZWFrc1xuICAgICAqXG4gICAgICogaHVlLi4gWzAuLjM2MF1cbiAgICAgKiBjaHJvbWEgLi4gWzAuLjFdXG4gICAgICogZ3JheW5lc3MgLi4gWzAuLjFdXG4gICAgICovXG5cbiAgICB2YXIgaGNnMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFzc2lnbiwgYXNzaWduJDEsIGFzc2lnbiQyLCBhc3NpZ24kMywgYXNzaWduJDQsIGFzc2lnbiQ1O1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYShhcmdzLCAnaGNnJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgX2cgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIF9nID0gX2cgKiAyNTU7XG4gICAgICAgIHZhciBfYyA9IGMgKiAyNTU7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBfZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yKGgpO1xuICAgICAgICAgICAgdmFyIGYgPSBoIC0gaTtcbiAgICAgICAgICAgIHZhciBwID0gX2cgKiAoMSAtIGMpO1xuICAgICAgICAgICAgdmFyIHEgPSBwICsgX2MgKiAoMSAtIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSBwICsgX2MgKiBmO1xuICAgICAgICAgICAgdmFyIHYgPSBwICsgX2M7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IChhc3NpZ24gPSBbdiwgdCwgcF0sIHIgPSBhc3NpZ25bMF0sIGcgPSBhc3NpZ25bMV0sIGIgPSBhc3NpZ25bMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMTogKGFzc2lnbiQxID0gW3EsIHYsIHBdLCByID0gYXNzaWduJDFbMF0sIGcgPSBhc3NpZ24kMVsxXSwgYiA9IGFzc2lnbiQxWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDI6IChhc3NpZ24kMiA9IFtwLCB2LCB0XSwgciA9IGFzc2lnbiQyWzBdLCBnID0gYXNzaWduJDJbMV0sIGIgPSBhc3NpZ24kMlsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAoYXNzaWduJDMgPSBbcCwgcSwgdl0sIHIgPSBhc3NpZ24kM1swXSwgZyA9IGFzc2lnbiQzWzFdLCBiID0gYXNzaWduJDNbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNDogKGFzc2lnbiQ0ID0gW3QsIHAsIHZdLCByID0gYXNzaWduJDRbMF0sIGcgPSBhc3NpZ24kNFsxXSwgYiA9IGFzc2lnbiQ0WzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IChhc3NpZ24kNSA9IFt2LCBwLCBxXSwgciA9IGFzc2lnbiQ1WzBdLCBnID0gYXNzaWduJDVbMV0sIGIgPSBhc3NpZ24kNVsyXSk7IGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiLCBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciBoY2cycmdiXzEgPSBoY2cycmdiO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDQgPSB1dGlscy50eXBlO1xuXG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmhjZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhjZ18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmhjZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjZyddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmhjZyA9IGhjZzJyZ2JfMTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGIoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkNChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRjID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDQgPSB1dGlscy5sYXN0O1xuICAgIHZhciByb3VuZCQzID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IyaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skYyhhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDQoYXJncykgfHwgJ2F1dG8nO1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChtb2RlID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIG1vZGUgPSBhIDwgMSA/ICdyZ2JhJyA6ICdyZ2InO1xuICAgICAgICB9XG4gICAgICAgIHIgPSByb3VuZCQzKHIpO1xuICAgICAgICBnID0gcm91bmQkMyhnKTtcbiAgICAgICAgYiA9IHJvdW5kJDMoYik7XG4gICAgICAgIHZhciB1ID0gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG4gICAgICAgIHZhciBzdHIgPSBcIjAwMDAwMFwiICsgdS50b1N0cmluZygxNik7IC8vIy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSA2KTtcbiAgICAgICAgdmFyIGh4YSA9ICcwJyArIHJvdW5kJDMoYSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBoeGEgPSBoeGEuc3Vic3RyKGh4YS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3dpdGNoIChtb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gKFwiI1wiICsgc3RyICsgaHhhKTtcbiAgICAgICAgICAgIGNhc2UgJ2FyZ2InOiByZXR1cm4gKFwiI1wiICsgaHhhICsgc3RyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAoXCIjXCIgKyBzdHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGV4XzEgPSByZ2IyaGV4O1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wdGlvbmFsIGxlYWRpbmcgI1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDQgfHwgaGV4Lmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHBhbmQgc2hvcnQtbm90YXRpb24gdG8gZnVsbCBzaXgtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgICAgICB2YXIgciA9IHUgPj4gMTY7XG4gICAgICAgICAgICB2YXIgZyA9IHUgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiA9IHUgJiAweEZGO1xuICAgICAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hdGNoIHJnYmEgaGV4IGZvcm1hdCwgZWcgI0ZGMDAwMDc3XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYQSkpIHtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA1IHx8IGhleC5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIGVpZ2h0LWRpZ2l0XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdK2hleFswXStoZXhbMV0raGV4WzFdK2hleFsyXStoZXhbMl0raGV4WzNdK2hleFszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1JDEgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByJDEgPSB1JDEgPj4gMjQgJiAweEZGO1xuICAgICAgICAgICAgdmFyIGckMSA9IHUkMSA+PiAxNiAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiQxID0gdSQxID4+IDggJiAweEZGO1xuICAgICAgICAgICAgdmFyIGEgPSBNYXRoLnJvdW5kKCh1JDEgJiAweEZGKSAvIDB4RkYgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFtyJDEsZyQxLGIkMSxhXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHVzZWQgdG8gY2hlY2sgZm9yIGNzcyBjb2xvcnMgaGVyZVxuICAgICAgICAvLyBpZiBfaW5wdXQuY3NzPyBhbmQgcmdiID0gX2lucHV0LmNzcyBoZXhcbiAgICAgICAgLy8gICAgIHJldHVybiByZ2JcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBoZXggY29sb3I6IFwiICsgaGV4KSk7XG4gICAgfTtcblxuICAgIHZhciBoZXgycmdiXzEgPSBoZXgycmdiO1xuXG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIHJldHVybiByZ2IyaGV4XzEodGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGV4J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDQsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJDUoaCkgPT09ICdzdHJpbmcnICYmIFszLDQsNSw2LDcsOCw5XS5pbmRleE9mKGgubGVuZ3RoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGQgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFRXT1BJID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIHZhciBhY29zID0gTWF0aC5hY29zO1xuXG4gICAgdmFyIHJnYjJoc2kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvcmdiMmhzaS5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRkKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIHZhciBtaW5fID0gbWluKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCgoci1nKSooci1nKSArIChyLWIpKihnLWIpKTtcbiAgICAgICAgICAgIGggPSBhY29zKGgpO1xuICAgICAgICAgICAgaWYgKGIgPiBnKSB7XG4gICAgICAgICAgICAgICAgaCA9IFRXT1BJIC0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggLz0gVFdPUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaTtcblxuICAgIHZhciB1bnBhY2skZSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGltaXQkMSA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcztcblxuICAgIC8qXG4gICAgICogaHVlIFswLi4zNjBdXG4gICAgICogc2F0dXJhdGlvbiBbMC4uMV1cbiAgICAgKiBpbnRlbnNpdHkgWzAuLjFdXG4gICAgICovXG4gICAgdmFyIGhzaTJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvaHNpMnJnYi5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgYXJncyA9IHVucGFjayRlKGFyZ3MsICdoc2knKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBpID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuXG4gICAgICAgIGlmIChpc05hTihoKSkgeyBoID0gMDsgfVxuICAgICAgICBpZiAoaXNOYU4ocykpIHsgcyA9IDA7IH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGh1ZVxuICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgIGlmIChoIDwgMS8zKSB7XG4gICAgICAgICAgICBiID0gKDEtcykvMztcbiAgICAgICAgICAgIHIgPSAoMStzKmNvcyhUV09QSSQxKmgpL2NvcyhQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgYiA9IDEgLSAocitnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLT0gMi8zO1xuICAgICAgICAgICAgZyA9ICgxLXMpLzM7XG4gICAgICAgICAgICBiID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgciA9IDEgLSAoZytiKTtcbiAgICAgICAgfVxuICAgICAgICByID0gbGltaXQkMShpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdCQxKGkqZyozKTtcbiAgICAgICAgYiA9IGxpbWl0JDEoaSpiKjMpO1xuICAgICAgICByZXR1cm4gW3IqMjU1LCBnKjI1NSwgYioyNTUsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzaTJyZ2JfMSA9IGhzaTJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNpXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNpID0gaHNpMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnaHNpJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ2KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2knO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGcgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNyA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNsID0gaHNsMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZyhhcmdzLCAnaHNsJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIG1pbiQxID0gTWF0aC5taW47XG4gICAgdmFyIG1heCQxID0gTWF0aC5tYXg7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHN2KHIsZyxiKVxuICAgICAqIC0gcmdiMmhzdihbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzdih7cixnLGJ9KVxuICAgICAqL1xuICAgIHZhciByZ2IyaHNsJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRoKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIG1pbl8gPSBtaW4kMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heF8gPSBtYXgkMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4XyAtIG1pbl87XG4gICAgICAgIHZhciBoLHMsdjtcbiAgICAgICAgdiA9IG1heF8gLyAyNTUuMDtcbiAgICAgICAgaWYgKG1heF8gPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gZGVsdGEgLyBtYXhfO1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heF8pIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heF8pIHsgaCA9IDIrKGIgLSByKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoYiA9PT0gbWF4XykgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIHMsIHZdXG4gICAgfTtcblxuICAgIHZhciByZ2IyaHN2ID0gcmdiMmhzbCQxO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAgIHZhciBoc3YycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRpKGFyZ3MsICdoc3YnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciB2ID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuICAgICAgICB2ICo9IDI1NTtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaCA9PT0gMzYwKSB7IGggPSAwOyB9XG4gICAgICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgICAgICBoIC89IDYwO1xuXG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yJDEoaCk7XG4gICAgICAgICAgICB2YXIgZiA9IGggLSBpO1xuICAgICAgICAgICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgIHZhciBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogKGFzc2lnbiA9IFt2LCB0LCBwXSwgciA9IGFzc2lnblswXSwgZyA9IGFzc2lnblsxXSwgYiA9IGFzc2lnblsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAoYXNzaWduJDEgPSBbcSwgdiwgcF0sIHIgPSBhc3NpZ24kMVswXSwgZyA9IGFzc2lnbiQxWzFdLCBiID0gYXNzaWduJDFbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMjogKGFzc2lnbiQyID0gW3AsIHYsIHRdLCByID0gYXNzaWduJDJbMF0sIGcgPSBhc3NpZ24kMlsxXSwgYiA9IGFzc2lnbiQyWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM6IChhc3NpZ24kMyA9IFtwLCBxLCB2XSwgciA9IGFzc2lnbiQzWzBdLCBnID0gYXNzaWduJDNbMV0sIGIgPSBhc3NpZ24kM1syXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAoYXNzaWduJDQgPSBbdCwgcCwgdl0sIHIgPSBhc3NpZ24kNFswXSwgZyA9IGFzc2lnbiQ0WzFdLCBiID0gYXNzaWduJDRbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNTogKGFzc2lnbiQ1ID0gW3YsIHAsIHFdLCByID0gYXNzaWduJDVbMF0sIGcgPSBhc3NpZ24kNVsxXSwgYiA9IGFzc2lnbiQ1WzJdKTsgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLGFyZ3MubGVuZ3RoID4gMz9hcmdzWzNdOjFdO1xuICAgIH07XG5cbiAgICB2YXIgaHN2MnJnYl8xID0gaHN2MnJnYjtcblxuICAgIHZhciB1bnBhY2skaiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ4ID0gdXRpbHMudHlwZTtcblxuXG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oc3YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc3YodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHN2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHN2J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHN2ID0gaHN2MnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaihhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ4KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBwb3cgPSBNYXRoLnBvdztcblxuICAgIHZhciByZ2IybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skayhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X2xhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0ID4gbGFiQ29uc3RhbnRzLnQzKSB7IHJldHVybiBwb3codCwgMSAvIDMpOyB9XG4gICAgICAgIHJldHVybiB0IC8gbGFiQ29uc3RhbnRzLnQyICsgbGFiQ29uc3RhbnRzLnQwO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnh5eiA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICByID0gcmdiX3h5eihyKTtcbiAgICAgICAgZyA9IHJnYl94eXooZyk7XG4gICAgICAgIGIgPSByZ2JfeHl6KGIpO1xuICAgICAgICB2YXIgeCA9IHh5el9sYWIoKDAuNDEyNDU2NCAqIHIgKyAwLjM1NzU3NjEgKiBnICsgMC4xODA0Mzc1ICogYikgLyBsYWJDb25zdGFudHMuWG4pO1xuICAgICAgICB2YXIgeSA9IHh5el9sYWIoKDAuMjEyNjcyOSAqIHIgKyAwLjcxNTE1MjIgKiBnICsgMC4wNzIxNzUwICogYikgLyBsYWJDb25zdGFudHMuWW4pO1xuICAgICAgICB2YXIgeiA9IHh5el9sYWIoKDAuMDE5MzMzOSAqIHIgKyAwLjExOTE5MjAgKiBnICsgMC45NTAzMDQxICogYikgLyBsYWJDb25zdGFudHMuWm4pO1xuICAgICAgICByZXR1cm4gW3gseSx6XTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsYWJfMSA9IHJnYjJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJGwgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyQxID0gTWF0aC5wb3c7XG5cbiAgICAvKlxuICAgICAqIEwqIFswLi4xMDBdXG4gICAgICogYSBbLTEwMC4uMTAwXVxuICAgICAqIGIgWy0xMDAuLjEwMF1cbiAgICAgKi9cbiAgICB2YXIgbGFiMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgeCx5LHosIHIsZyxiXztcblxuICAgICAgICB5ID0gKGwgKyAxNikgLyAxMTY7XG4gICAgICAgIHggPSBpc05hTihhKSA/IHkgOiB5ICsgYSAvIDUwMDtcbiAgICAgICAgeiA9IGlzTmFOKGIpID8geSA6IHkgLSBiIC8gMjAwO1xuXG4gICAgICAgIHkgPSBsYWJDb25zdGFudHMuWW4gKiBsYWJfeHl6KHkpO1xuICAgICAgICB4ID0gbGFiQ29uc3RhbnRzLlhuICogbGFiX3h5eih4KTtcbiAgICAgICAgeiA9IGxhYkNvbnN0YW50cy5abiAqIGxhYl94eXooeik7XG5cbiAgICAgICAgciA9IHh5el9yZ2IoMy4yNDA0NTQyICogeCAtIDEuNTM3MTM4NSAqIHkgLSAwLjQ5ODUzMTQgKiB6KTsgIC8vIEQ2NSAtPiBzUkdCXG4gICAgICAgIGcgPSB4eXpfcmdiKC0wLjk2OTI2NjAgKiB4ICsgMS44NzYwMTA4ICogeSArIDAuMDQxNTU2MCAqIHopO1xuICAgICAgICBiXyA9IHh5el9yZ2IoMC4wNTU2NDM0ICogeCAtIDAuMjA0MDI1OSAqIHkgKyAxLjA1NzIyNTIgKiB6KTtcblxuICAgICAgICByZXR1cm4gW3IsZyxiXyxhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciB4eXpfcmdiID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIDI1NSAqIChyIDw9IDAuMDAzMDQgPyAxMi45MiAqIHIgOiAxLjA1NSAqIHBvdyQxKHIsIDEgLyAyLjQpIC0gMC4wNTUpXG4gICAgfTtcblxuICAgIHZhciBsYWJfeHl6ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPiBsYWJDb25zdGFudHMudDEgPyB0ICogdCAqIHQgOiBsYWJDb25zdGFudHMudDIgKiAodCAtIGxhYkNvbnN0YW50cy50MClcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJyZ2JfMSA9IGxhYjJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJG0gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkOSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybGFiXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGFiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubGFiID0gbGFiMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skbShhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJG4gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yID0gTWF0aC5hdGFuMjtcbiAgICB2YXIgcm91bmQkNCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbGFiMmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJG4oYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYyA9IHNxcnQkMShhICogYSArIGIgKiBiKTtcbiAgICAgICAgdmFyIGggPSAoYXRhbjIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDQoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJG8gPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIHJnYjJsY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRvKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gcmdiMmxhYl8xKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoXzEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJHAgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIERFRzJSQUQgPSB1dGlscy5ERUcyUkFEO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcblxuICAgIHZhciBsY2gybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHAoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQxKGgpICogYywgc2luKGgpICogY11cbiAgICB9O1xuXG4gICAgdmFyIGxjaDJsYWJfMSA9IGxjaDJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJHEgPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIGxjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWJfMSAobCxjLGgpO1xuICAgICAgICB2YXIgTCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gbGFiMnJnYl8xIChMLGEsYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGxjaDJyZ2JfMSA9IGxjaDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG5cblxuICAgIHZhciBoY2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBoY2wgPSB1bnBhY2skcihhcmdzLCAnaGNsJykucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gbGNoMnJnYl8xLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHMgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkYSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoXzEodGhpcy5fcmdiKTsgfTtcbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oY2wgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYjJsY2hfMSh0aGlzLl9yZ2IpLnJldmVyc2UoKTsgfTtcblxuICAgIGNocm9tYV8xLmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2xjaCddKSApKTtcbiAgICB9O1xuICAgIGNocm9tYV8xLmhjbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjbCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmxjaCA9IGxjaDJyZ2JfMTtcbiAgICBpbnB1dC5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayRzKGFyZ3MsIG0pO1xuICAgICAgICAgICAgaWYgKHR5cGUkYShhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pO1xuXG4gICAgLyoqXG4gICAgXHRYMTEgY29sb3IgbmFtZXNcblxuICAgIFx0aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAgKi9cblxuICAgIHZhciB3M2N4MTEgPSB7XG4gICAgICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgICAgICBhbnRpcXVld2hpdGU6ICcjZmFlYmQ3JyxcbiAgICAgICAgYXF1YTogJyMwMGZmZmYnLFxuICAgICAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgICAgIGF6dXJlOiAnI2YwZmZmZicsXG4gICAgICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgICAgICBibGFjazogJyMwMDAwMDAnLFxuICAgICAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgICAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgICAgIGJsdWV2aW9sZXQ6ICcjOGEyYmUyJyxcbiAgICAgICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICAgICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgICAgIGNhZGV0Ymx1ZTogJyM1ZjllYTAnLFxuICAgICAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgICAgICBjb3JhbDogJyNmZjdmNTAnLFxuICAgICAgICBjb3JuZmxvd2VyOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICAgICAgY3lhbjogJyMwMGZmZmYnLFxuICAgICAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgICAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgICAgICBkYXJrZ29sZGVucm9kOiAnI2I4ODYwYicsXG4gICAgICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgICAgICBkYXJrZ3JleTogJyNhOWE5YTknLFxuICAgICAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICAgICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICAgICAgZGFya29saXZlZ3JlZW46ICcjNTU2YjJmJyxcbiAgICAgICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgICAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgICAgIGRhcmtyZWQ6ICcjOGIwMDAwJyxcbiAgICAgICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgICAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICAgICAgZGFya3NsYXRlYmx1ZTogJyM0ODNkOGInLFxuICAgICAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICAgICAgZGFya3R1cnF1b2lzZTogJyMwMGNlZDEnLFxuICAgICAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgICAgIGRlZXBza3libHVlOiAnIzAwYmZmZicsXG4gICAgICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgICAgICBkb2RnZXJibHVlOiAnIzFlOTBmZicsXG4gICAgICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgICAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgICAgICBmb3Jlc3RncmVlbjogJyMyMjhiMjInLFxuICAgICAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgICAgICBnaG9zdHdoaXRlOiAnI2Y4ZjhmZicsXG4gICAgICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICAgICAgZ29sZGVucm9kOiAnI2RhYTUyMCcsXG4gICAgICAgIGdyYXk6ICcjODA4MDgwJyxcbiAgICAgICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICAgICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICAgICAgZ3JleTogJyM4MDgwODAnLFxuICAgICAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgICAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgICAgIGluZGlhbnJlZDogJyNjZDVjNWMnLFxuICAgICAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICAgICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICAgICAga2hha2k6ICcjZjBlNjhjJyxcbiAgICAgICAgbGFzZXJsZW1vbjogJyNmZmZmNTQnLFxuICAgICAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgICAgICBsYXZlbmRlcmJsdXNoOiAnI2ZmZjBmNScsXG4gICAgICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgICAgICBsZW1vbmNoaWZmb246ICcjZmZmYWNkJyxcbiAgICAgICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICAgICAgbGlnaHRjeWFuOiAnI2UwZmZmZicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9kOiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodGdyZWVuOiAnIzkwZWU5MCcsXG4gICAgICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICAgICAgbGlnaHRzYWxtb246ICcjZmZhMDdhJyxcbiAgICAgICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgICAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyYXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICAgICAgbGlnaHR5ZWxsb3c6ICcjZmZmZmUwJyxcbiAgICAgICAgbGltZTogJyMwMGZmMDAnLFxuICAgICAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICAgICAgbGluZW46ICcjZmFmMGU2JyxcbiAgICAgICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgICAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICAgICAgbWFyb29uMjogJyM3ZjAwMDAnLFxuICAgICAgICBtYXJvb24zOiAnI2IwMzA2MCcsXG4gICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICAgICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgICAgICBtZWRpdW1vcmNoaWQ6ICcjYmE1NWQzJyxcbiAgICAgICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgICAgIG1lZGl1bXNsYXRlYmx1ZTogJyM3YjY4ZWUnLFxuICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgICAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICAgICAgbWVkaXVtdmlvbGV0cmVkOiAnI2M3MTU4NScsXG4gICAgICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgICAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICAgICAgbWlzdHlyb3NlOiAnI2ZmZTRlMScsXG4gICAgICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgICAgIG5hdnk6ICcjMDAwMDgwJyxcbiAgICAgICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgICAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgICAgICBvbGl2ZWRyYWI6ICcjNmI4ZTIzJyxcbiAgICAgICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgICAgICBvcmNoaWQ6ICcjZGE3MGQ2JyxcbiAgICAgICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgICAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICAgICAgcGFsZXR1cnF1b2lzZTogJyNhZmVlZWUnLFxuICAgICAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICAgICAgcGVhY2hwdWZmOiAnI2ZmZGFiOScsXG4gICAgICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICAgICAgcGluazogJyNmZmMwY2InLFxuICAgICAgICBwbHVtOiAnI2RkYTBkZCcsXG4gICAgICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICAgICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgICAgIHB1cnBsZTI6ICcjN2YwMDdmJyxcbiAgICAgICAgcHVycGxlMzogJyNhMDIwZjAnLFxuICAgICAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgICAgIHJlZDogJyNmZjAwMDAnLFxuICAgICAgICByb3N5YnJvd246ICcjYmM4ZjhmJyxcbiAgICAgICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgICAgIHNhbG1vbjogJyNmYTgwNzInLFxuICAgICAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgICAgIHNlYXNoZWxsOiAnI2ZmZjVlZScsXG4gICAgICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgICAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICAgICAgc2t5Ymx1ZTogJyM4N2NlZWInLFxuICAgICAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICAgICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgICAgIHNsYXRlZ3JleTogJyM3MDgwOTAnLFxuICAgICAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgICAgIHN0ZWVsYmx1ZTogJyM0NjgyYjQnLFxuICAgICAgICB0YW46ICcjZDJiNDhjJyxcbiAgICAgICAgdGVhbDogJyMwMDgwODAnLFxuICAgICAgICB0aGlzdGxlOiAnI2Q4YmZkOCcsXG4gICAgICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgICAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICAgICAgdmlvbGV0OiAnI2VlODJlZScsXG4gICAgICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgICAgIHdoaXRlc21va2U6ICcjZjVmNWY1JyxcbiAgICAgICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMidcbiAgICB9O1xuXG4gICAgdmFyIHczY3gxMV8xID0gdzNjeDExO1xuXG4gICAgdmFyIHR5cGUkYiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXhfMSh0aGlzLl9yZ2IsICdyZ2InKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyh3M2N4MTFfMSk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgIGlmICh3M2N4MTFfMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodzNjeDExXzFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2JfMSh3M2N4MTFfMVtuYW1lXSk7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbG9yIG5hbWU6ICcrbmFtZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDUsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJGIoaCkgPT09ICdzdHJpbmcnICYmIHczY3gxMV8xW2gudG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25hbWVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayR0KGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgcmV0dXJuIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJudW1fMSA9IHJnYjJudW07XG5cbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRjKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubnVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbnVtJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNSxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlJGQoYXJnc1swXSkgPT09ICdudW1iZXInICYmIGFyZ3NbMF0gPj0gMCAmJiBhcmdzWzBdIDw9IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJHUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHJvdW5kJDUgPSBNYXRoLnJvdW5kO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24ocm5kKSB7XG4gICAgICAgIGlmICggcm5kID09PSB2b2lkIDAgKSBybmQ9dHJ1ZTtcblxuICAgICAgICBpZiAocm5kID09PSBmYWxzZSkgeyByZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyk7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpLm1hcChyb3VuZCQ1KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiYSA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDQpLm1hcChmdW5jdGlvbiAodixpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTwzID8gKHJuZCA9PT0gZmFsc2UgPyB2IDogcm91bmQkNSh2KSkgOiB2O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsncmdiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJHUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAncmdiYScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZShhcmdzKSA9PT0gJ2FycmF5JyAmJiAoYXJncy5sZW5ndGggPT09IDMgfHxcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlJGUoYXJnc1szXSkgPT0gJ251bWJlcicgJiYgYXJnc1szXSA+PSAwICYmIGFyZ3NbM10gPD0gMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQmFzZWQgb24gaW1wbGVtZW50YXRpb24gYnkgTmVpbCBCYXJ0bGV0dFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZWlsYmFydGxldHQvY29sb3ItdGVtcGVyYXR1cmVcbiAgICAgKi9cblxuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2coZyk7XG4gICAgICAgICAgICBiID0gdGVtcCA8IDIwID8gMCA6IC0yNTQuNzY5MzUxODQxMjA5MDIgKyAwLjgyNzQwOTYwNjQwMDczOTUgKiAoYiA9IHRlbXAtMTApICsgMTE1LjY3OTk0NDAxMDY2MTQ3ICogbG9nKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IDM1MS45NzY5MDU2NjgwNTY5MyArIDAuMTE0MjA2NDUzNzg0MTY1ICogKHIgPSB0ZW1wLTU1KSAtIDQwLjI1MzY2MzA5MzMyMTI3ICogbG9nKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nKGcpO1xuICAgICAgICAgICAgYiA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgIH07XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiXzEgPSB0ZW1wZXJhdHVyZTJyZ2I7XG5cbiAgICAvKlxuICAgICAqIEJhc2VkIG9uIGltcGxlbWVudGF0aW9uIGJ5IE5laWwgQmFydGxldHRcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbmVpbGJhcnRsZXR0L2NvbG9yLXRlbXBlcmF0dXJlXG4gICAgICoqL1xuXG5cbiAgICB2YXIgdW5wYWNrJHYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIHJnYjJ0ZW1wZXJhdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJHYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYl8xKHRlbXApO1xuICAgICAgICAgICAgaWYgKChyZ2IkMVsyXSAvIHJnYiQxWzBdKSA+PSAoYiAvIHIpKSB7XG4gICAgICAgICAgICAgICAgbWF4VGVtcCA9IHRlbXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3VuZCQ2KHRlbXApO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnRlbXBlcmF0dXJlXzEgPSByZ2IydGVtcGVyYXR1cmU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS50ZW1wID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5rZWx2aW4gPVxuICAgIENvbG9yXzEucHJvdG90eXBlLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IydGVtcGVyYXR1cmVfMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS50ZW1wID1cbiAgICBjaHJvbWFfMS5rZWx2aW4gPVxuICAgIGNocm9tYV8xLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LnRlbXAgPVxuICAgIGlucHV0LmZvcm1hdC5rZWx2aW4gPVxuICAgIGlucHV0LmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHR5cGUkZiA9IHV0aWxzLnR5cGU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5hbHBoYSA9IGZ1bmN0aW9uKGEsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlPWZhbHNlO1xuXG4gICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQgJiYgdHlwZSRmKGEpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JnYlszXSA9IGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoW3RoaXMuX3JnYlswXSwgdGhpcy5fcmdiWzFdLCB0aGlzLl9yZ2JbMl0sIGFdLCAncmdiJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYlszXTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuY2xpcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmdiLl9jbGlwcGVkIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5kYXJrZW4gPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsYWIgPSBtZS5sYWIoKTtcbiAgICBcdGxhYlswXSAtPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGFiLCAnbGFiJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHJldHVybiB0aGlzLmRhcmtlbigtYW1vdW50KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuZGFya2VyID0gQ29sb3JfMS5wcm90b3R5cGUuZGFya2VuO1xuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVyID0gQ29sb3JfMS5wcm90b3R5cGUuYnJpZ2h0ZW47XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihtYykge1xuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7IHJldHVybiBzcmNbaV07IH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR5cGUkZyA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQyID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSRnKGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yXzEoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDIoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yID0ge307XG5cbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcblxuXG4gICAgdmFyIG1peCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAzIF07XG5cbiAgICAgICAgdmFyIG1vZGUgPSByZXN0WzBdIHx8ICdscmdiJztcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0gJiYgIXJlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHN1cHBvcnRlZCBtb2RlXG4gICAgICAgICAgICBtb2RlID0gT2JqZWN0LmtleXMoaW50ZXJwb2xhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVycG9sYXRvclttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImludGVycG9sYXRpb24gbW9kZSBcIiArIG1vZGUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUkaChjb2wxKSAhPT0gJ29iamVjdCcpIHsgY29sMSA9IG5ldyBDb2xvcl8xKGNvbDEpOyB9XG4gICAgICAgIGlmICh0eXBlJGgoY29sMikgIT09ICdvYmplY3QnKSB7IGNvbDIgPSBuZXcgQ29sb3JfMShjb2wyKTsgfVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yW21vZGVdKGNvbDEsIGNvbDIsIGYpXG4gICAgICAgICAgICAuYWxwaGEoY29sMS5hbHBoYSgpICsgZiAqIChjb2wyLmFscGhhKCkgLSBjb2wxLmFscGhhKCkpKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubWl4ID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKGNvbDIsIGYpIHtcbiAgICBcdGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgXHR2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBcdHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICAgIFx0cmV0dXJuIG1peC5hcHBseSh2b2lkIDAsIFsgdGhpcywgY29sMiwgZiBdLmNvbmNhdCggcmVzdCApKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucHJlbXVsdGlwbHkgPSBmdW5jdGlvbihtdXRhdGUpIHtcbiAgICBcdGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICBcdHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgXHR2YXIgYSA9IHJnYlszXTtcbiAgICBcdGlmIChtdXRhdGUpIHtcbiAgICBcdFx0dGhpcy5fcmdiID0gW3JnYlswXSphLCByZ2JbMV0qYSwgcmdiWzJdKmEsIGFdO1xuICAgIFx0XHRyZXR1cm4gdGhpcztcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHJldHVybiBuZXcgQ29sb3JfMShbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV0sICdyZ2InKTtcbiAgICBcdH1cbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsY2ggPSBtZS5sY2goKTtcbiAgICBcdGxjaFsxXSArPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJGkgPSB1dGlscy50eXBlO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obWMsIHZhbHVlLCBtdXRhdGUpIHtcbiAgICAgICAgaWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaSh2YWx1ZSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKyc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKic6IHNyY1tpXSAqPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6IHNyY1tpXSAvPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc3JjW2ldID0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlJGkodmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzcmNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB2YWx1ZSBmb3IgQ29sb3Iuc2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3V0ID0gbmV3IENvbG9yXzEoc3JjLCBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JnYiA9IG91dC5fcmdiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJnYiQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIHh5ejAgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5fcmdiO1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoXG4gICAgICAgICAgICB4eXowWzBdICsgZiAqICh4eXoxWzBdLXh5ejBbMF0pLFxuICAgICAgICAgICAgeHl6MFsxXSArIGYgKiAoeHl6MVsxXS14eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0teHl6MFsyXSksXG4gICAgICAgICAgICAncmdiJ1xuICAgICAgICApXG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvci5yZ2IgPSByZ2IkMTtcblxuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQzID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHgxLDIpICogKDEtZikgKyBwb3ckMyh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHkxLDIpICogKDEtZikgKyBwb3ckMyh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHoxLDIpICogKDEtZikgKyBwb3ckMyh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubHJnYiA9IGxyZ2I7XG5cbiAgICB2YXIgbGFiJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGFiID0gbGFiJDE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHVlMCwgaHVlMSwgc2F0MCwgc2F0MSwgbGJ2MCwgbGJ2MTtcbiAgICAgICAgaWYgKG0uc3Vic3RyKDAsIDEpID09PSAnaCcpIHtcbiAgICAgICAgICAgIChhc3NpZ24gPSB4eXowLCBodWUwID0gYXNzaWduWzBdLCBzYXQwID0gYXNzaWduWzFdLCBsYnYwID0gYXNzaWduWzJdKTtcbiAgICAgICAgICAgIChhc3NpZ24kMSA9IHh5ejEsIGh1ZTEgPSBhc3NpZ24kMVswXSwgc2F0MSA9IGFzc2lnbiQxWzFdLCBsYnYxID0gYXNzaWduJDFbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhdCwgaHVlLCBsYnYsIGRoO1xuXG4gICAgICAgIGlmICghaXNOYU4oaHVlMCkgJiYgIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICAvLyBib3RoIGNvbG9ycyBoYXZlIGh1ZVxuICAgICAgICAgICAgaWYgKGh1ZTEgPiBodWUwICYmIGh1ZTEgLSBodWUwID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxLShodWUwKzM2MCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGh1ZTEgPCBodWUwICYmIGh1ZTAgLSBodWUxID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxKzM2MC1odWUwO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIGh1ZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBodWUwICsgZiAqIGRoO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUwKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMDtcbiAgICAgICAgICAgIGlmICgobGJ2MSA9PSAxIHx8IGxidjEgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQwOyB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICBodWUgPSBodWUxO1xuICAgICAgICAgICAgaWYgKChsYnYwID09IDEgfHwgbGJ2MCA9PSAwKSAmJiBtICE9ICdoc3YnKSB7IHNhdCA9IHNhdDE7IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IE51bWJlci5OYU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2F0ID09PSB1bmRlZmluZWQpIHsgc2F0ID0gc2F0MCArIGYgKiAoc2F0MSAtIHNhdDApOyB9XG4gICAgICAgIGxidiA9IGxidjAgKyBmICogKGxidjEtbGJ2MCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbaHVlLCBzYXQsIGxidl0sIG0pO1xuICAgIH07XG5cbiAgICB2YXIgbGNoJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2xjaCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGNoID0gbGNoJDE7XG4gICAgaW50ZXJwb2xhdG9yLmhjbCA9IGxjaCQxO1xuXG4gICAgdmFyIG51bSQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubnVtID0gbnVtJDE7XG5cbiAgICB2YXIgaGNnJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaGNnID0gaGNnJDE7XG5cbiAgICB2YXIgaHNpJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNpID0gaHNpJDE7XG5cbiAgICB2YXIgaHNsJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNsID0gaHNsJDE7XG5cbiAgICB2YXIgaHN2JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHN2ID0gaHN2JDE7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMSA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yXzEoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDEoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQxKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yXzEoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQzKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMyh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDMoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShjbGlwX3JnYiQyKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG5cbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBwb3ckNSA9IE1hdGgucG93O1xuXG4gICAgdmFyIHNjYWxlID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWFfMSgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkaihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWFfMS5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWFfMS5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hXzEuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJGooY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYV8xKGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQ1KHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSRqKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hXzEoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSRqKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYV8xLmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWFfMS5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMsIF9wb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYV8xW291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hXzEoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuXG5cblxuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvcl8xKGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICB2YXIgSTAgPSBiZXppZXIoY29sb3JzLnNsaWNlKDAsIDMpKTtcbiAgICAgICAgICAgIHZhciBJMSA9IGJlemllcihjb2xvcnMuc2xpY2UoMiwgNSkpO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTAodCoyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTEoKHQtMC41KSoyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgIH07XG5cbiAgICB2YXIgYmV6aWVyXzEgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG4gICAgICAgIHZhciBmID0gYmV6aWVyKGNvbG9ycyk7XG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FsZShmKTsgfTtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogaW50ZXJwb2xhdGVzIGJldHdlZW4gYSBzZXQgb2YgY29sb3JzIHV6aW5nIGEgYmV6aWVyIHNwbGluZVxuICAgICAqIGJsZW5kIG1vZGUgZm9ybXVsYXMgdGFrZW4gZnJvbSBodHRwOi8vd3d3LnZlbnR1cmUtd2FyZS5jb20va2V2aW4vY29kaW5nL2xldHMtbGVhcm4tbWF0aC1waG90b3Nob3AtYmxlbmQtbW9kZXMvXG4gICAgICovXG5cblxuXG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWFfMSh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hXzEoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMS5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiQxID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSA+IGIgPyBiIDogYTsgfTtcbiAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYSA6IGI7IH07XG4gICAgdmFyIHNjcmVlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIDI1NSAqICgxIC0gKDEtYS8yNTUpICogKDEtYi8yNTUpKTsgfTtcbiAgICB2YXIgb3ZlcmxheSA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGIgPCAxMjggPyAyICogYSAqIGIgLyAyNTUgOiAyNTUgKiAoMSAtIDIgKiAoMSAtIGEgLyAyNTUgKSAqICggMSAtIGIgLyAyNTUgKSk7IH07XG4gICAgdmFyIGJ1cm4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxIC0gYiAvIDI1NSkgLyAoYS8yNTUpKTsgfTtcbiAgICB2YXIgZG9kZ2UgPSBmdW5jdGlvbiAoYSxiKSB7XG4gICAgICAgIGlmIChhID09PSAyNTUpIHsgcmV0dXJuIDI1NTsgfVxuICAgICAgICBhID0gMjU1ICogKGIgLyAyNTUpIC8gKDEgLSBhIC8gMjU1KTtcbiAgICAgICAgcmV0dXJuIGEgPiAyNTUgPyAyNTUgOiBhXG4gICAgfTtcblxuICAgIC8vICMgYWRkID0gKGEsYikgLT5cbiAgICAvLyAjICAgICBpZiAoYSArIGIgPiAyNTUpIHRoZW4gMjU1IGVsc2UgYSArIGJcblxuICAgIGJsZW5kLm5vcm1hbCA9IGJsZW5kX2YoZWFjaChub3JtYWwpKTtcbiAgICBibGVuZC5tdWx0aXBseSA9IGJsZW5kX2YoZWFjaChtdWx0aXBseSkpO1xuICAgIGJsZW5kLnNjcmVlbiA9IGJsZW5kX2YoZWFjaChzY3JlZW4pKTtcbiAgICBibGVuZC5vdmVybGF5ID0gYmxlbmRfZihlYWNoKG92ZXJsYXkpKTtcbiAgICBibGVuZC5kYXJrZW4gPSBibGVuZF9mKGVhY2goZGFya2VuJDEpKTtcbiAgICBibGVuZC5saWdodGVuID0gYmxlbmRfZihlYWNoKGxpZ2h0ZW4pKTtcbiAgICBibGVuZC5kb2RnZSA9IGJsZW5kX2YoZWFjaChkb2RnZSkpO1xuICAgIGJsZW5kLmJ1cm4gPSBibGVuZF9mKGVhY2goYnVybikpO1xuICAgIC8vIGJsZW5kLmFkZCA9IGJsZW5kX2YoZWFjaChhZGQpKTtcblxuICAgIHZhciBibGVuZF8xID0gYmxlbmQ7XG5cbiAgICAvLyBjdWJlaGVsaXggaW50ZXJwb2xhdGlvblxuICAgIC8vIGJhc2VkIG9uIEQuQS4gR3JlZW4gXCJBIGNvbG91ciBzY2hlbWUgZm9yIHRoZSBkaXNwbGF5IG9mIGFzdHJvbm9taWNhbCBpbnRlbnNpdHkgaW1hZ2VzXCJcbiAgICAvLyBodHRwOi8vYXN0cm9uLXNvYy5pbi9idWxsZXRpbi8xMUp1bmUvMjg5MzkyMDExLnBkZlxuXG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNsaXBfcmdiJDMgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBwb3ckNiA9IE1hdGgucG93O1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBjb3MkMyA9IE1hdGguY29zO1xuXG5cbiAgICB2YXIgY3ViZWhlbGl4ID0gZnVuY3Rpb24oc3RhcnQsIHJvdGF0aW9ucywgaHVlLCBnYW1tYSwgbGlnaHRuZXNzKSB7XG4gICAgICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0PTMwMDtcbiAgICAgICAgaWYgKCByb3RhdGlvbnMgPT09IHZvaWQgMCApIHJvdGF0aW9ucz0tMS41O1xuICAgICAgICBpZiAoIGh1ZSA9PT0gdm9pZCAwICkgaHVlPTE7XG4gICAgICAgIGlmICggZ2FtbWEgPT09IHZvaWQgMCApIGdhbW1hPTE7XG4gICAgICAgIGlmICggbGlnaHRuZXNzID09PSB2b2lkIDAgKSBsaWdodG5lc3M9WzAsMV07XG5cbiAgICAgICAgdmFyIGRoID0gMCwgZGw7XG4gICAgICAgIGlmICh0eXBlJGsobGlnaHRuZXNzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgZGwgPSBsaWdodG5lc3NbMV0gLSBsaWdodG5lc3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICBsaWdodG5lc3MgPSBbbGlnaHRuZXNzLCBsaWdodG5lc3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihmcmFjdCkge1xuICAgICAgICAgICAgdmFyIGEgPSBUV09QSSQyICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQ2KGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDMoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMihhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMShjbGlwX3JnYiQzKFtyKjI1NSxnKjI1NSxiKjI1NSwxXSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc3RhcnQgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBpZiAoKHMgPT0gbnVsbCkpIHsgcmV0dXJuIHN0YXJ0OyB9XG4gICAgICAgICAgICBzdGFydCA9IHM7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnJvdGF0aW9ucyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGlmICgociA9PSBudWxsKSkgeyByZXR1cm4gcm90YXRpb25zOyB9XG4gICAgICAgICAgICByb3RhdGlvbnMgPSByO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5nYW1tYSA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgIGlmICgoZyA9PSBudWxsKSkgeyByZXR1cm4gZ2FtbWE7IH1cbiAgICAgICAgICAgIGdhbW1hID0gZztcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuaHVlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBodWU7IH1cbiAgICAgICAgICAgIGh1ZSA9IGg7XG4gICAgICAgICAgICBpZiAodHlwZSRrKGh1ZSkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZVsxXSAtIGh1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZGggPT09IDApIHsgaHVlID0gaHVlWzFdOyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYubGlnaHRuZXNzID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBsaWdodG5lc3M7IH1cbiAgICAgICAgICAgIGlmICh0eXBlJGsoaCkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBoO1xuICAgICAgICAgICAgICAgIGRsID0gaFsxXSAtIGhbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtoLGhdO1xuICAgICAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaHJvbWFfMS5zY2FsZShmKTsgfTtcblxuICAgICAgICBmLmh1ZShodWUpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICB2YXIgZGlnaXRzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIHZhciByYW5kb21fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSAnIyc7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gZGlnaXRzLmNoYXJBdChmbG9vciQyKHJhbmRvbSgpICogMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoY29kZSwgJ2hleCcpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nJDEgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IkMyA9IE1hdGguZmxvb3I7XG4gICAgdmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2ckMShtaW4pO1xuICAgICAgICAgICAgdmFyIG1heF9sb2cgPSBNYXRoLkxPRzEwRSAqIGxvZyQxKG1heCk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTE7IGkkMTxudW07IGkkMSsrKSB7XG4gICAgICAgICAgICAgICAgbGltaXRzLnB1c2gocG93JDcoMTAsIG1pbl9sb2cgKyAoKGkkMS9udW0pICogKG1heF9sb2cgLSBtaW5fbG9nKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAncScpIHsgLy8gcXVhbnRpbGUgc2NhbGVcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MTsgaSQyPG51bTsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9ICgodmFsdWVzLmxlbmd0aC0xKSAqIGkkMikvbnVtO1xuICAgICAgICAgICAgICAgIHZhciBwYiA9IGZsb29yJDMocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzKGNlbnRyb2lkc1tqJDFdLXZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluZGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVyU2l6ZXNbYmVzdF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW2kkNF0gPSBiZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbnRyb2lkcyBzdGVwXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NlbnRyb2lkcyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMj0wOyBqJDI8bnVtOyBqJDIrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkkNT0wOyBpJDU8bjsgaSQ1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbY2x1c3Rlcl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdICs9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMz0wOyBqJDM8bnVtOyBqJDMrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQzXSAqPSAxL2NsdXN0ZXJTaXplc1tqJDNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGNvbnZlcmdlbmNlXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQ0PTA7IGokNDxudW07IGokNCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbaiQ0XSAhPT0gY2VudHJvaWRzW2okNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRyb2lkcyA9IG5ld0NlbnRyb2lkcztcbiAgICAgICAgICAgICAgICBuYl9pdGVycysrO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5iX2l0ZXJzID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmluaXNoZWQgay1tZWFucyBjbHVzdGVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0IGlzIGJvcnJvd2VkIGZyb20gZ2FicmllbGZsb3IuaXRcbiAgICAgICAgICAgIHZhciBrQ2x1c3RlcnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGokNT0wOyBqJDU8bnVtOyBqJDUrKykge1xuICAgICAgICAgICAgICAgIGtDbHVzdGVyc1tqJDVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpJDY9MDsgaSQ2PG47IGkkNisrKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNl07XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2NsdXN0ZXJdLnB1c2godmFsdWVzW2kkNl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRtcEtNZWFuc0JyZWFrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ2PTA7IGokNjxudW07IGokNisrKSB7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1bMF0pO1xuICAgICAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcy5wdXNoKGtDbHVzdGVyc1tqJDZdW2tDbHVzdGVyc1tqJDZdLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MgPSB0bXBLTWVhbnNCcmVha3Muc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaCh0bXBLTWVhbnNCcmVha3NbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ3PTE7IGkkNyA8IHRtcEtNZWFuc0JyZWFrcy5sZW5ndGg7IGkkNys9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRtcEtNZWFuc0JyZWFrc1tpJDddO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odikgJiYgKGxpbWl0cy5pbmRleE9mKHYpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfTtcblxuICAgIHZhciBhbmFseXplXzEgPSB7YW5hbHl6ZTogYW5hbHl6ZSwgbGltaXRzOiBsaW1pdHN9O1xuXG4gICAgdmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gV0NBRyBjb250cmFzdCByYXRpb1xuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZlxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5sdW1pbmFuY2UoKTtcbiAgICAgICAgdmFyIGwyID0gYi5sdW1pbmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGwxID4gbDIgPyAobDEgKyAwLjA1KSAvIChsMiArIDAuMDUpIDogKGwyICsgMC4wNSkgLyAobDEgKyAwLjA1KTtcbiAgICB9O1xuXG4gICAgdmFyIHNxcnQkNCA9IE1hdGguc3FydDtcbiAgICB2YXIgYXRhbjIkMiA9IE1hdGguYXRhbjI7XG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG4gICAgdmFyIGNvcyQ0ID0gTWF0aC5jb3M7XG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEwsIEMpIHtcbiAgICAgICAgaWYgKCBMID09PSB2b2lkIDAgKSBMPTE7XG4gICAgICAgIGlmICggQyA9PT0gdm9pZCAwICkgQz0xO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENNQylcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DTUMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIHJlZiA9IEFycmF5LmZyb20oYS5sYWIoKSk7XG4gICAgICAgIHZhciBMMSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGExID0gcmVmWzFdO1xuICAgICAgICB2YXIgYjEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IEFycmF5LmZyb20oYi5sYWIoKSk7XG4gICAgICAgIHZhciBMMiA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgYTIgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGIyID0gcmVmJDFbMl07XG4gICAgICAgIHZhciBjMSA9IHNxcnQkNCgoYTEgKiBhMSkgKyAoYjEgKiBiMSkpO1xuICAgICAgICB2YXIgYzIgPSBzcXJ0JDQoKGEyICogYTIpICsgKGIyICogYjIpKTtcbiAgICAgICAgdmFyIHNsID0gTDEgPCAxNi4wID8gMC41MTEgOiAoMC4wNDA5NzUgKiBMMSkgLyAoMS4wICsgKDAuMDE3NjUgKiBMMSkpO1xuICAgICAgICB2YXIgc2MgPSAoKDAuMDYzOCAqIGMxKSAvICgxLjAgKyAoMC4wMTMxICogYzEpKSkgKyAwLjYzODtcbiAgICAgICAgdmFyIGgxID0gYzEgPCAwLjAwMDAwMSA/IDAuMCA6IChhdGFuMiQyKGIxLCBhMSkgKiAxODAuMCkgLyBQSSQyO1xuICAgICAgICB3aGlsZSAoaDEgPCAwKSB7IGgxICs9IDM2MDsgfVxuICAgICAgICB3aGlsZSAoaDEgPj0gMzYwKSB7IGgxIC09IDM2MDsgfVxuICAgICAgICB2YXIgdCA9IChoMSA+PSAxNjQuMCkgJiYgKGgxIDw9IDM0NS4wKSA/ICgwLjU2ICsgYWJzJDEoMC4yICogY29zJDQoKFBJJDIgKiAoaDEgKyAxNjguMCkpIC8gMTgwLjApKSkgOiAoMC4zNiArIGFicyQxKDAuNCAqIGNvcyQ0KChQSSQyICogKGgxICsgMzUuMCkpIC8gMTgwLjApKSk7XG4gICAgICAgIHZhciBjNCA9IGMxICogYzEgKiBjMSAqIGMxO1xuICAgICAgICB2YXIgZiA9IHNxcnQkNChjNCAvIChjNCArIDE5MDAuMCkpO1xuICAgICAgICB2YXIgc2ggPSBzYyAqICgoKGYgKiB0KSArIDEuMCkgLSBmKTtcbiAgICAgICAgdmFyIGRlbEwgPSBMMSAtIEwyO1xuICAgICAgICB2YXIgZGVsQyA9IGMxIC0gYzI7XG4gICAgICAgIHZhciBkZWxBID0gYTEgLSBhMjtcbiAgICAgICAgdmFyIGRlbEIgPSBiMSAtIGIyO1xuICAgICAgICB2YXIgZEgyID0gKChkZWxBICogZGVsQSkgKyAoZGVsQiAqIGRlbEIpKSAtIChkZWxDICogZGVsQyk7XG4gICAgICAgIHZhciB2MSA9IGRlbEwgLyAoTCAqIHNsKTtcbiAgICAgICAgdmFyIHYyID0gZGVsQyAvIChDICogc2MpO1xuICAgICAgICB2YXIgdjMgPSBzaDtcbiAgICAgICAgcmV0dXJuIHNxcnQkNCgodjEgKiB2MSkgKyAodjIgKiB2MikgKyAoZEgyIC8gKHYzICogdjMpKSk7XG4gICAgfTtcblxuICAgIC8vIHNpbXBsZSBFdWNsaWRlYW4gZGlzdGFuY2VcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiLCBtb2RlKSB7XG4gICAgICAgIGlmICggbW9kZSA9PT0gdm9pZCAwICkgbW9kZT0nbGFiJztcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMTk3NilcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXF1YXRpb25zLmh0bWxcbiAgICAgICAgYSA9IG5ldyBDb2xvcl8xKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yXzEoYik7XG4gICAgICAgIHZhciBsMSA9IGEuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgbDIgPSBiLmdldChtb2RlKTtcbiAgICAgICAgdmFyIHN1bV9zcSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbDEpIHtcbiAgICAgICAgICAgIHZhciBkID0gKGwxW2ldIHx8IDApIC0gKGwyW2ldIHx8IDApO1xuICAgICAgICAgICAgc3VtX3NxICs9IGQqZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bV9zcSk7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzKSApKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc29tZSBwcmUtZGVmaW5lZCBjb2xvciBzY2FsZXM6XG5cblxuXG5cbiAgICB2YXIgc2NhbGVzID0ge1xuICAgIFx0Y29vbDogZnVuY3Rpb24gY29vbCgpIHsgcmV0dXJuIHNjYWxlKFtjaHJvbWFfMS5oc2woMTgwLDEsLjkpLCBjaHJvbWFfMS5oc2woMjUwLC43LC40KV0pIH0sXG4gICAgXHRob3Q6IGZ1bmN0aW9uIGhvdCgpIHsgcmV0dXJuIHNjYWxlKFsnIzAwMCcsJyNmMDAnLCcjZmYwJywnI2ZmZiddLCBbMCwuMjUsLjc1LDFdKS5tb2RlKCdyZ2InKSB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgICBDb2xvckJyZXdlciBjb2xvcnMgZm9yIGNocm9tYS5qc1xuXG4gICAgICAgIENvcHlyaWdodCAoYykgMjAwMiBDeW50aGlhIEJyZXdlciwgTWFyayBIYXJyb3dlciwgYW5kIFRoZVxuICAgICAgICBQZW5uc3lsdmFuaWEgU3RhdGUgVW5pdmVyc2l0eS5cblxuICAgICAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICAgICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICAgICAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG4gICAgICAgIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SXG4gICAgICAgIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gICAgICAgIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAgKi9cblxuICAgIHZhciBjb2xvcmJyZXdlciA9IHtcbiAgICAgICAgLy8gc2VxdWVudGlhbFxuICAgICAgICBPclJkOiBbJyNmZmY3ZWMnLCAnI2ZlZThjOCcsICcjZmRkNDllJywgJyNmZGJiODQnLCAnI2ZjOGQ1OScsICcjZWY2NTQ4JywgJyNkNzMwMWYnLCAnI2IzMDAwMCcsICcjN2YwMDAwJ10sXG4gICAgICAgIFB1QnU6IFsnI2ZmZjdmYicsICcjZWNlN2YyJywgJyNkMGQxZTYnLCAnI2E2YmRkYicsICcjNzRhOWNmJywgJyMzNjkwYzAnLCAnIzA1NzBiMCcsICcjMDQ1YThkJywgJyMwMjM4NTgnXSxcbiAgICAgICAgQnVQdTogWycjZjdmY2ZkJywgJyNlMGVjZjQnLCAnI2JmZDNlNicsICcjOWViY2RhJywgJyM4Yzk2YzYnLCAnIzhjNmJiMScsICcjODg0MTlkJywgJyM4MTBmN2MnLCAnIzRkMDA0YiddLFxuICAgICAgICBPcmFuZ2VzOiBbJyNmZmY1ZWInLCAnI2ZlZTZjZScsICcjZmRkMGEyJywgJyNmZGFlNmInLCAnI2ZkOGQzYycsICcjZjE2OTEzJywgJyNkOTQ4MDEnLCAnI2E2MzYwMycsICcjN2YyNzA0J10sXG4gICAgICAgIEJ1R246IFsnI2Y3ZmNmZCcsICcjZTVmNWY5JywgJyNjY2VjZTYnLCAnIzk5ZDhjOScsICcjNjZjMmE0JywgJyM0MWFlNzYnLCAnIzIzOGI0NScsICcjMDA2ZDJjJywgJyMwMDQ0MWInXSxcbiAgICAgICAgWWxPckJyOiBbJyNmZmZmZTUnLCAnI2ZmZjdiYycsICcjZmVlMzkxJywgJyNmZWM0NGYnLCAnI2ZlOTkyOScsICcjZWM3MDE0JywgJyNjYzRjMDInLCAnIzk5MzQwNCcsICcjNjYyNTA2J10sXG4gICAgICAgIFlsR246IFsnI2ZmZmZlNScsICcjZjdmY2I5JywgJyNkOWYwYTMnLCAnI2FkZGQ4ZScsICcjNzhjNjc5JywgJyM0MWFiNWQnLCAnIzIzODQ0MycsICcjMDA2ODM3JywgJyMwMDQ1MjknXSxcbiAgICAgICAgUmVkczogWycjZmZmNWYwJywgJyNmZWUwZDInLCAnI2ZjYmJhMScsICcjZmM5MjcyJywgJyNmYjZhNGEnLCAnI2VmM2IyYycsICcjY2IxODFkJywgJyNhNTBmMTUnLCAnIzY3MDAwZCddLFxuICAgICAgICBSZFB1OiBbJyNmZmY3ZjMnLCAnI2ZkZTBkZCcsICcjZmNjNWMwJywgJyNmYTlmYjUnLCAnI2Y3NjhhMScsICcjZGQzNDk3JywgJyNhZTAxN2UnLCAnIzdhMDE3NycsICcjNDkwMDZhJ10sXG4gICAgICAgIEdyZWVuczogWycjZjdmY2Y1JywgJyNlNWY1ZTAnLCAnI2M3ZTljMCcsICcjYTFkOTliJywgJyM3NGM0NzYnLCAnIzQxYWI1ZCcsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbEduQnU6IFsnI2ZmZmZkOScsICcjZWRmOGIxJywgJyNjN2U5YjQnLCAnIzdmY2RiYicsICcjNDFiNmM0JywgJyMxZDkxYzAnLCAnIzIyNWVhOCcsICcjMjUzNDk0JywgJyMwODFkNTgnXSxcbiAgICAgICAgUHVycGxlczogWycjZmNmYmZkJywgJyNlZmVkZjUnLCAnI2RhZGFlYicsICcjYmNiZGRjJywgJyM5ZTlhYzgnLCAnIzgwN2RiYScsICcjNmE1MWEzJywgJyM1NDI3OGYnLCAnIzNmMDA3ZCddLFxuICAgICAgICBHbkJ1OiBbJyNmN2ZjZjAnLCAnI2UwZjNkYicsICcjY2NlYmM1JywgJyNhOGRkYjUnLCAnIzdiY2NjNCcsICcjNGViM2QzJywgJyMyYjhjYmUnLCAnIzA4NjhhYycsICcjMDg0MDgxJ10sXG4gICAgICAgIEdyZXlzOiBbJyNmZmZmZmYnLCAnI2YwZjBmMCcsICcjZDlkOWQ5JywgJyNiZGJkYmQnLCAnIzk2OTY5NicsICcjNzM3MzczJywgJyM1MjUyNTInLCAnIzI1MjUyNScsICcjMDAwMDAwJ10sXG4gICAgICAgIFlsT3JSZDogWycjZmZmZmNjJywgJyNmZmVkYTAnLCAnI2ZlZDk3NicsICcjZmViMjRjJywgJyNmZDhkM2MnLCAnI2ZjNGUyYScsICcjZTMxYTFjJywgJyNiZDAwMjYnLCAnIzgwMDAyNiddLFxuICAgICAgICBQdVJkOiBbJyNmN2Y0ZjknLCAnI2U3ZTFlZicsICcjZDRiOWRhJywgJyNjOTk0YzcnLCAnI2RmNjViMCcsICcjZTcyOThhJywgJyNjZTEyNTYnLCAnIzk4MDA0MycsICcjNjcwMDFmJ10sXG4gICAgICAgIEJsdWVzOiBbJyNmN2ZiZmYnLCAnI2RlZWJmNycsICcjYzZkYmVmJywgJyM5ZWNhZTEnLCAnIzZiYWVkNicsICcjNDI5MmM2JywgJyMyMTcxYjUnLCAnIzA4NTE5YycsICcjMDgzMDZiJ10sXG4gICAgICAgIFB1QnVHbjogWycjZmZmN2ZiJywgJyNlY2UyZjAnLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM2N2E5Y2YnLCAnIzM2OTBjMCcsICcjMDI4MThhJywgJyMwMTZjNTknLCAnIzAxNDYzNiddLFxuICAgICAgICBWaXJpZGlzOiBbJyM0NDAxNTQnLCAnIzQ4Mjc3NycsICcjM2Y0YThhJywgJyMzMTY3OGUnLCAnIzI2ODM4ZicsICcjMWY5ZDhhJywgJyM2Y2NlNWEnLCAnI2I2ZGUyYicsICcjZmVlODI1J10sXG5cbiAgICAgICAgLy8gZGl2ZXJnaW5nXG5cbiAgICAgICAgU3BlY3RyYWw6IFsnIzllMDE0MicsICcjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNmZmZmYmYnLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCcsICcjNWU0ZmEyJ10sXG4gICAgICAgIFJkWWxHbjogWycjYTUwMDI2JywgJyNkNzMwMjcnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZDllZjhiJywgJyNhNmQ5NmEnLCAnIzY2YmQ2MycsICcjMWE5ODUwJywgJyMwMDY4MzcnXSxcbiAgICAgICAgUmRCdTogWycjNjcwMDFmJywgJyNiMjE4MmInLCAnI2Q2NjA0ZCcsICcjZjRhNTgyJywgJyNmZGRiYzcnLCAnI2Y3ZjdmNycsICcjZDFlNWYwJywgJyM5MmM1ZGUnLCAnIzQzOTNjMycsICcjMjE2NmFjJywgJyMwNTMwNjEnXSxcbiAgICAgICAgUGlZRzogWycjOGUwMTUyJywgJyNjNTFiN2QnLCAnI2RlNzdhZScsICcjZjFiNmRhJywgJyNmZGUwZWYnLCAnI2Y3ZjdmNycsICcjZTZmNWQwJywgJyNiOGUxODYnLCAnIzdmYmM0MScsICcjNGQ5MjIxJywgJyMyNzY0MTknXSxcbiAgICAgICAgUFJHbjogWycjNDAwMDRiJywgJyM3NjJhODMnLCAnIzk5NzBhYicsICcjYzJhNWNmJywgJyNlN2Q0ZTgnLCAnI2Y3ZjdmNycsICcjZDlmMGQzJywgJyNhNmRiYTAnLCAnIzVhYWU2MScsICcjMWI3ODM3JywgJyMwMDQ0MWInXSxcbiAgICAgICAgUmRZbEJ1OiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA5MCcsICcjZmZmZmJmJywgJyNlMGYzZjgnLCAnI2FiZDllOScsICcjNzRhZGQxJywgJyM0NTc1YjQnLCAnIzMxMzY5NSddLFxuICAgICAgICBCckJHOiBbJyM1NDMwMDUnLCAnIzhjNTEwYScsICcjYmY4MTJkJywgJyNkZmMyN2QnLCAnI2Y2ZThjMycsICcjZjVmNWY1JywgJyNjN2VhZTUnLCAnIzgwY2RjMScsICcjMzU5NzhmJywgJyMwMTY2NWUnLCAnIzAwM2MzMCddLFxuICAgICAgICBSZEd5OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZmZmZmZmJywgJyNlMGUwZTAnLCAnI2JhYmFiYScsICcjODc4Nzg3JywgJyM0ZDRkNGQnLCAnIzFhMWExYSddLFxuICAgICAgICBQdU9yOiBbJyM3ZjNiMDgnLCAnI2IzNTgwNicsICcjZTA4MjE0JywgJyNmZGI4NjMnLCAnI2ZlZTBiNicsICcjZjdmN2Y3JywgJyNkOGRhZWInLCAnI2IyYWJkMicsICcjODA3M2FjJywgJyM1NDI3ODgnLCAnIzJkMDA0YiddLFxuXG4gICAgICAgIC8vIHF1YWxpdGF0aXZlXG5cbiAgICAgICAgU2V0MjogWycjNjZjMmE1JywgJyNmYzhkNjInLCAnIzhkYTBjYicsICcjZTc4YWMzJywgJyNhNmQ4NTQnLCAnI2ZmZDkyZicsICcjZTVjNDk0JywgJyNiM2IzYjMnXSxcbiAgICAgICAgQWNjZW50OiBbJyM3ZmM5N2YnLCAnI2JlYWVkNCcsICcjZmRjMDg2JywgJyNmZmZmOTknLCAnIzM4NmNiMCcsICcjZjAwMjdmJywgJyNiZjViMTcnLCAnIzY2NjY2NiddLFxuICAgICAgICBTZXQxOiBbJyNlNDFhMWMnLCAnIzM3N2ViOCcsICcjNGRhZjRhJywgJyM5ODRlYTMnLCAnI2ZmN2YwMCcsICcjZmZmZjMzJywgJyNhNjU2MjgnLCAnI2Y3ODFiZicsICcjOTk5OTk5J10sXG4gICAgICAgIFNldDM6IFsnIzhkZDNjNycsICcjZmZmZmIzJywgJyNiZWJhZGEnLCAnI2ZiODA3MicsICcjODBiMWQzJywgJyNmZGI0NjInLCAnI2IzZGU2OScsICcjZmNjZGU1JywgJyNkOWQ5ZDknLCAnI2JjODBiZCcsICcjY2NlYmM1JywgJyNmZmVkNmYnXSxcbiAgICAgICAgRGFyazI6IFsnIzFiOWU3NycsICcjZDk1ZjAyJywgJyM3NTcwYjMnLCAnI2U3Mjk4YScsICcjNjZhNjFlJywgJyNlNmFiMDInLCAnI2E2NzYxZCcsICcjNjY2NjY2J10sXG4gICAgICAgIFBhaXJlZDogWycjYTZjZWUzJywgJyMxZjc4YjQnLCAnI2IyZGY4YScsICcjMzNhMDJjJywgJyNmYjlhOTknLCAnI2UzMWExYycsICcjZmRiZjZmJywgJyNmZjdmMDAnLCAnI2NhYjJkNicsICcjNmEzZDlhJywgJyNmZmZmOTknLCAnI2IxNTkyOCddLFxuICAgICAgICBQYXN0ZWwyOiBbJyNiM2UyY2QnLCAnI2ZkY2RhYycsICcjY2JkNWU4JywgJyNmNGNhZTQnLCAnI2U2ZjVjOScsICcjZmZmMmFlJywgJyNmMWUyY2MnLCAnI2NjY2NjYyddLFxuICAgICAgICBQYXN0ZWwxOiBbJyNmYmI0YWUnLCAnI2IzY2RlMycsICcjY2NlYmM1JywgJyNkZWNiZTQnLCAnI2ZlZDlhNicsICcjZmZmZmNjJywgJyNlNWQ4YmQnLCAnI2ZkZGFlYycsICcjZjJmMmYyJ10sXG4gICAgfTtcblxuICAgIC8vIGFkZCBsb3dlcmNhc2UgYWxpYXNlcyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGVzXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGlzdCQxID0gT2JqZWN0LmtleXMoY29sb3JicmV3ZXIpOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdCQxW2kkMV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIG9wZXJhdG9ycyAtLT4gbW9kaWZ5IGV4aXN0aW5nIENvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gaW50ZXJwb2xhdG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gZ2VuZXJhdG9ycyAtLSA+IGNyZWF0ZSBuZXcgY29sb3JzXG4gICAgY2hyb21hXzEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hXzEuYmV6aWVyID0gYmV6aWVyXzE7XG4gICAgY2hyb21hXzEuYmxlbmQgPSBibGVuZF8xO1xuICAgIGNocm9tYV8xLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWFfMS5taXggPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZSA9IG1peDtcbiAgICBjaHJvbWFfMS5yYW5kb20gPSByYW5kb21fMTtcbiAgICBjaHJvbWFfMS5zY2FsZSA9IHNjYWxlO1xuXG4gICAgLy8gb3RoZXIgdXRpbGl0eSBtZXRob2RzXG4gICAgY2hyb21hXzEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYV8xLmNvbnRyYXN0ID0gY29udHJhc3Q7XG4gICAgY2hyb21hXzEuZGVsdGFFID0gZGVsdGFFO1xuICAgIGNocm9tYV8xLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hXzEubGltaXRzID0gYW5hbHl6ZV8xLmxpbWl0cztcbiAgICBjaHJvbWFfMS52YWxpZCA9IHZhbGlkO1xuXG4gICAgLy8gc2NhbGVcbiAgICBjaHJvbWFfMS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWFfMS5jb2xvcnMgPSB3M2N4MTFfMTtcbiAgICBjaHJvbWFfMS5icmV3ZXIgPSBjb2xvcmJyZXdlcl8xO1xuXG4gICAgdmFyIGNocm9tYV9qcyA9IGNocm9tYV8xO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///792\n")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(415);return __webpack_exports__}()},module.exports=g()},function(e,t,n){"use strict";var r=n(21),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,c=60110,g=60112;t.Suspense=60113;var l=60115,s=60116;if("function"===typeof Symbol&&Symbol.for){var u=Symbol.for;a=u("react.element"),i=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),o=u("react.provider"),c=u("react.context"),g=u("react.forward_ref"),t.Suspense=u("react.suspense"),l=u("react.memo"),s=u("react.lazy")}var I="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function b(e,t,n){this.props=e,this.context=t,this.refs=B,this.updater=n||C}function A(){}function h(e,t,n){this.props=e,this.context=t,this.refs=B,this.updater=n||C}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=b.prototype;var m=h.prototype=new A;m.constructor=h,r(m,b.prototype),m.isPureReactComponent=!0;var p={current:null},Q=Object.prototype.hasOwnProperty,f={key:!0,ref:!0,__self:!0,__source:!0};function F(e,t,n){var r,i={},o=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(o=""+t.key),t)Q.call(t,r)&&!f.hasOwnProperty(r)&&(i[r]=t[r]);var g=arguments.length-2;if(1===g)i.children=n;else if(1<g){for(var l=Array(g),s=0;s<g;s++)l[s]=arguments[s+2];i.children=l}if(e&&e.defaultProps)for(r in g=e.defaultProps)void 0===i[r]&&(i[r]=g[r]);return{$$typeof:a,type:e,key:o,ref:c,props:i,_owner:p.current}}function y(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var x=/\/+/g;function v(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function G(e,t,n,r,o){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var g=!1;if(null===e)g=!0;else switch(c){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case a:case i:g=!0}}if(g)return o=o(g=e),e=""===r?"."+v(g,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),G(o,t,n,"",(function(e){return e}))):null!=o&&(y(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||g&&g.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(g=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var s=r+v(c=e[l],l);g+=G(c,t,n,s,o)}else if("function"===typeof(s=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}(e)))for(e=s.call(e),l=0;!(c=e.next()).done;)g+=G(c=c.value,t,n,s=r+v(c,l++),o);else if("object"===c)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return g}function U(e,t,n){if(null==e)return e;var r=[],a=0;return G(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function X(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var E={current:null};function S(){var e=E.current;if(null===e)throw Error(d(321));return e}var w={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:p,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:U,forEach:function(e,t,n){U(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return U(e,(function(){t++})),t},toArray:function(e){return U(e,(function(e){return e}))||[]},only:function(e){if(!y(e))throw Error(d(143));return e}},t.Component=b,t.PureComponent=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var i=r({},e.props),o=e.key,c=e.ref,g=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,g=p.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Q.call(t,s)&&!f.hasOwnProperty(s)&&(i[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:c,props:i,_owner:g}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:c,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=F,t.createFactory=function(e){var t=F.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:g,render:e}},t.isValidElement=y,t.lazy=function(e){return{$$typeof:s,_payload:{_status:-1,_result:e},_init:X}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return S().useCallback(e,t)},t.useContext=function(e,t){return S().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return S().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return S().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return S().useLayoutEffect(e,t)},t.useMemo=function(e,t){return S().useMemo(e,t)},t.useReducer=function(e,t,n){return S().useReducer(e,t,n)},t.useRef=function(e){return S().useRef(e)},t.useState=function(e){return S().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(2),a=n(21),i=n(46);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var c=new Set,g={};function l(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(g[e]=t,e=0;e<t.length;e++)c.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,C={},B={};function b(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){A[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];A[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){A[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){A[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){A[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){A[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){A[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){A[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){A[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function p(e,t,n,r){var a=A.hasOwnProperty(t)?A[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(B,e)||!d.call(C,e)&&(I.test(e)?B[e]=!0:(C[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,m);A[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,m);A[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,m);A[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){A[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){A[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=60103,F=60106,y=60107,x=60108,v=60114,G=60109,U=60110,X=60112,E=60113,S=60120,w=60115,N=60116,Z=60121,V=60128,W=60129,D=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var T=Symbol.for;f=T("react.element"),F=T("react.portal"),y=T("react.fragment"),x=T("react.strict_mode"),v=T("react.profiler"),G=T("react.provider"),U=T("react.context"),X=T("react.forward_ref"),E=T("react.suspense"),S=T("react.suspense_list"),w=T("react.memo"),N=T("react.lazy"),Z=T("react.block"),T("react.scope"),V=T("react.opaque.id"),W=T("react.debug_trace_mode"),D=T("react.offscreen"),M=T("react.legacy_hidden")}var O,k="function"===typeof Symbol&&Symbol.iterator;function Y(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}function R(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var H=!1;function L(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&"string"===typeof g.stack){for(var a=g.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,c=i.length-1;1<=o&&0<=c&&a[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==i[c]){if(1!==o||1!==c)do{if(o--,0>--c||a[o]!==i[c])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=c);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function z(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 22:return e=L(e.type._render,!1);case 1:return e=L(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case F:return"Portal";case v:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case X:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case w:return J(e.type);case Z:return J(e._render);case N:t=e._payload,e=e._init;try{return J(e(t))}catch(n){}}return null}function j(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function P(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=P(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&p(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ge(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function le(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue="http://www.w3.org/1999/xhtml",Ie="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,be,Ae=(be=function(e,t){if(e.namespaceURI!==Ie||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return be(e,t)}))}:be);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function Qe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Qe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var Fe=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(Fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ge=null,Ue=null,Xe=null;function Ee(e){if(e=ea(e)){if("function"!==typeof Ge)throw Error(o(280));var t=e.stateNode;t&&(t=na(t),Ge(e.stateNode,e.type,t))}}function Se(e){Ue?Xe?Xe.push(e):Xe=[e]:Ue=e}function we(){if(Ue){var e=Ue,t=Xe;if(Xe=Ue=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ze(e,t,n,r,a){return e(t,n,r,a)}function Ve(){}var We=Ne,De=!1,Me=!1;function Te(){null===Ue&&null===Xe||(Ve(),we())}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=na(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ke=!1;if(u)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(be){ke=!1}function Re(e,t,n,r,a,i,o,c,g){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(s){this.onError(s)}}var He=!1,Le=null,ze=!1,Je=null,je={onError:function(e){He=!0,Le=e}};function Pe(e,t,n,r,a,i,o,c,g){He=!1,Le=null,Re.apply(je,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ke(e)!==e)throw Error(o(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var c=!1,g=a.child;g;){if(g===n){c=!0,n=a,r=i;break}if(g===r){c=!0,r=a,n=i;break}g=g.sibling}if(!c){for(g=i.child;g;){if(g===n){c=!0,n=i,r=a;break}if(g===r){c=!0,r=i,n=a;break}g=g.sibling}if(!c)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],ct=null,gt=null,lt=null,st=new Map,ut=new Map,It=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ct(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function Bt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":gt=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":st.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function bt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=Ct(t,n,r,a,i),null!==t&&(null!==(t=ea(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function At(e){var t=$r(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=_e(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ht(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ea(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){ht(e)&&n.delete(t)}function pt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ea(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ct&&ht(ct)&&(ct=null),null!==gt&&ht(gt)&&(gt=null),null!==lt&&ht(lt)&&(lt=null),st.forEach(mt),ut.forEach(mt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pt)))}function ft(e){function t(t){return Qt(t,e)}if(0<ot.length){Qt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Qt(ct,e),null!==gt&&Qt(gt,e),null!==lt&&Qt(lt,e),st.forEach(t),ut.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)At(n),null===n.blockedOn&&It.shift()}function Ft(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yt={animationend:Ft("Animation","AnimationEnd"),animationiteration:Ft("Animation","AnimationIteration"),animationstart:Ft("Animation","AnimationStart"),transitionend:Ft("Transition","TransitionEnd")},xt={},vt={};function Gt(e){if(xt[e])return xt[e];if(!yt[e])return e;var t,n=yt[e];for(t in n)if(n.hasOwnProperty(t)&&t in vt)return xt[e]=n[t];return e}u&&(vt=document.createElement("div").style,"AnimationEvent"in window||(delete yt.animationend.animation,delete yt.animationiteration.animation,delete yt.animationstart.animation),"TransitionEvent"in window||delete yt.transitionend.transition);var Ut=Gt("animationend"),Xt=Gt("animationiteration"),Et=Gt("animationstart"),St=Gt("transitionend"),wt=new Map,Nt=new Map,Zt=["abort","abort",Ut,"animationEnd",Xt,"animationIteration",Et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",St,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Nt.set(r,t),wt.set(r,a),l(a,[r])}}(0,i.unstable_now)();var Wt=8;function Dt(e){if(0!==(1&e))return Wt=15,1;if(0!==(2&e))return Wt=14,2;if(0!==(4&e))return Wt=13,4;var t=24&e;return 0!==t?(Wt=12,t):0!==(32&e)?(Wt=11,32):0!==(t=192&e)?(Wt=10,t):0!==(256&e)?(Wt=9,256):0!==(t=3584&e)?(Wt=8,t):0!==(4096&e)?(Wt=7,4096):0!==(t=4186112&e)?(Wt=6,t):0!==(t=62914560&e)?(Wt=5,t):67108864&e?(Wt=4,67108864):0!==(134217728&e)?(Wt=3,134217728):0!==(t=805306368&e)?(Wt=2,t):0!==(1073741824&e)?(Wt=1,1073741824):(Wt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Wt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,c=e.pingedLanes;if(0!==i)r=i,a=Wt=15;else if(0!==(i=134217727&n)){var g=i&~o;0!==g?(r=Dt(g),a=Wt):0!==(c&=i)&&(r=Dt(c),a=Wt)}else 0!==(i=n&~o)?(r=Dt(i),a=Wt):0!==c&&(r=Dt(c),a=Wt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Dt(t),a<=Wt)return t;Wt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Ht(t)),r|=e[n],t&=~a;return r}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ot(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=kt(24&~t))?Ot(10,t):e;case 10:return 0===(e=kt(192&~t))?Ot(8,t):e;case 8:return 0===(e=kt(3584&~t))&&(0===(e=kt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=kt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function kt(e){return e&-e}function Yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Lt(e)/zt|0)|0},Lt=Math.log,zt=Math.LN2;var Jt=i.unstable_UserBlockingPriority,jt=i.unstable_runWithPriority,Pt=!0;function Kt(e,t,n,r){De||Ve();var a=qt,i=De;De=!0;try{Ze(a,e,t,n,r)}finally{(De=i)||Te()}}function _t(e,t,n,r){jt(Jt,qt.bind(null,e,t,n,r))}function qt(e,t,n,r){var a;if(Pt)if((a=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=Ct(null,e,t,n,r),ot.push(e);else{var i=$t(e,t,n,r);if(null===i)a&&Bt(e,r);else{if(a){if(-1<dt.indexOf(e))return e=Ct(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ct=bt(ct,e,t,n,r,a),!0;case"dragenter":return gt=bt(gt,e,t,n,r,a),!0;case"mouseover":return lt=bt(lt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return st.set(i,bt(st.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ut.set(i,bt(ut.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;Bt(e,r)}wr(e,t,r,null,n)}}}function $t(e,t,n,r){var a=ve(r);if(null!==(a=$r(a))){var i=Ke(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=_e(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return wr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function cn(){return!1}function gn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:cn,this.isPropagationStopped=cn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,sn,un,In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=gn(In),Cn=a({},In,{view:0,detail:0}),Bn=gn(Cn),bn=a({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),An=gn(bn),hn=gn(a({},bn,{dataTransfer:0})),mn=gn(a({},Cn,{relatedTarget:0})),pn=gn(a({},In,{animationName:0,elapsedTime:0,pseudoElement:0})),Qn=gn(a({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=gn(a({},In,{data:0})),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Gn(){return vn}var Un=gn(a({},Cn,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Xn=gn(a({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=gn(a({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn})),Sn=gn(a({},In,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=gn(a({},bn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],Zn=u&&"CompositionEvent"in window,Vn=null;u&&"documentMode"in document&&(Vn=document.documentMode);var Wn=u&&"TextEvent"in window&&!Vn,Dn=u&&(!Zn||Vn&&8<Vn&&11>=Vn),Mn=String.fromCharCode(32),Tn=!1;function On(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,r){Se(r),0<(t=Zr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Jn=null;function jn(e){vr(e,0)}function Pn(e){if(_(ta(e)))return e}function Kn(e,t){if("change"===e)return t}var _n=!1;if(u){var qn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}qn=$n}else qn=!1;_n=qn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Jn=zn=null)}function nr(e){if("value"===e.propertyName&&Pn(Jn)){var t=[];if(Ln(t,Jn,e,ve(e)),e=jn,De)e(t);else{De=!0;try{Ne(e,t)}finally{De=!1,Te()}}}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pn(Jn)}function ir(e,t){if("click"===e)return Pn(t)}function or(e,t){if("input"===e||"change"===e)return Pn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},gr=Object.prototype.hasOwnProperty;function lr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!gr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function Ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Br=u&&"documentMode"in document&&11>=document.documentMode,br=null,Ar=null,hr=null,mr=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==br||br!==q(r)||("selectionStart"in(r=br)&&Cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&lr(hr,r)||(hr=r,0<(r=Zr(Ar,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Zt,2);for(var Qr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),fr=0;fr<Qr.length;fr++)Nt.set(Qr[fr],0);s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,c,g,l){if(Pe.apply(this,arguments),He){if(!He)throw Error(o(198));var s=Le;He=!1,Le=null,ze||(ze=!0,Je=s)}}(r,t,void 0,e),e.currentTarget=null}function vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],g=c.instance,l=c.currentTarget;if(c=c.listener,g!==i&&a.isPropagationStopped())break e;xr(a,c,l),i=g}else for(o=0;o<r.length;o++){if(g=(c=r[o]).instance,l=c.currentTarget,c=c.listener,g!==i&&a.isPropagationStopped())break e;xr(a,c,l),i=g}}}if(ze)throw e=Je,ze=!1,Je=null,e}function Gr(e,t){var n=ra(t),r=e+"__bubble";n.has(r)||(Sr(t,e,2,!1),n.add(r))}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){e[Ur]||(e[Ur]=!0,c.forEach((function(t){yr.has(t)||Er(t,!1,e,null),Er(t,!0,e,null)})))}function Er(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&yr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=ra(i),c=e+"__"+(t?"capture":"bubble");o.has(c)||(t&&(a|=4),Sr(i,e,a,t),o.add(c))}function Sr(e,t,n,r){var a=Nt.get(t);switch(void 0===a?2:a){case 0:a=Kt;break;case 1:a=_t;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var c=r.stateNode.containerInfo;if(c===a||8===c.nodeType&&c.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var g=o.tag;if((3===g||4===g)&&((g=o.stateNode.containerInfo)===a||8===g.nodeType&&g.parentNode===a))return;o=o.return}for(;null!==c;){if(null===(o=$r(c)))return;if(5===(g=o.tag)||6===g){r=i=o;continue e}c=c.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{We(e,t,n)}finally{Me=!1,Te()}}((function(){var r=i,a=ve(n),o=[];e:{var c=wt.get(e);if(void 0!==c){var g=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":g=Un;break;case"focusin":l="focus",g=mn;break;case"focusout":l="blur",g=mn;break;case"beforeblur":case"afterblur":g=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=En;break;case Ut:case Xt:case Et:g=pn;break;case St:g=Sn;break;case"scroll":g=Bn;break;case"wheel":g=wn;break;case"copy":case"cut":case"paste":g=Qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xn}var s=0!==(4&t),u=!s&&"scroll"===e,I=s?null!==c?c+"Capture":null:c;s=[];for(var d,C=r;null!==C;){var B=(d=C).stateNode;if(5===d.tag&&null!==B&&(d=B,null!==I&&(null!=(B=Oe(C,I))&&s.push(Nr(C,B,d)))),u)break;C=C.return}0<s.length&&(c=new g(c,l,null,n,a),o.push({event:c,listeners:s}))}}if(0===(7&t)){if(g="mouseout"===e||"pointerout"===e,(!(c="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!$r(l)&&!l[_r])&&(g||c)&&(c=a.window===a?a:(c=a.ownerDocument)?c.defaultView||c.parentWindow:window,g?(g=r,null!==(l=(l=n.relatedTarget||n.toElement)?$r(l):null)&&(l!==(u=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(g=null,l=r),g!==l)){if(s=An,B="onMouseLeave",I="onMouseEnter",C="mouse","pointerout"!==e&&"pointerover"!==e||(s=Xn,B="onPointerLeave",I="onPointerEnter",C="pointer"),u=null==g?c:ta(g),d=null==l?c:ta(l),(c=new s(B,C+"leave",g,n,a)).target=u,c.relatedTarget=d,B=null,$r(a)===r&&((s=new s(I,C+"enter",l,n,a)).target=d,s.relatedTarget=u,B=s),u=B,g&&l)e:{for(I=l,C=0,d=s=g;d;d=Vr(d))C++;for(d=0,B=I;B;B=Vr(B))d++;for(;0<C-d;)s=Vr(s),C--;for(;0<d-C;)I=Vr(I),d--;for(;C--;){if(s===I||null!==I&&s===I.alternate)break e;s=Vr(s),I=Vr(I)}s=null}else s=null;null!==g&&Wr(o,c,g,s,!1),null!==l&&null!==u&&Wr(o,u,l,s,!0)}if("select"===(g=(c=r?ta(r):window).nodeName&&c.nodeName.toLowerCase())||"input"===g&&"file"===c.type)var b=Kn;else if(Hn(c))if(_n)b=or;else{b=ar;var A=rr}else(g=c.nodeName)&&"input"===g.toLowerCase()&&("checkbox"===c.type||"radio"===c.type)&&(b=ir);switch(b&&(b=b(e,r))?Ln(o,b,n,a):(A&&A(e,c,r),"focusout"===e&&(A=c._wrapperState)&&A.controlled&&"number"===c.type&&ae(c,"number",c.value)),A=r?ta(r):window,e){case"focusin":(Hn(A)||"true"===A.contentEditable)&&(br=A,Ar=r,hr=null);break;case"focusout":hr=Ar=br=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,pr(o,n,a);break;case"selectionchange":if(Br)break;case"keydown":case"keyup":pr(o,n,a)}var h;if(Zn)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else Yn?On(e,n)&&(m="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(m="onCompositionStart");m&&(Dn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==m?"onCompositionEnd"===m&&Yn&&(h=rn()):(tn="value"in(en=a)?en.value:en.textContent,Yn=!0)),0<(A=Zr(r,m)).length&&(m=new fn(m,e,null,n,a),o.push({event:m,listeners:A}),h?m.data=h:null!==(h=kn(n))&&(m.data=h))),(h=Wn?function(e,t){switch(e){case"compositionend":return kn(t);case"keypress":return 32!==t.which?null:(Tn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Zn&&On(e,t)?(e=rn(),nn=tn=en=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Zr(r,"onBeforeInput")).length&&(a=new fn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=h))}vr(o,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Oe(e,n))&&r.unshift(Nr(e,i,a)),null!=(i=Oe(e,t))&&r.push(Nr(e,i,a))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var c=n,g=c.alternate,l=c.stateNode;if(null!==g&&g===r)break;5===c.tag&&null!==l&&(c=l,a?null!=(g=Oe(n,i))&&o.unshift(Nr(n,g,c)):a||null!=(g=Oe(n,i))&&o.push(Nr(n,g,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Dr(){}var Mr=null,Tr=null;function Or(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Rr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var jr=Math.random().toString(36).slice(2),Pr="__reactFiber$"+jr,Kr="__reactProps$"+jr,_r="__reactContainer$"+jr,qr="__reactEvents$"+jr;function $r(e){var t=e[Pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_r]||n[Pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zr(e);null!==e;){if(n=e[Pr])return n;e=zr(e)}return t}n=(e=n).parentNode}return null}function ea(e){return!(e=e[Pr]||e[_r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function na(e){return e[Kr]||null}function ra(e){var t=e[qr];return void 0===t&&(t=e[qr]=new Set),t}var aa=[],ia=-1;function oa(e){return{current:e}}function ca(e){0>ia||(e.current=aa[ia],aa[ia]=null,ia--)}function ga(e,t){ia++,aa[ia]=e.current,e.current=t}var la={},sa=oa(la),ua=oa(!1),Ia=la;function da(e,t){var n=e.type.contextTypes;if(!n)return la;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ca(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ba(){ca(ua),ca(sa)}function ba(e,t,n){if(sa.current!==la)throw Error(o(168));ga(sa,t),ga(ua,n)}function Aa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,J(t)||"Unknown",i));return a({},n,r)}function ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||la,Ia=sa.current,ga(sa,e),ga(ua,ua.current),!0}function ma(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Aa(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,ca(ua),ca(sa),ga(sa,e)):ca(ua),ga(ua,n)}var pa=null,Qa=null,fa=i.unstable_runWithPriority,Fa=i.unstable_scheduleCallback,ya=i.unstable_cancelCallback,xa=i.unstable_shouldYield,va=i.unstable_requestPaint,Ga=i.unstable_now,Ua=i.unstable_getCurrentPriorityLevel,Xa=i.unstable_ImmediatePriority,Ea=i.unstable_UserBlockingPriority,Sa=i.unstable_NormalPriority,wa=i.unstable_LowPriority,Na=i.unstable_IdlePriority,Za={},Va=void 0!==va?va:function(){},Wa=null,Da=null,Ma=!1,Ta=Ga(),Oa=1e4>Ta?Ga:function(){return Ga()-Ta};function ka(){switch(Ua()){case Xa:return 99;case Ea:return 98;case Sa:return 97;case wa:return 96;case Na:return 95;default:throw Error(o(332))}}function Ya(e){switch(e){case 99:return Xa;case 98:return Ea;case 97:return Sa;case 96:return wa;case 95:return Na;default:throw Error(o(332))}}function Ra(e,t){return e=Ya(e),fa(e,t)}function Ha(e,t,n){return e=Ya(e),Fa(e,t,n)}function La(){if(null!==Da){var e=Da;Da=null,ya(e)}za()}function za(){if(!Ma&&null!==Wa){Ma=!0;var e=0;try{var t=Wa;Ra(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Wa=null}catch(n){throw null!==Wa&&(Wa=Wa.slice(e+1)),Fa(Xa,La),n}finally{Ma=!1}}}var Ja=Q.ReactCurrentBatchConfig;function ja(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Pa=oa(null),Ka=null,_a=null,qa=null;function $a(){qa=_a=Ka=null}function ei(e){var t=Pa.current;ca(Pa),e.type._context._currentValue=t}function ti(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ni(e,t){Ka=e,qa=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Zo=!0),e.firstContext=null)}function ri(e,t){if(qa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(qa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===_a){if(null===Ka)throw Error(o(308));_a=t,Ka.dependencies={lanes:0,firstContext:t,responders:null}}else _a=_a.next=t;return e._currentValue}var ai=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var i=e.updateQueue;ai=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,g=i.shared.pending;if(null!==g){i.shared.pending=null;var l=g,s=l.next;l.next=null,null===c?o=s:c.next=s,c=l;var u=e.alternate;if(null!==u){var I=(u=u.updateQueue).lastBaseUpdate;I!==c&&(null===I?u.firstBaseUpdate=s:I.next=s,u.lastBaseUpdate=l)}}if(null!==o){for(I=i.baseState,c=0,u=s=l=null;;){g=o.lane;var d=o.eventTime;if((r&g)===g){null!==u&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,B=o;switch(g=t,d=n,B.tag){case 1:if("function"===typeof(C=B.payload)){I=C.call(d,I,g);break e}I=C;break e;case 3:C.flags=-4097&C.flags|64;case 0:if(null===(g="function"===typeof(C=B.payload)?C.call(d,I,g):C)||void 0===g)break e;I=a({},I,g);break e;case 2:ai=!0}}null!==o.callback&&(e.flags|=32,null===(g=i.effects)?i.effects=[o]:g.push(o))}else d={eventTime:d,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(s=u=d,l=I):u=u.next=d,c|=g;if(null===(o=o.next)){if(null===(g=i.shared.pending))break;o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}null===u&&(l=I),i.baseState=l,i.firstBaseUpdate=s,i.lastBaseUpdate=u,Mc|=c,e.lanes=c,e.memoizedState=I}}function ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Ii=(new r.Component).refs;function di(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ci={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lg(),a=sg(e),i=ci(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gi(e,i),ug(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lg(),a=sg(e),i=ci(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gi(e,i),ug(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lg(),r=sg(e),a=ci(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),gi(e,a),ug(e,r,n)}};function Bi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function bi(e,t,n){var r=!1,a=la,i=t.contextType;return"object"===typeof i&&null!==i?i=ri(i):(a=Ca(t)?Ia:sa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?da(e,a):la),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ai(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function hi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Ii,ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ri(i):(i=Ca(t)?Ia:sa.current,a.context=da(e,i)),si(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(di(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ci.enqueueReplaceState(a,a.state,null),si(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var mi=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===Ii&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function fi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rg(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function c(t){return e&&null===t.alternate&&(t.flags=2),t}function g(e,t,n,r){return null===t||6!==t.tag?((t=Jg(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Hg(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jg(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Lg(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function I(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Jg(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return(n=Hg(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case F:return(t=jg(t,e.mode,n)).return=e,t}if(mi(t)||Y(t))return(t=Lg(t,e.mode,n,null)).return=e,t;Qi(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:g(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?n.type===y?u(e,t,n.props.children,r,a):l(e,t,n,r):null;case F:return n.key===a?s(e,t,n,r):null}if(mi(n)||Y(n))return null!==a?null:u(e,t,n,r,null);Qi(e,n)}return null}function C(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return g(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return e=e.get(null===r.key?n:r.key)||null,r.type===y?u(t,e,r.props.children,a,r.key):l(t,e,r,a);case F:return s(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(mi(r)||Y(r))return u(t,e=e.get(n)||null,r,a,null);Qi(t,r)}return null}function B(a,o,c,g){for(var l=null,s=null,u=o,B=o=0,b=null;null!==u&&B<c.length;B++){u.index>B?(b=u,u=null):b=u.sibling;var A=d(a,u,c[B],g);if(null===A){null===u&&(u=b);break}e&&u&&null===A.alternate&&t(a,u),o=i(A,o,B),null===s?l=A:s.sibling=A,s=A,u=b}if(B===c.length)return n(a,u),l;if(null===u){for(;B<c.length;B++)null!==(u=I(a,c[B],g))&&(o=i(u,o,B),null===s?l=u:s.sibling=u,s=u);return l}for(u=r(a,u);B<c.length;B++)null!==(b=C(u,a,B,c[B],g))&&(e&&null!==b.alternate&&u.delete(null===b.key?B:b.key),o=i(b,o,B),null===s?l=b:s.sibling=b,s=b);return e&&u.forEach((function(e){return t(a,e)})),l}function b(a,c,g,l){var s=Y(g);if("function"!==typeof s)throw Error(o(150));if(null==(g=s.call(g)))throw Error(o(151));for(var u=s=null,B=c,b=c=0,A=null,h=g.next();null!==B&&!h.done;b++,h=g.next()){B.index>b?(A=B,B=null):A=B.sibling;var m=d(a,B,h.value,l);if(null===m){null===B&&(B=A);break}e&&B&&null===m.alternate&&t(a,B),c=i(m,c,b),null===u?s=m:u.sibling=m,u=m,B=A}if(h.done)return n(a,B),s;if(null===B){for(;!h.done;b++,h=g.next())null!==(h=I(a,h.value,l))&&(c=i(h,c,b),null===u?s=h:u.sibling=h,u=h);return s}for(B=r(a,B);!h.done;b++,h=g.next())null!==(h=C(B,a,b,h.value,l))&&(e&&null!==h.alternate&&B.delete(null===h.key?b:h.key),c=i(h,c,b),null===u?s=h:u.sibling=h,u=h);return e&&B.forEach((function(e){return t(a,e)})),s}return function(e,r,i,g){var l="object"===typeof i&&null!==i&&i.type===y&&null===i.key;l&&(i=i.props.children);var s="object"===typeof i&&null!==i;if(s)switch(i.$$typeof){case f:e:{for(s=i.key,l=r;null!==l;){if(l.key===s){switch(l.tag){case 7:if(i.type===y){n(e,l.sibling),(r=a(l,i.props.children)).return=e,e=r;break e}break;default:if(l.elementType===i.type){n(e,l.sibling),(r=a(l,i.props)).ref=pi(e,l,i),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}i.type===y?((r=Lg(i.props.children,e.mode,g,i.key)).return=e,e=r):((g=Hg(i.type,i.key,i.props,null,e.mode,g)).ref=pi(e,r,i),g.return=e,e=g)}return c(e);case F:e:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=jg(i,e.mode,g)).return=e,e=r}return c(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Jg(i,e.mode,g)).return=e,e=r),c(e);if(mi(i))return B(e,r,i,g);if(Y(i))return b(e,r,i,g);if(s&&Qi(e,i),"undefined"===typeof i&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,J(e.type)||"Component"))}return n(e,r)}}var Fi=fi(!0),yi=fi(!1),xi={},vi=oa(xi),Gi=oa(xi),Ui=oa(xi);function Xi(e){if(e===xi)throw Error(o(174));return e}function Ei(e,t){switch(ga(Ui,t),ga(Gi,e),ga(vi,xi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ce(null,"");break;default:t=Ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ca(vi),ga(vi,t)}function Si(){ca(vi),ca(Gi),ca(Ui)}function wi(e){Xi(Ui.current);var t=Xi(vi.current),n=Ce(t,e.type);t!==n&&(ga(Gi,e),ga(vi,n))}function Ni(e){Gi.current===e&&(ca(vi),ca(Gi))}var Zi=oa(0);function Vi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=null,Di=null,Mi=!1;function Ti(e,t){var n=kg(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ki(e){if(Mi){var t=Di;if(t){var n=t;if(!Oi(e,t)){if(!(t=Lr(n.nextSibling))||!Oi(e,t))return e.flags=-1025&e.flags|2,Mi=!1,void(Wi=e);Ti(Wi,n)}Wi=e,Di=Lr(t.firstChild)}else e.flags=-1025&e.flags|2,Mi=!1,Wi=e}}function Yi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Wi=e}function Ri(e){if(e!==Wi)return!1;if(!Mi)return Yi(e),Mi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!kr(t,e.memoizedProps))for(t=Di;t;)Ti(e,t),t=Lr(t.nextSibling);if(Yi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Di=Lr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Di=null}}else Di=Wi?Lr(e.stateNode.nextSibling):null;return!0}function Hi(){Di=Wi=null,Mi=!1}var Li=[];function zi(){for(var e=0;e<Li.length;e++)Li[e]._workInProgressVersionPrimary=null;Li.length=0}var Ji=Q.ReactCurrentDispatcher,ji=Q.ReactCurrentBatchConfig,Pi=0,Ki=null,_i=null,qi=null,$i=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,a,i){if(Pi=i,Ki=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=null===e||null===e.memoizedState?Eo:So,e=n(r,a),eo){i=0;do{if(eo=!1,!(25>i))throw Error(o(301));i+=1,qi=_i=null,t.updateQueue=null,Ji.current=wo,e=n(r,a)}while(eo)}if(Ji.current=Xo,t=null!==_i&&null!==_i.next,Pi=0,qi=_i=Ki=null,$i=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qi?Ki.memoizedState=qi=e:qi=qi.next=e,qi}function io(){if(null===_i){var e=Ki.alternate;e=null!==e?e.memoizedState:null}else e=_i.next;var t=null===qi?Ki.memoizedState:qi.next;if(null!==t)qi=t,_i=e;else{if(null===e)throw Error(o(310));e={memoizedState:(_i=e).memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},null===qi?Ki.memoizedState=qi=e:qi=qi.next=e}return qi}function oo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=_i,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var c=a.next;a.next=i.next,i.next=c}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var g=c=i=null,l=a;do{var s=l.lane;if((Pi&s)===s)null!==g&&(g=g.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var u={lane:s,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===g?(c=g=u,i=r):g=g.next=u,Ki.lanes|=s,Mc|=s}l=l.next}while(null!==l&&l!==a);null===g?i=r:g.next=c,cr(r,t.memoizedState)||(Zo=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=g,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function go(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var c=a=a.next;do{i=e(i,c.action),c=c.next}while(c!==a);cr(i,t.memoizedState)||(Zo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function lo(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Pi&e)===e)&&(t._workInProgressVersionPrimary=r,Li.push(t))),e)return n(t._source);throw Li.push(t),Error(o(350))}function so(e,t,n,r){var a=Ec;if(null===a)throw Error(o(349));var i=t._getVersion,c=i(t._source),g=Ji.current,l=g.useState((function(){return lo(a,t,n)})),s=l[1],u=l[0];l=qi;var I=e.memoizedState,d=I.refs,C=d.getSnapshot,B=I.source;I=I.subscribe;var b=Ki;return e.memoizedState={refs:d,source:t,subscribe:r},g.useEffect((function(){d.getSnapshot=n,d.setSnapshot=s;var e=i(t._source);if(!cr(c,e)){e=n(t._source),cr(u,e)||(s(e),e=sg(b),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var g=31-Ht(o),l=1<<g;r[g]|=e,o&=~l}}}),[n,t,r]),g.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=sg(b);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),cr(C,n)&&cr(B,t)&&cr(I,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:u}).dispatch=s=Uo.bind(null,Ki,e),l.queue=e,l.baseQueue=null,u=lo(a,t,n),l.memoizedState=l.baseState=u),u}function uo(e,t,n){return so(io(),e,t,n)}function Io(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Uo.bind(null,Ki,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ki.updateQueue)?(t={lastEffect:null},Ki.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(e){return e={current:e},ao().memoizedState=e}function bo(){return io().memoizedState}function Ao(e,t,n,r){var a=ao();Ki.flags|=e,a.memoizedState=Co(1|t,n,void 0,void 0===r?null:r)}function ho(e,t,n,r){var a=io();r=void 0===r?null:r;var i=void 0;if(null!==_i){var o=_i.memoizedState;if(i=o.destroy,null!==r&&no(r,o.deps))return void Co(t,n,i,r)}Ki.flags|=e,a.memoizedState=Co(1|t,n,i,r)}function mo(e,t){return Ao(516,4,e,t)}function po(e,t){return ho(516,4,e,t)}function Qo(e,t){return ho(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ho(4,2,fo.bind(null,t,e),n)}function yo(){}function xo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t){var n=ka();Ra(98>n?98:n,(function(){e(!0)})),Ra(97<n?97:n,(function(){var n=ji.transition;ji.transition=1;try{e(!1),t()}finally{ji.transition=n}}))}function Uo(e,t,n){var r=lg(),a=sg(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ki||null!==o&&o===Ki)eo=$i=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var c=t.lastRenderedState,g=o(c,n);if(i.eagerReducer=o,i.eagerState=g,cr(g,c))return}catch(l){}ug(e,a,r)}}var Xo={readContext:ri,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Eo={readContext:ri,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ri,useEffect:mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Uo.bind(null,Ki,e),[r.memoizedState,e]},useRef:Bo,useState:Io,useDebugValue:yo,useDeferredValue:function(e){var t=Io(e),n=t[0],r=t[1];return mo((function(){var t=ji.transition;ji.transition=1;try{r(e)}finally{ji.transition=t}}),[e]),n},useTransition:function(){var e=Io(!1),t=e[0];return Bo(e=Go.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},so(r,e,t,n)},useOpaqueIdentifier:function(){if(Mi){var e=!1,t=function(e){return{$$typeof:V,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=Io(t)[1];return 0===(2&Ki.mode)&&(Ki.flags|=516,Co(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return Io(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},So={readContext:ri,useCallback:xo,useContext:ri,useEffect:po,useImperativeHandle:Fo,useLayoutEffect:Qo,useMemo:vo,useReducer:co,useRef:bo,useState:function(){return co(oo)},useDebugValue:yo,useDeferredValue:function(e){var t=co(oo),n=t[0],r=t[1];return po((function(){var t=ji.transition;ji.transition=1;try{r(e)}finally{ji.transition=t}}),[e]),n},useTransition:function(){var e=co(oo)[0];return[bo().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return co(oo)[0]},unstable_isNewReconciler:!1},wo={readContext:ri,useCallback:xo,useContext:ri,useEffect:po,useImperativeHandle:Fo,useLayoutEffect:Qo,useMemo:vo,useReducer:go,useRef:bo,useState:function(){return go(oo)},useDebugValue:yo,useDeferredValue:function(e){var t=go(oo),n=t[0],r=t[1];return po((function(){var t=ji.transition;ji.transition=1;try{r(e)}finally{ji.transition=t}}),[e]),n},useTransition:function(){var e=go(oo)[0];return[bo().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return go(oo)[0]},unstable_isNewReconciler:!1},No=Q.ReactCurrentOwner,Zo=!1;function Vo(e,t,n,r){t.child=null===e?yi(t,null,n,r):Fi(t,e.child,n,r)}function Wo(e,t,n,r,a){n=n.render;var i=t.ref;return ni(t,a),r=ro(e,t,n,r,i,a),null===e||Zo?(t.flags|=1,Vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nc(e,t,a))}function Do(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Yg(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hg(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)?nc(e,t,i):(t.flags|=1,(e=Rg(o,r)).ref=t.ref,e.return=t,t.child=e)}function Mo(e,t,n,r,a,i){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Zo=!1,0===(i&a))return t.lanes=e.lanes,nc(e,t,i);0!==(16384&e.flags)&&(Zo=!0)}return ko(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},mg(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},mg(t,e),null;t.memoizedState={baseLanes:0},mg(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,mg(t,r);return Vo(e,t,a,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ko(e,t,n,r,a){var i=Ca(n)?Ia:sa.current;return i=da(t,i),ni(t,a),n=ro(e,t,n,r,i,a),null===e||Zo?(t.flags|=1,Vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,nc(e,t,a))}function Yo(e,t,n,r,a){if(Ca(n)){var i=!0;ha(t)}else i=!1;if(ni(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bi(t,n,r),hi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,c=t.memoizedProps;o.props=c;var g=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ri(l):l=da(t,l=Ca(n)?Ia:sa.current);var s=n.getDerivedStateFromProps,u="function"===typeof s||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(c!==r||g!==l)&&Ai(t,o,r,l),ai=!1;var I=t.memoizedState;o.state=I,si(t,r,o,a),g=t.memoizedState,c!==r||I!==g||ua.current||ai?("function"===typeof s&&(di(t,n,s,r),g=t.memoizedState),(c=ai||Bi(t,n,c,r,I,g,l))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oi(e,t),c=t.memoizedProps,l=t.type===t.elementType?c:ja(t.type,c),o.props=l,u=t.pendingProps,I=o.context,"object"===typeof(g=n.contextType)&&null!==g?g=ri(g):g=da(t,g=Ca(n)?Ia:sa.current);var d=n.getDerivedStateFromProps;(s="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(c!==u||I!==g)&&Ai(t,o,r,g),ai=!1,I=t.memoizedState,o.state=I,si(t,r,o,a);var C=t.memoizedState;c!==u||I!==C||ua.current||ai?("function"===typeof d&&(di(t,n,d,r),C=t.memoizedState),(l=ai||Bi(t,n,l,r,I,C,g))?(s||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,C,g),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,C,g)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=C),o.props=r,o.state=C,o.context=g,r=l):("function"!==typeof o.componentDidUpdate||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||c===e.memoizedProps&&I===e.memoizedState||(t.flags|=256),r=!1)}return Ro(e,t,n,r,i,a)}function Ro(e,t,n,r,a,i){Oo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&ma(t,n,!1),nc(e,t,i);r=t.stateNode,No.current=t;var c=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Fi(t,e.child,null,i),t.child=Fi(t,null,c,i)):Vo(e,t,c,i),t.memoizedState=r.state,a&&ma(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Ei(e,t.containerInfo)}var Lo,zo,Jo,jo={dehydrated:null,retryLane:0};function Po(e,t,n){var r,a=t.pendingProps,i=Zi.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),ga(Zi,1&i),null===e?(void 0!==a.fallback&&ki(t),e=a.children,i=a.fallback,o?(e=Ko(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=jo,e):"number"===typeof a.unstable_expectedLoadTime?(e=Ko(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=jo,t.lanes=33554432,e):((n=zg({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=qo(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=jo,a):(n=_o(e,t,a.children,n),t.memoizedState=null,n))}function Ko(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=zg(t,a,0,null),n=Lg(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function _o(e,t,n,r){var a=e.child;return e=a.sibling,n=Rg(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function qo(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var c={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=c,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Rg(o,c),null!==e?r=Rg(e,r):(r=Lg(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $o(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ti(e.return,t)}function ec(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function tc(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Vo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n);else if(19===e.tag)$o(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ga(Zi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Vi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ec(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Vi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ec(t,!0,n,null,i,t.lastEffect);break;case"together":ec(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nc(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rg(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rg(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rc(e,t){if(!Mi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ac(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ca(t.type)&&Ba(),null;case 3:return Si(),ca(ua),ca(sa),zi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ri(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ni(t);var i=Xi(Ui.current);if(n=t.type,null!==e&&null!=t.stateNode)zo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Xi(vi.current),Ri(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[Pr]=t,r[Kr]=c,n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(e=0;e<Fr.length;e++)Gr(Fr[e],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":ee(r,c),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Gr("invalid",r);break;case"textarea":ge(r,c),Gr("invalid",r)}for(var l in ye(n,c),e=null,c)c.hasOwnProperty(l)&&(i=c[l],"children"===l?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):g.hasOwnProperty(l)&&null!=i&&"onScroll"===l&&Gr("scroll",r));switch(n){case"input":K(r),re(r,c,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(r.onclick=Dr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===ue&&(e=de(n)),e===ue?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Pr]=t,e[Kr]=r,Lo(e,t),t.stateNode=e,l=xe(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Gr(Fr[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":ee(e,r),i=$(e,r),Gr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ge(e,r),i=ce(e,r),Gr("invalid",e);break;default:i=r}ye(n,i);var s=i;for(c in s)if(s.hasOwnProperty(c)){var u=s[c];"style"===c?fe(e,u):"dangerouslySetInnerHTML"===c?null!=(u=u?u.__html:void 0)&&Ae(e,u):"children"===c?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(g.hasOwnProperty(c)?null!=u&&"onScroll"===c&&Gr("scroll",e):null!=u&&p(e,c,u,l))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(c=r.value)?oe(e,!!r.multiple,c,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Dr)}Or(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Xi(Ui.current),Xi(vi.current),Ri(t)?(r=t.stateNode,n=t.memoizedProps,r[Pr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Pr]=t,t.stateNode=r)}return null;case 13:return ca(Zi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ri(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Zi.current)?0===Vc&&(Vc=3):(0!==Vc&&3!==Vc||(Vc=4),null===Ec||0===(134217727&Mc)&&0===(134217727&Tc)||Bg(Ec,wc))),(r||n)&&(t.flags|=4),null);case 4:return Si(),null===e&&Xr(t.stateNode.containerInfo),null;case 10:return ei(t),null;case 17:return Ca(t.type)&&Ba(),null;case 19:if(ca(Zi),null===(r=t.memoizedState))return null;if(c=0!==(64&t.flags),null===(l=r.rendering))if(c)rc(r,!1);else{if(0!==Vc||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Vi(e))){for(t.flags|=64,rc(r,!1),null!==(c=l.updateQueue)&&(t.updateQueue=c,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(c=n).flags&=2,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null,null===(l=c.alternate)?(c.childLanes=0,c.lanes=e,c.child=null,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=l.childLanes,c.lanes=l.lanes,c.child=l.child,c.memoizedProps=l.memoizedProps,c.memoizedState=l.memoizedState,c.updateQueue=l.updateQueue,c.type=l.type,e=l.dependencies,c.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ga(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==r.tail&&Oa()>Rc&&(t.flags|=64,c=!0,rc(r,!1),t.lanes=33554432)}else{if(!c)if(null!==(e=Vi(l))){if(t.flags|=64,c=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Mi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Oa()-r.renderingStartTime>Rc&&1073741824!==n&&(t.flags|=64,c=!0,rc(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Oa(),n.sibling=null,t=Zi.current,ga(Zi,c?1&t|2:1&t),n):null;case 23:case 24:return pg(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ic(e){switch(e.tag){case 1:Ca(e.type)&&Ba();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Si(),ca(ua),ca(sa),zi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ni(e),null;case 13:return ca(Zi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ca(Zi),null;case 4:return Si(),null;case 10:return ei(e),null;case 23:case 24:return pg(),null;default:return null}}function oc(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function cc(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xi(vi.current);var o,c=null;switch(n){case"input":i=$(e,i),r=$(e,r),c=[];break;case"option":i=ie(e,i),r=ie(e,r),c=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),c=[];break;case"textarea":i=ce(e,i),r=ce(e,r),c=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Dr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(g.hasOwnProperty(u)?c||(c=[]):(c=c||[]).push(u,null));for(u in r){var s=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(c||(c=[]),c.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(c=c||[]).push(u,s)):"children"===u?"string"!==typeof s&&"number"!==typeof s||(c=c||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(g.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&Gr("scroll",e),c||l===s||(c=[])):"object"===typeof s&&null!==s&&s.$$typeof===V?s.toString():(c=c||[]).push(u,s))}n&&(c=c||[]).push("style",n);var u=c;(t.updateQueue=u)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var gc="function"===typeof WeakMap?WeakMap:Map;function lc(e,t,n){(n=ci(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jc||(Jc=!0,jc=r),cc(0,t)},n}function sc(e,t,n){(n=ci(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return cc(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Pc?Pc=new Set([this]):Pc.add(this),cc(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var uc="function"===typeof WeakSet?WeakSet:Set;function Ic(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Dg(e,n)}else t.current=null}function dc(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ja(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Cc(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Zg(n,e),Ng(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:ja(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ui(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ui(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Or(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ft(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function Bc(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=Qe("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bc(e,t){if(Qa&&"function"===typeof Qa.onCommitFiberUnmount)try{Qa.onCommitFiberUnmount(pa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Zg(t,n);else{r=t;try{a()}catch(i){Dg(r,i)}}n=n.next}while(n!==e)}break;case 1:if(Ic(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Dg(t,i)}break;case 5:Ic(t);break;case 4:fc(e,t)}}function Ac(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hc(e){return 5===e.tag||3===e.tag||4===e.tag}function mc(e){e:{for(var t=e.return;null!==t;){if(hc(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(he(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hc(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?pc(e,n,t):Qc(e,n,t)}function pc(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dr));else if(4!==r&&null!==(e=e.child))for(pc(e,t,n),e=e.sibling;null!==e;)pc(e,t,n),e=e.sibling}function Qc(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Qc(e,t,n),e=e.sibling;null!==e;)Qc(e,t,n),e=e.sibling}function fc(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var c=e,g=a,l=g;;)if(bc(c,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===g)break e;for(;null===l.sibling;){if(null===l.return||l.return===g)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(c=n,g=a.stateNode,8===c.nodeType?c.parentNode.removeChild(g):c.removeChild(g)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(bc(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Fc(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Kr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,a),t=xe(e,r),a=0;a<i.length;a+=2){var c=i[a],g=i[a+1];"style"===c?fe(n,g):"dangerouslySetInnerHTML"===c?Ae(n,g):"children"===c?he(n,g):p(n,c,g,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,ft(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Yc=Oa(),Bc(t.child,!0)),void yc(t);case 19:return void yc(t);case 17:return;case 23:case 24:return void Bc(t,null!==t.memoizedState)}throw Error(o(163))}function yc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new uc),t.forEach((function(t){var r=Tg.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xc(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var vc=Math.ceil,Gc=Q.ReactCurrentDispatcher,Uc=Q.ReactCurrentOwner,Xc=0,Ec=null,Sc=null,wc=0,Nc=0,Zc=oa(0),Vc=0,Wc=null,Dc=0,Mc=0,Tc=0,Oc=0,kc=null,Yc=0,Rc=1/0;function Hc(){Rc=Oa()+500}var Lc,zc=null,Jc=!1,jc=null,Pc=null,Kc=!1,_c=null,qc=90,$c=[],eg=[],tg=null,ng=0,rg=null,ag=-1,ig=0,og=0,cg=null,gg=!1;function lg(){return 0!==(48&Xc)?Oa():-1!==ag?ag:ag=Oa()}function sg(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===ka()?1:2;if(0===ig&&(ig=Dc),0!==Ja.transition){0!==og&&(og=null!==kc?kc.pendingLanes:0),e=ig;var t=4186112&~og;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ka(),0!==(4&Xc)&&98===e?e=Ot(12,ig):e=Ot(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ig),e}function ug(e,t,n){if(50<ng)throw ng=0,rg=null,Error(o(185));if(null===(e=Ig(e,t)))return null;Rt(e,t,n),e===Ec&&(Tc|=t,4===Vc&&Bg(e,wc));var r=ka();1===t?0!==(8&Xc)&&0===(48&Xc)?bg(e):(dg(e,n),0===Xc&&(Hc(),La())):(0===(4&Xc)||98!==r&&99!==r||(null===tg?tg=new Set([e]):tg.add(e)),dg(e,n)),kc=e}function Ig(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function dg(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-Ht(c),l=1<<g,s=i[g];if(-1===s){if(0===(l&r)||0!==(l&a)){s=t,Dt(l);var u=Wt;i[g]=10<=u?s+250:6<=u?s+5e3:-1}}else s<=t&&(e.expiredLanes|=l);c&=~l}if(r=Mt(e,e===Ec?wc:0),t=Wt,0===r)null!==n&&(n!==Za&&ya(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Za&&ya(n)}15===t?(n=bg.bind(null,e),null===Wa?(Wa=[n],Da=Fa(Xa,za)):Wa.push(n),n=Za):14===t?n=Ha(99,bg.bind(null,e)):n=Ha(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),Cg.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Cg(e){if(ag=-1,og=ig=0,0!==(48&Xc))throw Error(o(327));var t=e.callbackNode;if(wg()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ec?wc:0);if(0===n)return null;var r=n,a=Xc;Xc|=16;var i=Fg();for(Ec===e&&wc===r||(Hc(),Qg(e,r));;)try{vg();break}catch(g){fg(e,g)}if($a(),Gc.current=i,Xc=a,null!==Sc?r=0:(Ec=null,wc=0,r=Vc),0!==(Dc&Tc))Qg(e,0);else if(0!==r){if(2===r&&(Xc|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Tt(e))&&(r=yg(e,n))),1===r)throw t=Wc,Qg(e,0),Bg(e,n),dg(e,Oa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Xg(e);break;case 3:if(Bg(e,n),(62914560&n)===n&&10<(r=Yc+500-Oa())){if(0!==Mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){lg(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Yr(Xg.bind(null,e),r);break}Xg(e);break;case 4:if(Bg(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var c=31-Ht(n);i=1<<c,(c=r[c])>a&&(a=c),n&=~i}if(n=a,10<(n=(120>(n=Oa()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vc(n/1960))-n)){e.timeoutHandle=Yr(Xg.bind(null,e),n);break}Xg(e);break;case 5:Xg(e);break;default:throw Error(o(329))}}return dg(e,Oa()),e.callbackNode===t?Cg.bind(null,e):null}function Bg(e,t){for(t&=~Oc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bg(e){if(0!==(48&Xc))throw Error(o(327));if(wg(),e===Ec&&0!==(e.expiredLanes&wc)){var t=wc,n=yg(e,t);0!==(Dc&Tc)&&(n=yg(e,t=Mt(e,t)))}else n=yg(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Xc|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Tt(e))&&(n=yg(e,t))),1===n)throw n=Wc,Qg(e,0),Bg(e,t),dg(e,Oa()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xg(e),dg(e,Oa()),null}function Ag(e,t){var n=Xc;Xc|=1;try{return e(t)}finally{0===(Xc=n)&&(Hc(),La())}}function hg(e,t){var n=Xc;Xc&=-2,Xc|=8;try{return e(t)}finally{0===(Xc=n)&&(Hc(),La())}}function mg(e,t){ga(Zc,Nc),Nc|=t,Dc|=t}function pg(){Nc=Zc.current,ca(Zc)}function Qg(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Rr(n)),null!==Sc)for(n=Sc.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ba();break;case 3:Si(),ca(ua),ca(sa),zi();break;case 5:Ni(r);break;case 4:Si();break;case 13:case 19:ca(Zi);break;case 10:ei(r);break;case 23:case 24:pg()}n=n.return}Ec=e,Sc=Rg(e.current,null),wc=Nc=Dc=t,Vc=0,Wc=null,Oc=Tc=Mc=0}function fg(e,t){for(;;){var n=Sc;try{if($a(),Ji.current=Xo,$i){for(var r=Ki.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}$i=!1}if(Pi=0,qi=_i=Ki=null,eo=!1,Uc.current=null,null===n||null===n.return){Vc=1,Wc=t,Sc=null;break}e:{var i=e,o=n.return,c=n,g=t;if(t=wc,c.flags|=2048,c.firstEffect=c.lastEffect=null,null!==g&&"object"===typeof g&&"function"===typeof g.then){var l=g;if(0===(2&c.mode)){var s=c.alternate;s?(c.updateQueue=s.updateQueue,c.memoizedState=s.memoizedState,c.lanes=s.lanes):(c.updateQueue=null,c.memoizedState=null)}var u=0!==(1&Zi.current),I=o;do{var d;if(d=13===I.tag){var C=I.memoizedState;if(null!==C)d=null!==C.dehydrated;else{var B=I.memoizedProps;d=void 0!==B.fallback&&(!0!==B.unstable_avoidThisFallback||!u)}}if(d){var b=I.updateQueue;if(null===b){var A=new Set;A.add(l),I.updateQueue=A}else b.add(l);if(0===(2&I.mode)){if(I.flags|=64,c.flags|=16384,c.flags&=-2981,1===c.tag)if(null===c.alternate)c.tag=17;else{var h=ci(-1,1);h.tag=2,gi(c,h)}c.lanes|=1;break e}g=void 0,c=t;var m=i.pingCache;if(null===m?(m=i.pingCache=new gc,g=new Set,m.set(l,g)):void 0===(g=m.get(l))&&(g=new Set,m.set(l,g)),!g.has(c)){g.add(c);var p=Mg.bind(null,i,l,c);l.then(p,p)}I.flags|=4096,I.lanes=t;break e}I=I.return}while(null!==I);g=Error((J(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vc&&(Vc=2),g=oc(g,c),I=o;do{switch(I.tag){case 3:i=g,I.flags|=4096,t&=-t,I.lanes|=t,li(I,lc(0,i,t));break e;case 1:i=g;var Q=I.type,f=I.stateNode;if(0===(64&I.flags)&&("function"===typeof Q.getDerivedStateFromError||null!==f&&"function"===typeof f.componentDidCatch&&(null===Pc||!Pc.has(f)))){I.flags|=4096,t&=-t,I.lanes|=t,li(I,sc(I,i,t));break e}}I=I.return}while(null!==I)}Ug(n)}catch(F){t=F,Sc===n&&null!==n&&(Sc=n=n.return);continue}break}}function Fg(){var e=Gc.current;return Gc.current=Xo,null===e?Xo:e}function yg(e,t){var n=Xc;Xc|=16;var r=Fg();for(Ec===e&&wc===t||Qg(e,t);;)try{xg();break}catch(a){fg(e,a)}if($a(),Xc=n,Gc.current=r,null!==Sc)throw Error(o(261));return Ec=null,wc=0,Vc}function xg(){for(;null!==Sc;)Gg(Sc)}function vg(){for(;null!==Sc&&!xa();)Gg(Sc)}function Gg(e){var t=Lc(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?Ug(e):Sc=t,Uc.current=null}function Ug(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ac(n,t,Nc)))return void(Sc=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Nc)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ic(t)))return n.flags&=2047,void(Sc=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Sc=t);Sc=t=e}while(null!==t);0===Vc&&(Vc=5)}function Xg(e){var t=ka();return Ra(99,Eg.bind(null,e,t)),null}function Eg(e,t){do{wg()}while(null!==_c);if(0!==(48&Xc))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var c=e.eventTimes,g=e.expirationTimes;0<i;){var l=31-Ht(i),s=1<<l;a[l]=0,c[l]=-1,g[l]=-1,i&=~s}if(null!==tg&&0===(24&r)&&tg.has(e)&&tg.delete(e),e===Ec&&(Sc=Ec=null,wc=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Xc,Xc|=32,Uc.current=null,Mr=Pt,Cr(c=dr())){if("selectionStart"in c)g={start:c.selectionStart,end:c.selectionEnd};else e:if(g=(g=c.ownerDocument)&&g.defaultView||window,(s=g.getSelection&&g.getSelection())&&0!==s.rangeCount){g=s.anchorNode,i=s.anchorOffset,l=s.focusNode,s=s.focusOffset;try{g.nodeType,l.nodeType}catch(v){g=null;break e}var u=0,I=-1,d=-1,C=0,B=0,b=c,A=null;t:for(;;){for(var h;b!==g||0!==i&&3!==b.nodeType||(I=u+i),b!==l||0!==s&&3!==b.nodeType||(d=u+s),3===b.nodeType&&(u+=b.nodeValue.length),null!==(h=b.firstChild);)A=b,b=h;for(;;){if(b===c)break t;if(A===g&&++C===i&&(I=u),A===l&&++B===s&&(d=u),null!==(h=b.nextSibling))break;A=(b=A).parentNode}b=h}g=-1===I||-1===d?null:{start:I,end:d}}else g=null;g=g||{start:0,end:0}}else g=null;Tr={focusedElem:c,selectionRange:g},Pt=!1,cg=null,gg=!1,zc=r;do{try{Sg()}catch(v){if(null===zc)throw Error(o(330));Dg(zc,v),zc=zc.nextEffect}}while(null!==zc);cg=null,zc=r;do{try{for(c=e;null!==zc;){var m=zc.flags;if(16&m&&he(zc.stateNode,""),128&m){var p=zc.alternate;if(null!==p){var Q=p.ref;null!==Q&&("function"===typeof Q?Q(null):Q.current=null)}}switch(1038&m){case 2:mc(zc),zc.flags&=-3;break;case 6:mc(zc),zc.flags&=-3,Fc(zc.alternate,zc);break;case 1024:zc.flags&=-1025;break;case 1028:zc.flags&=-1025,Fc(zc.alternate,zc);break;case 4:Fc(zc.alternate,zc);break;case 8:fc(c,g=zc);var f=g.alternate;Ac(g),null!==f&&Ac(f)}zc=zc.nextEffect}}catch(v){if(null===zc)throw Error(o(330));Dg(zc,v),zc=zc.nextEffect}}while(null!==zc);if(Q=Tr,p=dr(),m=Q.focusedElem,c=Q.selectionRange,p!==m&&m&&m.ownerDocument&&Ir(m.ownerDocument.documentElement,m)){null!==c&&Cr(m)&&(p=c.start,void 0===(Q=c.end)&&(Q=p),"selectionStart"in m?(m.selectionStart=p,m.selectionEnd=Math.min(Q,m.value.length)):(Q=(p=m.ownerDocument||document)&&p.defaultView||window).getSelection&&(Q=Q.getSelection(),g=m.textContent.length,f=Math.min(c.start,g),c=void 0===c.end?f:Math.min(c.end,g),!Q.extend&&f>c&&(g=c,c=f,f=g),g=ur(m,f),i=ur(m,c),g&&i&&(1!==Q.rangeCount||Q.anchorNode!==g.node||Q.anchorOffset!==g.offset||Q.focusNode!==i.node||Q.focusOffset!==i.offset)&&((p=p.createRange()).setStart(g.node,g.offset),Q.removeAllRanges(),f>c?(Q.addRange(p),Q.extend(i.node,i.offset)):(p.setEnd(i.node,i.offset),Q.addRange(p))))),p=[];for(Q=m;Q=Q.parentNode;)1===Q.nodeType&&p.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for("function"===typeof m.focus&&m.focus(),m=0;m<p.length;m++)(Q=p[m]).element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}Pt=!!Mr,Tr=Mr=null,e.current=n,zc=r;do{try{for(m=e;null!==zc;){var F=zc.flags;if(36&F&&Cc(m,zc.alternate,zc),128&F){p=void 0;var y=zc.ref;if(null!==y){var x=zc.stateNode;switch(zc.tag){case 5:p=x;break;default:p=x}"function"===typeof y?y(p):y.current=p}}zc=zc.nextEffect}}catch(v){if(null===zc)throw Error(o(330));Dg(zc,v),zc=zc.nextEffect}}while(null!==zc);zc=null,Va(),Xc=a}else e.current=n;if(Kc)Kc=!1,_c=e,qc=t;else for(zc=r;null!==zc;)t=zc.nextEffect,zc.nextEffect=null,8&zc.flags&&((F=zc).sibling=null,F.stateNode=null),zc=t;if(0===(r=e.pendingLanes)&&(Pc=null),1===r?e===rg?ng++:(ng=0,rg=e):ng=0,n=n.stateNode,Qa&&"function"===typeof Qa.onCommitFiberRoot)try{Qa.onCommitFiberRoot(pa,n,void 0,64===(64&n.current.flags))}catch(v){}if(dg(e,Oa()),Jc)throw Jc=!1,e=jc,jc=null,e;return 0!==(8&Xc)||La(),null}function Sg(){for(;null!==zc;){var e=zc.alternate;gg||null===cg||(0!==(8&zc.flags)?et(zc,cg)&&(gg=!0):13===zc.tag&&xc(e,zc)&&et(zc,cg)&&(gg=!0));var t=zc.flags;0!==(256&t)&&dc(e,zc),0===(512&t)||Kc||(Kc=!0,Ha(97,(function(){return wg(),null}))),zc=zc.nextEffect}}function wg(){if(90!==qc){var e=97<qc?97:qc;return qc=90,Ra(e,Vg)}return!1}function Ng(e,t){$c.push(t,e),Kc||(Kc=!0,Ha(97,(function(){return wg(),null})))}function Zg(e,t){eg.push(t,e),Kc||(Kc=!0,Ha(97,(function(){return wg(),null})))}function Vg(){if(null===_c)return!1;var e=_c;if(_c=null,0!==(48&Xc))throw Error(o(331));var t=Xc;Xc|=32;var n=eg;eg=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],c=a.destroy;if(a.destroy=void 0,"function"===typeof c)try{c()}catch(l){if(null===i)throw Error(o(330));Dg(i,l)}}for(n=$c,$c=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var g=a.create;a.destroy=g()}catch(l){if(null===i)throw Error(o(330));Dg(i,l)}}for(g=e.current.firstEffect;null!==g;)e=g.nextEffect,g.nextEffect=null,8&g.flags&&(g.sibling=null,g.stateNode=null),g=e;return Xc=t,La(),!0}function Wg(e,t,n){gi(e,t=lc(0,t=oc(n,t),1)),t=lg(),null!==(e=Ig(e,1))&&(Rt(e,1,t),dg(e,t))}function Dg(e,t){if(3===e.tag)Wg(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Wg(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Pc||!Pc.has(r))){var a=sc(n,e=oc(t,e),1);if(gi(n,a),a=lg(),null!==(n=Ig(n,1)))Rt(n,1,a),dg(n,a);else if("function"===typeof r.componentDidCatch&&(null===Pc||!Pc.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Mg(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lg(),e.pingedLanes|=e.suspendedLanes&n,Ec===e&&(wc&n)===n&&(4===Vc||3===Vc&&(62914560&wc)===wc&&500>Oa()-Yc?Qg(e,0):Oc|=n),dg(e,t)}function Tg(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===ka()?1:2:(0===ig&&(ig=Dc),0===(t=kt(62914560&~ig))&&(t=4194304))),n=lg(),null!==(e=Ig(e,t))&&(Rt(e,t,n),dg(e,n))}function Og(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kg(e,t,n,r){return new Og(e,t,n,r)}function Yg(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rg(e,t){var n=e.alternate;return null===n?((n=kg(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hg(e,t,n,r,a,i){var c=2;if(r=e,"function"===typeof e)Yg(e)&&(c=1);else if("string"===typeof e)c=5;else e:switch(e){case y:return Lg(n.children,a,i,t);case W:c=8,a|=16;break;case x:c=8,a|=1;break;case v:return(e=kg(12,n,t,8|a)).elementType=v,e.type=v,e.lanes=i,e;case E:return(e=kg(13,n,t,a)).type=E,e.elementType=E,e.lanes=i,e;case S:return(e=kg(19,n,t,a)).elementType=S,e.lanes=i,e;case D:return zg(n,a,i,t);case M:return(e=kg(24,n,t,a)).elementType=M,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case G:c=10;break e;case U:c=9;break e;case X:c=11;break e;case w:c=14;break e;case N:c=16,r=null;break e;case Z:c=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=kg(c,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Lg(e,t,n,r){return(e=kg(7,e,r,t)).lanes=n,e}function zg(e,t,n,r){return(e=kg(23,e,r,t)).elementType=D,e.lanes=n,e}function Jg(e,t,n){return(e=kg(6,e,null,t)).lanes=n,e}function jg(e,t,n){return(t=kg(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pg(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.mutableSourceEagerHydrationData=null}function Kg(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function _g(e,t,n,r){var a=t.current,i=lg(),c=sg(a);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var g=n;do{switch(g.tag){case 3:g=g.stateNode.context;break t;case 1:if(Ca(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break t}}g=g.return}while(null!==g);throw Error(o(171))}if(1===n.tag){var l=n.type;if(Ca(l)){n=Aa(n,l,g);break e}}n=g}else n=la;return null===t.context?t.context=n:t.pendingContext=n,(t=ci(i,c)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gi(a,t),ug(a,c,i),c}function qg(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $g(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){$g(e,t),(e=e.alternate)&&$g(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Pg(e,t,null!=n&&!0===n.hydrate),t=kg(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ii(t),e[_r]=n.current,Xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var c=a;a=function(){var e=qg(o);c.call(e)}}_g(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var g=a;a=function(){var e=qg(o);g.call(e)}}hg((function(){_g(t,o,e,a)}))}return qg(o)}function al(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return Kg(e,t,null,n)}Lc=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ua.current)Zo=!0;else{if(0===(n&r)){switch(Zo=!1,t.tag){case 3:Ho(t),Hi();break;case 5:wi(t);break;case 1:Ca(t.type)&&ha(t);break;case 4:Ei(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;ga(Pa,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Po(e,t,n):(ga(Zi,1&Zi.current),null!==(t=nc(e,t,n))?t.sibling:null);ga(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return tc(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ga(Zi,Zi.current),r)break;return null;case 23:case 24:return t.lanes=0,To(e,t,n)}return nc(e,t,n)}Zo=0!==(16384&e.flags)}else Zo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=da(t,sa.current),ni(t,n),a=ro(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ca(r)){var i=!0;ha(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(t);var c=r.getDerivedStateFromProps;"function"===typeof c&&di(t,r,c,e),a.updater=Ci,t.stateNode=a,a._reactInternals=t,hi(t,r,e,n),t=Ro(null,t,r,!0,i,n)}else t.tag=0,Vo(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Yg(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===X)return 11;if(e===w)return 14}return 2}(a),e=ja(a,e),i){case 0:t=ko(null,t,a,e,n);break e;case 1:t=Yo(null,t,a,e,n);break e;case 11:t=Wo(null,t,a,e,n);break e;case 14:t=Do(null,t,a,ja(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,ko(e,t,r,a=t.elementType===r?a:ja(r,a),n);case 1:return r=t.type,a=t.pendingProps,Yo(e,t,r,a=t.elementType===r?a:ja(r,a),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oi(e,t),si(t,r,null,n),(r=t.memoizedState.element)===a)Hi(),t=nc(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Di=Lr(t.stateNode.containerInfo.firstChild),Wi=t,i=Mi=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Li.push(i);for(n=yi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vo(e,t,r,n),Hi();t=t.child}return t;case 5:return wi(t),null===e&&ki(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,c=a.children,kr(r,a)?c=null:null!==i&&kr(r,i)&&(t.flags|=16),Oo(e,t),Vo(e,t,c,n),t.child;case 6:return null===e&&ki(t),null;case 13:return Po(e,t,n);case 4:return Ei(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Fi(t,null,r,n):Vo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Wo(e,t,r,a=t.elementType===r?a:ja(r,a),n);case 7:return Vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,c=t.memoizedProps,i=a.value;var g=t.type._context;if(ga(Pa,g._currentValue),g._currentValue=i,null!==c)if(g=c.value,0===(i=cr(g,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(g,i):1073741823))){if(c.children===a.children&&!ua.current){t=nc(e,t,n);break e}}else for(null!==(g=t.child)&&(g.return=t);null!==g;){var l=g.dependencies;if(null!==l){c=g.child;for(var s=l.firstContext;null!==s;){if(s.context===r&&0!==(s.observedBits&i)){1===g.tag&&((s=ci(-1,n&-n)).tag=2,gi(g,s)),g.lanes|=n,null!==(s=g.alternate)&&(s.lanes|=n),ti(g.return,n),l.lanes|=n;break}s=s.next}}else c=10===g.tag&&g.type===t.type?null:g.child;if(null!==c)c.return=g;else for(c=g;null!==c;){if(c===t){c=null;break}if(null!==(g=c.sibling)){g.return=c.return,c=g;break}c=c.return}g=c}Vo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ni(t,n),r=r(a=ri(a,i.unstable_observedBits)),t.flags|=1,Vo(e,t,r,n),t.child;case 14:return i=ja(a=t.type,t.pendingProps),Do(e,t,a,i=ja(a.type,i),r,n);case 15:return Mo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ja(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ca(r)?(e=!0,ha(t)):e=!1,ni(t,n),bi(t,r,a),hi(t,r,a,n),Ro(null,t,r,!0,e,n);case 19:return tc(e,t,n);case 23:case 24:return To(e,t,n)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){_g(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;_g(null,e,null,(function(){t[_r]=null}))},tt=function(e){13===e.tag&&(ug(e,4,lg()),el(e,4))},nt=function(e){13===e.tag&&(ug(e,67108864,lg()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lg(),n=sg(e);ug(e,n,t),el(e,n)}},at=function(e,t){return t()},Ge=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=na(r);if(!a)throw Error(o(90));_(r),ne(r,a)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ne=Ag,Ze=function(e,t,n,r,a){var i=Xc;Xc|=4;try{return Ra(98,e.bind(null,t,n,r,a))}finally{0===(Xc=i)&&(Hc(),La())}},Ve=function(){0===(49&Xc)&&(function(){if(null!==tg){var e=tg;tg=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,dg(e,Oa())}))}La()}(),wg())},We=function(e,t){var n=Xc;Xc|=2;try{return e(t)}finally{0===(Xc=n)&&(Hc(),La())}};var il={Events:[ea,ta,na,Se,we,wg,{current:!1}]},ol={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{pa=gl.inject(cl),Qa=gl}catch(be){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=il,t.createPortal=al,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Xc;if(0!==(48&n))return e(t);Xc|=1;try{if(e)return Ra(99,e.bind(null,t))}finally{Xc=n,La()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(hg((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[_r]=null}))})),!0)},t.unstable_batchedUpdates=Ag,t.unstable_createPortal=function(e,t){return al(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(47)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var c=performance;t.unstable_now=function(){return c.now()}}else{var g=Date,l=g.now();t.unstable_now=function(){return g.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,u=null,I=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(I,0))},a=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,C=window.clearTimeout;if("undefined"!==typeof console){var B=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof B&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,A=null,h=-1,m=5,p=0;t.unstable_shouldYield=function(){return t.unstable_now()>=p},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var Q=new MessageChannel,f=Q.port2;Q.port1.onmessage=function(){if(null!==A){var e=t.unstable_now();p=e+m;try{A(!0,e)?f.postMessage(null):(b=!1,A=null)}catch(n){throw f.postMessage(null),n}}else b=!1},r=function(e){A=e,b||(b=!0,f.postMessage(null))},a=function(e,n){h=d((function(){e(t.unstable_now())}),n)},i=function(){C(h),h=-1}}function F(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<v(a,t)))break e;e[r]=t,e[n]=a,n=r}}function y(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],c=i+1,g=e[c];if(void 0!==o&&0>v(o,n))void 0!==g&&0>v(g,o)?(e[r]=g,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==g&&0>v(g,n)))break e;e[r]=g,e[c]=n,r=c}}}return t}return null}function v(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var G=[],U=[],X=1,E=null,S=3,w=!1,N=!1,Z=!1;function V(e){for(var t=y(U);null!==t;){if(null===t.callback)x(U);else{if(!(t.startTime<=e))break;x(U),t.sortIndex=t.expirationTime,F(G,t)}t=y(U)}}function W(e){if(Z=!1,V(e),!N)if(null!==y(G))N=!0,r(D);else{var t=y(U);null!==t&&a(W,t.startTime-e)}}function D(e,n){N=!1,Z&&(Z=!1,i()),w=!0;var r=S;try{for(V(n),E=y(G);null!==E&&(!(E.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=E.callback;if("function"===typeof o){E.callback=null,S=E.priorityLevel;var c=o(E.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?E.callback=c:E===y(G)&&x(G),V(n)}else x(G);E=y(G)}if(null!==E)var g=!0;else{var l=y(U);null!==l&&a(W,l.startTime-n),g=!1}return g}finally{E=null,S=r,w=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,r(D))},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return y(G)},t.unstable_next=function(e){switch(S){case 1:case 2:case 3:var t=3;break;default:t=S}var n=S;S=t;try{return e()}finally{S=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=S;S=e;try{return t()}finally{S=n}},t.unstable_scheduleCallback=function(e,n,o){var c=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?c+o:c:o=c,e){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return e={id:X++,callback:n,priorityLevel:e,startTime:o,expirationTime:g=o+g,sortIndex:-1},o>c?(e.sortIndex=o,F(U,e),null===y(G)&&e===y(U)&&(Z?i():Z=!0,a(W,o-c))):(e.sortIndex=g,F(G,e),N||w||(N=!0,r(D))),e},t.unstable_wrapCallback=function(e){var t=S;return function(){var n=S;S=t;try{return e.apply(this,arguments)}finally{S=n}}}},,function(e,t,n){(function(t){var r,a,i=n(1),o=n(52),c=n(53),g=n(55),l=n(61),s=n(62),u=n(63),I=n(64),d=n(68);self,e.exports=(r=n(2),a=n(27),function(){var e,n,C,B,b={6086:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),g=c.value}catch(e){return void n(e)}c.done?t(g):Promise.resolve(g).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function c(e){r(o,a,i,c,g,"next",e)}function g(e){r(o,a,i,c,g,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return a}})},7945:function(e,t,n){e.exports=n(1602)},1602:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{g({},"")}catch(e){g=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),o=new U(r||[]);return i._invoke=function(e,t,n){var r=u;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===C){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var c=x(o,n);if(c){if(c===B)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var g=s(e,t,n);if("normal"===g.type){if(r=n.done?C:I,g.arg===B)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(r=C,n.method="throw",n.arg=g.arg)}}}(e,n,o),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",I="suspendedYield",d="executing",C="completed",B={};function b(){}function A(){}function h(){}var m={};m[i]=function(){return this};var p=Object.getPrototypeOf,Q=p&&p(p(X([])));Q&&Q!==n&&r.call(Q,i)&&(m=Q);var f=h.prototype=b.prototype=Object.create(m);function F(e){["next","throw","return"].forEach((function(t){g(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(a,i,o,c){var g=s(e[a],e,i);if("throw"!==g.type){var l=g.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(g.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return B;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return B}var a=s(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,B;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,B):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,B)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function G(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function X(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:E}}function E(){return{value:t,done:!0}}return A.prototype=f.constructor=h,h.constructor=A,A.displayName=g(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,g(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},F(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new y(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},F(f),g(f,c,"Generator"),f[i]=function(){return this},f.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=X,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(G),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var g=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(g&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(g){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,B):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),B},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),G(n),B}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;G(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:X(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),B}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},8336:function(e,t,n){var r=n(487),a=n(4295);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},554:function(e,t,n){var r=n(487),a=n(9135);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},2789:function(e,t,n){var r=n(487),a=n(3729);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},5080:function(e,t,n){var r=n(487),a=n(4241);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},7225:function(e,t,n){var r=n(487),a=n(6029);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},778:function(e,t,n){var r=n(487),a=n(9609);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},4220:function(e,t,n){var r=n(487),a=n(2345);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},1292:function(e,t,n){var r=n(487),a=n(6578);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},196:function(e,t,n){var r=n(487),a=n(9482);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},2205:function(e,t,n){var r=n(487),a=n(7955);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},1310:function(e,t,n){var r=n(487),a=n(3195);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},3922:function(e,t,n){var r=n(487),a=n(2978);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},7096:function(e,t,n){var r=n(487),a=n(1587);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},7117:function(e,t,n){var r=n(487),a=n(9478);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},1106:function(e,t,n){var r=n(487),a=n(7369);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},3336:function(e,t,n){var r=n(487),a=n(1434);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},694:function(e,t,n){var r=n(487),a=n(5644);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},8328:function(e,t,n){var r=n(487),a=n(6843);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},8051:function(e,t,n){var r=n(487),a=n(8461);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},4301:function(e,t,n){var r=n(487),a=n(9935);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},9966:function(e,t,n){var r=n(487),a=n(532);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},4623:function(e,t,n){var r=n(487),a=n(3874);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},1528:function(e,t,n){var r=n(487),a=n(2681);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},518:function(e,t,n){var r=n(487),a=n(6759);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},9757:function(e,t,n){var r=n(487),a=n(9650);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},5422:function(e,t,n){var r=n(487),a=n(2044);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},6781:function(e,t,n){var r=n(487),a=n(6626);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},580:function(e,t,n){var r=n(487),a=n(6359);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},4285:function(e,t,n){var r=n(487),a=n(9915);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},3313:function(e,t,n){var r=n(487),a=n(9310);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},8635:function(e,t,n){var r=n(487),a=n(6464);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]),r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},487:function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function c(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function g(e,t){for(var n={},r=[],a=0;a<e.length;a++){var i=e[a],g=t.base?i[0]+t.base:i[0],l=n[g]||0,s="".concat(g," ").concat(l);n[g]=l+1;var u=c(s),I={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(o[u].references++,o[u].updater(I)):o.push({identifier:s,updater:b(I,t),references:1}),r.push(s)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var s,u=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function I(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var C=null,B=0;function b(e,t){var n,r,a;if(t.singleton){var i=B++;n=C||(C=l(t)),r=I.bind(null,n,i,!1),a=I.bind(null,n,i,!0)}else n=l(t),r=d.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=g(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=c(n[r]);o[a].references--}for(var i=g(e,t),l=0;l<n.length;l++){var s=c(n[l]);0===o[s].references&&(o[s].updater(),o.splice(s,1))}n=i}}}},2829:function(e){"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeShape":"Stroke shape","strokeShape_gel":"Gel pen","strokeShape_fountain":"Fountain pen","strokeShape_brush":"Brush pen","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme"},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},2051:function(e){"use strict";e.exports=JSON.parse('{"ar-SA":90,"bg-BG":81,"ca-ES":100,"cs-CZ":35,"de-DE":100,"el-GR":86,"en":100,"es-ES":98,"fa-IR":77,"fi-FI":99,"fr-FR":100,"he-IL":78,"hi-IN":80,"hu-HU":71,"id-ID":100,"it-IT":100,"ja-JP":100,"kab-KAB":98,"kk-KZ":31,"ko-KR":81,"lv-LV":16,"my-MM":67,"nb-NO":100,"nl-NL":100,"nn-NO":88,"oc-FR":100,"pa-IN":96,"pl-PL":83,"pt-BR":88,"pt-PT":100,"ro-RO":100,"ru-RU":100,"sk-SK":100,"sv-SE":100,"tr-TR":89,"uk-UA":95,"zh-CN":98,"zh-TW":99}')},788:function(e,t,n){var r={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./cs-CZ.json":[3374,387],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./kk-KZ.json":[3418,649],"./ko-KR.json":[7552,60],"./lv-LV.json":[413,899],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(r)},a.id=788,e.exports=a},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},4295:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r),i=n(1667),o=n.n(i),c=n(7464),g=n(9638),l=a()((function(e){return e[1]})),s=o()(c.Z),u=o()(g.Z);l.push([e.id,'@font-face{font-family:"Virgil";src:url('+s+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+u+");font-display:swap}",""]),t.default=l},9135:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.default=a},3729:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]),t.default=a},4241:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}",""]),t.default=a},6029:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .Tooltip-icon{width:1em;height:1em}",""]),t.default=a},9609:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]),t.default=a},2345:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.default=a},6578:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),t.default=a},9482:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),t.default=a},7955:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}',""]),t.default=a},3195:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.default=a},2978:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),t.default=a},1587:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),t.default=a},9478:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.default=a},7369:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.default=a},1434:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-92px, 0);transform:translate(-92px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(92px, 0);transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}",""]),t.default=a},5644:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__pulse{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__pulse-animation 1s ease-in infinite;animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__pulse-animation{0%{-webkit-transform:scale(0.95);transform:scale(0.95)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.95);transform:scale(0.95)}}@keyframes library-unit__pulse-animation{0%{-webkit-transform:scale(0.95);transform:scale(0.95)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.95);transform:scale(0.95)}}",""]),t.default=a},6843:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),t.default=a},8461:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.default=a},9935:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .popover{position:absolute;z-index:10}",""]),t.default=a},532:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.default=a},3874:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.default=a},2681:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.default=a},6759:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",""]),t.default=a},9650:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.default=a},2044:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor);-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1)}.excalidraw .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),t.default=a},6626:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw .Tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw .Tooltip-icon{display:none}",""]),t.default=a},6359:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),t.default=a},9915:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]),t.default=a},9310:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{bottom:10px}:root[dir=ltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir=rtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{cursor:pointer;fill:#868e96;width:1.5rem;padding:0;margin:0;margin-top:5px;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon:hover{background:none}:root[dir=ltr] .excalidraw .help-icon{margin-right:14px}:root[dir=rtl] .excalidraw .help-icon{margin-left:14px}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),t.default=a},6464:function(e,t,n){"use strict";n.r(t);var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"",""]),a.locals={themeFilter:"invert(93%) hue-rotate(180deg)"},t.default=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var c=0;c<e.length;c++){var g=[].concat(e[c]);r&&a[g[0]]||(n&&(g[2]?g[2]="".concat(n," and ").concat(g[2]):g[2]=n),t.push(g))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},9638:function(e,t,n){"use strict";t.Z=n.p+"excalidraw-assets/Cascadia.woff2"},7464:function(e,t,n){"use strict";t.Z=n.p+"excalidraw-assets/Virgil.woff2"},8288:function(e,t,n){"use strict";n.d(t,{iC:function(){return o},f:function(){return c},qx:function(){return g},Iw:function(){return l},$e:function(){return s},wZ:function(){return u},ay:function(){return I},oc:function(){return d},Oh:function(){return C},Ks:function(){return r},Vi:function(){return B},$C:function(){return b},ut:function(){return A},_D:function(){return h},n5:function(){return m},rk:function(){return p},Hg:function(){return Q},hs:function(){return f},k:function(){return F},LO:function(){return y},r8:function(){return x},pb:function(){return v},Gj:function(){return G},nM:function(){return U},Lg:function(){return X},HM:function(){return E},V4:function(){return S},EH:function(){return w},ZF:function(){return N},UO:function(){return Z},ah:function(){return V},cW:function(){return W},kV:function(){return D},sS:function(){return M},Yx:function(){return T},zK:function(){return O},ZB:function(){return k},qy:function(){return Y}});var r,a=n(8635),i=n.n(a),o="Excalidraw",c=10,g=8,l=5,s=1,u=30,I=Math.PI/12,d={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},C={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll"}(r||(r={}));var B={TEST:"test",DEVELOPMENT:"development"},b={SHAPE_ACTIONS_MENU:"App-menu__left"},A={Virgil:1,Helvetica:2,Cascadia:3},h="Segoe UI Emoji",m=20,p=A.Virgil,Q="left",f="top",F=20,y={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},x={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},v=window.location.origin,G=300,U=500,X=5e3,E=100,S=.1,w={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},N=i().themeFilter,Z={addLibrary:"addLibrary"},V={addLibrary:"addLibrary"},W={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},D=730,M=1e3,T=500,O=2,k=[1,2,3],Y=10},7265:function(e,n,r){"use strict";r.r(n),r.d(n,{FONT_FAMILY:function(){return Q.ut},default:function(){return VC},defaultLang:function(){return D},exportToBlob:function(){return xC},exportToCanvas:function(){return yC},exportToSvg:function(){return vC},getElementMap:function(){return lc},getFreeDrawSvgPath:function(){return ua},getSceneVersion:function(){return sc},isInvisiblySmallElement:function(){return Fa},languages:function(){return M},loadFromBlob:function(){return Xs},loadLibraryFromBlob:function(){return Es},restore:function(){return xs},restoreAppState:function(){return ys},restoreElements:function(){return Fs},serializeAsJSON:function(){return ws}});var a=r(7154),C=r.n(a),B=r(6479),b=r.n(B),A=r(9713),h=r.n(A),m=r(4698),p=r.n(m),Q=r(8288),f=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.9.0"}');"production"!==Q.Vi.TEST&&(r.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(f.u2,"@").concat(f.i8,"/dist/"));var F=r(6086);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?E(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=r(7945),Z=r.n(N),V=r(2829),W=r(2051),D={code:"en",label:"English"},M=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"cs-CZ",label:"\u010cesky"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"}].concat([D]).sort((function(e,t){return e.label>t.label?1:-1})).filter((function(e){return W[e.code]>=85})),T="__test__";"production"===Q.Vi.DEVELOPMENT&&M.unshift({code:T,label:"test language"},{code:"".concat(T,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var O=D,k={},Y=function(){var e=(0,F.Z)(Z().mark((function e(t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O=t,document.documentElement.dir=O.rtl?"rtl":"ltr",document.documentElement.lang=O.code,!t.code.startsWith(T)){e.next=7;break}k={},e.next=10;break;case 7:return e.next=9,r(788)("./".concat(O.code,".json"));case 9:k=e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){return O},H=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},L=function(e,t){if(O.code.startsWith(T)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(n,"]]\u202c")}var r=e.split("."),a=H(k,r)||H(V,r);if(void 0===a)throw new Error("Can't find translation for ".concat(e));if(t)for(var i in t)a=a.replace("{{".concat(i,"}}"),t[i]);return a},z=function(){return p().createElement("div",{className:"LoadingMessage"},p().createElement("span",null,L("labels.loadingScene")))};function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}var j=function(e){U(r,e);var t,n=J(r);function r(){var e,t;y(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return S(t,(e=t=n.call.apply(n,[this].concat(i)),t.state={isLoading:!0},e))}return v(r,[{key:"componentDidMount",value:(t=(0,F.Z)(Z().mark((function e(){var t,n=this;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.find((function(e){return e.code===n.props.langCode}))||D,e.next=3,Y(t);case 3:this.setState({isLoading:!1});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.isLoading?p().createElement(z,null):this.props.children}}]),r}(p().Component);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t,n){if(e&&e.length){var r=d(t,2),a=r[0],i=r[1],o=Math.PI/180*n,c=Math.cos(o),g=Math.sin(o);e.forEach((function(e){var t=d(e,2),n=t[0],r=t[1];e[0]=(n-a)*c-(r-i)*g+a,e[1]=(n-a)*g+(r-i)*c+i}))}}function te(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function ne(e,t,n,r){var a=t[1]-e[1],i=e[0]-t[0],o=a*e[0]+i*e[1],c=r[1]-n[1],g=n[0]-r[0],l=c*n[0]+g*n[1],s=a*g-c*i;return s?[(g*o-i*l)/s,(a*l-c*o)/s]:null}function re(e,t,n){var r=e.length;if(r<3)return!1;for(var a=[Number.MAX_SAFE_INTEGER,n],i=[t,n],o=0,c=0;c<r;c++){var g=e[c],l=e[(c+1)%r];if(oe(g,l,i,a)){if(0===ie(g,i,l))return ae(g,i,l);o++}}return o%2==1}function ae(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])}function ie(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2}function oe(e,t,n,r){var a=ie(e,t,n),i=ie(e,t,r),o=ie(n,r,e),c=ie(n,r,t);return a!==i&&o!==c||!(0!==a||!ae(e,n,t))||!(0!==i||!ae(e,r,t))||!(0!==o||!ae(n,e,r))||!(0!==c||!ae(n,t,r))}function ce(e,t){var n=[0,0],r=Math.round(t.hachureAngle+90);r&&ee(e,n,r);var a=function(e,t){var n=I(e);n[0].join(",")!==n[n.length-1].join(",")&&n.push([n[0][0],n[0][1]]);var r=[];if(n&&n.length>2){var a=function(){var e=t.hachureGap;e<0&&(e=4*t.strokeWidth),e=Math.max(e,.1);for(var a=[],i=0;i<n.length-1;i++){var o=n[i],c=n[i+1];if(o[1]!==c[1]){var g=Math.min(o[1],c[1]);a.push({ymin:g,ymax:Math.max(o[1],c[1]),x:g===o[1]?o[0]:c[0],islope:(c[0]-o[0])/(c[1]-o[1])})}}if(a.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!a.length)return{v:r};for(var l=[],s=a[0].ymin;l.length||a.length;){if(a.length){for(var u=-1,I=0;I<a.length&&!(a[I].ymin>s);I++)u=I;a.splice(0,u+1).forEach((function(e){l.push({s:s,edge:e})}))}if((l=l.filter((function(e){return!(e.edge.ymax<=s)}))).sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),l.length>1)for(var d=0;d<l.length;d+=2){var C=d+1;if(C>=l.length)break;var B=l[d].edge,b=l[C].edge;r.push([[Math.round(B.x),s],[Math.round(b.x),s]])}s+=e,l.forEach((function(t){t.edge.x=t.edge.x+e*t.edge.islope}))}}();if("object"===typeof a)return a.v}return r}(e,t);return r&&(ee(e,n,-r),function(e,t,n){var r=[];e.forEach((function(e){return r.push.apply(r,I(e))})),ee(r,t,n)}(a,n,-r)),a}var ge=function(){function e(t){s(this,e),this.helper=t}return u(e,[{key:"fillPolygon",value:function(e,t){return this._fillPolygon(e,t)}},{key:"_fillPolygon",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ce(e,t);if(n){var a=this.connectingLines(e,r);r=r.concat(a)}return{type:"fillSketch",ops:this.renderLines(r,t)}}},{key:"renderLines",value:function(e,t){var n,r=[],a=l(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push.apply(r,I(this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],t)))}}catch(o){a.e(o)}finally{a.f()}return r}},{key:"connectingLines",value:function(e,t){var n=[];if(t.length>1)for(var r=1;r<t.length;r++){var a=t[r-1];if(!(te(a)<3)){var i=[t[r][0],a[1]];if(te(i)>3){var o=this.splitOnIntersections(e,i);n.push.apply(n,I(o))}}}return n}},{key:"midPointInPolygon",value:function(e,t){return re(e,(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2)}},{key:"splitOnIntersections",value:function(e,t){for(var n=Math.max(5,.1*te(t)),r=[],a=0;a<e.length;a++){var i=e[a],o=e[(a+1)%e.length];if(oe.apply(void 0,[i,o].concat(I(t)))){var c=ne(i,o,t[0],t[1]);if(c){var g=te([c,t[0]]),l=te([c,t[1]]);g>n&&l>n&&r.push({point:c,distance:g})}}}if(r.length>1){var s=r.sort((function(e,t){return e.distance-t.distance})).map((function(e){return e.point}));if(re.apply(void 0,[e].concat(I(t[0])))||s.shift(),re.apply(void 0,[e].concat(I(t[1])))||s.pop(),s.length<=1)return this.midPointInPolygon(e,t)?[t]:[];for(var u=[t[0]].concat(I(s),[t[1]]),d=[],C=0;C<u.length-1;C+=2){var B=[u[C],u[C+1]];this.midPointInPolygon(e,B)&&d.push(B)}return d}return this.midPointInPolygon(e,t)?[t]:[]}}]),e}(),le=function(e){c(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"fillPolygon",value:function(e,t){return this._fillPolygon(e,t,!0)}}]),n}(ge),se=function(e){c(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"fillPolygon",value:function(e,t){var n=this._fillPolygon(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygon(e,r);return n.ops=n.ops.concat(a.ops),n}}]),n}(ge),ue=function(){function e(t){s(this,e),this.helper=t}return u(e,[{key:"fillPolygon",value:function(e,t){var n=ce(e,t=Object.assign({},t,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var a=t.fillWeight;a<0&&(a=t.strokeWidth/2);var i,o=r/4,c=l(e);try{for(c.s();!(i=c.n()).done;)for(var g=i.value,s=te(g),u=s/r,d=Math.ceil(u)-1,C=s-d*r,B=(g[0][0]+g[1][0])/2-r/4,b=Math.min(g[0][1],g[1][1]),A=0;A<d;A++){var h=b+C+A*r,m=this.helper.randOffsetWithRange(B-o,B+o,t),p=this.helper.randOffsetWithRange(h-o,h+o,t),Q=this.helper.ellipse(m,p,a,a,t);n.push.apply(n,I(Q.ops))}}catch(f){c.e(f)}finally{c.f()}return{type:"fillSketch",ops:n}}}]),e}(),Ie=function(){function e(t){s(this,e),this.helper=t}return u(e,[{key:"fillPolygon",value:function(e,t){var n=ce(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((function(e){var o=te(e),c=Math.floor(o/(r+a)),g=(o+a-c*(r+a))/2,l=e[0],s=e[1];l[0]>s[0]&&(l=e[1],s=e[0]);for(var u=Math.atan((s[1]-l[1])/(s[0]-l[0])),d=0;d<c;d++){var C=d*(r+a),B=C+r,b=[l[0]+C*Math.cos(u)+g*Math.cos(u),l[1]+C*Math.sin(u)+g*Math.sin(u)],A=[l[0]+B*Math.cos(u)+g*Math.cos(u),l[1]+B*Math.sin(u)+g*Math.sin(u)];i.push.apply(i,I(n.helper.doubleLineOps(b[0],b[1],A[0],A[1],t)))}})),i}}]),e}(),de=function(){function e(t){s(this,e),this.helper=t}return u(e,[{key:"fillPolygon",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,a=ce(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,a=[];return e.forEach((function(e){var i=te(e),o=Math.round(i/(2*t)),c=e[0],g=e[1];c[0]>g[0]&&(c=e[1],g=e[0]);for(var l=Math.atan((g[1]-c[1])/(g[0]-c[0])),s=0;s<o;s++){var u=2*s*t,d=2*(s+1)*t,C=Math.sqrt(2*Math.pow(t,2)),B=[c[0]+u*Math.cos(l),c[1]+u*Math.sin(l)],b=[c[0]+d*Math.cos(l),c[1]+d*Math.sin(l)],A=[B[0]+C*Math.cos(l+Math.PI/4),B[1]+C*Math.sin(l+Math.PI/4)];a.push.apply(a,I(r.helper.doubleLineOps(B[0],B[1],A[0],A[1],n)).concat(I(r.helper.doubleLineOps(A[0],A[1],b[0],b[1],n))))}})),a}}]),e}(),Ce={},Be=function(){function e(t){s(this,e),this.seed=t}return u(e,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]),e}(),be={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ae(e,t){return e.type===t}function he(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",a=0,i=n[a];!Ae(i,2);){var o=0,c=[];if("BOD"===r){if("M"!==i.text&&"m"!==i.text)return he("M0,0"+e);a++,o=be[i.text],r=i.text}else Ae(i,1)?o=be[r]:(a++,o=be[i.text],r=i.text);if(!(a+o<n.length))throw new Error("Path data ended short");for(var g=a;g<a+o;g++){var l=n[g];if(!Ae(l,1))throw new Error("Param not a number: "+r+","+l.text);c[c.length]=+l.text}if("number"!=typeof be[r])throw new Error("Bad segment: "+r);var s={key:r,data:c};t.push(s),i=n[a+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function me(e){var t,n,r,a,i=0,o=0,c=0,g=0,s=[],u=l(e);try{for(u.s();!(a=u.n()).done;){var C=a.value,B=C.key,b=C.data;switch(B){case"M":s.push({key:"M",data:I(b)}),t=d(b,2),i=t[0],o=t[1],c=(n=d(b,2))[0],g=n[1];break;case"m":i+=b[0],o+=b[1],s.push({key:"M",data:[i,o]}),c=i,g=o;break;case"L":s.push({key:"L",data:I(b)}),r=d(b,2),i=r[0],o=r[1];break;case"l":i+=b[0],o+=b[1],s.push({key:"L",data:[i,o]});break;case"C":s.push({key:"C",data:I(b)}),i=b[4],o=b[5];break;case"c":var A=b.map((function(e,t){return t%2?e+o:e+i}));s.push({key:"C",data:A}),i=A[4],o=A[5];break;case"Q":s.push({key:"Q",data:I(b)}),i=b[2],o=b[3];break;case"q":var h=b.map((function(e,t){return t%2?e+o:e+i}));s.push({key:"Q",data:h}),i=h[2],o=h[3];break;case"A":s.push({key:"A",data:I(b)}),i=b[5],o=b[6];break;case"a":i+=b[5],o+=b[6],s.push({key:"A",data:[b[0],b[1],b[2],b[3],b[4],i,o]});break;case"H":s.push({key:"H",data:I(b)}),i=b[0];break;case"h":i+=b[0],s.push({key:"H",data:[i]});break;case"V":s.push({key:"V",data:I(b)}),o=b[0];break;case"v":o+=b[0],s.push({key:"V",data:[o]});break;case"S":s.push({key:"S",data:I(b)}),i=b[2],o=b[3];break;case"s":var m=b.map((function(e,t){return t%2?e+o:e+i}));s.push({key:"S",data:m}),i=m[2],o=m[3];break;case"T":s.push({key:"T",data:I(b)}),i=b[0],o=b[1];break;case"t":i+=b[0],o+=b[1],s.push({key:"T",data:[i,o]});break;case"Z":case"z":s.push({key:"Z",data:[]}),i=c,o=g}}}catch(p){u.e(p)}finally{u.f()}return s}function pe(e){var t,n,r,a,i=[],o="",c=0,g=0,s=0,u=0,C=0,B=0,b=l(e);try{for(b.s();!(a=b.n()).done;){var A=a.value,h=A.key,m=A.data;switch(h){case"M":i.push({key:"M",data:I(m)}),c=(t=d(m,2))[0],g=t[1],s=(n=d(m,2))[0],u=n[1];break;case"C":i.push({key:"C",data:I(m)}),c=m[4],g=m[5],C=m[2],B=m[3];break;case"L":i.push({key:"L",data:I(m)}),c=(r=d(m,2))[0],g=r[1];break;case"H":c=m[0],i.push({key:"L",data:[c,g]});break;case"V":g=m[0],i.push({key:"L",data:[c,g]});break;case"S":var p=0,Q=0;"C"===o||"S"===o?(p=c+(c-C),Q=g+(g-B)):(p=c,Q=g),i.push({key:"C",data:[p,Q].concat(I(m))}),C=m[0],B=m[1],c=m[2],g=m[3];break;case"T":var f=d(m,2),F=f[0],y=f[1],x=0,v=0;"Q"===o||"T"===o?(x=c+(c-C),v=g+(g-B)):(x=c,v=g);var G=c+2*(x-c)/3,U=g+2*(v-g)/3,X=F+2*(x-F)/3,E=y+2*(v-y)/3;i.push({key:"C",data:[G,U,X,E,F,y]}),C=x,B=v,c=F,g=y;break;case"Q":var S=d(m,4),w=S[0],N=S[1],Z=S[2],V=S[3],W=c+2*(w-c)/3,D=g+2*(N-g)/3,M=Z+2*(w-Z)/3,T=V+2*(N-V)/3;i.push({key:"C",data:[W,D,M,T,Z,V]}),C=w,B=N,c=Z,g=V;break;case"A":var O=Math.abs(m[0]),k=Math.abs(m[1]),Y=m[2],R=m[3],H=m[4],L=m[5],z=m[6];0===O||0===k?(i.push({key:"C",data:[c,g,L,z,L,z]}),c=L,g=z):c===L&&g===z||(fe(c,g,L,z,O,k,Y,R,H).forEach((function(e){i.push({key:"C",data:e})})),c=L,g=z);break;case"Z":i.push({key:"Z",data:[]}),c=s,g=u}o=h}}catch(J){b.e(J)}finally{b.f()}return i}function Qe(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function fe(e,t,n,r,a,i,o,c,g,l){var s,u=(s=o,Math.PI*s/180),I=[],C=0,B=0,b=0,A=0;if(l){var h=d(l,4);C=h[0],B=h[1],b=h[2],A=h[3]}else{var m,p,Q,f;m=Qe(e,t,-u),e=(p=d(m,2))[0],t=p[1],Q=Qe(n,r,-u);var F=(e-(n=(f=d(Q,2))[0]))/2,y=(t-(r=f[1]))/2,x=F*F/(a*a)+y*y/(i*i);x>1&&(a*=x=Math.sqrt(x),i*=x);var v=a*a,G=i*i,U=v*G-v*y*y-G*F*F,X=v*y*y+G*F*F,E=(c===g?-1:1)*Math.sqrt(Math.abs(U/X));b=E*a*y/i+(e+n)/2,A=E*-i*F/a+(t+r)/2,C=Math.asin(parseFloat(((t-A)/i).toFixed(9))),B=Math.asin(parseFloat(((r-A)/i).toFixed(9))),e<b&&(C=Math.PI-C),n<b&&(B=Math.PI-B),C<0&&(C=2*Math.PI+C),B<0&&(B=2*Math.PI+B),g&&C>B&&(C-=2*Math.PI),!g&&B>C&&(B-=2*Math.PI)}var S=B-C;if(Math.abs(S)>120*Math.PI/180){var w=B,N=n,Z=r;B=g&&B>C?C+120*Math.PI/180*1:C+120*Math.PI/180*-1,I=fe(n=b+a*Math.cos(B),r=A+i*Math.sin(B),N,Z,a,i,o,0,g,[B,w,b,A])}S=B-C;var V=Math.cos(C),W=Math.sin(C),D=Math.cos(B),M=Math.sin(B),T=Math.tan(S/4),O=4/3*a*T,k=4/3*i*T,Y=[e,t],R=[e+O*W,t-k*V],H=[n+O*M,r-k*D],L=[n,r];if(R[0]=2*Y[0]-R[0],R[1]=2*Y[1]-R[1],l)return[R,H,L].concat(I);I=[R,H,L].concat(I);for(var z=[],J=0;J<I.length;J+=3){var j=Qe(I[J][0],I[J][1],u),P=Qe(I[J+1][0],I[J+1][1],u),K=Qe(I[J+2][0],I[J+2][1],u);z.push([j[0],j[1],P[0],P[1],K[0],K[1]])}return z}var Fe={randOffset:function(e,t){return Ve(e,t)},randOffsetWithRange:function(e,t,n){return Ze(e,t,n)},ellipse:function(e,t,n,r,a){return Xe(e,t,a,Ue(n,r,a)).opset},doubleLineOps:function(e,t,n,r,a){return We(e,t,n,r,a,!0)}};function ye(e,t,n,r,a){return{type:"path",ops:We(e,t,n,r,a)}}function xe(e,t,n){var r=(e||[]).length;if(r>2){for(var a=[],i=0;i<r-1;i++)a.push.apply(a,I(We(e[i][0],e[i][1],e[i+1][0],e[i+1][1],n)));return t&&a.push.apply(a,I(We(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:a}}return 2===r?ye(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function ve(e,t,n,r,a){return function(e,t){return xe(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function Ge(e,t){var n=Me(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=Me(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));n=n.concat(r)}return{type:"path",ops:n}}function Ue(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),i=2*Math.PI/a,o=Math.abs(e/2),c=Math.abs(t/2),g=1-n.curveFitting;return{increment:i,rx:o+=Ve(o*g,n),ry:c+=Ve(c*g,n)}}function Xe(e,t,n,r){var a=Oe(r.increment,e,t,r.rx,r.ry,1,r.increment*Ze(.1,Ze(.4,1,n),n),n),i=d(a,2),o=i[0],c=i[1],g=Te(o,null,n);if(!n.disableMultiStroke){var l=Oe(r.increment,e,t,r.rx,r.ry,1.5,0,n),s=Te(d(l,1)[0],null,n);g=g.concat(s)}return{estimatedPoints:c,opset:{type:"path",ops:g}}}function Ee(e,t,n,r,a,i,o,c,g){var l=e,s=t,u=Math.abs(n/2),d=Math.abs(r/2);u+=Ve(.01*u,g),d+=Ve(.01*d,g);for(var C=a,B=i;C<0;)C+=2*Math.PI,B+=2*Math.PI;B-C>2*Math.PI&&(C=0,B=2*Math.PI);var b=2*Math.PI/g.curveStepCount,A=Math.min(b/2,(B-C)/2),h=ke(A,l,s,u,d,C,B,1,g);if(!g.disableMultiStroke){var m=ke(A,l,s,u,d,C,B,1.5,g);h.push.apply(h,I(m))}return o&&(c?h.push.apply(h,I(We(l,s,l+u*Math.cos(C),s+d*Math.sin(C),g)).concat(I(We(l,s,l+u*Math.cos(B),s+d*Math.sin(B),g)))):h.push({op:"lineTo",data:[l,s]},{op:"lineTo",data:[l+u*Math.cos(C),s+d*Math.sin(C)]})),{type:"path",ops:h}}function Se(e,t){var n=[];if(e.length){var r=t.maxRandomnessOffset||0,a=e.length;if(a>2){n.push({op:"move",data:[e[0][0]+Ve(r,t),e[0][1]+Ve(r,t)]});for(var i=1;i<a;i++)n.push({op:"lineTo",data:[e[i][0]+Ve(r,t),e[i][1]+Ve(r,t)]})}}return{type:"fillPath",ops:n}}function we(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!Ce[n])switch(n){case"zigzag":Ce[n]||(Ce[n]=new le(t));break;case"cross-hatch":Ce[n]||(Ce[n]=new se(t));break;case"dots":Ce[n]||(Ce[n]=new ue(t));break;case"dashed":Ce[n]||(Ce[n]=new Ie(t));break;case"zigzag-line":Ce[n]||(Ce[n]=new de(t));break;case"hachure":default:Ce[n="hachure"]||(Ce[n]=new ge(t))}return Ce[n]}(t,Fe).fillPolygon(e,t)}function Ne(e){return e.randomizer||(e.randomizer=new Be(e.seed||0)),e.randomizer.next()}function Ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(Ne(n)*(t-e)+e)}function Ve(e,t){return Ze(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function We(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?a.disableMultiStrokeFill:a.disableMultiStroke,o=De(e,t,n,r,a,!0,!1);if(i)return o;var c=De(e,t,n,r,a,!0,!0);return o.concat(c)}function De(e,t,n,r,a,i,o){var c=Math.pow(e-n,2)+Math.pow(t-r,2),g=Math.sqrt(c),l=1;l=g<200?1:g>500?.4:-.0016668*g+1.233334;var s=a.maxRandomnessOffset||0;s*s*100>c&&(s=g/10);var u=s/2,I=.2+.2*Ne(a),d=a.bowing*a.maxRandomnessOffset*(r-t)/200,C=a.bowing*a.maxRandomnessOffset*(e-n)/200;d=Ve(d,a,l),C=Ve(C,a,l);var B=[],b=function(){return Ve(u,a,l)},A=function(){return Ve(s,a,l)},h=a.preserveVertices;return i&&(o?B.push({op:"move",data:[e+(h?0:b()),t+(h?0:b())]}):B.push({op:"move",data:[e+(h?0:Ve(s,a,l)),t+(h?0:Ve(s,a,l))]})),o?B.push({op:"bcurveTo",data:[d+e+(n-e)*I+b(),C+t+(r-t)*I+b(),d+e+2*(n-e)*I+b(),C+t+2*(r-t)*I+b(),n+(h?0:b()),r+(h?0:b())]}):B.push({op:"bcurveTo",data:[d+e+(n-e)*I+A(),C+t+(r-t)*I+A(),d+e+2*(n-e)*I+A(),C+t+2*(r-t)*I+A(),n+(h?0:A()),r+(h?0:A())]}),B}function Me(e,t,n){var r=[];r.push([e[0][0]+Ve(t,n),e[0][1]+Ve(t,n)]),r.push([e[0][0]+Ve(t,n),e[0][1]+Ve(t,n)]);for(var a=1;a<e.length;a++)r.push([e[a][0]+Ve(t,n),e[a][1]+Ve(t,n)]),a===e.length-1&&r.push([e[a][0]+Ve(t,n),e[a][1]+Ve(t,n)]);return Te(r,null,n)}function Te(e,t,n){var r=e.length,a=[];if(r>3){var i=[],o=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(var c=1;c+2<r;c++){var g=e[c];i[0]=[g[0],g[1]],i[1]=[g[0]+(o*e[c+1][0]-o*e[c-1][0])/6,g[1]+(o*e[c+1][1]-o*e[c-1][1])/6],i[2]=[e[c+1][0]+(o*e[c][0]-o*e[c+2][0])/6,e[c+1][1]+(o*e[c][1]-o*e[c+2][1])/6],i[3]=[e[c+1][0],e[c+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){var l=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+Ve(l,n),t[1]+Ve(l,n)]})}}else 3===r?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&a.push.apply(a,I(We(e[0][0],e[0][1],e[1][0],e[1][1],n)));return a}function Oe(e,t,n,r,a,i,o,c){var g=[],l=[],s=Ve(.5,c)-Math.PI/2;l.push([Ve(i,c)+t+.9*r*Math.cos(s-e),Ve(i,c)+n+.9*a*Math.sin(s-e)]);for(var u=s;u<2*Math.PI+s-.01;u+=e){var I=[Ve(i,c)+t+r*Math.cos(u),Ve(i,c)+n+a*Math.sin(u)];g.push(I),l.push(I)}return l.push([Ve(i,c)+t+r*Math.cos(s+2*Math.PI+.5*o),Ve(i,c)+n+a*Math.sin(s+2*Math.PI+.5*o)]),l.push([Ve(i,c)+t+.98*r*Math.cos(s+o),Ve(i,c)+n+.98*a*Math.sin(s+o)]),l.push([Ve(i,c)+t+.9*r*Math.cos(s+.5*o),Ve(i,c)+n+.9*a*Math.sin(s+.5*o)]),[l,g]}function ke(e,t,n,r,a,i,o,c,g){var l=i+Ve(.1,g),s=[];s.push([Ve(c,g)+t+.9*r*Math.cos(l-e),Ve(c,g)+n+.9*a*Math.sin(l-e)]);for(var u=l;u<=o;u+=e)s.push([Ve(c,g)+t+r*Math.cos(u),Ve(c,g)+n+a*Math.sin(u)]);return s.push([t+r*Math.cos(o),n+a*Math.sin(o)]),s.push([t+r*Math.cos(o),n+a*Math.sin(o)]),Te(s,null,g)}function Ye(e,t,n,r,a,i,o,c){for(var g=[],l=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3],s=[0,0],u=c.disableMultiStroke?1:2,I=c.preserveVertices,d=0;d<u;d++)0===d?g.push({op:"move",data:[o[0],o[1]]}):g.push({op:"move",data:[o[0]+(I?0:Ve(l[0],c)),o[1]+(I?0:Ve(l[0],c))]}),s=I?[a,i]:[a+Ve(l[d],c),i+Ve(l[d],c)],g.push({op:"bcurveTo",data:[e+Ve(l[d],c),t+Ve(l[d],c),n+Ve(l[d],c),r+Ve(l[d],c),s[0],s[1]]});return g}function Re(e){return I(e)}function He(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Le(e,t,n){var r=He(t,n);if(0===r)return He(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return He(e,ze(t,n,a=Math.max(0,Math.min(1,a))))}function ze(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Je(e,t,n,r){var a,i,o=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var c=3*r[1]-2*n[1]-i[1];c*=c;var g=3*a[0]-2*i[0]-n[0];g*=g;var l=3*a[1]-2*i[1]-n[1];return o<g&&(o=g),c<(l*=l)&&(c=l),o+c}(e,t)<n){var c=e[t+0];o.length?(a=o[o.length-1],i=c,Math.sqrt(He(a,i))>1&&o.push(c)):o.push(c),o.push(e[t+3])}else{var g=.5,l=e[t+0],s=e[t+1],u=e[t+2],I=e[t+3],d=ze(l,s,g),C=ze(s,u,g),B=ze(u,I,g),b=ze(d,C,g),A=ze(C,B,g),h=ze(b,A,g);Je([l,d,b,h],0,n,o),Je([h,A,B,I],0,n,o)}return o}function je(e,t){return Pe(e,0,e.length,t)}function Pe(e,t,n,r,a){for(var i=a||[],o=e[t],c=e[n-1],g=0,l=1,s=t+1;s<n-1;++s){var u=Le(e[s],o,c);u>g&&(g=u,l=s)}return Math.sqrt(g)>r?(Pe(e,t,l+1,r,i),Pe(e,l,n,r,i)):(i.length||i.push(o),i.push(c)),i}function Ke(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)Je(e,3*i,t,r);return n&&n>0?Pe(r,0,r.length,n):r}var _e="none",qe=function(){function e(t){s(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return u(e,[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,a){var i=this._o(a);return this._d("line",[ye(e,t,n,r,i)],i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this._o(a),o=[],c=ve(e,t,n,r,i);if(i.fill){var g=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===i.fillStyle?o.push(Se(g,i)):o.push(we(g,i))}return i.stroke!==_e&&o.push(c),this._d("rectangle",o,i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this._o(a),o=[],c=Ue(n,r,i),g=Xe(e,t,i,c);if(i.fill)if("solid"===i.fillStyle){var l=Xe(e,t,i,c).opset;l.type="fillPath",o.push(l)}else o.push(we(g.estimatedPoints,i));return i.stroke!==_e&&o.push(g.opset),this._d("ellipse",o,i)}},{key:"circle",value:function(e,t,n,r){var a=this.ellipse(e,t,n,n,r);return a.shape="circle",a}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[xe(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0,g=this._o(c),l=[],s=Ee(e,t,n,r,a,i,o,!0,g);if(o&&g.fill)if("solid"===g.fillStyle){var u=Ee(e,t,n,r,a,i,!0,!1,g);u.type="fillPath",l.push(u)}else l.push(function(e,t,n,r,a,i,o){var c=e,g=t,l=Math.abs(n/2),s=Math.abs(r/2);l+=Ve(.01*l,o),s+=Ve(.01*s,o);for(var u=a,I=i;u<0;)u+=2*Math.PI,I+=2*Math.PI;I-u>2*Math.PI&&(u=0,I=2*Math.PI);for(var d=(I-u)/o.curveStepCount,C=[],B=u;B<=I;B+=d)C.push([c+l*Math.cos(B),g+s*Math.sin(B)]);return C.push([c+l*Math.cos(I),g+s*Math.sin(I)]),C.push([c,g]),we(C,o)}(e,t,n,r,a,i,g));return g.stroke!==_e&&l.push(s),this._d("arc",l,g)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],a=Ge(e,n);if(n.fill&&n.fill!==_e&&e.length>=3){var i=Ke(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push(Re(e[0]),Re(e[1]),Re(e[2]),Re(e[2]));else{var a=[];a.push(e[0],e[0]);for(var i=1;i<e.length;i++)a.push(e[i]),i===e.length-1&&a.push(e[i]);var o=[],c=1-t;r.push(Re(a[0]));for(var g=1;g+2<a.length;g++){var l=a[g];o[0]=[l[0],l[1]],o[1]=[l[0]+(c*a[g+1][0]-c*a[g-1][0])/6,l[1]+(c*a[g+1][1]-c*a[g-1][1])/6],o[2]=[a[g+1][0]+(c*a[g][0]-c*a[g+2][0])/6,a[g+1][1]+(c*a[g][1]-c*a[g+2][1])/6],o[3]=[a[g+1][0],a[g+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(Se(i,n)):r.push(we(i,n))}return n.stroke!==_e&&r.push(a),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],a=xe(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(Se(e,n)):r.push(we(e,n))),n.stroke!==_e&&r.push(a),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=n.fill&&"transparent"!==n.fill&&n.fill!==_e,i=n.stroke!==_e,o=!!(n.simplification&&n.simplification<1),c=function(e,t,n){var r,a=pe(me(he(e))),i=[],o=[],c=[0,0],g=[],s=function(){var e;g.length>=4&&(e=o).push.apply(e,I(Ke(g,t))),g=[]},u=function(){s(),o.length&&(i.push(o),o=[])},d=l(a);try{for(d.s();!(r=d.n()).done;){var C=r.value,B=C.key,b=C.data;switch(B){case"M":u(),c=[b[0],b[1]],o.push(c);break;case"L":s(),o.push([b[0],b[1]]);break;case"C":if(!g.length){var A=o.length?o[o.length-1]:c;g.push([A[0],A[1]])}g.push([b[0],b[1]]),g.push([b[2],b[3]]),g.push([b[4],b[5]]);break;case"Z":s(),o.push([c[0],c[1]])}}}catch(f){d.e(f)}finally{d.f()}if(u(),!n)return i;for(var h=[],m=0,p=i;m<p.length;m++){var Q=je(p[m],n);Q.length&&h.push(Q)}return h}(e,1,o?4-4*n.simplification:(1+n.roughness)/2);if(a)if(n.combineNestedSvgPaths){var g=[];c.forEach((function(e){return g.push.apply(g,I(e))})),"solid"===n.fillStyle?r.push(Se(g,n)):r.push(we(g,n))}else c.forEach((function(e){"solid"===n.fillStyle?r.push(Se(e,n)):r.push(we(e,n))}));return i&&(o?c.forEach((function(e){r.push(xe(e,!1,n))})):r.push(function(e,t){var n,r=pe(me(he(e))),a=[],i=[0,0],o=[0,0],c=l(r);try{for(c.s();!(n=c.n()).done;){var g=n.value,s=g.key,u=g.data;switch(s){case"M":if("break"===function(){var e=1*(t.maxRandomnessOffset||0),n=t.preserveVertices;return a.push({op:"move",data:u.map((function(r){return r+(n?0:Ve(e,t))}))}),o=[u[0],u[1]],i=[u[0],u[1]],"break"}())break;case"L":a.push.apply(a,I(We(o[0],o[1],u[0],u[1],t))),o=[u[0],u[1]];break;case"C":var C=d(u,6),B=C[0],b=C[1],A=C[2],h=C[3],m=C[4],p=C[5];a.push.apply(a,I(Ye(B,b,A,h,m,p,o,t))),o=[m,p];break;case"Z":a.push.apply(a,I(We(o[0],o[1],i[0],i[1],t))),o=[i[0],i[1]]}}}catch(Q){c.e(Q)}finally{c.f()}return{type:"path",ops:a}}(e,n))),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,r="",a=l(e.ops);try{for(a.s();!(n=a.n()).done;){var i=n.value,o="number"==typeof t&&t>=0?i.data.map((function(e){return+e.toFixed(t)})):i.data;switch(i.op){case"move":r+="M".concat(o[0]," ").concat(o[1]," ");break;case"bcurveTo":r+="C".concat(o[0]," ").concat(o[1],", ").concat(o[2]," ").concat(o[3],", ").concat(o[4]," ").concat(o[5]," ");break;case"lineTo":r+="L".concat(o[0]," ").concat(o[1]," ")}}}catch(c){a.e(c)}finally{a.f()}return r.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],r=e.options||this.defaultOptions,a=[],i=l(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=null;switch(o.type){case"path":c={d:this.opsToPath(o),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:_e};break;case"fillPath":c={d:this.opsToPath(o),stroke:_e,strokeWidth:0,fill:r.fill||_e};break;case"fillSketch":c=this.fillSketch(o,r)}c&&a.push(c)}}catch(g){i.e(g)}finally{i.f()}return a}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||_e,strokeWidth:n,fill:_e}}}],[{key:"newSeed",value:function(){return Math.floor(Math.random()*Math.pow(2,31))}}]),e}(),$e=function(){function e(t,n){s(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new qe(n)}return u(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),a=this.ctx,i=l(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;switch(o.type){case"path":a.save(),a.strokeStyle="none"===r.stroke?"transparent":r.stroke,a.lineWidth=r.strokeWidth,r.strokeLineDash&&a.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(a.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(a,o),a.restore();break;case"fillPath":a.save(),a.fillStyle=r.fill||"";var c="curve"===e.shape||"polygon"===e.shape?"evenodd":"nonzero";this._drawToContext(a,o,c),a.restore();break;case"fillSketch":this.fillSketch(a,o,r)}}}catch(g){i.e(g)}finally{i.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t),e.restore()}},{key:"_drawToContext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nonzero";e.beginPath();var r,a=l(t.ops);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.data;switch(i.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}}catch(c){a.e(c)}finally{a.f()}"fillPath"===t.type?e.fill(n):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i),i}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i),i}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i),i}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a),a}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0,g=this.gen.arc(e,t,n,r,a,i,o,c);return this.draw(g),g}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}]),e}(),et="http://www.w3.org/2000/svg",tt=function(){function e(t,n){s(this,e),this.svg=t,this.gen=new qe(n)}return u(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,i=a.createElementNS(et,"g"),o=e.options.fixedDecimalPlaceDigits,c=l(n);try{for(c.s();!(t=c.n()).done;){var g=t.value,s=null;switch(g.type){case"path":(s=a.createElementNS(et,"path")).setAttribute("d",this.opsToPath(g,o)),s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth+""),s.setAttribute("fill","none"),r.strokeLineDash&&s.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&s.setAttribute("stroke-dashoffset","".concat(r.strokeLineDashOffset));break;case"fillPath":(s=a.createElementNS(et,"path")).setAttribute("d",this.opsToPath(g,o)),s.setAttribute("stroke","none"),s.setAttribute("stroke-width","0"),s.setAttribute("fill",r.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||s.setAttribute("fill-rule","evenodd");break;case"fillSketch":s=this.fillSketch(a,g,r)}s&&i.appendChild(s)}}catch(u){c.e(u)}finally{c.f()}return i}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var a=e.createElementNS(et,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),a}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i)}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0,g=this.gen.arc(e,t,n,r,a,i,o,c);return this.draw(g)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}]),e}(),nt={canvas:function(e,t){return new $e(e,t)},svg:function(e,t){return new tt(e,t)},generator:function(e){return new qe(e)},newSeed:function(){return qe.newSeed()}};function rt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rt(e))&&(r&&(r+=" "),r+=t);return r}var it=function(){if("top"in self&&self!==top)try{top.location}catch(e){return!1}else{if("chooseFileSystemEntries"in self)return"chooseFileSystemEntries";if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1}(),ot=it?"chooseFileSystemEntries"===it?r.e(736).then(r.bind(r,9012)):r.e(736).then(r.bind(r,499)):r.e(736).then(r.bind(r,5034));function ct(){return gt.apply(this,arguments)}function gt(){return(gt=o(i.mark((function e(){var t,n=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}it?"chooseFileSystemEntries"===it?r.e(736).then(r.bind(r,6980)):r.e(736).then(r.bind(r,868)):r.e(736).then(r.bind(r,3110));var lt=it?"chooseFileSystemEntries"===it?r.e(736).then(r.bind(r,1170)):r.e(736).then(r.bind(r,7814)):r.e(736).then(r.bind(r,4001));function st(){return ut.apply(this,arguments)}function ut(){return(ut=o(i.mark((function e(){var t,n=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t},dt=function(e){return null!=e&&"text"===e.type},Ct=function(e){return null!=e&&Bt(e.type)},Bt=function(e){return"freedraw"===e},bt=function(e){return null!=e&&At(e.type)},At=function(e){return"arrow"===e||"line"===e},ht=function(e){return null!=e&&mt(e.type)},mt=function(e){return"arrow"===e},pt=function(e){return null!=e&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"text"===e.type)},Qt=function(e,t,n,r,a){return[(e-n)*Math.cos(a)-(t-r)*Math.sin(a)+n,(e-n)*Math.sin(a)+(t-r)*Math.cos(a)+r]},ft=function(e,t,n){return Qt(e[0],e[1],t[0],t[1],n)},Ft=function(e,t,n,r,a,i,o,c){var g=Math.cos(r),l=Math.sin(r);return e.e&&e.w?t+=a+o:e.e?(t+=a*(1+g),n+=a*l,t+=o*(1-g),n+=o*-l):e.w&&(t+=a*(1-g),n+=a*-l,t+=o*(1+g),n+=o*l),e.n&&e.s?n+=i+c:e.n?(t+=i*l,n+=i*(1-g),t+=c*-l,n+=c*(1+g)):e.s&&(t+=i*-l,n+=i*(1+g),t+=c*l,n+=c*(1-g)),[t,n]},yt=function(e,t,n,r){var a=n-e,i=r-t;return Math.hypot(a,i)},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],a=n[1];return yt(r[0],r[1],a[0],a[1])<=Q.qx/t}return!1},vt=function(e,t,n){var r=e.length;if(r<3)return!1;for(var a=[Number.MAX_SAFE_INTEGER,n],i=[t,n],o=0,c=0;c<r;c++){var g=e[c],l=e[(c+1)%r];if(Xt(g,l,i,a)){if(0===Ut(g,i,l))return Gt(g,i,l);o++}}return o%2==1},Gt=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},Ut=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},Xt=function(e,t,n,r){var a=Ut(e,t,n),i=Ut(e,t,r),o=Ut(n,r,e),c=Ut(n,r,t);return a!==i&&o!==c||!(0!==a||!Gt(e,n,t))||!(0!==i||!Gt(e,r,t))||!(0!==o||!Gt(n,e,r))||!(0!==c||!Gt(n,t,r))},Et=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},St=function(e,t,n){var r=n.map((function(t){return t[e]})),a=Math.max.apply(Math,q(r)),i=Math.min.apply(Math,q(r)),o=a-i,c=0===o?1:t/o,g=1/0,l=n.map((function(t){return t.map((function(t,n){if(n!==e)return t;var r=t*c;return g=Math.min(r,g),r}))}));if(2===l.length)return l;var s=i-g;return l.map((function(t){return t.map((function(t,n){return n===e?t+s:t}))}))};function wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zt=function(e){return Ct(e)?Mt(e):bt(e)?Tt(e):[e.x,e.y,e.x+e.width,e.y+e.height]},Vt=function(e){var t,n=wt(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(e){n.e(e)}finally{n.f()}return e.sets[0].ops},Wt=function(e,t){var n=[0,0],r=e.reduce((function(e,r){var a=r.op,i=r.data;if("move"===a)n=i;else if("bcurveTo"===a){var o=[i[0],i[1]],c=[i[2],i[3]],g=[i[4],i[5]],l=n;n=g;for(var s=function(e,t){return Math.pow(1-e,3)*g[t]+3*e*Math.pow(1-e,2)*c[t]+3*Math.pow(e,2)*(1-e)*o[t]+l[t]*Math.pow(e,3)},u=0;u<=1;){var I=s(u,0),d=s(u,1);if(t){var C=_(t(I,d),2);I=C[0],d=C[1]}e.minY=Math.min(e.minY,d),e.minX=Math.min(e.minX,I),e.maxX=Math.max(e.maxX,I),e.maxY=Math.max(e.maxY,d),u+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Dt=function(e){var t,n=1/0,r=1/0,a=-1/0,i=-1/0,o=wt(e);try{for(o.s();!(t=o.n()).done;){var c=_(t.value,2),g=c[0],l=c[1];n=Math.min(n,g),r=Math.min(r,l),a=Math.max(a,g),i=Math.max(i,l)}}catch(e){o.e(e)}finally{o.f()}return[n,r,a,i]},Mt=function(e){var t=_(Dt(e.points),4),n=t[0],r=t[1],a=t[2],i=t[3];return[n+e.x,r+e.y,a+e.x,i+e.y]},Tt=function(e){var t;if(e.points.length<2||!ea(e)){var n=e.points.reduce((function(e,t){var n=_(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),r=n.minX,a=n.minY,i=n.maxX,o=n.maxY;t=[r+e.x,a+e.y,i+e.x,o+e.y]}else{var c=ea(e),g=Vt(c[0]),l=_(Wt(g),4),s=l[0],u=l[1],I=l[2],d=l[3];t=[s+e.x,u+e.y,I+e.x,d+e.y]}return t},Ot=function(e){var t,n=_(Zt(e),4),r=n[0],a=n[1],i=n[2],o=n[3],c=(r+i)/2,g=(a+o)/2;if(Ct(e)){var l=Dt(e.points.map((function(t){var n=_(t,2),r=n[0],a=n[1];return Qt(r,a,c-e.x,g-e.y,e.angle)}))),s=_(l,4),u=s[0],I=s[1],d=s[2],C=s[3];return[u+e.x,I+e.y,d+e.x,C+e.y]}if(bt(e))t=function(e,t,n){if(e.points.length<2||!ea(e)){var r=e.points.reduce((function(r,a){var i=_(a,2),o=i[0],c=i[1],g=_(Qt(e.x+o,e.y+c,t,n,e.angle),2);return o=g[0],c=g[1],r.minY=Math.min(r.minY,c),r.minX=Math.min(r.minX,o),r.maxX=Math.max(r.maxX,o),r.maxY=Math.max(r.maxY,c),r}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]}var a=ea(e),i=Vt(a[0]);return Wt(i,(function(r,a){return Qt(e.x+r,e.y+a,t,n,e.angle)}))}(e,c,g);else if("diamond"===e.type){var B=_(Qt(c,a,c,g,e.angle),2),b=B[0],A=B[1],h=_(Qt(c,o,c,g,e.angle),2),m=h[0],p=h[1],Q=_(Qt(r,g,c,g,e.angle),2),f=Q[0],F=Q[1],y=_(Qt(i,g,c,g,e.angle),2),x=y[0],v=y[1];t=[Math.min(b,m,f,x),Math.min(A,p,F,v),Math.max(b,m,f,x),Math.max(A,p,F,v)]}else if("ellipse"===e.type){var G=(i-r)/2,U=(o-a)/2,X=Math.cos(e.angle),E=Math.sin(e.angle),S=Math.hypot(G*X,U*E),w=Math.hypot(U*X,G*E);t=[c-S,g-w,c+S,g+w]}else{var N=_(Qt(r,a,c,g,e.angle),2),Z=N[0],V=N[1],W=_(Qt(r,o,c,g,e.angle),2),D=W[0],M=W[1],T=_(Qt(i,o,c,g,e.angle),2),O=T[0],k=T[1],Y=_(Qt(i,a,c,g,e.angle),2),R=Y[0],H=Y[1];t=[Math.min(Z,D,O,R),Math.min(V,M,k,H),Math.max(Z,D,O,R),Math.max(V,M,k,H)]}return t},kt=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,a=-1/0;return e.forEach((function(e){var i=_(Ot(e),4),o=i[0],c=i[1],g=i[2],l=i[3];t=Math.min(t,o),r=Math.min(r,c),n=Math.max(n,g),a=Math.max(a,l)})),[t,r,n,a]},Yt=function(e,t,n){if(!bt(e)&&!Ct(e))return[e.x,e.y,e.x+t,e.y+n];var r,a=St(0,t,St(1,n,e.points));if(Ct(e))r=Dt(a);else{var i=nt.generator(),o="sharp"===e.strokeSharpness?i.linearPath(a,na(e)):i.curve(a,na(e)),c=Vt(o);r=Wt(c)}var g=_(r,4),l=g[0],s=g[1],u=g[2],I=g[3];return[l+e.x,s+e.y,u+e.x,I+e.y]},Rt=function(e,t,n){var r=nt.generator(),a="sharp"===n?r.linearPath(t,na(e)):r.curve(t,na(e)),i=Vt(a),o=_(Wt(i),4),c=o[0],g=o[1],l=o[2],s=o[3];return[c+e.x,g+e.y,l+e.x,s+e.y]},Ht=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),Lt=function(e){return[Ht.red[e],Ht.pink[e],Ht.grape[e],Ht.violet[e],Ht.indigo[e],Ht.blue[e],Ht.cyan[e],Ht.teal[e],Ht.green[e],Ht.lime[e],Ht.yellow[e],Ht.orange[e]]},zt={canvasBackground:[Ht.white,Ht.gray[0],Ht.gray[1]].concat(q(Lt(0))),elementBackground:["transparent",Ht.gray[4],Ht.gray[6]].concat(q(Lt(6))),elementStroke:[Ht.black,Ht.gray[8],Ht.gray[7]].concat(q(Lt(9)))},Jt=r(6207),jt=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Pt=/^Win/.test(window.navigator.platform),Kt="Equal",_t="Minus",qt="NumpadAdd",$t="NumpadSubtract",en="Numpad0",tn="BracketRight",nn="BracketLeft",rn="Digit1",an="Digit2",on="Digit9",cn="Quote",gn="Digit0",ln="Slash",sn="KeyC",un="KeyD",In="KeyG",dn="KeyF",Cn="KeyH",Bn="KeyV",bn="KeyX",An="KeyZ",hn="KeyR",mn="ArrowDown",pn="ArrowLeft",Qn="ArrowRight",fn="ArrowUp",Fn="Backspace",yn="Alt",xn=jt?"metaKey":"ctrlKey",vn="Delete",Gn="Enter",Un="Escape",Xn="?",En=" ",Sn="Tab",wn="a",Nn="d",Zn="e",Vn="g",Wn="l",Dn="o",Mn="p",Tn="q",On="r",kn="s",Yn="t",Rn="v",Hn="x",Ln="y",zn="z",Jn=function(e){return e===pn||e===Qn||e===mn||e===fn},jn=function(e){return e.altKey},Pn=function(e){return e.shiftKey},Kn=function(e){return e.shiftKey},_n="http://www.w3.org/2000/svg",qn=null,$n=function(){if(qn)return qn;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),i="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(a).concat(i)},er=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},tr=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},nr=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(Q.ut);n<r.length;n++){var a=_(r[n],2),i=a[0];if(a[1]===t)return"".concat(i,", ").concat(Q._D)}return Q._D},rr=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(nr({fontFamily:n}))},ar=function(e,t){var n=document.createElement("div"),r=document.body;n.style.position="absolute",n.style.whiteSpace="pre",n.style.font=t,r.appendChild(n),n.innerText=e.split("\n").map((function(e){return e||" "})).join("\n");var a=n.offsetWidth,i=n.offsetHeight,o=document.createElement("span");o.style.display="inline-block",o.style.overflow="hidden",o.style.width="1px",o.style.height="1px",n.appendChild(o);var c=o.offsetTop+o.offsetHeight;return document.body.removeChild(n),{width:a,height:i,baseline:c}},ir=function(e,t){var n=0,r=null,a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];r=i,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,i)}),t)};return a.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,q(t))}},a.cancel=function(){r=null,clearTimeout(n)},a},or=function(e,t){return Math.abs(e-t)},cr=function(e){e&&(e.style.cursor="")},gr=function(e,t){e&&(e.style.cursor=t)},lr=function(e,t){e&&("selection"===t?cr(e):e.style.cursor=Q.oc.CROSSHAIR)},sr=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},ur=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),jt?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Ir=function(e,t){var n=e.clientX,r=e.clientY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,c=t.scrollX,g=t.scrollY,l=1/a.value;return{x:(n-a.translation.x-i)*l-c,y:(r-a.translation.y-o)*l-g}},dr=function(e,t){var n=e.sceneX,r=e.sceneY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,c=t.scrollX,g=t.scrollY;return{x:(n+c+i)*a.value+a.translation.x,y:(r+g+o)*a.value+a.translation.y}},Cr=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},Br=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),br=function(e){return Br.test(e)},Ar=function(e){var t=_(e,2);return{x:t[0],y:t[1]}},hr=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e},mr=function(e){return function(t){(0,Jt.unstable_batchedUpdates)(e,t)}};function pr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fr=Q.ZB.includes(devicePixelRatio)?devicePixelRatio:1,Fr=function(){return{theme:"light",collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:Q.rk,currentItemFontSize:Q.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:Ht.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:Q.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportScale:fr,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(L("labels.untitled"),"-").concat($n()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ht.white,zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},yr={theme:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportScale:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},openPopup:{browser:!1,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},xr=function(e,t){var n,r={},a=pr(Object.keys(e));try{for(a.s();!(n=a.n()).done;){var i=n.value,o=yr[i];null!=o&&o[t]&&(r[i]=e[i])}}catch(e){a.e(e)}finally{a.f()}return r},vr=function(e){return xr(e,"export")};function Gr(e,t,n){return e*(1-n)+t*n}function Ur(e,t,n){return Math.max(t,Math.min(n,e))}function Xr(e,t,n,r){return void 0===r&&(r=.5),t?(r=Ur(n(r),0,1),(t<0?Gr(e,e+e*Ur(t,-.95,-.05),r):Gr(e-e*Ur(t,.05,.95),e,r))/2):e/2}function Er(e,t){return[e[0]+t[0],e[1]+t[1]]}function Sr(e,t){return[e[0]-t[0],e[1]-t[1]]}function wr(e,t){return[t[0]-e[0],t[1]-e[1]]}function Nr(e,t){return[e[0]*t,e[1]*t]}function Zr(e){return[e[1],-e[0]]}function Vr(e,t){return e[0]*t[0]+e[1]*t[1]}function Wr(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(Sr(e,t))}function Dr(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function Mr(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Tr(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],c=i*r+o*a;return[i*a-o*r+t[0],c+t[1]]}function Or(e,t,n){return Er(e,Nr(wr(e,t),n))}var kr=Math.min,Yr=Math.PI;function Rr(e,t){var n=t.simulatePressure,r=void 0===n||n,a=t.streamline,i=void 0===a?.5:a,o=t.size,c=void 0===o?8:o;i/=2,r||(i/=2);var g=function(e){return Array.isArray(e[0])?e.map((function(e){var t=e[0],n=e[1],r=e[2];return[t,n,void 0===r?.5:r]})):e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}))}(e),l=g.length;if(0===l)return[];1===l&&g.push(Er(g[0],[1,0]));for(var s=[{point:[g[0][0],g[0][1]],pressure:g[0][2],vector:[0,0],distance:0,runningLength:0}],u=1,I=g[u],d=s[0];u<g.length;I=g[++u],d=s[u-1]){var C=Or(d.point,I,1-i),B=I[2],b=Dr(wr(C,d.point)),A=Mr(C,d.point),h=d.runningLength+A;s.push({point:C,pressure:B,vector:b,distance:A,runningLength:h})}for(var m=s[l-1].runningLength,p=l-2;p>1;p--){var Q=s[p],f=Q.runningLength,F=Q.vector,y=Vr(s[p-1].vector,s[p].vector);if(m-f>c/2||y<.8){for(var x=p;x<l;x++)s[x].vector=F;break}}return s}var Hr=function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});var n=t,r=n.size,a=void 0===r?8:r,i=n.thinning,o=void 0===i?.5:i,c=n.smoothing,g=void 0===c?.5:c,l=n.simulatePressure,s=void 0===l||l,u=n.easing,I=void 0===u?function(e){return e}:u,d=n.start,C=void 0===d?{}:d,B=n.end,b=void 0===B?{}:B,A=n.last,h=void 0!==A&&A,m=t.streamline,p=void 0===m?.5:m;p/=2;var Q=C.taper,f=void 0===Q?0:Q,F=C.easing,y=void 0===F?function(e){return e*(2-e)}:F,x=b.taper,v=void 0===x?0:x,G=b.easing,U=void 0===G?function(e){return--e*e*e+1}:G,X=e.length;if(0===X)return[];for(var E=e[X-1].runningLength,S=[],w=[],N=e.slice(0,5).reduce((function(e,t){return(e+t.pressure)/2}),e[0].pressure),Z=Xr(a,o,I,e[X-1].pressure),V=e[0].vector,W=e[0].point,D=W,M=W,T=D,O=1;O<X-1;O++){var k=e[O],Y=k.point,R=k.pressure,H=k.vector,L=k.distance,z=k.runningLength;if(o){if(s){var J=kr(1,1-L/a),j=kr(1,L/a);R=kr(1,N+j/2*(J-N))}Z=Xr(a,o,I,R)}else Z=a/2;var P=z<f?y(z/f):1,K=E-z<v?U((E-z)/v):1;Z*=Math.min(P,K);var _=e[O+1].vector,q=Vr(H,_);if(q<0){for(var $=Nr(Zr(V),Z),ee=Er(Y,$),te=Sr(Y,$),ne=.2;ne<1;ne+=.2)T=Tr(ee,Y,Yr*-ne),M=Tr(te,Y,Yr*ne),w.push(T),S.push(M);W=M,D=T}else{var re=Nr(Zr(Or(_,H,q)),Z);M=Sr(Y,re),T=Er(Y,re);var ae=1===O||q<.25,ie=Math.pow((z>a?a:a/2)*g,2);(ae||Wr(W,M)>ie)&&(S.push(Or(W,M,p)),W=M),(ae||Wr(D,T)>ie)&&(w.push(Or(D,T,p)),D=T),N=R,V=H}}var oe=e[0],ce=e[X-1],ge=w.length<2||S.length<2;if(ge&&(!f&&!v||h)){for(var le=0,se=0;se<X;se++){var ue=e[se],Ie=ue.pressure;if(ue.runningLength>a){le=Xr(a,o,I,Ie);break}}for(var de=Sr(oe.point,Nr(Zr(Dr(wr(ce.point,oe.point))),le||Z)),Ce=[],Be=0;Be<=1;Be+=.1)Ce.push(Tr(de,oe.point,2*Yr*Be));return Ce}var be=[];if(!(f||v&&ge)){T=w[1],M=S[1];for(var Ae=Sr(oe.point,Nr(Dr(wr(T,M)),Mr(T,M)/2)),he=0;he<=1;he+=.2)be.push(Tr(Ae,oe.point,Yr*he));S.shift(),w.shift()}var me=[];if(v||f&&ge)me.push(ce.point);else for(var pe=Sr(ce.point,Nr(Zr(ce.vector),Z)),Qe=0;Qe<=1;Qe+=.1)me.push(Tr(pe,ce.point,3*Yr*Qe));return S.concat(me,w.reverse(),be)}(Rr(e,t),t)};function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jr=Fr(),jr=function(e){return[8,8+e]},Pr=function(e){return[1.5,6+e]},Kr=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},_r=function(e,t,n){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(ea(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",ea(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var r=function(e){return la.get(e)}(e);n.fillStyle=e.strokeColor,n.fill(r),n.restore();break;default:if(!dt(e))throw new Error("Unimplemented type ".concat(e.type));var a=br(e.text),i=a&&!n.canvas.isConnected;i&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",a?"rtl":"ltr");var o=n.font;n.font=rr(e);var c=n.fillStyle;n.fillStyle=e.strokeColor;var g=n.textAlign;n.textAlign=e.textAlign;for(var l=e.text.replace(/\r\n?/g,"\n").split("\n"),s=e.height/l.length,u=e.height-e.baseline,I="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,d=0;d<l.length;d++)n.fillText(l[d],I,(d+1)*s-u);n.fillStyle=c,n.font=o,n.textAlign=g,i&&n.canvas.remove()}n.globalAlpha=1},qr=new WeakMap,$r=new WeakMap,ea=function(e){return $r.get(e)},ta=function(e){return $r.delete(e)},na=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?jr(e.strokeWidth):"dotted"===e.strokeStyle?Pr(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":return xt(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"freedraw":case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},ra=function(e,t){var n=$r.get(e)||null;if(!n){switch(qr.delete(e),e.type){case"rectangle":if("round"===e.strokeSharpness){var r=e.width,a=e.height,i=.25*Math.min(r,a);n=t.path("M ".concat(i," 0 L ").concat(r-i," 0 Q ").concat(r," 0, ").concat(r," ").concat(i," L ").concat(r," ").concat(a-i," Q ").concat(r," ").concat(a,", ").concat(r-i," ").concat(a," L ").concat(i," ").concat(a," Q 0 ").concat(a,", 0 ").concat(a-i," L 0 ").concat(i," Q 0 0, ").concat(i," 0"),na(e,!0))}else n=t.rectangle(0,0,e.width,e.height,na(e));break;case"diamond":var o=_(function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]}(e),8),c=o[0],g=o[1],l=o[2],s=o[3],u=o[4],I=o[5],d=o[6],C=o[7];n=t.polygon([[c,g],[l,s],[u,I],[d,C]],na(e));break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,na(e));break;case"line":case"arrow":var B=na(e),b=e.points.length?e.points:[[0,0]];if(n="sharp"===e.strokeSharpness?B.fill?[t.polygon(b,B)]:[t.linearPath(b,B)]:[t.curve(b,B)],"arrow"===e.type){var A=e.startArrowhead,h=void 0===A?null:A,m=e.endArrowhead,p=void 0===m?"arrow":m,Q=function(e,n,r,a){var i=function(e,t,n,r){var a=Vt(t[0]);if(a.length<1)return null;var i="start"===n?1:a.length-1,o=a[i].data,c=[o[4],o[5]],g=[o[2],o[3]],l=[o[0],o[1]],s=a[i-1],u=[0,0];"move"===s.op?u=s.data:"bcurveTo"===s.op&&(u=[s.data[4],s.data[5]]);var I=function(e,t){return Math.pow(1-e,3)*c[t]+3*e*Math.pow(1-e,2)*g[t]+3*Math.pow(e,2)*(1-e)*l[t]+u[t]*Math.pow(e,3)},d=_("start"===n?u:c,2),C=d[0],B=d[1],b=[I(.3,0),I(.3,1)],A=b[0],h=b[1],m=Math.hypot(C-A,B-h),p=(C-A)/m,Q=(B-h)/m,f={arrow:30,bar:15,dot:15}[r],F=0;if("arrow"===r){var y=_(e.points[e.points.length-1],2),x=y[0],v=y[1],G=_(e.points.length>1?e.points[e.points.length-2]:[0,0],2),U=G[0],X=G[1];F=Math.hypot(x-U,v-X)}else for(var E=0;E<e.points.length;E++){var S=_(e.points[E-1]||[0,0],2),w=S[0],N=S[1],Z=_(e.points[E],2),V=Z[0],W=Z[1];F+=Math.hypot(V-w,W-N)}var D=Math.min(f,F/2),M=C-p*D,T=B-Q*D;if("dot"===r)return[C,B,Math.hypot(T-B,M-C)+e.strokeWidth];var O={arrow:20,bar:90}[r],k=_(Qt(M,T,C,B,-O*Math.PI/180),2),Y=k[0],R=k[1],H=_(Qt(M,T,C,B,O*Math.PI/180),2);return[C,B,Y,R,H[0],H[1]]}(e,n,r,a);if(null===i)return[];if("dot"===a){var o=_(i,3),c=o[0],g=o[1],l=o[2];return[t.circle(c,g,l,zr(zr({},B),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}var s=_(i,6),u=s[0],I=s[1],d=s[2],C=s[3],b=s[4],A=s[5];if("dotted"===e.strokeStyle){var h=Pr(e.strokeWidth-1);B.strokeLineDash=[h[0],h[1]-1]}else delete B.strokeLineDash;return[t.line(d,C,u,I,B),t.line(b,A,u,I,B)]};if(null!==h){var f,F=Q(e,n,"start",h);(f=n).push.apply(f,q(F))}if(null!==p){var y,x=Q(e,n,"end",p);(y=n).push.apply(y,q(x))}}break;case"freedraw":sa(e),n=[];break;case"text":n=[]}$r.set(e,n)}},aa=function(e,t){var n=t?t.zoom:Jr.zoom,r=qr.get(e),a=r&&r.canvasZoom!==n.value&&!(null!=t&&t.shouldCacheIgnoreZoom);if(!r||a){var i=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),a=Kr(e),i=0,o=0;if(bt(e)||Ct(e)){var c=_(Zt(e),4),g=c[0],l=c[1],s=c[2],u=c[3];g=Math.floor(g),s=Math.ceil(s),l=Math.floor(l),u=Math.ceil(u),n.width=or(g,s)*window.devicePixelRatio*t.value+a*t.value*2,n.height=or(l,u)*window.devicePixelRatio*t.value+a*t.value*2,i=e.x>g?Math.floor(or(e.x,g))*window.devicePixelRatio*t.value:0,o=e.y>l?Math.floor(or(e.y,l))*window.devicePixelRatio*t.value:0,r.translate(i,o)}else n.width=e.width*window.devicePixelRatio*t.value+a*t.value*2,n.height=e.height*window.devicePixelRatio*t.value+a*t.value*2;r.translate(a*t.value,a*t.value),r.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);var I=nt.canvas(n);return _r(e,I,r),r.translate(-a*t.value,-a*t.value),r.scale(1/(window.devicePixelRatio*t.value),1/(window.devicePixelRatio*t.value)),{element:e,canvas:n,canvasZoom:t.value,canvasOffsetX:i,canvasOffsetY:o}}(e,n);return qr.set(e,i),i}return r},ia=function(e,t,n,r){var a=e.element,i=Kr(a),o=_(Zt(a),4),c=o[0],g=o[1],l=o[2],s=o[3];Ct(a)&&(c=Math.floor(c),l=Math.ceil(l),g=Math.floor(g),s=Math.ceil(s));var u=((c+l)/2+r.scrollX)*window.devicePixelRatio,I=((g+s)/2+r.scrollY)*window.devicePixelRatio;n.scale(1/window.devicePixelRatio,1/window.devicePixelRatio),n.translate(u,I),n.rotate(a.angle),n.drawImage(e.canvas,-(l-c)/2*window.devicePixelRatio-i*e.canvasZoom/e.canvasZoom,-(s-g)/2*window.devicePixelRatio-i*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom),n.rotate(-a.angle),n.translate(-u,-I),n.scale(window.devicePixelRatio,window.devicePixelRatio)},oa=function(e,t,n,r,a){var i=t.generator;switch(e.type){case"selection":n.translate(e.x+a.scrollX,e.y+a.scrollY);var o=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.fillStyle=o,n.translate(-e.x-a.scrollX,-e.y-a.scrollY);break;case"freedraw":if(ra(e,i),r){var c=aa(e,a);ia(c,0,n,a)}else{var g=_(Zt(e),4),l=g[0],s=g[1],u=g[2],I=g[3],d=(l+u)/2+a.scrollX,C=(s+I)/2+a.scrollY,B=(u-l)/2-(e.x-l),b=(I-s)/2-(e.y-s);n.translate(d,C),n.rotate(e.angle),n.translate(-B,-b),_r(e,t,n),n.translate(B,b),n.rotate(-e.angle),n.translate(-d,-C)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"text":if(ra(e,i),r){var A=aa(e,a);ia(A,0,n,a)}else{var h=_(Zt(e),4),m=h[0],p=h[1],Q=h[2],f=h[3],F=(m+Q)/2+a.scrollX,y=(p+f)/2+a.scrollY,x=(Q-m)/2-(e.x-m),v=(f-p)/2-(e.y-p);n.translate(F,y),n.rotate(e.angle),n.translate(-x,-v),_r(e,t,n),n.translate(x,v),n.rotate(-e.angle),n.translate(-F,-y)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},ca=function(e,t,n){if(void 0===n)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:zr(zr({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},ga=function(e,t,n,r,a){var i=_(Zt(e),4),o=i[0],c=i[1],g=i[2],l=i[3],s=(g-o)/2-(e.x-o),u=(l-c)/2-(e.y-c),I=180*e.angle/Math.PI,d=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":ra(e,d);var C=ca(t,ea(e),Q.zK),B=e.opacity/100;1!==B&&(C.setAttribute("stroke-opacity","".concat(B)),C.setAttribute("fill-opacity","".concat(B))),C.setAttribute("stroke-linecap","round"),C.setAttribute("transform","translate(".concat(r||0," ").concat(a||0,") rotate(").concat(I," ").concat(s," ").concat(u,")")),n.appendChild(C);break;case"line":case"arrow":ra(e,d);var b=n.ownerDocument.createElementNS(_n,"g"),A=e.opacity/100;b.setAttribute("stroke-linecap","round"),ea(e).forEach((function(n){var i=ca(t,n,Q.zK);1!==A&&(i.setAttribute("stroke-opacity","".concat(A)),i.setAttribute("fill-opacity","".concat(A))),i.setAttribute("transform","translate(".concat(r||0," ").concat(a||0,") rotate(").concat(I," ").concat(s," ").concat(u,")")),"line"===e.type&&xt(e.points)&&"transparent"!==e.backgroundColor&&i.setAttribute("fill-rule","evenodd"),b.appendChild(i)})),n.appendChild(b);break;case"freedraw":sa(e);var h=e.opacity/100,m=n.ownerDocument.createElementNS(_n,"g");1!==h&&(m.setAttribute("stroke-opacity","".concat(h)),m.setAttribute("fill-opacity","".concat(h))),m.setAttribute("transform","translate(".concat(r||0," ").concat(a||0,") rotate(").concat(I," ").concat(s," ").concat(u,")"));var p=n.ownerDocument.createElementNS(_n,"path");m.setAttribute("stroke","none"),m.setAttribute("fill",e.strokeColor),p.setAttribute("d",ua(e)),m.appendChild(p),n.appendChild(m);break;default:if(!dt(e))throw new Error("Unimplemented type ".concat(e.type));var f=e.opacity/100,F=n.ownerDocument.createElementNS(_n,"g");1!==f&&(F.setAttribute("stroke-opacity","".concat(f)),F.setAttribute("fill-opacity","".concat(f))),F.setAttribute("transform","translate(".concat(r||0," ").concat(a||0,") rotate(").concat(I," ").concat(s," ").concat(u,")"));for(var y=e.text.replace(/\r\n?/g,"\n").split("\n"),x=e.height/y.length,v=e.height-e.baseline,G="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,U=br(e.text)?"rtl":"ltr",X="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===U?"end":"start",E=0;E<y.length;E++){var S=n.ownerDocument.createElementNS(_n,"text");S.textContent=y[E],S.setAttribute("x","".concat(G)),S.setAttribute("y","".concat((E+1)*x-v)),S.setAttribute("font-family",nr(e)),S.setAttribute("font-size","".concat(e.fontSize,"px")),S.setAttribute("fill",e.strokeColor),S.setAttribute("text-anchor",X),S.setAttribute("style","white-space: pre;"),S.setAttribute("direction",U),F.appendChild(S)}n.appendChild(F)}},la=new WeakMap([]);function sa(e){var t=ua(e),n=new Path2D(t);return la.set(e,n),n}function ua(e){var t=e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=_(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,0]],n={simulatePressure:e.simulatePressure,size:6*e.strokeWidth,thinning:.5,smoothing:.5,streamline:.5,easing:function(e){return e*(2-e)},last:!0},r=Hr(t,n),a=[],i=_(r,2),o=i[0],c=i[1];a.push("M",o[0],o[1],"Q");for(var g=0;g<r.length;g++)a.push(o[0],o[1],(o[0]+c[0])/2,(o[1]+c[1])/2),o=c,c=r[g];return c=r[0],a.push(o[0],o[1],(o[0]+c[0])/2,(o[1]+c[1])/2),a.push("Z"),a.join(" ")}var Ia=function(e){return"string"==typeof e},da=function(){function e(){y(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return v(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&Ic(t)?t:null}},{key:"getNonDeletedElements",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.getNonDeletedElement(e);null!=r&&n.push(r)})),n}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach((function(t){n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=uc(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++)(0,t[e])()}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(e,t){Ia(e)?this.sceneMapById.set(e,t):this.sceneMapByElement.set(e,t)}},{key:"getScene",value:function(e){return Ia(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();da.sceneMapByElement=new WeakMap,da.sceneMapById=new Map;var Ca=da,Ba=new Be(Date.now()),ba=function(){return Math.floor(Ba.next()*Math.pow(2,31))},Aa=function(){return It()};function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pa=function(e,t){var n,r=!1,a=t.points;for(var i in void 0!==a&&(t=ma(ma({},function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,q(t))-Math.min.apply(Math,q(t)),height:Math.max.apply(Math,q(n))-Math.min.apply(Math,q(n))}}(a)),t)),t){var o=t[i];if(void 0!==o){if(e[i]===o&&("object"!==X(o)||null===o||"groupIds"===i))continue;if("points"===i){var c=e[i],g=o;if(c.length===g.length){for(var l=!1,s=c.length;--s;){var u=c[s],I=g[s];if(u[0]!==I[0]||u[1]!==I[1]){l=!0;break}}if(!l)continue}}e[i]=o,r=!0}}r&&(void 0===t.height&&void 0===t.width&&void 0===a||ta(e),e.version++,e.versionNonce=ba(),null===(n=Ca.getScene(e))||void 0===n||n.informMutation())},Qa=function(e,t){var n=!1;for(var r in t){var a=t[r];if(void 0!==a){if(e[r]===a&&("object"!==X(a)||null===a||"groupIds"===r))continue;n=!0}}return n?ma(ma(ma({},e),t),{},{version:e.version+1,versionNonce:ba()}):e},fa=function(e,t){return e.version=(null!=t?t:e.version)+1,e.versionNonce=ba(),e},Fa=function(e){return bt(e)||Ct(e)?e.points.length<2:0===e.width&&0===e.height},ya=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var i=Math.round(Math.atan(a/r)/Q.ay)*Q.ay;0===i?n=0:i===Math.PI/2?t=0:n=Math.round(r*Math.tan(i))*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},xa=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t};function va(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ga(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sa=function(e,t,n){var r=n.filter((function(t){return t.groupIds.includes(e)}));return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?Ea(Ea({},t),{},{selectedGroupIds:Ea(Ea({},t.selectedGroupIds),{},$({},e,!1)),editingGroupId:null}):t:Ea(Ea({},t),{},{selectedGroupIds:Ea(Ea({},t.selectedGroupIds),{},$({},e,!0)),selectedElementIds:Ea(Ea({},t.selectedElementIds),Object.fromEntries(r.map((function(e){return[e.id,!0]}))))})},wa=function(e,t){return null!=Na(e,t)},Na=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},Za=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=_(e,2);return t[0],t[1]})).map((function(e){var t=_(e,2),n=t[0];return t[1],n}))},Va=function(e,t){var n=Ea(Ea({},e),{},{selectedGroupIds:{}}),r=mc(t,e);if(!r.length)return Ea(Ea({},n),{},{editingGroupId:null});var a,i=Ga(r);try{for(i.s();!(a=i.n()).done;){var o=a.value.groupIds;if(e.editingGroupId){var c=o.indexOf(e.editingGroupId);c>-1&&(o=o.slice(0,c))}if(o.length>0){var g=o[o.length-1];n=Sa(g,n,t)}}}catch(e){i.e(e)}finally{i.f()}return n},Wa=function(e,t){return e.groupIds.includes(t)},Da=function(e,t){return e.filter((function(e){return Wa(e,t)}))},Ma=function(e,t,n){var r=q(e),a=n?r.indexOf(n):-1,i=a>-1?a:r.length;return r.splice(i,0,t),r},Ta=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElementIds"];function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ya=function(e,t){var n,r,a=t.x,i=t.y,o=t.strokeColor,c=t.backgroundColor,g=t.fillStyle,l=t.strokeWidth,s=t.strokeStyle,u=t.roughness,I=t.opacity,d=t.width,C=void 0===d?0:d,B=t.height,b=void 0===B?0:B,A=t.angle,h=void 0===A?0:A,m=t.groupIds,p=void 0===m?[]:m,Q=t.strokeSharpness,f=t.boundElementIds,F=void 0===f?null:f,y=va(t,Ta);return{id:y.id||Aa(),type:e,x:a,y:i,width:C,height:b,angle:h,strokeColor:o,backgroundColor:c,fillStyle:g,strokeWidth:l,strokeStyle:s,roughness:u,opacity:I,groupIds:p,strokeSharpness:Q,seed:null!==(n=y.seed)&&void 0!==n?n:ba(),version:y.version||1,versionNonce:null!==(r=y.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElementIds:F}},Ra=function(e){return Ya(e.type,e)},Ha=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},La=function(e){var t=ar(e.text,rr(e)),n=Ha(e,t);return Qa(ka(ka({},Ya("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline}),{})},za=function(e,t){var n=t.text,r=t.isDeleted;return Qa(e,ka({text:n,isDeleted:null!=r?r:e.isDeleted},function(e,t){var n,r,a=ar(t,rr(e)),i=a.width,o=a.height,c=a.baseline,g=e.textAlign,l=e.verticalAlign;if("center"===g&&"middle"===l){var s=ar(e.text,rr(e)),u=Ha(e,{width:i-s.width,height:o-s.height});n=e.x-u.x,r=e.y-u.y}else{var I=_(Zt(e),4),d=I[0],C=I[1],B=I[2],b=I[3],A=_(Yt(e,i,o),4),h=(d-A[0])/2,m=(C-A[1])/2,p=(B-A[2])/2,Q=(b-A[3])/2,f=_(Ft({s:!0,e:"center"===g||"left"===g,w:"center"===g||"right"===g},e.x,e.y,e.angle,h,m,p,Q),2);n=f[0],r=f[1]}return{width:i,height:o,x:Number.isFinite(n)?n:e.x,y:Number.isFinite(r)?r:e.y,baseline:c}}(e,n)))},Ja=function(e){return ka(ka({},Ya(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},ja=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==X(t))return t;if("[object Object]"===Object.prototype.toString.call(t)){var r="function"==typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var a in t)if(t.hasOwnProperty(a)){if(0===n&&("shape"===a||"canvas"===a))continue;r[a]=e(t[a],n+1)}return r}if(Array.isArray(t)){for(var i=t.length,o=new Array(i);i--;)o[i]=e(t[i],n+1);return o}return t},Pa=function(e,t,n,r){var a=ja(n);return a.id=Aa(),a.seed=ba(),a.groupIds=function(e,t,n){for(var r=q(e),a=t?e.indexOf(t):-1,i=a>-1?a:e.length,o=0;o<i;o++)r[o]=n(r[o]);return r}(a.groupIds,e,(function(e){return t.has(e)||t.set(e,Aa()),t.get(e)})),r&&(a=Object.assign(a,r)),a},Ka={mouse:8,pen:16,touch:28},_a={e:!0,s:!0,n:!0,w:!0},qa={e:!0,s:!0,n:!0,w:!0},$a={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},ei={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},ti=function(e,t,n,r,a,i,o){var c=_(Qt(e+n/2,t+r/2,a,i,o),2);return[c[0]-n/2,c[1]-r/2,n,r]},ni=function(e,t,n,r){var a=_(e,4),i=a[0],o=a[1],c=a[2],g=a[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=Ka[r],u=s/n.value,I=s/n.value,d=s/n.value,C=s/n.value,B=c-i,b=g-o,A=(i+c)/2,h=(o+g)/2,m=4/n.value,p=(s-8)/(2*n.value),Q={nw:l.nw?void 0:ti(i-m-d+p,o-m-C+p,u,I,A,h,t),ne:l.ne?void 0:ti(c+m-p,o-m-C+p,u,I,A,h,t),sw:l.sw?void 0:ti(i-m-d+p,g+m-p,u,I,A,h,t),se:l.se?void 0:ti(c+m-p,g+m-p,u,I,A,h,t),rotation:l.rotation?void 0:ti(i+B/2-u/2,o-m-C+p-16/n.value,u,I,A,h,t)},f=5*Ka.mouse/n.value;return Math.abs(B)>f&&(l.n||(Q.n=ti(i+B/2-u/2,o-m-C+p,u,I,A,h,t)),l.s||(Q.s=ti(i+B/2-u/2,g+m-p,u,I,A,h,t))),Math.abs(b)>f&&(l.w||(Q.w=ti(i-m-d+p,o+b/2-I/2,u,I,A,h,t)),l.e||(Q.e=ti(c+m-p,o+b/2-I/2,u,I,A,h,t))),Q},ri=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse",r={};if("arrow"===e.type||"line"===e.type||"freedraw"===e.type){if(2===e.points.length){var a=_(e.points,2)[1];0===a[0]||0===a[1]?r=ei:a[0]>0&&a[1]<0?r=$a:a[0]>0&&a[1]>0?r=ei:a[0]<0&&a[1]>0?r=$a:a[0]<0&&a[1]<0&&(r=ei)}}else"text"===e.type&&(r=qa);return ni(Zt(e),e.angle,t,n,r)},ai=function(e,t){return[0,0,0,0,t,e,1,0]},ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},oi=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},ci=function(e,t){return Bi(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},gi=function(e,t){return Bi(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[li(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},li=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},si=function(e,t){return[ui(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},ui=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},Ii=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},di=function(e){var t=Ii(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return gi(e,n/t)},Ci=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:gi(e,1/t)},Bi=function(e){return"number"==typeof e},bi=(ii(1,1),ii(1,2),ii(1,3),ii(1,4),ii(1,5),ii(1,6),ii(1,7),function(e,t,n){return di([0,n,e,t,0,0,0,0])}),Ai=function(e,t){return di(si(t,e))},hi=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},mi=function(e){var t=_(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},pi=function(e){return[e[5],e[4]]},Qi=function(e,t){return di((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},fi=function(e,t){return Ii(si(e,t))},Fi=function(e,t){return ui(e,t)},yi=function(e){return[0,0,0,0,e[4],e[5],0,0]},xi=function(e,t){return n=gi(e,Math.sin(t/2)),r=Math.cos(t/2),Bi(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},vi=function(e,t){return di(gi(gi(e,t),oi(e)))};function Gi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xi=function(e,t,n,r){var a=10/t.zoom.value;return!Ei(e,t,[n,r])&&wi(e,[n,r],a)},Ei=function(e,t,n){var r=10/t.zoom.value,a="text"===e.type?Di:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t="transparent"!==e.backgroundColor;return"line"===e.type?t&&xt(e.points):t}(e)?Mi:Ti;return Vi({element:e,point:n,threshold:r,check:a})},Si=function(e,t){return e.selectedElementIds[t.id]},wi=function(e,t,n){var r=_(t,2),a=r[0],i=r[1],o=_(Zt(e),4),c=o[0],g=o[1],l=o[2],s=o[3],u=_(Qt(a,i,(c+l)/2,(g+s)/2,-e.angle),2),I=u[0],d=u[1];return I>c-n&&I<l+n&&d>g-n&&d<s+n},Ni=function(e,t){var n=t.x,r=t.y,a=Zi(e,e.width,e.height);return Vi({element:e,point:[n,r],threshold:a,check:Oi})},Zi=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},Vi=function(e){switch(e.element.type){case"rectangle":case"text":case"diamond":case"ellipse":var t=Wi(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(ki(e.element,e.point),e.threshold)&&Li(e.element,e.point,e.threshold);case"arrow":case"line":return zi(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Wi=function(e,t){switch(e.type){case"rectangle":case"text":return ki(e,t);case"diamond":return Yi(e,t);case"ellipse":return Ri(e,t)}},Di=function(e,t){return e<0},Mi=function(e,t){return e<t},Ti=function(e,t){return Math.abs(e)<t},Oi=function(e,t){return 0<=e&&e<t},ki=function(e,t){var n=_(Ji(e,t),4),r=n[1],a=n[2],i=n[3];return Math.max(Fi(r,bi(0,1,-i)),Fi(r,bi(1,0,-a)))},Yi=function(e,t){var n=_(Ji(e,t),4),r=n[1],a=n[2],i=n[3],o=bi(i,a,-i*a);return Fi(r,o)},Ri=function(e,t){var n=_(Hi(e,t),2),r=n[0],a=n[1];return-function(e){return Math.sign(e[1])}(a)*Fi(r,a)},Hi=function(e,t){var n=_(Ji(e,t),4),r=n[1],a=n[2],i=n[3],o=_(pi(r),2),c=o[0],g=o[1],l=.707,s=.707,u=a,I=i;[0,1,2,3].forEach((function(e){var t=u*l,n=I*s,r=(u*u-I*I)*Math.pow(l,3)/u,a=(I*I-u*u)*Math.pow(s,3)/I,i=t-r,o=n-a,d=c-r,C=g-a,B=Math.hypot(o,i),b=Math.hypot(C,d);l=Math.min(1,Math.max(0,(d*B/b+r)/u)),s=Math.min(1,Math.max(0,(C*B/b+a)/I));var A=Math.hypot(s,l);l/=A,s/=A}));var d,C=ai(u*l,I*s);return[r,hi(Ai(r,d=C),d)]},Li=function(e,t,n){var r,a;if(0===e.angle)r=t[0]-e.x,a=t[1]-e.y;else{var i=_(Zt(e),4),o=i[0],c=i[1],g=i[2],l=i[3],s=ft(t,[o+(g-o)/2,c+(l-c)/2],-e.angle);r=s[0]-e.x,a=s[1]-e.y}var u,I=_(e.points,2),d=I[0],C=I[1];if(2===e.points.length)return yt(d[0],d[1],r,a)<n||yt(C[0],C[1],r,a)<n;for(var B=1;B<e.points.length-1;B++){var b=[C[0]-d[0],C[1]-d[1]],A=Math.hypot(b[1],b[0]),h=[b[0]/A,b[1]/A],m=[r-d[0],a-d[1]],p=(m[0]*h[0]+m[1]*h[1])/Math.hypot(h[1],h[0]);u=[d[0]+h[0]*p,d[1]+h[1]*p];var Q=yt(u[0],u[1],d[0],d[1]),f=yt(u[0],u[1],C[0],C[1]);if(u=f<Q&&Q>A?C:Q<f&&f>A?d:u,Math.hypot(a-u[1],r-u[0])<n)return!0;d=C,C=e.points[B+1]}return!1},zi=function(e){var t=e.element,n=e.threshold;if(!ea(t))return!1;var r=_(Ji(e.element,e.point),4),a=r[0],i=r[1],o=r[2],c=r[3],g=bi(0,1,-c),l=bi(1,0,-o);if(!Mi(Fi(i,g),n)||!Mi(Fi(i,l),n))return!1;var s=_(pi(a),2),u=s[0],I=s[1],d=ea(t);return!(e.check!==Mi||!d.some((function(e){return io(e,u,I,t.strokeSharpness)})))||d.some((function(e){return oo(e,u,I,n)}))},Ji=function(e,t){var n,r=mi(t),a=Zt(e),i=Pi(a),o=xi(i,e.angle),c=vi(o,r),g=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]}(ci(c,yi(i))),l=(n=e.x,[0,0,0,0,e.y,n,0,0]),s=ci(c,l),u=_(a,4),I=u[0],d=u[1];return[s,g,(u[2]-I)/2,(u[3]-d)/2]},ji=function(e){var t=Zt(e),n=Pi(t),r=xi(n,e.angle),a=oi(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(yi(n)));return gi(a,r)},Pi=function(e){var t=_(e,4),n=t[0],r=t[1],a=t[2],i=t[3];return ai((n+a)/2,(r+i)/2)},Ki=function(e,t,n){var r=ji(e),a=vi(r,mi(t)),i=vi(r,mi(n)),o=Ai(a,i),c=e.height/e.width,g=e.width/2,l=e.height/2,s=o[2],u=o[3],I=o[1],d=Math.abs(u),C=Math.abs(s);switch(e.type){case"rectangle":case"text":return I/(g*(C+c*d));case"diamond":return d<C?I/(C*g):I/(d*l);case"ellipse":return I/(g*Math.sqrt(Math.pow(s,2)+Math.pow(c,2)*Math.pow(u,2)))}},_i=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"text":case"diamond":var i=qi(e);r=i.flatMap((function(e,n){var r=[e,i[(n+1)%4]];return $i(t,eo(r,a))})).concat(i.flatMap((function(e){return no(e,a,t)})));break;case"ellipse":r=to(e,a,t)}if(r.length<2)return[];var o=r.sort((function(e,t){return fi(e,n)-fi(t,n)}));return[o[0],o[o.length-1]]},qi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"text":return[ai(n,r),ai(n,-r),ai(-n,-r),ai(-n,r)];case"diamond":return[ai(0,r),ai(n,0),ai(0,-r),ai(-n,0)]}},$i=function(e,t){var n=_(t,2),r=n[0],a=n[1];return Fi(r,e)*Fi(a,e)>=0?[]:[Qi(e,Ai(r,a))]},eo=function(e,t){var n=_(e,2),r=n[0],a=n[1],i=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return Ci([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(r,a),t);return[vi(i,r),vi(i,a)]},to=function(e,t,n){var r=e.width/2+t,a=e.height/2+t,i=n[2],o=n[3],c=n[1],g=r*r*i*i+a*a*o*o,l=g-c*c;if(0===g||l<=0)return[];var s=Math.sqrt(l),u=-r*r*i*c,I=-a*a*o*c;return[ai((u+r*a*o*s)/g,(I-r*a*i*s)/g),ai((u-r*a*o*s)/g,(I+r*a*i*s)/g)]},no=function(e,t,n){if(0===t)return 0===Fi(n,e)?[e]:[];var r=n[2],a=n[3],i=n[1],o=_(pi(e),2),c=o[0],g=o[1],l=r*r+a*a,s=t*t*l-Math.pow(r*c+a*g+i,2);if(0===l||s<=0)return[];var u=Math.sqrt(s),I=c*a*a-g*r*a-r*i,d=g*r*r-c*r*a-a*i;return[ai((I+a*u)/l,(d-r*u)/l),ai((I-a*u)/l,(d+r*u)/l)]},ro=function(e,t,n){var r=Math.abs(t),a=e.width*r/2,i=e.height*r/2,o=Math.sign(t),c=_(pi(n),2),g=c[0],l=c[1],s=0===l?1e-4:l,u=Math.pow(g,2)*Math.pow(i,2)+Math.pow(s,2)*Math.pow(a,2),I=(-g*Math.pow(i,2)+o*s*Math.sqrt(Math.max(0,u-Math.pow(a,2)*Math.pow(i,2))))/u,d=(-I*g-1)/s,C=-Math.pow(a,2)*I/(Math.pow(d,2)*Math.pow(i,2)+Math.pow(I,2)*Math.pow(a,2));return ai(C,(-I*C-1)/d)},ao=function(e,t,n){var r=Math.abs(t),a=Math.sign(t),i=qi(e,r),o=0,c=null;return i.forEach((function(e){var t=a*Ai(n,e)[1];t>o&&(o=t,c=e)})),c},io=function(e,t,n,r){var a,i=[],o=!1,c=Gi(Vt(e));try{for(c.s();!(a=c.n()).done;){var g=a.value;"move"===g.op?(o=!o)&&i.push([g.data[0],g.data[1]]):"bcurveTo"===g.op&&o&&(i.push([g.data[0],g.data[1]]),i.push([g.data[2],g.data[3]]),i.push([g.data[4],g.data[5]]))}}catch(e){c.e(e)}finally{c.f()}if(i.length>=4){if("sharp"===r)return vt(i,t,n);var l=Ke(i,10,5);return vt(l,t,n)}return!1},oo=function(e,t,n,r){var a=Vt(e),i=[0,0];return a.some((function(e,a){var o=e.op,c=e.data;if("move"===o)i=c;else if("bcurveTo"===o){var g=[c[0],c[1]],l=[c[2],c[3]],s=[c[4],c[5]],u=i;return i=s,function(e,t,n,r,a,i){for(var o=_(a,2),c=o[0],g=o[1],l=function(a,i){return Math.pow(1-a,3)*r[i]+3*a*Math.pow(1-a,2)*n[i]+3*Math.pow(a,2)*(1-a)*t[i]+e[i]*Math.pow(a,3)},s=0;s<=1;){var u=l(s,0),I=l(s,1);if(Math.sqrt(Math.pow(u-c,2)+Math.pow(I-g,2))<i)return!0;s+=.01}return!1}(u,g,l,s,[t,n],r)}return!1}))},co=["rotation"],go=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},lo=function(e,t,n,r,a,i){return e.reduce((function(e,o){if(e)return e;var c=function(e,t,n,r,a,i){if(!t.selectedElementIds[e.id])return!1;var o=ri(e,a,i),c=o.rotation,g=va(o,co);if(c&&go(c,n,r))return"rotation";var l=Object.keys(g).filter((function(e){var t=g[e];return!!t&&go(t,n,r)}));return l.length>0&&l[0]}(o,t,n,r,a,i);return c?{element:o,transformHandleType:c}:null}),null)},so=function(e,t,n,r,a){var i=_(e,4),o=i[0],c=i[1],g=i[2],l=i[3],s=ni([o,c,g,l],0,r,a,_a);return Object.keys(s).find((function(e){var r=s[e];return r&&go(r,t,n)}))||!1},uo=["ns","nesw","ew","nwse"],Io=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":a=r?"nesw":"nwse";break;case"ne":case"sw":a=r?"nwse":"nesw";break;case"rotation":return"grab"}return a&&t&&(a=function(e,t){var n=uo.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=uo[(n+r)%uo.length]}return e}(a,t.angle)),a?"".concat(a,"-resize"):""};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo=function(){function e(t,n){y(this,e),this.elementId=t.id,Ca.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.activePointIndex=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep"}return v(e,null,[{key:"getElement",value:function(e){var t;return(null===(t=Ca.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e))||null}},{key:"handlePointDragging",value:function(t,n,r,a,i){if(!t.editingLinearElement)return!1;var o=t.editingLinearElement,c=o.activePointIndex,g=o.elementId,l=o.isDragging,s=e.getElement(g);if(!s)return!1;if(null!=c&&c>-1){!1===l&&n({editingLinearElement:Bo(Bo({},o),{},{isDragging:!0})});var u=e.createPointAt(s,r-o.pointerOffset.x,a-o.pointerOffset.y,t.gridSize);return e.movePoint(s,c,u),ht(s)&&i(s,0===c?"start":"end"),!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var a=n.elementId,i=n.activePointIndex,o=n.isDragging,c=e.getElement(a);if(!c)return n;var g={};return!o||0!==i&&i!==c.points.length-1||(xt(c.points,r.zoom.value)&&e.movePoint(c,i,0===i?c.points[c.points.length-1]:c.points[0]),g=$({},0===i?"startBindingElement":"endBindingElement",ho(r)?Xo(Ar(e.getPointAtIndexGlobalCoordinates(c,i)),Ca.getScene(c)):null)),Bo(Bo(Bo({},n),g),{},{isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(t,n,r,a,i){var o={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return o;var c=n.editingLinearElement.elementId,g=e.getElement(c);if(!g)return o;if(t.altKey)return null==n.editingLinearElement.lastUncommittedPoint&&pa(g,{points:[].concat(q(g.points),[e.createPointAt(g,i.x,i.y,n.gridSize)])}),a.resumeRecording(),r({editingLinearElement:Bo(Bo({},n.editingLinearElement),{},{activePointIndex:g.points.length-1,lastUncommittedPoint:null,endBindingElement:Xo(i,Ca.getScene(g))})}),o.didAddPoint=!0,o;var l=e.getPointIndexUnderCursor(g,n.zoom,i.x,i.y);if(l>-1)o.hitElement=g;else{var s=n.editingLinearElement,u=s.startBindingElement,I=s.endBindingElement;ho(n)&&ht(g)&&mo(g,u,I)}var d=_(Zt(g),4),C=d[0],B=d[1],b=(C+d[2])/2,A=(B+d[3])/2,h=l>-1&&Qt(g.x+g.points[l][0],g.y+g.points[l][1],b,A,g.angle);return r({editingLinearElement:Bo(Bo({},n.editingLinearElement),{},{activePointIndex:l>-1?l:null,pointerOffset:h?{x:i.x-h[0],y:i.y-h[1]}:{x:0,y:0}})}),o}},{key:"handlePointerMove",value:function(t,n,r,a,i){var o=a.elementId,c=a.lastUncommittedPoint,g=e.getElement(o);if(!g)return a;var l=g.points,s=l[l.length-1];if(!t.altKey)return s===c&&e.movePoint(g,l.length-1,"delete"),Bo(Bo({},a),{},{lastUncommittedPoint:null});var u=e.createPointAt(g,n-a.pointerOffset.x,r-a.pointerOffset.y,i);return s===c?e.movePoint(g,g.points.length-1,u):e.movePoint(g,"new",u),Bo(Bo({},a),{},{lastUncommittedPoint:g.points[g.points.length-1]})}},{key:"getPointsGlobalCoordinates",value:function(e){var t=_(Zt(e),4),n=t[0],r=t[1],a=t[2],i=t[3],o=(n+a)/2,c=(r+i)/2;return e.points.map((function(t){var n=e.x,r=e.y,a=_(Qt(n+t[0],r+t[1],o,c,e.angle),2);return[n=a[0],r=a[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=_(Zt(e),4),a=r[0],i=r[1],o=(a+r[2])/2,c=(i+r[3])/2,g=e.points[n],l=e.x,s=e.y;return Qt(l+g[0],s+g[1],o,c,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=_(Zt(e),4),r=n[0],a=n[1],i=(r+n[2])/2,o=(a+n[3])/2,c=_(Qt(t[0],t[1],i,o,-e.angle),2),g=c[0],l=c[1];return[g-e.x,l-e.y]}},{key:"getPointIndexUnderCursor",value:function(e,t,n,r){for(var a=this.getPointsGlobalCoordinates(e),i=a.length;--i>-1;){var o=a[i];if(yt(n,r,o[0],o[1])*t.value<this.POINT_HANDLE_SIZE/2+1)return i}return-1}},{key:"createPointAt",value:function(e,t,n,r){var a=Et(t,n,r),i=_(Zt(e),4),o=i[0],c=i[1],g=(o+i[2])/2,l=(c+i[3])/2,s=_(Qt(a[0],a[1],g,l,-e.angle),2),u=s[0],I=s[1];return[u-e.x,I-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){pa(t,e.getNormalizedPoints(t))}},{key:"movePointByOffset",value:function(t,n,r){var a=_(t.points[n],2),i=a[0],o=a[1];e.movePoint(t,n,[i+r.x,o+r.y])}},{key:"movePoint",value:function(e,t,n,r){var a,i=e.points,o=0,c=0;if("delete"===n){if("new"===t)throw new Error("invalid args in movePoint");(a=i.slice()).splice(t,1),0===t&&(o=a[0][0],c=a[0][1],a=a.map((function(e,t){return 0===t?[0,0]:[e[0]-o,e[1]-c]})))}else if("new"===t)a=[].concat(q(i),[n]);else{var g=n[0]-i[t][0],l=n[1]-i[t][1];a=i.map((function(e,n){return n===t?0===n?(o=g,c=l,e):(o=0,c=0,[e[0]+g,e[1]+l]):o||c?[e[0]-o,e[1]-c]:e}))}var s=Rt(e,a,e.strokeSharpness||"round"),u=Rt(e,i,e.strokeSharpness||"round"),I=(s[0]+s[2])/2,d=(s[1]+s[3])/2,C=(u[0]+u[2])/2,B=(u[1]+u[3])/2,b=Qt(o,c,C-I,B-d,e.angle);pa(e,Bo(Bo({},r),{},{points:a,x:e.x+b[0],y:e.y+b[1]}))}}]),e}();function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}bo.POINT_HANDLE_SIZE=20;var ho=function(e){return e.isBindingEnabled},mo=function(e,t,n){var r=new Set,a=new Set;po(e,t,n,"start",r,a),po(e,n,t,"end",r,a);var i=Array.from(a).filter((function(e){return!r.has(e)}));Ca.getScene(e).getNonDeletedElements(i).forEach((function(t){var n;pa(t,{boundElementIds:null===(n=t.boundElementIds)||void 0===n?void 0:n.filter((function(t){return t!==e.id}))})}))},po=function(e,t,n,r,a,i){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?xo(e,t,r):"start"!==r&&n.id===t.id)||(yo(e,t,r),a.add(t.id));else{var o=Uo(e,r);null!=o&&i.add(o)}},Qo=function(e){e.forEach((function(e){ht(e)?mo(e,Do(e,"start"),Do(e,"end")):pt(e)&&fo(e)}))},fo=function(e){To(e).forEach((function(t){var n=_(t,2),r=n[0],a=n[1];return mo(r,"end"===a?"keep":e,"start"===a?"keep":e)}))},Fo=function(e,t,n,r){null!=t.startBoundElement&&yo(e,t.startBoundElement,"start");var a=Xo(r,n);null==a||xo(e,a,"end")||yo(e,a,"end")},yo=function(e,t,n){var r;pa(e,$({},"start"===n?"startBinding":"endBinding",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elementId:t.id},Eo(e,t,n)))),pa(t,{boundElementIds:Array.from(new Set([].concat(q(null!==(r=t.boundElementIds)&&void 0!==r?r:[]),[e.id])))})},xo=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return vo(e,null==r?void 0:r.elementId,t)},vo=function(e,t,n){return t===n.id&&e.points.length<3},Go=function(e){e.forEach((function(e){ht(e)&&mo(e,null,null)}))},Uo=function(e,t){var n="start"===t?"startBinding":"endBinding",r=e[n];return null==r?null:(pa(e,$({},n,null)),r.elementId)},Xo=function(e,t){return Xc(t.getElements(),(function(t){return pt(t)&&Ni(t,e)}))},Eo=function(e,t,n){var r="start"===n?-1:1,a=-1===r?0:e.points.length-1,i=a-r,o=bo.getPointAtIndexGlobalCoordinates(e,a),c=bo.getPointAtIndexGlobalCoordinates(e,i);return{focus:Ki(t,c,o),gap:Math.max(1,Wi(t,o))}},So=function(e,t){var n,r=null!==(n=e.boundElementIds)&&void 0!==n?n:[];if(0!==r.length){var a=null!=t?t:{},i=a.newSize,o=a.simultaneouslyUpdated,c=No(o);Ca.getScene(e).getNonDeletedElements(r).forEach((function(t){var n=e;if(wo(t,n)){var r=Vo(n,t.startBinding,i),a=Vo(n,t.endBinding,i);c.has(t.id)?pa(t,{startBinding:r,endBinding:a}):(Zo(t,"start",r,e),Zo(t,"end",a,e))}}))}},wo=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},No=function(e){return new Set((e||[]).map((function(e){return e.id})))},Zo=function(e,t,n,r){if(!(null==n||n.elementId!==r.id&&e.points.length>2)){var a=Ca.getScene(e).getElement(n.elementId);if(null!=a){var i,o="start"===t?-1:1,c=-1===o?0:e.points.length-1,g=c-o,l=bo.getPointAtIndexGlobalCoordinates(e,g),s=function(e,t,n){if(0===t){var r=Zt(e),a=Pi(r);return pi(a)}var i,o=ji(e),c=vi(o,mi(n)),g=oi(o);switch(e.type){case"rectangle":case"text":case"diamond":i=ao(e,t,c);break;case"ellipse":i=ro(e,t,c)}return pi(vi(g,i))}(a,n.focus,l);if(0===n.gap)i=s;else{var u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=ji(e),i=vi(a,mi(t)),o=vi(a,mi(n)),c=Ai(i,o),g=oi(a);return _i(e,c,i,r).map((function(e){return pi(vi(g,e))}))}(a,l,s,n.gap);i=0===u.length?s:u[0]}bo.movePoint(e,c,bo.pointFromAbsoluteCoords(e,i),$({},"start"===t?"startBinding":"endBinding",n))}}},Vo=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,a=t.focus,i=t.elementId,o=n.width,c=n.height,g=e.width,l=e.height;return{elementId:i,gap:Math.max(1,Math.min(Zi(e,o,c),r*(o<c?o/g:c/l))),focus:a}},Wo=function(e){return[Do(e,"start"),Do(e,"end")].filter((function(e){return null!=e}))},Do=function(e,t){return Xo(Mo(e,t),Ca.getScene(e))},Mo=function(e,t){var n="start"===t?0:-1;return Ar(bo.getPointAtIndexGlobalCoordinates(e,n))},To=function(e){return Ca.getScene(e).getElements().map((function(t){if(!ht(t))return null;var n=Oo(t,"start",e),r=Oo(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},Oo=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!xo(e,n,t)&&Ni(n,Mo(e,t))},ko=function(e,t,n,r){var a=new Set,i=new Set,o="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElementIds;if(null!=t&&t.length>0&&(t.forEach((function(e){o&&!n.has(e)&&a.add(e)})),i.add(n.get(e.id))),ht(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;o&&!n.has(r)&&i.add(r)}if(null!=e.endBinding){var c=e.endBinding.elementId;o&&!n.has(c)&&i.add(c)}null==e.startBinding&&null==e.endBinding||a.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;pa(e,{startBinding:Yo(t,n),endBinding:Yo(r,n)})})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.boundElementIds;null!=t&&t.length>0&&pa(e,{boundElementIds:t.map((function(e){var t;return null!==(t=n.get(e))&&void 0!==t?t:e}))})}))},Yo=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},Ro=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;pt(e)&&(null===(t=e.boundElementIds)||void 0===t||t.forEach((function(e){n.has(e)||r.add(e)})))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;pa(e,{startBinding:Ho(t,n),endBinding:Ho(r,n)})}))},Ho=function(e,t){return null==e||t.has(e.elementId)?null:e};function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jo=function(e){return e>=2*Math.PI?e-2*Math.PI:e},jo=function(e,t,n,r){var a=_(Zt(e),4),i=a[0],o=a[1],c=(i+a[2])/2,g=(o+a[3])/2,l=5*Math.PI/2+Math.atan2(n-g,t-c);r&&(l+=Q.ay/2,l-=l%Q.ay),l=Jo(l),pa(e,{angle:l})},Po=function(e,t,n,r,a){var i=_(Zt(e),4),o=i[0],c=i[1],g=i[2],l=i[3],s=_(Qt(r,a,(o+g)/2,(c+l)/2,-e.angle),2),u=s[0],I=s[1],d=_("end"===t?[u-e.x,I-e.y]:[e.x+e.points[1][0]-u,e.y+e.points[1][1]-I],2),C=d[0],B=d[1];if(n){var b=_(function(e,t,n,r){var a=ya.apply(void 0,[e].concat(q(Qt(t,n,0,0,r))));return Qt(a.width,a.height,0,0,-r)}(e.type,C,B,e.angle),2);C=b[0],B=b[1]}var A=_(Ft("end"===t?{s:!0,e:!0}:{n:!0,w:!0},e.x,e.y,e.angle,0,0,(e.points[1][0]-C)/2,(e.points[1][1]-B)/2),2),h=A[0],m=A[1];pa(e,{x:h,y:m,points:[[0,0],[C,B]]})},Ko=function(e,t,n){return bt(e)||Ct(e)?{points:St(0,t,St(1,n,e.points))}:{}},_o=function(e,t,n){var r=e.fontSize*(t/e.width);if(r<1)return null;var a=ar(e.text,rr({fontSize:r,fontFamily:e.fontFamily}));return{size:r,baseline:a.baseline+(n-a.height)}},qo=function(e,t,n,r,a){var i,o=_(Zt(e),4),c=o[0],g=o[1],l=o[2],s=o[3],u=_(Qt(r,a,(c+l)/2,(g+s)/2,-e.angle),2),I=u[0],d=u[1];switch(t){case"se":i=Math.max((I-c)/(l-c),(d-g)/(s-g));break;case"nw":i=Math.max((l-I)/(l-c),(s-d)/(s-g));break;case"ne":i=Math.max((I-c)/(l-c),(s-d)/(s-g));break;case"sw":i=Math.max((l-I)/(l-c),(d-g)/(s-g))}if(i>0){var C=e.width*i,B=e.height*i,b=_o(e,C,B);if(null===b)return;var A=_(Yt(e,C,B),4),h=(c-A[0])/2,m=(g-A[1])/2,p=(l-A[2])/2,Q=(s-A[3])/2,f=_(Ft(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,h,m,p,Q),2),F=f[0],y=f[1];pa(e,{fontSize:b.size,width:C,height:B,baseline:b.baseline,x:F,y:y})}},$o=function(e,t,n,r,a,i,o){var c,g,l=_(Yt(e,e.width,e.height),4),s=[l[0],l[1]],u=[l[2],l[3]],I=[((c=s)[0]+(g=u)[0])/2,(c[1]+g[1])/2],d=ft([i,o],I,-e.angle),C=_(Yt(n,n.width,n.height),4),B=C[0],b=C[1],A=C[2]-B,h=C[3]-b,m=(u[0]-s[0])/A,p=(u[1]-s[1])/h;r.includes("e")&&(m=(d[0]-s[0])/A),r.includes("s")&&(p=(d[1]-s[1])/h),r.includes("w")&&(m=(u[0]-d[0])/A),r.includes("n")&&(p=(u[1]-d[1])/h);var Q=e.width,f=e.height,F=n.width*m,y=n.height*p;if(a&&(F=2*F-Q,y=2*y-f),t){var x=Math.abs(F)/Q,v=Math.abs(y)/f;if(1===r.length&&(y*=x,F*=v),2===r.length){var G=Math.max(x,v);F=Q*G*Math.sign(F),y=f*G*Math.sign(y)}}var U=_(Yt(e,F,y),4),X=U[0],E=U[1],S=U[2]-X,w=U[3]-E,N=[].concat(s);if(["n","w","nw"].includes(r)&&(N=[u[0]-Math.abs(S),u[1]-Math.abs(w)]),"ne"===r){var Z=[s[0],u[1]];N=[Z[0],Z[1]-Math.abs(w)]}if("sw"===r){var V=[u[0],s[1]];N=[V[0]-Math.abs(S),V[1]]}t&&(["s","n"].includes(r)&&(N[0]=I[0]-S/2),["e","w"].includes(r)&&(N[1]=I[1]-w/2)),F<0&&(r.includes("e")&&(N[0]-=Math.abs(S)),r.includes("w")&&(N[0]+=Math.abs(S))),y<0&&(r.includes("s")&&(N[1]-=Math.abs(w)),r.includes("n")&&(N[1]+=Math.abs(w))),a&&(N[0]=I[0]-Math.abs(S)/2,N[1]=I[1]-Math.abs(w)/2);var W=e.angle,D=ft(N,I,W),M=[N[0]+Math.abs(S)/2,N[1]+Math.abs(w)/2],T=ft(M,I,W);N=ft(D,T,-W);var O=Ko(e,F,y),k=q(N);k[0]+=e.x-X,k[1]+=e.y-E;var Y=zo({width:Math.abs(F),height:Math.abs(y),x:k[0],y:k[1]},O);0!==Y.width&&0!==Y.height&&Number.isFinite(Y.x)&&Number.isFinite(Y.y)&&(So(n,{newSize:{width:Y.width,height:Y.height}}),pa(n,Y))},ec=function(e,t,n,r){var a,i,o=_(kt(e),4),c=o[0],g=o[1],l=o[2],s=o[3];switch(t){case"se":a=Math.max((n-c)/(l-c),(r-g)/(s-g)),i=function(e,t,n){var r=_(t,2),i=r[0],o=r[1],l=_(n,2),s=l[0],u=l[1];return{x:e.x+(i-c)*(a-1)+i-s,y:e.y+(o-g)*(a-1)+o-u}};break;case"nw":a=Math.max((l-n)/(l-c),(s-r)/(s-g)),i=function(e,t,n){var r=_(t,4),i=r[2],o=r[3],c=_(n,4),g=c[2],u=c[3];return{x:e.x-(l-i)*(a-1)+i-g,y:e.y-(s-o)*(a-1)+o-u}};break;case"ne":a=Math.max((n-c)/(l-c),(s-r)/(s-g)),i=function(e,t,n){var r=_(t,4),i=r[0],o=r[3],g=_(n,4),l=g[0],u=g[3];return{x:e.x+(i-c)*(a-1)+i-l,y:e.y-(s-o)*(a-1)+o-u}};break;case"sw":a=Math.max((l-n)/(l-c),(r-g)/(s-g)),i=function(e,t,n){var r=_(t,3),i=r[1],o=r[2],c=_(n,3),s=c[1],u=c[2];return{x:e.x-(l-o)*(a-1)+o-u,y:e.y+(i-g)*(a-1)+i-s}}}if(a>0){var u=e.reduce((function(t,n){if(!t)return t;var r=n.width*a,o=n.height*a,c={};if("text"===n.type){var g=_o(n,r,o);if(null===g)return null;c={fontSize:g.size,baseline:g.baseline}}var l=Zt(n),s=Ko(n,r,o);So(n,{newSize:{width:r,height:o},simultaneouslyUpdated:e});var u=Yt(zo(zo({},n),s),r,o),I=i(n,l,u),d=I.x,C=I.y;return[].concat(q(t),[zo(zo({width:r,height:o,x:d,y:C},s),c)])}),[]);u&&e.forEach((function(e,t){pa(e,u[t])}))}},tc=function(e,t,n,r,a,i,o){var c=5*Math.PI/2+Math.atan2(r-o,n-i);a&&(c+=Q.ay/2,c-=c%Q.ay),t.forEach((function(t,n){var r,a,g=_(Zt(t),4),l=g[0],s=g[1],u=(l+g[2])/2,I=(s+g[3])/2,d=null!==(r=null===(a=e.originalElements.get(t.id))||void 0===a?void 0:a.angle)&&void 0!==r?r:t.angle,C=_(Qt(u,I,i,o,c+d-t.angle),2),B=C[0],b=C[1];pa(t,{x:t.x+(B-u),y:t.y+(b-I),angle:Jo(c+d)})}))},nc=function(e,t,n,r,a,i,o,c,g,l){if(g){var s=ya(t,o,i<r?-c:c);o=s.width,(c=s.height)<0&&(c=-c)}var u=a<n?n-o:n,I=i<r?r-c:r;l&&(u=n-(o+=o)/2,I=r-(c+=c)/2),0!==o&&0!==c&&pa(e,{x:u,y:I,width:o,height:c})},rc=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},ac=function(e,t,n,r,a){var i=r.zoom,o=r.offsetTop,c=r.offsetLeft,g=180*n/Math.PI,l=(e-2*c)*(i.value-1)/2,s=(t-2*o)*(i.value-1)/2;return e>a&&1!==i.value&&(l=a/2*(i.value-1)),"translate(".concat(l,"px, ").concat(s,"px) scale(").concat(i.value,") rotate(").concat(g,"deg)")},ic=function(e){var t=ar(e.text,rr(e));pa(e,{width:t.width,height:t.height,baseline:t.baseline})},oc=function(e,t){return Boolean(!e.viewModeEnabled&&(e.editingElement||mc(t,e).length||"selection"!==e.elementType))};function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lc=function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})},sc=function(e){return e.reduce((function(e,t){return e+t.version}),0)},uc=function(e){return e.filter((function(e){return!e.isDeleted}))},Ic=function(e){return!e.isDeleted},dc=function(e){return uc(e).map((function(e){return At(e.type)?gc(gc({},e),{},{lastCommittedPoint:null}):e}))},Cc=function(e){return dc(e)},Bc="rgba(0,0,0,0.3)",bc=function(e,t,n,r){var a=r.scrollX,i=r.scrollY,o=r.zoom;if(0===e.length)return{horizontal:null,vertical:null};var c=_(kt(e),4),g=c[0],l=c[1],s=c[2],u=c[3],I=t/o.value,d=n/o.value,C=t-I,B=n-d,b={top:parseInt(Cr("sat")),bottom:parseInt(Cr("sab")),left:parseInt(Cr("sal")),right:parseInt(Cr("sar"))},A=R().rtl,h=C/2-a+b.left,m=B/2-i+b.top,p=h+I-b.right,Q=m+d-b.bottom,f=Math.min(g,h),F=Math.min(l,m),y=Math.max(s,p),x=Math.max(u,Q);return{horizontal:h===f&&p===y?null:{x:Math.max(b.left,4)+(h-f)/(y-f)*t,y:n-6-Math.max(4,b.bottom),width:(p-h)/(y-f)*t-Math.max(8,b.left+b.right),height:6},vertical:m===F&&Q===x?null:{x:A?Math.max(b.left,4):t-6-Math.max(b.right,4),y:(m-F)/(x-F)*n+Math.max(b.top,4),width:6,height:(Q-m)/(x-F)*n-Math.max(8,b.top+b.bottom)}}},Ac=function(e,t,n){var r=_([e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),2),a=r[0],i=r[1];return{isOverEither:a||i,isOverHorizontal:a,isOverVertical:i}},hc=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},mc=function(e,t){return e.filter((function(e){return t.selectedElementIds[e.id]}))},pc=function(e,t){return t.editingElement?[t.editingElement]:mc(e,t)},Qc=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x-r.translation.x*(1/r.value),scrollY:n.height/2*(1/r.value)-t.y-r.translation.y*(1/r.value)}},fc=function(e,t,n){if(!(e=function(e){return e.filter((function(e){return!e.isDeleted&&!Fa(e)}))}(e)).length)return{scrollX:0,scrollY:0};var r=_(kt(e),4),a=r[0],i=r[1],o=r[2],c=r[3];if(function(e,t,n){var r=_(n,4),a=r[0],i=r[1],o=r[2],c=r[3],g=dr({sceneX:a,sceneY:i},e),l=g.x,s=g.y,u=dr({sceneX:o,sceneY:c},e),I=u.x,d=u.y;return I-l>e.width||d-s>e.height}(t,0,[a,i,o,c])){var g=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0];return e.forEach((function(e){var a=_(Ot(e),4),i=a[0],o=a[1],c=a[2],g=a[3],l=yt((i+c)/2,(o+g)/2,t.x,t.y);l<n&&(n=l,r=e)})),Ot(r)}(e,Ir({clientX:t.scrollX,clientY:t.scrollY},t)),l=_(g,4);a=l[0],i=l[1],o=l[2],c=l[3]}return Qc({scenePoint:{x:(a+o)/2,y:(i+c)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},Fc=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"line"===e},yc=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},xc=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},vc=function(e){return"rectangle"===e||"arrow"===e||"line"===e},Gc=function(e){return"text"===e},Uc=function(e){return"arrow"===e},Xc=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},Ec=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0};return{value:e,translation:{x:r.x-n.left-(r.x-n.left-t.translation.x)*(e/t.value),y:r.y-n.top-(r.y-n.top-t.translation.y)*(e/t.value)}}},Sc=function(e){var t=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(t,10))},wc=(r(5422),p().forwardRef((function(e,t){var n=oC().id,r=p().useRef(null);p().useImperativeHandle(t,(function(){return r.current}));var a="ToolIcon_size_".concat(e.size||"m");return"button"===e.type||"icon"===e.type?p().createElement("button",{className:at("ToolIcon_type_button",a,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:r},(e.icon||e.label)&&p().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label,e.keyBindingLabel&&p().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)),e.showAriaLabel&&p().createElement("div",{className:"ToolIcon__label"},e["aria-label"]),e.children):p().createElement("label",{className:at("ToolIcon",e.className),title:e.title},p().createElement("input",{className:"ToolIcon_type_radio ".concat(a),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:e.onChange,checked:e.checked,ref:r}),p().createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&p().createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))})));wc.defaultProps={visible:!0,className:""};var Nc=function(e){return"light"===e?Ht.orange[4]:Ht.orange[9]},Zc=function(e){return"light"===e?Ht.black:Ht.gray[4]},Vc=function(e){return"light"===e?Ht.white:"#1e1e1e"},Wc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,a=void 0===r?512:r,i=n.height,o=void 0===i?a:i,c=n.mirror,g=n.style;return p().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(o),className:at({"rtl-mirror":c}),style:g},"string"==typeof e?p().createElement("path",{fill:"currentColor",d:e}):e)},Dc=Wc(p().createElement("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Mc=Wc("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),Tc=Wc("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Oc=Wc("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),kc=Wc("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),Yc=Wc("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),Rc=Wc("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Hc=Wc("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),Lc=Wc("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),zc=Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),p().createElement("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})),{width:576,height:512,mirror:!0}),Jc=Wc("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),jc=Wc("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Pc=Wc("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Kc=Wc("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),_c=Wc("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),qc=Wc("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),$c=Wc("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),eg=Wc("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),tg=(Wc("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),Wc("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),Wc(p().createElement(p().Fragment,null,p().createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),p().createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})),{width:64,height:64}),Wc(p().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),ng=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Zc(t),stroke:Zc(t),strokeWidth:"2"}),p().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),rg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"}),p().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Zc(t),stroke:Zc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),ag=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Zc(t),stroke:Zc(t),strokeWidth:"2"}),p().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),ig=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"}),p().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Zc(t),stroke:Zc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),og=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M 2,5 H 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),cg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M 2,19 H 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24,mirror:!0})})),gg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M 5,2 V 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24})})),lg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M 19,2 V 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24})})),sg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M19 5V19M5 5V19",stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24})})),ug=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M5 5L19 5M5 19H19",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeLinecap:"round"}),p().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"})),{width:24})})),Ig=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"}),p().createElement("path",{d:"M 2,12 H 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})})),dg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Nc(t),stroke:Nc(t),strokeWidth:"2"}),p().createElement("path",{d:"M 12,2 V 22",fill:Zc(t),stroke:Zc(t),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})})),Cg=Wc("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),Bg=(Wc("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Wc("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Wc("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),bg=Wc("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ag=Wc("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),hg=(Wc("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Wc("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),mg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M25 26H111V111H25",fill:Zc(t)}),p().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Zc(t),strokeWidth:"2"}),p().createElement("path",{d:"M100 100H160V160H100",fill:Zc(t)}),p().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Zc(t),strokeWidth:"2"}),p().createElement("g",{fill:Vc(t),stroke:Zc(t),strokeWidth:"6"},p().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),p().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),p().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),p().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30"}))),{width:182,height:182,mirror:!0})})),pg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{d:"M25 26H111V111H25",fill:Zc(t)}),p().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Zc(t),strokeWidth:"2"}),p().createElement("path",{d:"M100 100H160V160H100",fill:Zc(t)}),p().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Zc(t),strokeWidth:"2"}),p().createElement("g",{fill:Vc(t),stroke:Zc(t),strokeWidth:"6"},p().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),p().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),p().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),p().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),p().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),p().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30"}))),{width:182,height:182,mirror:!0})})),Qg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:Zc(t)}),{width:40,height:20})})),fg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("g",{fill:Zc(t),fillRule:"evenodd",clipRule:"evenodd"},p().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),p().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),{width:40,height:20})})),Fg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M2 2H38V18H2V2Z",fill:Zc(t)}),{width:40,height:20})})),yg=p().memo((function(e){var t=e.theme,n=e.strokeWidth;return Wc(p().createElement("path",{d:"M6 10H32",stroke:Zc(t),strokeWidth:n,strokeLinecap:"round",fill:"none"}),{width:40,height:20})})),xg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M6 10H34",stroke:Zc(t),strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),vg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M6 10H34",stroke:Zc(t),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),Gg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M6 10H36",stroke:Zc(t),strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),Ug=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:Zc(t),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),Xg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Zc(t),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),Eg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Zc(t),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),Sg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M10 17L10 5L35 5",stroke:Zc(t),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),wg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Zc(t),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),Ng=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M6 10H34",stroke:Zc(t),strokeWidth:2,fill:"none"}),{width:40,height:20})})),Zg=p().memo((function(e){var t=e.theme,n=e.flip,r=void 0!==n&&n;return Wc(p().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":"",stroke:Zc(t),strokeWidth:2,fill:"none"},p().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),p().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})})),Vg=p().memo((function(e){var t=e.theme,n=e.flip,r=void 0!==n&&n;return Wc(p().createElement("g",{stroke:Zc(t),fill:Zc(t),transform:r?"translate(40, 0) scale(-1, 1)":""},p().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),p().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})})),Wg=p().memo((function(e){var t=e.theme,n=e.flip,r=void 0!==n&&n;return Wc(p().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":""},p().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Zc(t),strokeWidth:2,fill:"none"})),{width:40,height:20})})),Dg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fill:Zc(t),d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})})),Mg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fill:Zc(t),d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})})),Tg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fill:Zc(t),d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})})),Og=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fill:Zc(t),d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})})),kg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{fill:Zc(t),d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})})),Yg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{fill:Zc(t),d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),p().createElement("path",{fill:Zc(t),d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})),{width:70,height:78})})),Rg=p().memo((function(e){var t=e.theme;return Wc(p().createElement(p().Fragment,null,p().createElement("path",{fill:Zc(t),d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),{width:640,height:512})})),Hg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:Zc(t),strokeLinecap:"round"}),{width:448,height:512})})),Lg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:Zc(t)}),{width:448,height:512})})),zg=p().memo((function(e){var t=e.theme;return Wc(p().createElement("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:Zc(t),strokeLinecap:"round"}),{width:448,height:512})})),Jg=[],jg=function(e){return Jg=Jg.concat(e),e};function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _g=function(e,t){if(e.editingGroupId){var n=Da(uc(t),e.editingGroupId);if(n.length)return Kg(Kg({},e),{},{selectedElementIds:$({},n[0].id,!0)})}return e},qg=jg({name:"deleteSelectedElements",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,a=n.activePointIndex,i=n.startBindingElement,o=n.endBindingElement,c=bo.getElement(r);if(!c)return!1;if(null==a||-1===a||c.points.length<2){var g=e.filter((function(e){return e.id!==c.id}));return{elements:g,appState:Kg(Kg({},_g(t,g)),{},{editingLinearElement:null}),commitToHistory:!1}}var l={startBindingElement:0===a?null:i,endBindingElement:a===c.points.length-1?null:o};return bo.movePoint(c,a,"delete"),{elements:e,appState:Kg(Kg({},t),{},{editingLinearElement:Kg(Kg(Kg({},t.editingLinearElement),l),{},{activePointIndex:a>0?a-1:0})}),commitToHistory:!0}}var s=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]?Qa(e,{isDeleted:!0}):e})),appState:Kg(Kg({},t),{},{selectedElementIds:{}})}}(e,t),u=s.elements,I=s.appState;return Ro(u,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),{elements:u,appState:Kg(Kg({},I=_g(I,u)),{},{elementType:"selection",multiElement:null}),commitToHistory:hc(uc(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===Fn||e.key===vn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{type:"button",icon:Rc,title:L("labels.delete"),"aria-label":L("labels.delete"),onClick:function(){return r(null)},visible:hc(uc(t),n)})}}),$g=function(e,t){for(var n=[],r=[],a=null,i=-1;++i<e.length;)t.selectedElementIds[e[i].id]?(r.length&&(n=n.concat(r),r=[]),n.push(i),a=i+1):e[i].isDeleted&&a===i?(a=i+1,r.push(i)):r=[];return n},el=function(e,t,n,r){var a=t[n],i=function(t){return!t.isDeleted&&(!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},o="left"===r?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1}(t,i,Math.max(0,n-1)):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1}(t,i,n+1),c=t[o];if(!c)return-1;if(e.editingGroupId){if((null==a?void 0:a.groupIds.join(""))===(null==c?void 0:c.groupIds.join("")))return o;if(null==c||!c.groupIds.includes(e.editingGroupId))return-1}if(!c.groupIds.length)return o;var g=e.editingGroupId?c.groupIds[c.groupIds.indexOf(e.editingGroupId)-1]:c.groupIds[c.groupIds.length-1],l=Da(t,g);return l.length?"left"===r?t.indexOf(l[0]):t.indexOf(l[l.length-1]):o},tl=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},nl=function(e,t,n){var r,a,i=$g(t,e),o=tl(t,i),c=(a=0,(r=i).reduce((function(e,t,n){return n>0&&r[n-1]!==t-1&&(a=++a),(e[a]||(e[a]=[])).push(t),e}),[]));return"right"===n&&(c=c.reverse()),c.forEach((function(r,a){var i=r[0],o=r[r.length-1],c="left"===n?i:o,g=el(e,t,c,n);if(-1!==g&&c!==g){var l="left"===n?t.slice(0,g):t.slice(0,i),s=t.slice(i,o+1),u="left"===n?t.slice(g,i):t.slice(o+1,g+1),I="left"===n?t.slice(o+1):t.slice(g+1);t="left"===n?[].concat(q(l),q(s),q(u),q(I)):[].concat(q(l),q(u),q(s),q(I))}})),t.map((function(e){return o[e.id]?fa(e):e}))},rl=function(e,t,n){var r,a,i=$g(e,t),o=tl(e,i),c=[];if("left"===n){if(t.editingGroupId){var g=Da(e,t.editingGroupId);if(!g.length)return e;r=e.indexOf(g[0])}else r=0;a=i[i.length-1]}else{if(t.editingGroupId){var l=Da(e,t.editingGroupId);if(!l.length)return e;a=e.indexOf(l[l.length-1])}else a=e.length-1;r=i[0]}for(var s=r;s<a+1;s++)i.includes(s)||c.push(e[s]);var u=Object.values(o).map((function(e){return fa(e)})),I=e.slice(0,r),d=e.slice(a+1);return"left"===n?[].concat(q(I),q(u),c,q(d)):[].concat(q(I),c,q(u),q(d))},al=function(e,t){return nl(t,e,"left")},il=function(e,t){return nl(t,e,"right")},ol=function(e,t){return rl(e,t,"left")},cl=function(e,t){return rl(e,t,"right")},gl=jg({name:"sendBackward",perform:function(e,t){return{elements:al(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[xn]&&!e.shiftKey&&e.code===nn},PanelComponent:function(e){var t=e.updateData,n=e.appState;return p().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(L("labels.sendBackward")," \u2014 ").concat(ur("CtrlOrCmd+["))},p().createElement(rg,{theme:n.theme}))}}),ll=jg({name:"bringForward",perform:function(e,t){return{elements:il(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[xn]&&!e.shiftKey&&e.code===tn},PanelComponent:function(e){var t=e.updateData,n=e.appState;return p().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(L("labels.bringForward")," \u2014 ").concat(ur("CtrlOrCmd+]"))},p().createElement(ng,{theme:n.theme}))}}),sl=jg({name:"sendToBack",perform:function(e,t){return{elements:ol(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return jt?e[xn]&&e.altKey&&e.code===nn:e[xn]&&e.shiftKey&&e.code===nn},PanelComponent:function(e){var t=e.updateData,n=e.appState;return p().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(L("labels.sendToBack")," \u2014 ").concat(ur(jt?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},p().createElement(ig,{theme:n.theme}))}}),ul=jg({name:"bringToFront",perform:function(e,t){return{elements:cl(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return jt?e[xn]&&e.altKey&&e.code===tn:e[xn]&&e.shiftKey&&e.code===tn},PanelComponent:function(e){var t=e.updateData,n=e.appState;return p().createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat(L("labels.bringToFront")," \u2014 ").concat(ur(jt?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},p().createElement(ag,{theme:n.theme}))}});function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cl=jg({name:"selectAll",perform:function(e,t){return!t.editingLinearElement&&{appState:Va(dl(dl({},t),{},{editingGroupId:null,selectedElementIds:e.reduce((function(e,t){return t.isDeleted||(e[t.id]=!0),e}),{})}),uc(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[xn]&&e.key===wn}});function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Al=jg({name:"duplicateSelection",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.activePointIndex,a=n.elementId,i=bo.getElement(a);if(!i||null===r)return!1;var o=i.points,c=o[r],g=o[r+1];return pa(i,{points:[].concat(q(o.slice(0,r+1)),[g?[(c[0]+g[0])/2,(c[1]+g[1])/2]:[c[0]+30,c[1]+30]],q(o.slice(r+1)))}),{appState:bl(bl({},t),{},{editingLinearElement:bl(bl({},t.editingLinearElement),{},{activePointIndex:r+1})}),elements:e,commitToHistory:!0}}return bl(bl({},hl(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[xn]&&e.key===Nn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{type:"button",icon:Ag,title:"".concat(L("labels.duplicateSelection")," \u2014 ").concat(ur("CtrlOrCmd+D")),"aria-label":L("labels.duplicateSelection"),onClick:function(){return r(null)},visible:hc(uc(t),n)})}}),hl=function(e,t){for(var n=new Map,r=[],a=[],i=new Map,o=function(e){var o=Pa(t.editingGroupId,n,e,{x:e.x+Q.k/2,y:e.y+Q.k/2});return i.set(e.id,o.id),a.push(e),r.push(o),o},c=[],g=0;g<e.length;){var l=e[g];if(t.selectedElementIds[l.id]){if(l.groupIds.length){var s=Na(t,l);if(s){var u=Da(e,s);c.push.apply(c,q(u).concat(q(u.map((function(e){return o(e)}))))),g+=u.length;continue}}c.push(l,o(l))}else c.push(l);g++}return ko(c,a,i),{elements:c,appState:Va(bl(bl({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce((function(e,t){return e[t.id]=!0,e}),{})}),uc(c))}},ml=function(e){var t=e.options,n=e.value,r=e.onChange,a=e.group;return p().createElement("div",{className:"buttonList buttonListIcon"},t.map((function(e){return p().createElement("label",{key:e.text,className:at({active:n===e.value}),title:e.text},p().createElement("input",{type:"radio",name:a,onChange:function(){return r(e.value)},checked:n===e.value}),e.icon)})))},pl=(r(4301),function(e){var t=e.children,n=e.left,r=e.top,a=e.onCloseRequest,i=e.fitInViewport,o=void 0!==i&&i,c=(0,m.useRef)(null);return(0,m.useLayoutEffect)((function(){if(o&&c.current){var e=c.current,t=e.getBoundingClientRect(),n=t.x,r=t.y,a=t.width,i=t.height,g=window.innerWidth;n+a>g&&(e.style.left="".concat(g-a,"px"));var l=window.innerHeight;r+i>l&&(e.style.top="".concat(l-i,"px"))}}),[o]),(0,m.useEffect)((function(){if(a){var e=function(e){var t;null!==(t=c.current)&&void 0!==t&&t.contains(e.target)||(0,Jt.unstable_batchedUpdates)((function(){return a(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[a]),p().createElement("div",{className:"popover",style:{top:r,left:n},ref:c},t)}),Ql=(r(4220),function(e){var t=(new Option).style;return t.color=e,!!t.color}),fl=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Fl=function(e){var t=e.colors,n=e.color,r=e.onChange,a=e.onClose,i=e.label,o=e.showInput,c=void 0===o||o,g=e.type,l=p().useRef(),s=p().useRef(),u=p().useRef(),I=p().useRef();return p().useEffect((function(){s.current?s.current.focus():I.current?I.current.focus():u.current&&u.current.focus()}),[]),p().createElement("div",{className:"color-picker color-picker-type-".concat(g),role:"dialog","aria-modal":"true","aria-label":L("labels.colorPicker"),onKeyDown:function(e){if(e.key===Sn){var t,n=document.activeElement;if(e.shiftKey)n===l.current&&(null===(t=I.current)||void 0===t||t.focus(),e.preventDefault());else if(n===I.current){var r;null===(r=l.current)||void 0===r||r.focus(),e.preventDefault()}}else if(Jn(e.key)){var i=document.activeElement,o=R().rtl,g=Array.prototype.indexOf.call(u.current.children,i);if(-1!==g){var s=u.current.children.length-(c?1:0),d=e.key===(o?pn:Qn)?(g+1)%s:e.key===(o?Qn:pn)?(s+g-1)%s:e.key===mn?(g+5)%s:e.key===fn?(s+g-5)%s:g;u.current.children[d].focus()}e.preventDefault()}else if(fl.includes(e.key.toLowerCase())&&!tr(e.target)){var C=fl.indexOf(e.key.toLowerCase());u.current.children[C].focus(),e.preventDefault()}else e.key!==Un&&e.key!==Gn||(e.preventDefault(),a());e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()}},p().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),p().createElement("div",{className:"color-picker-triangle"}),p().createElement("div",{className:"color-picker-content",ref:function(e){e&&(u.current=e)},tabIndex:0},t.map((function(e,t){return p().createElement("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),r(e)},title:"".concat(e," \u2014 ").concat(fl[t].toUpperCase()),"aria-label":e,"aria-keyshortcuts":fl[t],style:{color:e},key:e,ref:function(r){r&&0===t&&(l.current=r),r&&e===n&&(s.current=r)},onFocus:function(){r(e)}},"transparent"===e?p().createElement("div",{className:"color-picker-transparent"}):void 0,p().createElement("span",{className:"color-picker-keybinding"},fl[t]))})),c&&p().createElement(yl,{color:n,label:i,onChange:function(e){r(e)},ref:I})))},yl=p().forwardRef((function(e,t){var n=e.color,r=e.onChange,a=e.label,i=_(p().useState(n),2),o=i[0],c=i[1],g=p().useRef(null);p().useEffect((function(){c(n)}),[n]),p().useImperativeHandle(t,(function(){return g.current}));var l=p().useCallback((function(e){var t=e.toLowerCase(),n=function(e){return"transparent"===e||Ql(e)?e:Ql("#".concat(e))?"#".concat(e):null}(t);n&&r(n),c(t)}),[r]);return p().createElement("label",{className:"color-input-container"},p().createElement("div",{className:"color-picker-hash"},"#"),p().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":a,onChange:function(e){return l(e.target.value)},value:(o||"").replace(/^#/,""),onBlur:function(){return c(n)},ref:g}))})),xl=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=e.isActive,o=e.setActive,c=p().useRef(null);return p().createElement("div",null,p().createElement("div",{className:"color-picker-control-container"},p().createElement("button",{className:"color-picker-label-swatch","aria-label":a,style:n?{"--swatch-color":n}:void 0,onClick:function(){return o(!i)},ref:c}),p().createElement(yl,{color:n,label:a,onChange:function(e){r(e)}})),p().createElement(p().Suspense,{fallback:""},i?p().createElement(pl,{onCloseRequest:function(e){return e.target!==c.current&&o(!1)}},p().createElement(Fl,{colors:zt[t],color:n||null,onChange:function(e){r(e)},onClose:function(){var e;o(!1),null===(e=c.current)||void 0===e||e.focus()},label:a,showInput:!1,type:t})):null))};function vl(){return(vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gl(e){var t=e.options,n=e.value,r=e.label,a=e.onChange,i=e.onClose,o=p().useRef(),c=p().useRef(),g=p().useRef(null);return p().useEffect((function(){c.current?c.current.focus():g.current&&g.current.focus()}),[]),p().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===Sn)setTimeout((function(){c.current!==document.activeElement&&i()}),0);else if(Jn(e.key)){var r=document.activeElement,a=R().rtl,o=Array.prototype.indexOf.call(g.current.children,r);if(-1!==o){var l=t.length,s=o;switch(e.key){case a?pn:Qn:case mn:s=(o+1)%l;break;case a?Qn:pn:case fn:s=(l+o-1)%l}g.current.children[s].focus()}e.preventDefault()}else e.key!==Un&&e.key!==Gn||(e.preventDefault(),i());else{var u=t.indexOf(n);g.current.children[u].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()}},p().createElement("div",{className:"picker-content",ref:g},t.map((function(e,t){return p().createElement("button",{className:"picker-option",onClick:function(t){t.currentTarget.focus(),a(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,key:e.text,ref:function(r){r&&0===t&&(o.current=r),r&&e.value===n&&(c.current=r)},onFocus:function(){a(e.value)}},e.icon,p().createElement("span",{className:"picker-keybinding"},e.keyBinding))}))))}function Ul(e){var t,n=e.value,r=e.label,a=e.options,i=e.onChange,o=e.group,c=void 0===o?"":o,g=_(p().useState(!1),2),l=g[0],s=g[1],u=p().useRef(null),I=R().rtl;return p().createElement("label",{className:"picker-container"},p().createElement("button",{name:c,className:l?"active":"","aria-label":r,onClick:function(){return s(!l)},ref:u},null===(t=a.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon),p().createElement(p().Suspense,{fallback:""},l?p().createElement(p().Fragment,null,p().createElement(pl,vl({onCloseRequest:function(e){return e.target!==u.current&&s(!1)}},I?{right:5.5}:{left:-5.5}),p().createElement(Gl,{options:a,value:n,label:r,onChange:i,onClose:function(){var e;s(!1),null===(e=u.current)||void 0===e||e.focus()}})),p().createElement("div",{className:"picker-triangle"})):null))}function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r(7117);var Sl=function(e,t,n){return e.map((function(e){var r;return t.selectedElementIds[e.id]||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},wl=function(e,t,n,r){var a,i,o=t.editingElement,c=uc(e);return null!==(a=null!==(i=o&&n(o))&&void 0!==i?i:hc(c,t)?function(e,t,n){var r=Array.from(new Set(mc(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null}(c,t,n):r)&&void 0!==a?a:null},Nl=(jg({name:"changeStrokeColor",perform:function(e,t,n){return El(El({},n.currentItemStrokeColor&&{elements:Sl(e,t,(function(e){return Qa(e,{strokeColor:n.currentItemStrokeColor})}))}),{},{appState:El(El({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(p().Fragment,null,p().createElement("h3",{"aria-hidden":"true"},L("labels.stroke")),p().createElement(xl,{type:"elementStroke",label:L("labels.stroke"),color:wl(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},isActive:"strokeColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"strokeColorPicker":null})}}))}}),jg({name:"changeBackgroundColor",perform:function(e,t,n){return El(El({},n.currentItemBackgroundColor&&{elements:Sl(e,t,(function(e){return Qa(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:El(El({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(p().Fragment,null,p().createElement("h3",{"aria-hidden":"true"},L("labels.background")),p().createElement(xl,{type:"elementBackground",label:L("labels.background"),color:wl(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},isActive:"backgroundColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"backgroundColorPicker":null})}}))}}),jg({name:"changeFillStyle",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){return Qa(e,{fillStyle:n})})),appState:El(El({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.fill")),p().createElement(ml,{options:[{value:"hachure",text:L("labels.hachure"),icon:p().createElement(Qg,{theme:n.theme})},{value:"cross-hatch",text:L("labels.crossHatch"),icon:p().createElement(fg,{theme:n.theme})},{value:"solid",text:L("labels.solid"),icon:p().createElement(Fg,{theme:n.theme})}],group:"fill",value:wl(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){r(e)}}))}}),jg({name:"changeStrokeWidth",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){return Qa(e,{strokeWidth:n})})),appState:El(El({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.strokeWidth")),p().createElement(ml,{group:"stroke-width",options:[{value:1,text:L("labels.thin"),icon:p().createElement(yg,{theme:n.theme,strokeWidth:2})},{value:2,text:L("labels.bold"),icon:p().createElement(yg,{theme:n.theme,strokeWidth:6})},{value:4,text:L("labels.extraBold"),icon:p().createElement(yg,{theme:n.theme,strokeWidth:10})}],value:wl(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}}))}}),jg({name:"changeSloppiness",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){return Qa(e,{seed:ba(),roughness:n})})),appState:El(El({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.sloppiness")),p().createElement(ml,{group:"sloppiness",options:[{value:0,text:L("labels.architect"),icon:p().createElement(Ug,{theme:n.theme})},{value:1,text:L("labels.artist"),icon:p().createElement(Xg,{theme:n.theme})},{value:2,text:L("labels.cartoonist"),icon:p().createElement(Eg,{theme:n.theme})}],value:wl(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}}))}}),jg({name:"changeStrokeStyle",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){return Qa(e,{strokeStyle:n})})),appState:El(El({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.strokeStyle")),p().createElement(ml,{group:"strokeStyle",options:[{value:"solid",text:L("labels.strokeStyle_solid"),icon:p().createElement(xg,{theme:n.theme})},{value:"dashed",text:L("labels.strokeStyle_dashed"),icon:p().createElement(vg,{theme:n.theme})},{value:"dotted",text:L("labels.strokeStyle_dotted"),icon:p().createElement(Gg,{theme:n.theme})}],value:wl(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}}))}}),jg({name:"changeOpacity",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){return Qa(e,{opacity:n})})),appState:El(El({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,a=e.updateData;return p().createElement("label",{className:"control-label"},L("labels.opacity"),p().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return a(+e.target.value)},onWheel:function(e){e.stopPropagation();var t=+e.target.value;e.deltaY<0&&t<100?a(t+10):e.deltaY>0&&t>0&&a(t-10)},value:null!==(t=wl(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0}))}}),jg({name:"changeFontSize",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){if(dt(e)){var t=Qa(e,{fontSize:n});return ic(t),t}return e})),appState:El(El({},t),{},{currentItemFontSize:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.fontSize")),p().createElement(ml,{group:"font-size",options:[{value:16,text:L("labels.small"),icon:p().createElement(Dg,{theme:n.theme})},{value:20,text:L("labels.medium"),icon:p().createElement(Mg,{theme:n.theme})},{value:28,text:L("labels.large"),icon:p().createElement(Tg,{theme:n.theme})},{value:36,text:L("labels.veryLarge"),icon:p().createElement(Og,{theme:n.theme})}],value:wl(t,n,(function(e){return dt(e)&&e.fontSize}),n.currentItemFontSize||Q.n5),onChange:function(e){return r(e)}}))}}),jg({name:"changeFontFamily",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){if(dt(e)){var t=Qa(e,{fontFamily:n});return ic(t),t}return e})),appState:El(El({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=[{value:Q.ut.Virgil,text:L("labels.handDrawn"),icon:p().createElement(kg,{theme:n.theme})},{value:Q.ut.Helvetica,text:L("labels.normal"),icon:p().createElement(Yg,{theme:n.theme})},{value:Q.ut.Cascadia,text:L("labels.code"),icon:p().createElement(Rg,{theme:n.theme})}];return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.fontFamily")),p().createElement(ml,{group:"font-family",options:a,value:wl(t,n,(function(e){return dt(e)&&e.fontFamily}),n.currentItemFontFamily||Q.rk),onChange:function(e){return r(e)}}))}}),jg({name:"changeTextAlign",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){if(dt(e)){var t=Qa(e,{textAlign:n});return ic(t),t}return e})),appState:El(El({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.textAlign")),p().createElement(ml,{group:"text-align",options:[{value:"left",text:L("labels.left"),icon:p().createElement(Hg,{theme:n.theme})},{value:"center",text:L("labels.center"),icon:p().createElement(Lg,{theme:n.theme})},{value:"right",text:L("labels.right"),icon:p().createElement(zg,{theme:n.theme})}],value:wl(t,n,(function(e){return dt(e)&&e.textAlign}),n.currentItemTextAlign),onChange:function(e){return r(e)}}))}}),jg({name:"changeSharpness",perform:function(e,t,n){var r=pc(uc(e),t),a=r.length?r.every((function(e){return!bt(e)})):!At(t.elementType),i=r.length?r.every(bt):At(t.elementType);return{elements:Sl(e,t,(function(e){return Qa(e,{strokeSharpness:n})})),appState:El(El({},t),{},{currentItemStrokeSharpness:a?n:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:i?n:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.edges")),p().createElement(ml,{group:"edges",options:[{value:"sharp",text:L("labels.sharp"),icon:p().createElement(Sg,{theme:n.theme})},{value:"round",text:L("labels.round"),icon:p().createElement(wg,{theme:n.theme})}],value:wl(t,n,(function(e){return e.strokeSharpness}),vc(n.elementType)&&(At(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(e){return r(e)}}))}}),jg({name:"changeArrowhead",perform:function(e,t,n){return{elements:Sl(e,t,(function(e){if(bt(e)){var t=n.position,r=n.type;if("start"===t)return Qa(e,{startArrowhead:r});if("end"===t)return Qa(e,{endArrowhead:r})}return e})),appState:El(El({},t),{},$({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=R().rtl;return p().createElement("fieldset",null,p().createElement("legend",null,L("labels.arrowheads")),p().createElement("div",{className:"iconSelectList"},p().createElement(Ul,{label:"arrowhead_start",options:[{value:null,text:L("labels.arrowhead_none"),icon:p().createElement(Ng,{theme:n.theme}),keyBinding:"q"},{value:"arrow",text:L("labels.arrowhead_arrow"),icon:p().createElement(Zg,{theme:n.theme,flip:!a}),keyBinding:"w"},{value:"bar",text:L("labels.arrowhead_bar"),icon:p().createElement(Wg,{theme:n.theme,flip:!a}),keyBinding:"e"},{value:"dot",text:L("labels.arrowhead_dot"),icon:p().createElement(Vg,{theme:n.theme,flip:!a}),keyBinding:"r"}],value:wl(t,n,(function(e){return bt(e)&&Uc(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),p().createElement(Ul,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:L("labels.arrowhead_none"),keyBinding:"q",icon:p().createElement(Ng,{theme:n.theme})},{value:"arrow",text:L("labels.arrowhead_arrow"),keyBinding:"w",icon:p().createElement(Zg,{theme:n.theme,flip:a})},{value:"bar",text:L("labels.arrowhead_bar"),keyBinding:"e",icon:p().createElement(Wg,{theme:n.theme,flip:a})},{value:"dot",text:L("labels.arrowhead_dot"),keyBinding:"r",icon:p().createElement(Vg,{theme:n.theme,flip:a})}],value:wl(t,n,(function(e){return bt(e)&&Uc(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})))}}),function(e){var t=e.title||("dark"===e.value?L("buttons.lightMode"):L("buttons.darkMode"));return p().createElement(wc,{type:"icon",icon:"light"===e.value?Zl.MOON:Zl.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange("dark"===e.value?"light":"dark")},"data-testid":"toggle-dark-mode"})}),Zl={SUN:p().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},p().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),MOON:p().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},p().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jg({name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:Wl(Wl({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement("div",{style:{position:"relative"}},p().createElement(xl,{label:L("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(e){return n({viewBackgroundColor:e})},isActive:"canvasColorPicker"===t.openPopup,setActive:function(e){return n({openPopup:e?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"}))}}),jg({name:"clearCanvas",perform:function(e,t){return{elements:e.map((function(e){return Qa(e,{isDeleted:!0})})),appState:Wl(Wl({},Fr()),{},{theme:t.theme,elementLocked:t.elementLocked,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:Rc,title:L("buttons.clearReset"),"aria-label":L("buttons.clearReset"),showAriaLabel:aC(),onClick:function(){window.confirm(L("alerts.clearReset"))&&t(null)},"data-testid":"clear-canvas-button"})}}),jg({name:"zoomIn",perform:function(e,t){var n=Ec(Sc(t.zoom.value+Q.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:Wl(Wl({},t),{},{zoom:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:jc,title:"".concat(L("buttons.zoomIn")," \u2014 ").concat(ur("CtrlOrCmd++")),"aria-label":L("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===Kt||e.code===qt)&&(e[xn]||e.shiftKey)}}),jg({name:"zoomOut",perform:function(e,t){var n=Ec(Sc(t.zoom.value-Q.V4),t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2});return{appState:Wl(Wl({},t),{},{zoom:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:Pc,title:"".concat(L("buttons.zoomOut")," \u2014 ").concat(ur("CtrlOrCmd+-")),"aria-label":L("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===_t||e.code===$t)&&(e[xn]||e.shiftKey)}}),jg({name:"resetZoom",perform:function(e,t){return{appState:Wl(Wl({},t),{},{zoom:Ec(1,t.zoom,{left:t.offsetLeft,top:t.offsetTop},{x:t.width/2,y:t.height/2})}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:tg,title:L("buttons.resetZoom"),"aria-label":L("buttons.resetZoom"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===gn||e.code===en)&&(e[xn]||e.shiftKey)}});var Dl=function(e,t,n){var r=uc(e),a=mc(r,t),i=n&&a.length>0?kt(a):kt(r),o=function(e,t){var n=_(e,4),r=n[0],a=n[1],i=n[2],o=n[3],c=i-r,g=t.width/c,l=o-a,s=t.height/l,u=Math.min(g,s),I=Math.floor(u/Q.V4)*Q.V4;return Math.min(Math.max(I,Q.V4),1)}(i,{width:t.width,height:t.height}),c=Ec(o,t.zoom,{left:t.offsetLeft,top:t.offsetTop}),g=_(i,4),l=g[0],s=g[1],u=(l+g[2])/2,I=(s+g[3])/2;return{appState:Wl(Wl(Wl({},t),Qc({scenePoint:{x:u,y:I},viewportDimensions:{width:t.width,height:t.height},zoom:c})),{},{zoom:c}),commitToHistory:!1}};function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jg({name:"zoomToSelection",perform:function(e,t){return Dl(e,t,!0)},keyTest:function(e){return e.code===an&&e.shiftKey&&!e.altKey&&!e[xn]}}),jg({name:"zoomToFit",perform:function(e,t){return Dl(e,t,!1)},keyTest:function(e){return e.code===rn&&e.shiftKey&&!e.altKey&&!e[xn]}}),jg({name:"toggleTheme",perform:function(e,t,n){return{appState:Wl(Wl({},t),{},{theme:n||("light"===t.theme?"dark":"light")}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement("div",{style:{marginInlineStart:"0.25rem"}},p().createElement(Nl,{value:t.theme,onChange:function(e){n(e)}}))},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===un}});var Ol,kl,Yl,Rl=jg({name:"finalize",perform:function(e,t,n,r){var a,i=r.canvas,o=r.focusContainer;if(t.editingLinearElement){var c=t.editingLinearElement,g=c.elementId,l=c.startBindingElement,s=c.endBindingElement,u=bo.getElement(g);if(u)return ht(u)&&mo(u,l,s),{elements:u.points.length<2||Fa(u)?e.filter((function(e){return e.id!==u.id})):void 0,appState:Tl(Tl({},t),{},{editingLinearElement:null}),commitToHistory:!0}}var I=e;window.document.activeElement instanceof HTMLElement&&o();var d=t.multiElement?t.multiElement:"freedraw"===(null===(a=t.editingElement)||void 0===a?void 0:a.type)?t.editingElement:null;if(d){if("freedraw"!==d.type&&"touch"!==t.lastPointerDownWith){var C=d.points,B=d.lastCommittedPoint;B&&C[C.length-1]===B||pa(d,{points:d.points.slice(0,-1)})}Fa(d)&&(I=I.slice(0,-1));var b=xt(d.points,t.zoom.value);if(("line"===d.type||"freedraw"===d.type)&&b){var A=d.points,h=A[0];pa(d,{points:A.map((function(e,t){return t===A.length-1?[h[0],h[1]]:e}))})}if(ht(d)&&!b&&d.points.length>1){var m=_(bo.getPointAtIndexGlobalCoordinates(d,-1),2),p=m[0],Q=m[1];Fo(d,t,Ca.getScene(d),{x:p,y:Q})}t.elementLocked||"freedraw"===t.elementType||(t.selectedElementIds[d.id]=!0)}return(t.elementLocked||"freedraw"===t.elementType)&&d||cr(i),{elements:I,appState:Tl(Tl({},t),{},{elementType:(t.elementLocked||"freedraw"===t.elementType)&&d?t.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:d&&!t.elementLocked&&"freedraw"!==t.elementType?Tl(Tl({},t.selectedElementIds),{},$({},d.id,!0)):t.selectedElementIds}),commitToHistory:"freedraw"===t.elementType}},keyTest:function(e,t){return e.key===Un&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===Un||e.key===Gn)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement(wc,{type:"button",icon:Kc,title:L("buttons.done"),"aria-label":L("buttons.done"),onClick:n,visible:null!=t.multiElement})}}),Hl="undefined"!=typeof t&&null!==(Ol=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))&&void 0!==Ol&&Ol.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,t,n,r){window.gtag("event",t,{event_category:e,event_label:n,value:r})}:("undefined"!=typeof t&&null!==(kl=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))&&void 0!==kl&&kl.JEST_WORKER_ID,function(e,t,n,r){}),Ll=(r(518),r(9966),function(e){var t=oC().id,n=_((0,m.useState)(e.value),2),r=n[0],a=n[1];return p().createElement("div",{className:"ProjectName"},p().createElement("label",{className:"ProjectName-label",htmlFor:"filename"},"".concat(e.label).concat(e.isNameEditable?"":":")),e.isNameEditable?p().createElement("input",{className:"TextInput",onBlur:function(t){!function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}}(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:r,onChange:function(e){return a(e.target.value)}}):p().createElement("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename")},e.value))}),zl=(r(6781),function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t}),Jl=function(e){var t=e.children,n=e.label,r=e.long,a=void 0!==r&&r;return(0,m.useEffect)((function(){return function(){return zl().classList.remove("excalidraw-tooltip--visible")}}),[]),p().createElement("div",{onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var a=e.getBoundingClientRect(),i=a.x,o=a.bottom,c=a.top,g=a.width,l=t.getBoundingClientRect(),s=l.width,u=l.height,I=window.innerWidth,d=i+g/2-s/2,C=d+s>=I?d+s-I:0,B=o+5,b=B+u>=window.innerHeight?o-c+u+10:0;Object.assign(t.style,{top:"".concat(B-b,"px"),left:"".concat(d-C,"px")})}(e.currentTarget,zl(),n,a)},onPointerLeave:function(){return zl().classList.remove("excalidraw-tooltip--visible")}},t)},jl=function(e,t,n,r,a,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill(),e.stroke()},Pl=function(e,t){if(null!=t&&t.collaborators){var n=t.collaborators.get(e);if(null!=n&&n.color)return n.color}var r=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),a=zt.elementBackground.slice(1),i=zt.elementStroke.slice(1);return{background:a[r%a.length],stroke:i[r%i.length]}};function Kl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"}(Yl||(Yl={}));var ql=function(){var e=document.createElement("canvas").getContext("2d");return!!e&&(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\ude00",0,0),0!==e.getImageData(12,12,1,1).data[0])}(),$l=function(e,t,n,r,a,i,o,c){var g=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.translate(i,o),e.rotate(c),g&&e.fillRect(t-i,n-o,r,a),e.strokeRect(t-i,n-o,r,a),e.rotate(-c),e.translate(-i,-o)},es=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke()},ts=function(e,t,n,r,a,i){var o=e.strokeStyle;e.strokeStyle="rgba(0,0,0,0.1)",e.beginPath();for(var c=n;c<n+a+2*t;c+=t)e.moveTo(c,r-t),e.lineTo(c,r+i+2*t);for(var g=r;g<r+i+2*t;g+=t)e.moveTo(n-t,g),e.lineTo(n+a+2*t,g);e.stroke(),e.strokeStyle=o},ns=function(e,t,n,r){e.translate(n.scrollX,n.scrollY);var a=e.strokeStyle,i=e.lineWidth;e.lineWidth=1/n.zoom.value,bo.getPointsGlobalCoordinates(r).forEach((function(r,a){var i;e.strokeStyle="red",e.setLineDash([]),e.fillStyle=(null===(i=t.editingLinearElement)||void 0===i?void 0:i.activePointIndex)===a?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var o=bo.POINT_HANDLE_SIZE;es(e,r[0],r[1],o/2/n.zoom.value)})),e.setLineDash([]),e.lineWidth=i,e.translate(-n.scrollX,-n.scrollY),e.strokeStyle=a},rs=function(e,t,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},g=c.renderScrollbars,l=void 0===g||g,s=c.renderSelection,u=void 0===s||s,I=c.renderOptimizations,d=void 0!==I&&I,C=c.renderGrid,B=void 0===C||C;if(null===i)return{atLeastOneVisibleElement:!1};var b=i.getContext("2d");b.scale(r,r);var A=i.width/r,h=i.height/r;if(o.exportWithDarkMode&&(b.filter=Q.ZF),"string"==typeof o.viewBackgroundColor){("transparent"===o.viewBackgroundColor||5===o.viewBackgroundColor.length||9===o.viewBackgroundColor.length||/(hsla|rgba)\(/.test(o.viewBackgroundColor))&&b.clearRect(0,0,A,h);var m=b.fillStyle;b.fillStyle=o.viewBackgroundColor,b.fillRect(0,0,A,h),b.fillStyle=m}else b.clearRect(0,0,A,h);var p=o.zoom.translation.x,f=o.zoom.translation.y;b.translate(p,f),b.scale(o.zoom.value,o.zoom.value),B&&t.gridSize&&ts(b,t.gridSize,-Math.ceil(p/o.zoom.value/t.gridSize)*t.gridSize+o.scrollX%t.gridSize,-Math.ceil(f/o.zoom.value/t.gridSize)*t.gridSize+o.scrollY%t.gridSize,A/o.zoom.value,h/o.zoom.value);var F,y=e.filter((function(e){return ls(e,A,h,{zoom:o.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:o.scrollX,scrollY:o.scrollY})}));if(y.forEach((function(e){try{oa(e,a,b,d,o)}catch(e){console.error(e)}})),t.editingLinearElement){var x=bo.getElement(t.editingLinearElement.elementId);x&&ns(b,t,o,x)}if(n)try{oa(n,a,b,d,o)}catch(e){console.error(e)}if(ho(t)&&t.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){os(b,o,e)})),u&&!t.multiElement&&!t.editingLinearElement){var v,G=e.reduce((function(e,n){var r=[];if(t.selectedElementIds[n.id]&&!wa(t,n)&&r.push(Ht.black),o.remoteSelectedElementIds[n.id]&&r.push.apply(r,q(o.remoteSelectedElementIds[n.id].map((function(e){return Pl(e,t).background})))),r.length){var a=_(Zt(n),4),i=a[0],c=a[1],g=a[2],l=a[3];e.push({angle:n.angle,elementX1:i,elementY1:c,elementX2:g,elementY2:l,selectionColors:r})}return e}),[]),U=function(t){var n=Da(e,t),r=_(kt(n),4),a=r[0],i=r[1],o=r[2],c=r[3];G.push({angle:0,elementX1:a,elementX2:o,elementY1:i,elementY2:c,selectionColors:[Ht.black]})},X=Kl(Za(t));try{for(X.s();!(v=X.n()).done;)U(v.value)}catch(e){X.e(e)}finally{X.f()}t.editingGroupId&&U(t.editingGroupId),G.forEach((function(e){return is(b,o,e)}));var E=mc(e,t);if(b.translate(o.scrollX,o.scrollY),1===E.length){b.fillStyle=Ht.white;var S=ri(E[0],o.zoom,"mouse");t.viewModeEnabled||as(b,o,S,E[0].angle)}else if(E.length>1&&!t.isRotating){var w=4/o.zoom.value;b.fillStyle=Ht.white;var N=_(kt(E),4),Z=N[0],V=N[1],W=N[2],D=N[3],M=b.getLineDash();b.setLineDash([2/o.zoom.value]);var T=b.lineWidth;b.lineWidth=1/o.zoom.value,$l(b,Z-w,V-w,W-Z+2*w,D-V+2*w,(Z+W)/2,(V+D)/2,0),b.lineWidth=T,b.setLineDash(M);var O=ni([Z,V,W,D],0,o.zoom,"mouse",_a);as(b,o,O,0)}b.translate(-o.scrollX,-o.scrollY)}for(var k in b.scale(1/o.zoom.value,1/o.zoom.value),b.translate(-p,-f),o.remotePointerViewportCoords){var Y=o.remotePointerViewportCoords[k],R=Y.x,H=Y.y;R-=t.offsetLeft,H-=t.offsetTop;var L=9,z=14,J=R<0||R>A-L||H<0||H>h-z;R=Math.max(R,0),R=Math.min(R,A-L),H=Math.max(H,0),H=Math.min(H,h-z);var j=Pl(k,t),P=j.background,K=j.stroke,$=b.strokeStyle,ee=b.fillStyle,te=b.globalAlpha;b.strokeStyle=K,b.fillStyle=P;var ne=o.remotePointerUserStates[k];(J||ne===Yl.AWAY)&&(b.globalAlpha=.48),o.remotePointerButton&&"down"===o.remotePointerButton[k]&&(b.beginPath(),b.arc(R,H,15,0,2*Math.PI,!1),b.lineWidth=3,b.strokeStyle="#ffffff88",b.stroke(),b.closePath(),b.beginPath(),b.arc(R,H,15,0,2*Math.PI,!1),b.lineWidth=1,b.strokeStyle=K,b.stroke(),b.closePath()),b.beginPath(),b.moveTo(R,H),b.lineTo(R+1,H+14),b.lineTo(R+4,H+9),b.lineTo(R+9,H+10),b.lineTo(R,H),b.fill(),b.stroke();var re=o.remotePointerUsernames[k],ae="";ne===Yl.AWAY?ae=ql?"\u26ab\ufe0f":" (".concat(Yl.AWAY,")"):ne===Yl.IDLE?ae=ql?"\ud83d\udca4":" (".concat(Yl.IDLE,")"):ne===Yl.ACTIVE&&(ae=ql?"\ud83d\udfe2":"");var ie="".concat(re?"".concat(re," "):"").concat(ae);if(!J&&ie){var oe=R+L,ce=H+z,ge=4,le=4,se=b.measureText(ie),ue=se.actualBoundingBoxDescent+se.actualBoundingBoxAscent;b.fillStyle=K,b.fillRect(oe-1,ce-1,se.width+2*ge+2,ue+2*le+2),b.fillStyle=P,b.fillRect(oe,ce,se.width+2*ge,ue+2*le),b.fillStyle=Ht.white,b.fillText(ie,oe+ge,ce+le+se.actualBoundingBoxAscent)}b.strokeStyle=$,b.fillStyle=ee,b.globalAlpha=te,b.closePath()}if(l){F=bc(e,A,h,o);var Ie=b.fillStyle,de=b.strokeStyle;b.fillStyle=Bc,b.strokeStyle="rgba(255,255,255,0.8)",[F.horizontal,F.vertical].forEach((function(e){e&&jl(b,e.x,e.y,e.width,e.height,3)})),b.fillStyle=Ie,b.strokeStyle=de}return b.scale(1/r,1/r),{atLeastOneVisibleElement:y.length>0,scrollBars:F}},as=function(e,t,n,r){Object.keys(n).forEach((function(a){var i=n[a];if(void 0!==i){var o=e.lineWidth;e.lineWidth=1/t.zoom.value,"rotation"===a?es(e,i[0]+i[2]/2,i[1]+i[3]/2,i[2]/2):$l(e,i[0],i[1],i[2],i[3],i[0]+i[2]/2,i[1]+i[3]/2,r,!0),e.lineWidth=o}}))},is=function(e,t,n){var r=n.angle,a=n.elementX1,i=n.elementY1,o=n.elementX2,c=n.elementY2,g=n.selectionColors,l=o-a,s=c-i,u=e.getLineDash(),I=e.lineWidth,d=e.lineDashOffset,C=e.strokeStyle,B=4/t.zoom.value,b=8/t.zoom.value,A=4/t.zoom.value;e.lineWidth=1/t.zoom.value,e.translate(t.scrollX,t.scrollY);for(var h=g.length,m=0;m<h;++m)e.strokeStyle=g[m],e.setLineDash([b,A+(b+A)*(h-1)]),e.lineDashOffset=(b+A)*m,$l(e,a-B,i-B,l+2*B,s+2*B,a+l/2,i+s/2,r);e.lineDashOffset=d,e.strokeStyle=C,e.lineWidth=I,e.setLineDash(u),e.translate(-t.scrollX,-t.scrollY)},os=function(e,t,n){var r=e.strokeStyle,a=e.lineWidth,i=Array.isArray(n)?gs:cs;e.translate(t.scrollX,t.scrollY),i(e,n),e.strokeStyle=r,e.lineWidth=a,e.translate(-t.scrollX,-t.scrollY)},cs=function(e,t){var n=_(Zt(t),4),r=n[0],a=n[1],i=n[2]-r,o=n[3]-a,c=Zi(t,i,o);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=c-4;var g=2+c/2;switch(t.type){case"rectangle":case"text":$l(e,r-g,a-g,i+2*g,o+2*g,r+i/2,a+o/2,t.angle);break;case"diamond":var l=Math.hypot(i,o);!function(e,t,n,r,a,i){e.translate(r,a),e.rotate(i),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.rotate(-i),e.translate(-r,-a)}(e,i+g*l/o*2,o+g*l/i*2,r+i/2,a+o/2,t.angle);break;case"ellipse":!function(e,t,n,r,a,i){e.beginPath(),e.ellipse(r,a,t/2,n/2,i,0,2*Math.PI),e.stroke()}(e,i+2*g,o+2*g,r+i/2,a+o/2,t.angle)}},gs=function(e,t){var n=_(t,3),r=n[0],a=n[1],i=n[2],o=Zi(i,i.width,i.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===a?[0,-1]:"start"===a?[0]:[-1]).forEach((function(t){var n=_(bo.getPointAtIndexGlobalCoordinates(r,t),2),a=n[0],i=n[1];es(e,a,i,o)}))},ls=function(e,t,n,r){var a=_(Ot(e),4),i=a[0],o=a[1],c=a[2],g=a[3],l=Ir({clientX:r.offsetLeft,clientY:r.offsetTop},r),s=Ir({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return l.x<=c&&l.y<=g&&s.x>=i&&s.y>=o},ss=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.offsetX,i=void 0===a?0:a,o=r.offsetY,c=void 0===o?0:o;n&&e.forEach((function(e){if(!e.isDeleted)try{ga(e,t,n,e.x+i,e.y+c)}catch(e){console.error(e)}}))};function us(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Is(e,t,n){return(Is=us()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&G(a,n.prototype),a}).apply(null,arguments)}function ds(e){var t="function"==typeof Map?new Map:void 0;return(ds=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Is(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),G(r,e)})(e)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}var Bs=function(e){U(n,e);var t=Cs(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return y(this,n),(e=t.call(this)).name=a,e.message=r,e}return n}(ds(Error));function bs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ps={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,arrow:!0,freedraw:!0},Qs=function(e,t){var n,r,a,i,o,c,g,l,s,u,I,d,C={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||Aa(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(a=e.strokeStyle)&&void 0!==a?a:"solid",roughness:null!==(i=e.roughness)&&void 0!==i?i:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:null!==(o=null!==(c=t.x)&&void 0!==c?c:e.x)&&void 0!==o?o:0,y:null!==(g=null!==(l=t.y)&&void 0!==l?l:e.y)&&void 0!==g?g:0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(s=e.seed)&&void 0!==s?s:1,groupIds:null!==(u=e.groupIds)&&void 0!==u?u:[],strokeSharpness:null!==(I=e.strokeSharpness)&&void 0!==I?I:At(e.type)?"round":"sharp",boundElementIds:null!==(d=e.boundElementIds)&&void 0!==d?d:[]};return ms(ms(ms({},C),xa(C)),t)},fs=function(e){var t,n;switch(e.type){case"text":var r=e.fontSize,a=e.fontFamily;if("font"in e){var i=_(e.font.split(" "),2),o=i[0],c=i[1];r=parseInt(o,10),n=c,a=Object.keys(Q.ut).includes(n)?Q.ut[n]:Q.rk}return Qs(e,{fontSize:r,fontFamily:a,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:e.textAlign||Q.Hg,verticalAlign:e.verticalAlign||Q.hs});case"freedraw":return Qs(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"line":case"draw":case"arrow":var g=e.startArrowhead,l=void 0===g?null:g,s=e.endArrowhead,u=void 0===s?"arrow"===e.type?"arrow":null:s,I=e.x,d=e.y,C=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==C[0][0]||0!==C[0][1]){var B=bo.getNormalizedPoints(e);C=B.points,I=B.x,d=B.y}return Qs(e,{type:"draw"===e.type?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:l,endArrowhead:u,points:C,x:I,y:d});case"ellipse":case"rectangle":case"diamond":return Qs(e,{})}},Fs=function(e,t){var n=t?lc(t):null;return(e||[]).reduce((function(e,t){if("selection"!==t.type&&!Fa(t)){var r=fs(t);if(r){var a=null==n?void 0:n[t.id];a&&a.version>r.version&&(r=fa(r,a.version)),e.push(r)}}return e}),[])},ys=function(e,t){e=e||{};var n,r=Fr(),a={},i=bs(Object.entries(r));try{for(i.s();!(n=i.n()).done;){var o=_(n.value,2),c=o[0],g=o[1],l=e[c],s=t?t[c]:void 0;a[c]=void 0!==l?l:void 0!==s?s:g}}catch(e){i.e(e)}finally{i.f()}return ms(ms({},a),{},{elementType:ps[a.elementType]?a.elementType:"selection",zoom:"number"==typeof e.zoom?{value:e.zoom,translation:r.zoom.translation}:e.zoom||r.zoom})},xs=function(e,t,n){return{elements:Fs(null==e?void 0:e.elements,n),appState:ys(null==e?void 0:e.appState,t||null)}};function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Us=function(){var e=(0,F.Z)(Z().mark((function e(t){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image/png"!==t.type){e.next=18;break}return e.prev=1,e.next=4,Promise.all([r.e(736),r.e(9)]).then(r.bind(r,8527));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new Error(L("alerts.imageDoesNotContainScene"));case 15:throw new Error(L("alerts.cannotRestoreFromImage"));case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:n=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:n=e.sent;case 27:if("image/svg+xml"!==t.type){e.next=43;break}return e.prev=28,e.next=31,Promise.all([r.e(736),r.e(9)]).then(r.bind(r,8527));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:n});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new Error(L("alerts.imageDoesNotContainScene"));case 42:throw new Error(L("alerts.cannotRestoreFromImage"));case 43:return e.abrupt("return",n);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),Xs=function(){var e=(0,F.Z)(Z().mark((function e(t,n,r){var a,i,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t);case 2:if(a=e.sent,e.prev=3,i=JSON.parse(a),Vs(i)){e.next=7;break}throw new Error(L("alerts.couldNotLoadInvalidFile"));case 7:return o=xs({elements:Cc(i.elements||[]),appState:Gs(Gs({theme:null==n?void 0:n.theme,fileHandle:!t.type.startsWith("image/")&&t.handle||null},vr(i.appState||{})),n?fc(i.elements||[],n):{})},n,r),e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(3),console.error(e.t0.message),new Error(L("alerts.couldNotLoadInvalidFile"));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Es=function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t);case 2:if(n=e.sent,(r=JSON.parse(n)).type===Q.r8.excalidrawLibrary){e.next=6;break}throw new Error(L("alerts.couldNotLoadInvalidFile"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ss=function(){var e=(0,F.Z)(Z().mark((function e(t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob((function(t){if(!t)return n(new Bs(L("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));e(t)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ws=function(e,t){var n={type:Q.r8.excalidraw,version:2,source:Q.pb,elements:Cc(e),appState:vr(t)};return JSON.stringify(n,null,2)},Ns=function(){var e=(0,F.Z)(Z().mark((function e(t,n){var r,a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t,n),a=new Blob([r],{type:Q.LO.excalidraw}),e.next=4,st(a,{fileName:"".concat(n.name,".excalidraw"),description:"Excalidraw file",extensions:[".excalidraw"]},n.fileHandle);case 4:return i=e.sent,e.abrupt("return",{fileHandle:i});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zs=function(){var e=(0,F.Z)(Z().mark((function e(t,n){var r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct({description:"Excalidraw files"});case 2:return r=e.sent,e.abrupt("return",Xs(r,t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vs=function(e){return(null==e?void 0:e.type)===Q.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===X(e.appState)))},Ws=function(e){return"object"===X(e)&&e&&e.type===Q.r8.excalidrawLibrary&&1===e.version},Ds=function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r,a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadLibrary();case 2:return n=e.sent,r={type:Q.r8.excalidrawLibrary,version:1,source:Q.pb,library:n},a=JSON.stringify(r,null,2),i=new Blob([a],{type:Q.LO.excalidrawlib}),e.next=9,st(i,{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ms=function(){var e=(0,F.Z)(Z().mark((function e(t){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct({description:"Excalidraw library files"});case 2:return n=e.sent,e.next=5,t.importLibrary(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ts="\x3c!-- svg-source:excalidraw --\x3e",Os=function(e,t,n){var r=n.exportBackground,a=n.exportPadding,i=void 0===a?Q.qy:a,o=n.viewBackgroundColor,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,n){var r=document.createElement("canvas");return r.width=e*t.exportScale,r.height=n*t.exportScale,{canvas:r,scale:t.exportScale}},g=_(Ys(e,i),4),l=g[0],s=g[1],u=c(g[2],g[3]),I=u.canvas,d=u.scale;return rs(e,t,null,void 0===d?1:d,nt.canvas(I),I,{viewBackgroundColor:r?o:null,exportWithDarkMode:t.exportWithDarkMode,scrollX:-l+i,scrollY:-s+i,zoom:Fr().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),I},ks=function(){var e=(0,F.Z)(Z().mark((function e(t,n){var a,i,o,c,g,l,s,u,I,d,C,B,b,A,h,m;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.exportPadding,i=void 0===a?Q.qy:a,o=n.viewBackgroundColor,c=n.exportScale,g=void 0===c?1:c,l=n.exportEmbedScene,s="",!l){e.next=14;break}return e.prev=3,e.next=6,Promise.all([r.e(736),r.e(9)]).then(r.bind(r,8527));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:ws(t,n)});case 8:s=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return u=Ys(t,i),I=_(u,4),d=I[0],C=I[1],B=I[2],b=I[3],(A=document.createElementNS(_n,"svg")).setAttribute("version","1.1"),A.setAttribute("xmlns",_n),A.setAttribute("viewBox","0 0 ".concat(B," ").concat(b)),A.setAttribute("width","".concat(B*g)),A.setAttribute("height","".concat(b*g)),n.exportWithDarkMode&&A.setAttribute("filter",Q.ZF),A.innerHTML="\n  ".concat(Ts,"\n  ").concat(s,'\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),n.exportBackground&&o&&((h=A.ownerDocument.createElementNS(_n,"rect")).setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","".concat(B)),h.setAttribute("height","".concat(b)),h.setAttribute("fill",o),A.appendChild(h)),m=nt.svg(A),ss(t,m,A,{offsetX:-d+i,offsetY:-C+i}),e.abrupt("return",A);case 27:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}(),Ys=function(e,t){var n=_(kt(e),4),r=n[0],a=n[1],i=n[2],o=n[3];return[r,a,or(r,i)+2*t,or(a,o)+t+t]};function Rs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Js=32,js=12,Ps=256,Ks="NOT_SPREADSHEET",_s="VALID_SPREADSHEET",qs=function(e){var t=/^[$\u20ac\xa3\xa5\u20a9]?([0-9,]+(\.[0-9]+)?)$/.exec(e);return t?parseFloat(t[1].replace(/,/g,"")):null},$s=function(e,t){return e.slice(1).every((function(e){return null!==qs(e[t])}))},eu=function(e){var t=e[0].length;if(t>2)return{type:Ks,reason:"More than 2 columns"};if(1===t){if(!$s(e,0))return{type:Ks,reason:"Value is not numeric"};var n=null===qs(e[0][0]),r=(n?e.slice(1):e).map((function(e){return qs(e[0])}));return r.length<2?{type:Ks,reason:"Less than two rows"}:{type:_s,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var a=$s(e,0)?0:1;if(!$s(e,a))return{type:Ks,reason:"Value is not numeric"};var i=(a+1)%2,o=null===qs(e[0][a]),c=o?e.slice(1):e;return c.length<2?{type:Ks,reason:"Less than 2 rows"}:{type:_s,spreadsheet:{title:o?e[0][a]:null,labels:c.map((function(e){return e[i]})),values:c.map((function(e){return qs(e[a])}))}}},tu=zt.elementBackground.slice(2,zt.elementBackground.length),nu={fillStyle:"hachure",fontFamily:Q.rk,fontSize:Q.n5,opacity:100,roughness:1,strokeColor:zt.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},ru=function(e){return{chartWidth:44*e.values.length+js,chartHeight:280}},au=function(e,t,n,r,a,i){var o=ru(e),c=o.chartWidth,g=o.chartHeight,l=e.title?La(zs(zs({backgroundColor:a,groupIds:[r]},nu),{},{text:e.title,x:t+c/2,y:n-Ps-24-Q.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,s=i?Ra(zs(zs({backgroundColor:a,groupIds:[r]},nu),{},{type:"rectangle",x:t,y:n-g,width:c,height:g,strokeColor:zt.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(q(s?[s]:[]),q(l?[l]:[]),q(function(e,t,n,r,a){var i;return(null===(i=e.labels)||void 0===i?void 0:i.map((function(e,i){return La(zs(zs({groupIds:[r],backgroundColor:a},nu),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*i+24,y:n+6,width:Js,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,r,a)),q(function(e,t,n,r,a){var i=La(zs(zs({groupIds:[r],backgroundColor:a},nu),{},{x:t-js,y:n-js,text:"0",textAlign:"right"}));return[i,La(zs(zs({groupIds:[r],backgroundColor:a},nu),{},{x:t-js,y:n-Ps-i.height/2,text:Math.max.apply(Math,q(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,a)),q(function(e,t,n,r,a){var i=ru(e),o=i.chartWidth,c=i.chartHeight;return[Ja(zs(zs({backgroundColor:a,groupIds:[r]},nu),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:o,points:[[0,0],[o,0]]})),Ja(zs(zs({backgroundColor:a,groupIds:[r]},nu),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:c,points:[[0,0],[0,-c]]})),Ja(zs(zs({backgroundColor:a,groupIds:[r]},nu),{},{type:"line",x:t,y:n-Ps-js,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:o,opacity:50,points:[[0,0],[o,0]]}))]}(e,t,n,r,a)))},iu=function(e,t,n,r){return"line"===e?function(e,t,n){var r,a=Math.max.apply(Math,q(e.values)),i=Aa(),o=tu[Math.floor(Math.random()*tu.length)],c=0,g=[],l=Rs(e.values);try{for(l.s();!(r=l.n()).done;){var s=r.value,u=44*c,I=-s/a*Ps;g.push([u,I]),c++}}catch(e){l.e(e)}finally{l.f()}var d=Math.max.apply(Math,q(g.map((function(e){return e[0]})))),C=Math.max.apply(Math,q(g.map((function(e){return e[1]})))),B=Math.min.apply(Math,q(g.map((function(e){return e[0]})))),b=Math.min.apply(Math,q(g.map((function(e){return e[1]})))),A=Ja(zs(zs({backgroundColor:o,groupIds:[i]},nu),{},{type:"line",x:t+js+16,y:n-js,startArrowhead:null,endArrowhead:null,height:C-b,width:d-B,strokeWidth:2,points:g})),h=e.values.map((function(e,r){var c=44*r+6,g=-e/a*Ps+6;return Ra(zs(zs({backgroundColor:o,groupIds:[i]},nu),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+c+16,y:n+g-24,width:js,height:js}))})),m=e.values.map((function(e,r){var c=44*r+6,g=e/a*Ps+6+js;return Ja(zs(zs({backgroundColor:o,groupIds:[i]},nu),{},{type:"line",x:t+c+16+6,y:n-g,startArrowhead:null,endArrowhead:null,height:g,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,g]]}))}));return[].concat(q(au(e,t,n,i,o,"production"===Q.Vi.DEVELOPMENT)),[A],q(m),q(h))}(t,n,r):function(e,t,n){var r=Math.max.apply(Math,q(e.values)),a=Aa(),i=tu[Math.floor(Math.random()*tu.length)],o=e.values.map((function(e,o){var c=e/r*Ps;return Ra(zs(zs({backgroundColor:i,groupIds:[a]},nu),{},{type:"rectangle",x:t+44*o+js,y:n-c-js,width:Js,height:c}))}));return[].concat(q(o),q(au(e,t,n,a,i,"production"===Q.Vi.DEVELOPMENT)))}(t,n,r)},ou="",cu=!1,gu="clipboard"in navigator&&"readText"in navigator.clipboard,lu="clipboard"in navigator&&"writeText"in navigator.clipboard,su="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,uu=function(){var e=(0,F.Z)(Z().mark((function e(t,n){var r,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:Q.r8.excalidrawClipboard,elements:mc(t,n)},a=JSON.stringify(r),ou=a,e.prev=3,cu=!1,e.next=7,Au(a);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),cu=!0,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Iu=function(){if(!ou)return{};try{return JSON.parse(ou)}catch(e){return console.error(e),{}}},du=function(e){var t=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:Ks,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:Ks,reason:"All rows don't have same number of columns"};var r=eu(t);if(r.type!==_s){var a=eu(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],a=0;a<e.length;a++)r.push(e[a][n]);t.push(r)}return t}(t));if(a.type===_s)return a}return r}(e);return t.type===_s?{spreadsheet:t.spreadsheet}:null},Cu=function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),e.next=11;break;case 5:if(e.t1=gu,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return r=e.t0,e.abrupt("return",r||"");case 15:return e.prev=15,e.t2=e.catch(0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Bu=function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r,a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t);case 2:if((n=e.sent)&&!n.includes(Ts)){e.next=5;break}return e.abrupt("return",Iu());case 5:if(!(r=du(n))){e.next=8;break}return e.abrupt("return",r);case 8:if(a=Iu(),e.prev=9,o=i=JSON.parse(n),![Q.r8.excalidraw,Q.r8.excalidrawClipboard].includes(null==o?void 0:o.type)||!Array.isArray(o.elements)){e.next=13;break}return e.abrupt("return",{elements:i.elements});case 13:return e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",cu&&a.elements?a:{text:n});case 19:case"end":return e.stop()}var o}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),bu=function(){var e=(0,F.Z)(Z().mark((function e(t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.write([new window.ClipboardItem({"image/png":t})]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Au=function(){var e=(0,F.Z)(Z().mark((function e(t){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!lu){e.next=11;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(n||hu(t||" ")){e.next=13;break}throw new Error("couldn't copy");case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),hu=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),a},mu=function(){var e=(0,F.Z)(Z().mark((function e(t,n,a,i){var o,c,g,l,s,u,I,d,C;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.exportBackground,c=i.exportPadding,g=void 0===c?Q.qy:c,l=i.viewBackgroundColor,s=i.name,0!==n.length){e.next=3;break}throw new Error(L("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,ks(n,{exportBackground:o,exportWithDarkMode:a.exportWithDarkMode,viewBackgroundColor:l,exportPadding:g,exportScale:a.exportScale,exportEmbedScene:a.exportEmbedScene&&"svg"===t});case 6:if(u=e.sent,"svg"!==t){e.next=13;break}return e.next=10,st(new Blob([u.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(s,".svg"),extensions:[".svg"]});case 10:return e.abrupt("return");case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,Au(u.outerHTML);case 16:return e.abrupt("return");case 17:return(I=Os(n,a,{exportBackground:o,viewBackgroundColor:l,exportPadding:g})).style.display="none",document.body.appendChild(I),e.next=22,Ss(I);case 22:if(d=e.sent,I.remove(),"png"!==t){e.next=36;break}if(C="".concat(s,".png"),!a.exportEmbedScene){e.next=32;break}return e.next=29,Promise.all([r.e(736),r.e(9)]).then(r.bind(r,8527));case 29:return e.next=31,e.sent.encodePngMetadata({blob:d,metadata:ws(n,a)});case 31:d=e.sent;case 32:return e.next=34,st(d,{fileName:C,extensions:[".png"]});case 34:e.next=47;break;case 36:if("clipboard"!==t){e.next=47;break}return e.prev=37,e.next=40,bu(d);case 40:e.next=47;break;case 42:if(e.prev=42,e.t0=e.catch(37),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=46;break}throw e.t0;case 46:throw new Error(L("alerts.couldNotCopyToClipboard"));case 47:case"end":return e.stop()}}),e,null,[[37,42]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),pu=(r(7225),function(e){var t=e.children,n=e.checked,r=e.onChange;return p().createElement("div",{className:at("Checkbox",{"is-checked":n}),onClick:function(e){r(!n),e.currentTarget.querySelector(".Checkbox-box").focus()}},p().createElement("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n},Dc),p().createElement("div",{className:"Checkbox-label"},t))});function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r(4623);var Fu=function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,i=e.className,o=e.style;return p().createElement("div",{className:at("Stack Stack_horizontal",i),style:fu({"--gap":n,alignItems:r,justifyContent:a},o)},t)},yu=function(e){var t=e.children,n=e.gap,r=e.align,a=e.justifyContent,i=e.className;return p().createElement("div",{className:at("Stack Stack_vertical",i),style:{"--gap":n,justifyItems:r,justifyContent:a}},t)},xu=(r(554),function(e){var t=e.fileName,n=e.onSave;return p().createElement(Fu,{className:"ActiveFile",gap:1,align:"center"},p().createElement("span",{className:"ActiveFile__fileName"},hg,p().createElement("span",null,t)),p().createElement(wc,{type:"icon",icon:Tc,title:L("buttons.save"),"aria-label":L("buttons.save"),onClick:n,"data-testid":"save-button"}))});function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jg({name:"changeProjectName",perform:function(e,t,n){return Hl("change","title"),{appState:Gu(Gu({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return p().createElement(Ll,{label:L("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)},isNameEditable:void 0===r.name&&!t.viewModeEnabled})}}),jg({name:"changeExportScale",perform:function(e,t,n){return{appState:Gu(Gu({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=uc(t),i=hc(a,n)?mc(a,n):a;return p().createElement(p().Fragment,null,Q.ZB.map((function(e){var t=function(e,t,n){var r=_(Ys(e,t).map((function(e){return Math.trunc(e*n)})),4);return[r[2],r[3]]}(i,Q.qy,e),a=_(t,2),o=a[0],c=a[1],g="".concat(L("buttons.scale")," ").concat(e,"x (").concat(o,"x").concat(c,")");return p().createElement(wc,{key:e,size:"s",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:g,"aria-label":g,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}})})))}}),jg({name:"changeExportBackground",perform:function(e,t,n){return{appState:Gu(Gu({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement(pu,{checked:t.exportBackground,onChange:function(e){return n(e)}},L("labels.withBackground"))}}),jg({name:"changeExportEmbedScene",perform:function(e,t,n){return{appState:Gu(Gu({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement(pu,{checked:t.exportEmbedScene,onChange:function(e){return n(e)}},L("labels.exportEmbedScene"),p().createElement(Jl,{label:L("labels.exportEmbedScene_details"),long:!0},p().createElement("div",{className:"Tooltip-icon"},eg)))}}),jg({name:"saveToActiveFile",perform:(Uu=(0,F.Z)(Z().mark((function e(t,n,r){var a,i,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!!n.fileHandle,e.prev=1,e.next=4,Ns(t,n);case 4:return i=e.sent,o=i.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Gu(Gu({},n),{},{fileHandle:o,toastMessage:a?o.name?L("toast.fileSavedToFilename").replace("{filename}",'"'.concat(o.name,'"')):L("toast.fileSaved"):null})});case 9:return e.prev=9,e.t0=e.catch(1),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)&&console.error(e.t0),e.abrupt("return",{commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(e,t,n){return Uu.apply(this,arguments)}),keyTest:function(e){return e.key===kn&&e[xn]&&!e.shiftKey},PanelComponent:function(e){var t,n=e.updateData,r=e.appState;return p().createElement(xu,{onSave:function(){return n(null)},fileName:null===(t=r.fileHandle)||void 0===t?void 0:t.name})}});var Uu,Xu,Eu,Su=jg({name:"saveFileToDisk",perform:(Xu=(0,F.Z)(Z().mark((function e(t,n,r){var a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ns(t,Gu(Gu({},n),{},{fileHandle:null}));case 3:return a=e.sent,i=a.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Gu(Gu({},n),{},{fileHandle:i})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)&&console.error(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,n){return Xu.apply(this,arguments)}),keyTest:function(e){return e.key===kn&&e.shiftKey&&e[xn]},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:Oc,title:L("buttons.saveAs"),"aria-label":L("buttons.saveAs"),showAriaLabel:aC(),hidden:!it,onClick:function(){return t(null)},"data-testid":"save-as-button"})}});function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jg({name:"loadScene",perform:(Eu=(0,F.Z)(Z().mark((function e(t,n){var r,a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zs(n,t);case 3:return r=e.sent,a=r.elements,i=r.appState,e.abrupt("return",{elements:a,appState:i,commitToHistory:!0});case 9:if(e.prev=9,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",{elements:t,appState:Gu(Gu({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e,t){return Eu.apply(this,arguments)}),keyTest:function(e){return e[xn]&&e.key===Dn},PanelComponent:function(e){var t=e.updateData;return e.appState,p().createElement(wc,{type:"button",icon:kc,title:L("buttons.load"),"aria-label":L("buttons.load"),showAriaLabel:aC(),onClick:t,"data-testid":"load-button"})}}),jg({name:"exportWithDarkMode",perform:function(e,t,n){return{appState:Gu(Gu({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},p().createElement(Nl,{value:t.exportWithDarkMode?"dark":"light",onChange:function(e){n("dark"===e)},title:L("labels.toggleExportColorScheme")}))}});var Zu="{}",Vu=jg({name:"copyStyles",perform:function(e,t){var n=e.find((function(e){return t.selectedElementIds[e.id]}));return n&&(Zu=JSON.stringify(n)),{appState:Nu(Nu({},t),{},{toastMessage:L("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[xn]&&e.altKey&&e.code===sn}}),Wu=jg({name:"pasteStyles",perform:function(e,t){var n,r=JSON.parse(Zu);return"text"!==(null==(n=r)?void 0:n.type)&&"diamond"!==(null==n?void 0:n.type)&&"rectangle"!==(null==n?void 0:n.type)&&"ellipse"!==(null==n?void 0:n.type)&&"arrow"!==(null==n?void 0:n.type)&&"freedraw"!==(null==n?void 0:n.type)&&"line"!==(null==n?void 0:n.type)?{elements:e,commitToHistory:!1}:{elements:e.map((function(e){if(t.selectedElementIds[e.id]){var n=Qa(e,{backgroundColor:null==r?void 0:r.backgroundColor,strokeWidth:null==r?void 0:r.strokeWidth,strokeColor:null==r?void 0:r.strokeColor,strokeStyle:null==r?void 0:r.strokeStyle,fillStyle:null==r?void 0:r.fillStyle,opacity:null==r?void 0:r.opacity,roughness:null==r?void 0:r.roughness});return dt(n)&&(pa(n,{fontSize:(null==r?void 0:r.fontSize)||Q.n5,fontFamily:(null==r?void 0:r.fontFamily)||Q.rk,textAlign:(null==r?void 0:r.textAlign)||Q.Hg}),ic(n)),n}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[xn]&&e.altKey&&e.code===Bn}}),Du=function(e){return p().createElement("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title},eg)};function Mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}jg({name:"toggleCanvasMenu",perform:function(e,t){return{appState:Tu(Tu({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return p().createElement(wc,{type:"button",icon:_c,"aria-label":L("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),jg({name:"toggleEditMenu",perform:function(e,t){return{appState:Tu(Tu({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{visible:oc(n,uc(t)),type:"button",icon:Hc,"aria-label":L("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),jg({name:"toggleFullScreen",perform:function(){return sr()||document.documentElement.requestFullscreen(),sr()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return e.code===dn&&!e[xn]}}),jg({name:"toggleShortcuts",perform:function(e,t,n,r){var a=r.focusContainer;return t.showHelpDialog&&a(),{appState:Tu(Tu({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return p().createElement(Du,{title:L("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===Xn}});var Hu=function(e,t){var n=mc(uc(e),t);return n.length>=2&&!function(e){if(e.length>=2){var t,n=Yu(e[0].groupIds);try{var r=function(){var n=t.value;if(e.reduce((function(e,t){return e&&Wa(t,n)}),!0))return{v:!0}};for(n.s();!(t=n.n()).done;){var a=r();if("object"===X(a))return a.v}}catch(e){n.e(e)}finally{n.f()}}return!1}(n)},Lu=jg({name:"group",perform:function(e,t){var n=mc(uc(e),t);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=Za(t);if(1===r.length){var a=r[0],i=new Set(Da(e,a).map((function(e){return e.id}))),o=new Set(n.map((function(e){return e.id})));if(new Set([].concat(q(Array.from(i)),q(Array.from(o)))).size===i.size)return{appState:t,elements:e,commitToHistory:!1}}var c=Aa(),g=e.map((function(e){return t.selectedElementIds[e.id]?Qa(e,{groupIds:Ma(e.groupIds,c,t.editingGroupId)}):e})),l=Da(g,c),s=l[l.length-1],u=g.lastIndexOf(s),I=g.slice(u+1),d=g.slice(0,u).filter((function(e){return!Wa(e,c)})),C=[].concat(q(d),q(l),q(I));return{appState:Sa(c,ku(ku({},t),{},{selectedGroupIds:{}}),uc(C)),elements:C,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return Hu(e,t)},keyTest:function(e){return!e.shiftKey&&e[xn]&&e.code===In},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!Hu(t,n),type:"button",icon:p().createElement(mg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.group")," \u2014 ").concat(ur("CtrlOrCmd+G")),"aria-label":L("labels.group"),visible:hc(uc(t),n)})}}),zu=jg({name:"ungroup",perform:function(e,t){if(0===Za(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=e.map((function(e){var n=function(e,t){return e.filter((function(e){return!t[e]}))}(e.groupIds,t.selectedGroupIds);return n.length===e.groupIds.length?e:Qa(e,{groupIds:n})}));return{appState:Va(ku(ku({},t),{},{selectedGroupIds:{}}),uc(n)),elements:n,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[xn]&&e.code===In},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return Za(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{type:"button",hidden:0===Za(n).length,icon:p().createElement(pg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.ungroup")," \u2014 ").concat(ur("CtrlOrCmd+Shift+G")),"aria-label":L("labels.ungroup"),visible:hc(uc(t),n)})}}),Ju=(r(2789),function(e){var t=e.children,n=e.color,r=e.border,a=e.onClick;return p().createElement("div",{className:"Avatar",style:{background:n,border:"1px solid ".concat(r)},onClick:a},t)});function ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jg({name:"goToCollaborator",perform:function(e,t,n){var r=n;return r?{appState:Pu(Pu(Pu({},t),Qc({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.id;if(!r)return null;var a=t.collaborators.get(r);if(!a)return null;var i=Pl(r,t),o=i.background,c=i.stroke,g=function(e){if(!e)return"?";var t=e.trim().split(" ");if(t.length<2)return t[0].substring(0,2).toUpperCase();var n=t[0],r=t[t.length-1];return(n[0]+r[0]).toUpperCase()}(a.username);return p().createElement(Ju,{color:o,border:c,onClick:function(){return n(a.pointer)}},g)}});var Ku=jg({name:"addToLibrary",perform:function(e,t,n,r){var a=mc(uc(e),t);return r.library.loadLibrary().then((function(e){r.library.saveLibrary([].concat(q(e),[a.map(ja)]))})),!1},contextItemLabel:"labels.addToLibrary"});function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $u=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],r=t.get(n)||[];t.set(n,[].concat(q(r),[e]))})),Array.from(t.values())},eI=function(e,t,n){var r=n.axis,a=n.position,i=tI(e),o=_("x"===r?["minX","maxX"]:["minY","maxY"],2),c=o[0],g=o[1];return qu(qu({},{x:0,y:0}),{},$({},r,"start"===a?t[c]-i[c]:"end"===a?t[g]-i[g]:(t[c]+t[g])/2-(i[c]+i[g])/2))},tI=function(e){var t=_(kt(e),4);return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},nI=function(e,t){return mc(uc(e),t).length>1},rI=function(e,t,n){var r=function(e,t){var n=$u(e),r=tI(e);return n.flatMap((function(e){var n=eI(e,r,t);return e.map((function(e){return Qa(e,{x:e.x+n.x,y:e.y+n.y})}))}))}(mc(uc(e),t),n),a=lc(r);return e.map((function(e){return a[e.id]||e}))};function aI(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return iI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iI(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function iI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}jg({name:"alignTop",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[xn]&&e.shiftKey&&e.key===fn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(og,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.alignTop")," \u2014 ").concat(ur("CtrlOrCmd+Shift+Up")),"aria-label":L("labels.alignTop"),visible:hc(uc(t),n)})}}),jg({name:"alignBottom",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[xn]&&e.shiftKey&&e.key===mn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(cg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.alignBottom")," \u2014 ").concat(ur("CtrlOrCmd+Shift+Down")),"aria-label":L("labels.alignBottom"),visible:hc(uc(t),n)})}}),jg({name:"alignLeft",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[xn]&&e.shiftKey&&e.key===pn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(gg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.alignLeft")," \u2014 ").concat(ur("CtrlOrCmd+Shift+Left")),"aria-label":L("labels.alignLeft"),visible:hc(uc(t),n)})}}),jg({name:"alignRight",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[xn]&&e.shiftKey&&e.key===Qn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(lg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.alignRight")," \u2014 ").concat(ur("CtrlOrCmd+Shift+Right")),"aria-label":L("labels.alignRight"),visible:hc(uc(t),n)})}}),jg({name:"alignVerticallyCentered",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(Ig,{theme:n.theme}),onClick:function(){return r(null)},title:L("labels.centerVertically"),"aria-label":L("labels.centerVertically"),visible:hc(uc(t),n)})}}),jg({name:"alignHorizontallyCentered",perform:function(e,t){return{appState:t,elements:rI(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!nI(t,n),type:"button",icon:p().createElement(dg,{theme:n.theme}),onClick:function(){return r(null)},title:L("labels.centerHorizontally"),"aria-label":L("labels.centerHorizontally"),visible:hc(uc(t),n)})}});var oI=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],r=t.get(n)||[];t.set(n,[].concat(q(r),[e]))})),Array.from(t.values())},cI=function(e){var t=_(kt(e),4),n=t[0],r=t[1],a=t[2],i=t[3];return{minX:n,minY:r,maxX:a,maxY:i,width:a-n,height:i-r,midX:(n+a)/2,midY:(r+i)/2}},gI=function(e,t){return mc(uc(e),t).length>1},lI=function(e,t,n){var r=function(e,t){var n,r=_("x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),a=r[0],i=r[1],o=r[2],c=r[3],g=cI(e),l=oI(e).map((function(e){return[e,cI(e)]})).sort((function(e,t){return e[1][i]-t[1][i]})),s=0,u=aI(l);try{for(u.s();!(n=u.n()).done;)s+=n.value[1][c]}catch(e){u.e(e)}finally{u.f()}var I=(g[c]-s)/(l.length-1);if(I<0){var d=l.findIndex((function(e){return e[1][a]===g[a]})),C=l.findIndex((function(e){return e[1][o]===g[o]})),B=(l[C][1][i]-l[d][1][i])/(l.length-1),b=l[d][1][i];return l.flatMap((function(e,n){var r=_(e,2),a=r[0],o=r[1],c={x:0,y:0};return n!==d&&n!==C&&(b+=B,c[t.axis]=b-o[i]),a.map((function(e){return Qa(e,{x:e.x+c.x,y:e.y+c.y})}))}))}var A=g[a];return l.flatMap((function(e){var n=_(e,2),r=n[0],i=n[1],o={x:0,y:0};return o[t.axis]=A-i[a],A+=I,A+=i[c],r.map((function(e){return Qa(e,{x:e.x+o.x,y:e.y+o.y})}))}))}(mc(uc(e),t),n),a=lc(r);return e.map((function(e){return a[e.id]||e}))},sI=(jg({name:"distributeHorizontally",perform:function(e,t){return{appState:t,elements:lI(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Cn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!gI(t,n),type:"button",icon:p().createElement(sg,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.distributeHorizontally")," \u2014 ").concat(ur("Alt+H")),"aria-label":L("labels.distributeHorizontally"),visible:hc(uc(t),n)})}}),jg({name:"distributeVertically",perform:function(e,t){return{appState:t,elements:lI(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Bn},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return p().createElement(wc,{hidden:!gI(t,n),type:"button",icon:p().createElement(ug,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(L("labels.distributeVertically")," \u2014 ").concat(ur("Alt+V")),"aria-label":L("labels.distributeVertically"),visible:hc(uc(t),n)})}}),jg({name:"flipHorizontal",perform:function(e,t){return{elements:II(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyH"===e.code},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(e,t){var n=mc(uc(e),t);return 1===n.length&&"text"!==n[0].type}(e,t)}})),uI=jg({name:"flipVertical",perform:function(e,t){return{elements:II(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyV"===e.code},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(e,t){return 1===mc(uc(e),t).length}(e,t)}}),II=function(e,t,n){var r=mc(uc(e),t);if(r.length>1)return e;var a=dI(r,t,n),i=lc(a);return e.map((function(e){return i[e.id]||e}))},dI=function(e,t,n){for(var r=0;r<e.length;r++)CI(e[r],t),"vertical"===n&&BI(e[r],Math.PI);return e},CI=function(e,t){var n=e.x,r=e.y,a=e.width,i=e.height,o=Jo(e.angle),c=0;(bt(e)||Ct(e))&&(c=2*e.points.reduce((function(e,t){return Math.max(e,t[0])}),0)-e.width),pa(e,{angle:Jo(0)});var g=ri(e,t.zoom),l=!0,s=0,u=g.nw;if(u||(l=!1,u=g.ne)){if(bt(e)){for(var I=1;I<e.points.length;I++)bo.movePoint(e,I,[-e.points[I][0],e.points[I][1]]);bo.normalizePoints(e)}else s=l?e.x+2*a:e.x-2*a,$o(e,!0,e,l?"nw":"ne",!1,s,u[1]),pa(e,{width:a,height:i});var d=Jo(2*Math.PI-o);d<0&&(d=Jo(d+2*Math.PI)),pa(e,{angle:d}),pa(e,{x:n+c,y:r}),So(e)}else pa(e,{angle:o})},BI=function(e,t){var n=e.x,r=e.y,a=Jo(e.angle+t);a<0&&(a=Jo(2*Math.PI+a)),pa(e,{angle:a}),pa(e,{x:n,y:r})};function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hI=jg({name:"copy",perform:function(e,t){return uu(uc(e),t),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),mI=jg({name:"cut",perform:function(e,t,n,r){return hI.perform(e,t,n,r),qg.perform(e,t,n,r)},contextItemLabel:"labels.cut",keyTest:function(e){return e[xn]&&e.code===bn}}),pI=jg({name:"copyAsSvg",perform:function(){var e=(0,F.Z)(Z().mark((function e(t,n,r,a){var i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return i=mc(uc(t),n),e.prev=3,e.next=6,mu("clipboard-svg",i.length?i:uc(t),n,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:AI(AI({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),QI=jg({name:"copyAsPng",perform:function(){var e=(0,F.Z)(Z().mark((function e(t,n,r,a){var i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return i=mc(uc(t),n),e.prev=3,e.next=6,mu("clipboard",i.length?i:uc(t),n,n);case 6:return e.abrupt("return",{appState:AI(AI({},n),{},{toastMessage:L("toast.copyToClipboardAsPng",{exportSelection:i.length?L("toast.selection"):L("toast.canvas"),exportColorScheme:n.exportWithDarkMode?L("buttons.darkMode"):L("buttons.lightMode")})}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:AI(AI({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===sn&&e.altKey&&e.shiftKey}});function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yI=jg({name:"gridMode",perform:function(e,t){return Hl("view","mode","grid"),{appState:FI(FI({},t),{},{gridSize:this.checked(t)?null:Q.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[xn]&&e.code===cn}});function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GI=jg({name:"zenMode",perform:function(e,t){return Hl("view","mode","zen"),{appState:vI(vI({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[xn]&&e.altKey&&e.code===An}});function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EI=jg({name:"stats",perform:function(e,t){return{appState:XI(XI({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[xn]&&e.altKey&&e.code===ln}});function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NI=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var a=n();if(null===a)return{commitToHistory:r};var i=lc(e),o=a.elements,c=lc(o),g=e.filter((function(e){return!c.hasOwnProperty(e.id)})),l=o.map((function(e){return Qa(i[e.id]||e,e)})).concat(g.map((function(e){return Qa(e,{isDeleted:!0})})));return Ro(l,g),{elements:l,appState:wI(wI({},t),a.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},ZI=function(){function e(t,n,r,a){var i=this;y(this,e),this.actions={},this.renderAction=function(e,t){var n=i.app.props.UIOptions.canvasActions;if(i.actions[e]&&"PanelComponent"in i.actions[e]&&(!(e in n)||n[e])){var r=i.actions[e],a=r.PanelComponent;return p().createElement(a,{elements:i.getElementsIncludingDeleted(),appState:i.getAppState(),updateData:function(e){i.updater(r.perform(i.getElementsIncludingDeleted(),i.getAppState(),e,i.app))},id:t,appProps:i.app.props})}return null},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=a}return v(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));return 0!==r.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Q.EH).includes(r[0].name))&&(e.preventDefault(),this.updater(r[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(e){this.updater(e.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),e}(),VI=function(){function e(t){var n=this;y(this,e),this.libraryCache=null,this.resetLibrary=(0,F.Z)(Z().mark((function e(){var t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(r=n.app.props).onLibraryChange)||void 0===t?void 0:t.call(r,[]);case 2:n.libraryCache=[];case 3:case"end":return e.stop()}}),e)}))),this.restoreLibraryItem=function(e){var t=uc(Fs(e,null));return t.length?t:null},this.loadLibrary=function(){return new Promise(function(){var e=(0,F.Z)(Z().mark((function e(t){var r,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.libraryCache){e.next=2;break}return e.abrupt("return",t(JSON.parse(JSON.stringify(n.libraryCache))));case 2:if(e.prev=2,r=n.app.libraryItemsFromStorage){e.next=6;break}return e.abrupt("return",t([]));case 6:a=r.reduce((function(e,t){return n.restoreLibraryItem(t)&&e.push(t),e}),[]),n.libraryCache=JSON.parse(JSON.stringify(a)),t(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),t([]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())},this.saveLibrary=function(){var e=(0,F.Z)(Z().mark((function e(t){var r,a,i,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.libraryCache,e.prev=1,o=JSON.stringify(t),n.libraryCache=JSON.parse(o),e.next=6,null===(a=(i=n.app.props).onLibraryChange)||void 0===a?void 0:a.call(i,t);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),n.libraryCache=r,e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.app=t}var t;return v(e,[{key:"importLibrary",value:(t=(0,F.Z)(Z().mark((function e(t){var n,r,a,i,o=this;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(t);case 2:if((n=e.sent)&&n.library){e.next=5;break}return e.abrupt("return");case 5:return r=function(e,t){return!e.find((function(e){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id&&e.versionNonce===t[n].versionNonce}))}))},e.next=8,this.loadLibrary();case 8:return a=e.sent,i=n.library.reduce((function(e,t){var n=o.restoreLibraryItem(t);return n&&r(a,n)&&e.push(n),e}),[]),e.next=12,this.saveLibrary([].concat(q(a),q(i)));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),WI=function(e){var t=Array.from(e.values());return{x:MI(t,(function(e){return e.x}))/t.length,y:MI(t,(function(e){return e.y}))/t.length}},DI=function(e){var t=_(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},MI=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)};function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TI(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kI=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},YI=function(){function e(){var t=this;y(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:kI(e),elements:n.reduce((function(t,n){if(bt(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push(OI(OI({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return v(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,ja(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var a=e.elements[r],i=n.elements[r];if(!a||!i||a.id!==i.id||a.versionNonce!==i.versionNonce)return!0}for(t in e.appState){var o,c;if(("editingLinearElement"!==t||(null===(o=e.appState[t])||void 0===o?void 0:o.elementId)!==(null===(c=n.appState[t])||void 0===c?void 0:c.elementId))&&"selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}(),RI=[{icon:p().createElement("svg",{viewBox:"0 0 320 512",className:""},p().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:Rn},{icon:p().createElement("svg",{viewBox:"0 0 448 512"},p().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:On},{icon:p().createElement("svg",{viewBox:"0 0 223.646 223.646"},p().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:Nn},{icon:p().createElement("svg",{viewBox:"0 0 512 512"},p().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:Zn},{icon:p().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},p().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:wn},{icon:p().createElement("svg",{viewBox:"0 0 6 6"},p().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:[Mn,Wn]},{icon:p().createElement("svg",{viewBox:"0 0 512 512"},p().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"freedraw",key:Hn},{icon:p().createElement("svg",{viewBox:"0 0 448 512"},p().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:Yn}],HI=(r(1292),{cut:[ur("CtrlOrCmd+X")],copy:[ur("CtrlOrCmd+C")],paste:[ur("CtrlOrCmd+V")],copyStyles:[ur("CtrlOrCmd+Alt+C")],pasteStyles:[ur("CtrlOrCmd+Alt+V")],selectAll:[ur("CtrlOrCmd+A")],deleteSelectedElements:[ur("Del")],duplicateSelection:[ur("CtrlOrCmd+D"),ur("Alt+".concat(L("helpDialog.drag")))],sendBackward:[ur("CtrlOrCmd+[")],bringForward:[ur("CtrlOrCmd+]")],sendToBack:[ur(jt?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[ur(jt?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[ur("Shift+Alt+C")],copyAsSvg:[],group:[ur("CtrlOrCmd+G")],ungroup:[ur("CtrlOrCmd+Shift+G")],gridMode:[ur("CtrlOrCmd+'")],zenMode:[ur("Alt+Z")],stats:[ur("Alt+/")],addToLibrary:[],flipHorizontal:[ur("Shift+H")],flipVertical:[ur("Shift+V")],viewMode:[ur("Alt+R")]}),LI=function(e){var t=e.options,n=e.onCloseRequest,r=e.top,a=e.left,i=e.actionManager,o=e.appState;return p().createElement(pl,{onCloseRequest:n,top:r,left:a,fitInViewport:!0},p().createElement("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()}},t.map((function(e,t){var r;if("separator"===e)return p().createElement("hr",{key:t,className:"context-menu-option-separator"});var a,c=e.name,g=e.contextItemLabel?L(e.contextItemLabel):"";return p().createElement("li",{key:t,"data-testid":c,onClick:n},p().createElement("button",{className:at("context-menu-option",{dangerous:"deleteSelectedElements"===c,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),onClick:function(){return i.executeAction(e)}},p().createElement("div",{className:"context-menu-option__label"},g),p().createElement("kbd",{className:"context-menu-option__shortcut"},c&&(a=HI[c])&&a.length>0?a[0]:"")))}))))},zI=new WeakMap,JI=function(e){var t,n,r=Array.of();e.options.forEach((function(e){e&&r.push(e)})),r.length&&(0,Jt.render)(p().createElement(LI,{top:e.top,left:e.left,options:r,onCloseRequest:function(){return t=e.container,void((n=zI.get(t))&&((0,Jt.unmountComponentAtNode)(n),n.remove(),zI.delete(t)));var t,n},actionManager:e.actionManager,appState:e.appState}),(t=e.container,(n=zI.get(t))||(n=document.createElement("div"),t.querySelector(".excalidraw-contextMenuContainer").appendChild(n),zI.set(t,n),n)))},jI=function(e){var t=e.appState,n=e.elements,r=e.renderAction,a=e.elementType,i=pc(uc(n),t),o=Boolean(t.editingElement),c=aC(),g="rtl"===document.documentElement.getAttribute("dir"),l=Fc(a)||i.some((function(e){return Fc(e.type)&&(n=5===(t=e.backgroundColor).length&&"0"===t.substr(4,1),r=9===t.length&&"00"===t.substr(7,2),!(n||r||t===zt.elementBackground[0]));var t,n,r})),s=Fc(a)||i.some((function(e){return Fc(e.type)}));return p().createElement("div",{className:"panelColumn"},r("changeStrokeColor"),s&&r("changeBackgroundColor"),l&&r("changeFillStyle"),(yc(a)||i.some((function(e){return yc(e.type)})))&&r("changeStrokeWidth"),("freedraw"===a||i.some((function(e){return"freedraw"===e.type})))&&r("changeStrokeShape"),(xc(a)||i.some((function(e){return xc(e.type)})))&&p().createElement(p().Fragment,null,r("changeStrokeStyle"),r("changeSloppiness")),(vc(a)||i.some((function(e){return vc(e.type)})))&&p().createElement(p().Fragment,null,r("changeSharpness")),(Gc(a)||i.some((function(e){return Gc(e.type)})))&&p().createElement(p().Fragment,null,r("changeFontSize"),r("changeFontFamily"),r("changeTextAlign")),(Uc(a)||i.some((function(e){return Uc(e.type)})))&&p().createElement(p().Fragment,null,r("changeArrowhead")),r("changeOpacity"),p().createElement("fieldset",null,p().createElement("legend",null,L("labels.layers")),p().createElement("div",{className:"buttonList"},r("sendToBack"),r("sendBackward"),r("bringToFront"),r("bringForward"))),i.length>1&&p().createElement("fieldset",null,p().createElement("legend",null,L("labels.align")),p().createElement("div",{className:"buttonList"},g?p().createElement(p().Fragment,null,r("alignRight"),r("alignHorizontallyCentered"),r("alignLeft")):p().createElement(p().Fragment,null,r("alignLeft"),r("alignHorizontallyCentered"),r("alignRight")),i.length>2&&r("distributeHorizontally"),p().createElement("div",{className:"iconRow"},r("alignTop"),r("alignVerticallyCentered"),r("alignBottom"),i.length>2&&r("distributeVertically")))),!c&&!o&&i.length>0&&p().createElement("fieldset",null,p().createElement("legend",null,L("labels.actions")),p().createElement("div",{className:"buttonList"},r("duplicateSelection"),r("deleteSelectedElements"),r("group"),r("ungroup"))))},PI=function(e){var t=e.canvas,n=e.elementType,r=e.setAppState;return p().createElement(p().Fragment,null,RI.map((function(e,a){var i=e.value,o=e.icon,c=e.key,g=L("toolBar.".concat(i)),l="string"==typeof c?c:c[0],s="".concat(er(l)," ").concat(L("helpDialog.or")," ").concat(a+1);return p().createElement(wc,{className:"Shape",key:i,type:"radio",icon:o,checked:n===i,name:"editor-current-shape",title:"".concat(er(g)," \u2014 ").concat(s),keyBindingLabel:"".concat(a+1),"aria-label":er(g),"aria-keyshortcuts":s,"data-testid":i,onChange:function(){r({elementType:i,multiElement:null,selectedElementIds:{}}),lr(t,i),r({})}})})))},KI=function(e){var t=e.renderAction,n=e.zoom;return p().createElement(yu,{gap:1},p().createElement(Fu,{gap:1,align:"center"},t("zoomIn"),t("zoomOut"),t("resetZoom"),p().createElement("div",{style:{marginInlineStart:4}},(100*n.value).toFixed(0),"%")))},_I=function(e){e.appState,e.setAppState;var t=e.actionManager,n=e.showThemeBtn;return p().createElement("div",{style:{display:"flex"}},t.renderAction("changeViewBackgroundColor"),n&&t.renderAction("toggleTheme"))},qI=(r(778),function(e){var t=e.isCollaborating,n=e.collaboratorCount,r=e.onClick;return p().createElement(p().Fragment,null,p().createElement(wc,{className:at("CollabButton",{"is-collaborating":t}),onClick:r,icon:Cg,type:"button",title:L("labels.liveCollaboration"),"aria-label":L("labels.liveCollaboration"),showAriaLabel:aC()},n>0&&p().createElement("div",{className:"CollabButton-collaborators"},n)))});function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$I(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r(196),r(1106);var td=p().forwardRef((function(e,t){var n=e.children,r=e.padding,a=e.className,i=e.style;return p().createElement("div",{className:at("Island",a),style:ed({"--padding":r},i),ref:t},n)})),nd=(r(8328),function(e){var t=e.theme,n=rd(void 0===t?"light":t);return n?(0,Jt.createPortal)(p().createElement("div",{className:at("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===Un&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy},p().createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),p().createElement("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0},e.children)),n):null}),rd=function(e){var t=_((0,m.useState)(null),2),n=t[0],r=t[1],a=aC(),i=(0,m.useRef)(a);i.current=a;var o=oC().container;return(0,m.useLayoutEffect)((function(){n&&n.classList.toggle("excalidraw--mobile",a)}),[n,a]),(0,m.useLayoutEffect)((function(){var t=!(null==o||!o.classList.contains("theme--dark"))||"dark"===e,n=document.createElement("div");return n.classList.add("excalidraw","excalidraw-modal-container"),n.classList.toggle("excalidraw--mobile",i.current),t&&(n.classList.add("theme--dark"),n.classList.add("theme--dark-background-none")),document.body.appendChild(n),r(n),function(){document.body.removeChild(n)}}),[o,e]),n},ad=function(e){var t=function(){var e=_((0,m.useState)(null),2),t=e[0],n=e[1];return[t,(0,m.useCallback)((function(e){return n(e)}),[])]}(),n=_(t,2),r=n[0],a=n[1],i=_((0,m.useState)(document.activeElement),1)[0],o=oC().id;(0,m.useEffect)((function(){if(r){var t=c(r);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===Sn){var t=c(r),n=document.activeElement,a=t.findIndex((function(e){return e===n}));0===a&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):a!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return r.addEventListener("keydown",n),function(){return r.removeEventListener("keydown",n)}}}),[r,e.autofocus]);var c=function(e){var t=e.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return t?Array.from(t):[]},g=function(){i.focus(),e.onCloseRequest()};return p().createElement(nd,{className:at("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:g,theme:e.theme},p().createElement(td,{ref:a},p().createElement("h2",{id:"".concat(o,"-dialog-title"),className:"Dialog__title"},p().createElement("span",{className:"Dialog__titleContent"},e.title),p().createElement("button",{className:"Modal__close",onClick:g,"aria-label":L("buttons.close")},aC()?bg:Bg)),p().createElement("div",{className:"Dialog__content"},e.children)))},id=function(e){var t=e.message,n=e.onClose,r=_((0,m.useState)(!!t),2),a=r[0],i=r[1],o=oC().container,c=p().useCallback((function(){i(!1),n&&n(),null==o||o.focus()}),[n,o]);return p().createElement(p().Fragment,null,a&&p().createElement(ad,{small:!0,onCloseRequest:c,title:L("errorDialog.title")},p().createElement("div",{style:{whiteSpace:"pre-wrap"}},t)))},od=(r(2205),"filter"in document.createElement("canvas").getContext("2d")),cd=function(){return p().createElement("div",null,p().createElement("h3",null,L("canvasError.cannotShowPreview")),p().createElement("p",null,p().createElement("span",null,L("canvasError.canvasTooBig"))),p().createElement("em",null,"(",L("canvasError.canvasTooBigTip"),")"))},gd=function(e,t){(0,Jt.unmountComponentAtNode)(t),t.innerHTML="",e instanceof HTMLCanvasElement?t.appendChild(e):(0,Jt.render)(p().createElement(cd,null),t)},ld=function(e){var t,n=e.children,r=e.title,a=e.onClick,i=e.color,o=e.shade,c=void 0===o?6:o;return p().createElement("button",{className:"ExportDialog-imageExportButton",style:(t={},$(t,"--button-color",Ht[i][c]),$(t,"--button-color-darker",Ht[i][c+1]),$(t,"--button-color-darkest",Ht[i][c+2]),t),title:r,"aria-label":r,onClick:a},n)},sd=function(e){var t=e.elements,n=e.appState,r=e.exportPadding,a=void 0===r?Q.qy:r,i=e.actionManager,o=e.onExportToPng,c=e.onExportToSvg,g=e.onExportToClipboard,l=hc(t,n),s=_((0,m.useState)(l),2),u=s[0],I=s[1],d=(0,m.useRef)(null),C=n.exportBackground,B=n.viewBackgroundColor,b=u?mc(t,n):t;return(0,m.useEffect)((function(){I(l)}),[l]),(0,m.useEffect)((function(){var e=d.current;if(e)try{var t=Os(b,n,{exportBackground:C,viewBackgroundColor:B,exportPadding:a});Ss(t).then((function(){gd(t,e)})).catch((function(t){console.error(t),gd(new Bs,e)}))}catch(t){console.error(t),gd(new Bs,e)}}),[n,b,C,a,B]),p().createElement("div",{className:"ExportDialog"},p().createElement("div",{className:"ExportDialog__preview",ref:d}),od&&i.renderAction("exportWithDarkMode"),p().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr"}},p().createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"}},i.renderAction("changeExportBackground"),l&&p().createElement(pu,{checked:u,onChange:function(e){return I(e)}},L("labels.onlySelected")),i.renderAction("changeExportEmbedScene"))),p().createElement("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"}},p().createElement(Fu,{gap:2},i.renderAction("changeExportScale")),p().createElement("p",{style:{marginLeft:"1em",userSelect:"none"}},"Scale")),p().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"}},!it&&i.renderAction("changeProjectName")),p().createElement(Fu,{gap:2,justifyContent:"center",style:{margin:"2em 0"}},p().createElement(ld,{color:"indigo",title:L("buttons.exportToPng"),"aria-label":L("buttons.exportToPng"),onClick:function(){return o(b)}},"PNG"),p().createElement(ld,{color:"red",title:L("buttons.exportToSvg"),"aria-label":L("buttons.exportToSvg"),onClick:function(){return c(b)}},"SVG"),su&&p().createElement(ld,{title:L("buttons.copyPngToClipboard"),onClick:function(){return g(b)},color:"gray",shade:7},Yc)))},ud=function(e){var t=e.elements,n=e.appState,r=e.exportPadding,a=void 0===r?Q.qy:r,i=e.actionManager,o=e.onExportToPng,c=e.onExportToSvg,g=e.onExportToClipboard,l=_((0,m.useState)(!1),2),s=l[0],u=l[1],I=p().useCallback((function(){u(!1)}),[]);return p().createElement(p().Fragment,null,p().createElement(wc,{onClick:function(){u(!0)},"data-testid":"image-export-button",icon:zc,type:"button","aria-label":L("buttons.exportImage"),showAriaLabel:aC(),title:L("buttons.exportImage")}),s&&p().createElement(ad,{onCloseRequest:I,title:L("buttons.exportImage")},p().createElement(sd,{elements:t,appState:n,exportPadding:a,actionManager:i,onExportToPng:o,onExportToSvg:c,onExportToClipboard:g,onCloseRequest:I})))},Id=(r(1310),function(e){var t=e.children,n=e.side,r=e.className;return p().createElement("div",{className:at("FixedSideContainer","FixedSideContainer_side_".concat(n),r)},t)}),dd=(r(7096),function(e){var t=function(e){var t=e.appState,n=e.elements,r=t.elementType,a=t.isResizing,i=t.isRotating,o=t.lastPointerDownWith,c=null!==t.multiElement;if("arrow"===r||"line"===r)return L(c?"hints.linearElementMulti":"hints.linearElement");if("freedraw"===r)return L("hints.freeDraw");if("text"===r)return L("hints.text");var g=mc(n,t);if(a&&"mouse"===o&&1===g.length){var l=g[0];return bt(l)&&2===l.points.length?L("hints.lockAngle"):L("hints.resize")}return i&&"mouse"===o?L("hints.rotate"):1===g.length&&bt(g[0])?t.editingLinearElement?t.editingLinearElement.activePointIndex?L("hints.lineEditor_pointSelected"):L("hints.lineEditor_nothingSelected"):L("hints.lineEditor_info"):1===g.length&&dt(g[0])?L("hints.text_selected"):t.editingElement&&dt(t.editingElement)?L("hints.text_editing"):null}({appState:e.appState,elements:e.elements});return t?(t=ur(t),p().createElement("div",{className:"HintViewer"},p().createElement("span",null,t))):null});function Cd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r(3336),r(694);var bd=p().createElement("svg",{viewBox:"0 0 1792 1792"},p().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"})),Ad=function(e){var t=e.elements,n=e.pendingElements,r=e.onRemoveFromLibrary,a=e.onClick,i=(0,m.useRef)(null);(0,m.useEffect)((function(){var e=t||n;if(e){var r,a=i.current;return(0,F.Z)(Z().mark((function t(){var n,o,c;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ks(e,{exportBackground:!1,viewBackgroundColor:Ht.white});case 2:r=t.sent,n=Cd(i.current.children),t.prev=4,n.s();case 6:if((o=n.n()).done){t.next=13;break}if("svg"===(c=o.value).tagName){t.next=10;break}return t.abrupt("continue",11);case 10:a.removeChild(c);case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:a.appendChild(r);case 22:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))(),function(){r&&a.removeChild(r)}}}),[t,n]);var o=_((0,m.useState)(!1),2),c=o[0],g=o[1],l=aC(),s=(c||l)&&n&&p().createElement("div",{className:"library-unit__adder"},bd);return p().createElement("div",{className:at("library-unit",{"library-unit__active":t||n}),onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)}},p().createElement("div",{className:at("library-unit__dragger",{"library-unit__pulse":!!n}),ref:i,draggable:!!t,onClick:t||n?a:void 0,onDragStart:function(e){g(!1),e.dataTransfer.setData(Q.LO.excalidrawlib,JSON.stringify(t))}}),s,t&&(c||l)&&p().createElement("button",{className:"library-unit__removeFromLibrary","aria-label":L("labels.removeFromLibrary"),onClick:r},Bg))},hd={CHECKED:p().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},p().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),UNCHECKED:p().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},p().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"}))},md=function(e){return p().createElement("label",{className:at("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility","ToolIcon_size_".concat("m"),{"zen-mode-visibility--hidden":e.zenModeEnabled}),title:"".concat(e.title," \u2014 Q")},p().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),p().createElement("div",{className:"ToolIcon__icon"},e.checked?hd.CHECKED:hd.UNCHECKED))},pd=["heading","children"],Qd=function(e){var t=e.heading,n=e.children,r=va(e,pd),a=oC().id,i=p().createElement("h2",{className:"visually-hidden",id:"".concat(a,"-").concat(t,"-title")},L("headings.".concat(t)));return p().createElement("section",vl({},r,{"aria-labelledby":"".concat(a,"-").concat(t,"-title")}),"function"==typeof n?n(i):p().createElement(p().Fragment,null,i,n))},fd=(r(580),function(e){var t=e.children,n=e.className,r=e.mobile;return p().createElement("div",{className:at("UserList",n,{UserList_mobile:r})},t)}),Fd=p().createElement("svg",{viewBox:"0 0 576 512"},p().createElement("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})),yd=function(e){var t=e.appState,n=e.setAppState;return p().createElement("label",{className:at("ToolIcon ToolIcon_type_floating ToolIcon__library zen-mode-visibility","ToolIcon_size_m",{"zen-mode-visibility--hidden":t.zenModeEnabled}),title:"".concat(er(L("toolBar.library"))," \u2014 9"),style:{marginInlineStart:"var(--space-factor)"}},p().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(e){n({isLibraryOpen:e.target.checked})},checked:t.isLibraryOpen,"aria-label":er(L("toolBar.library")),"aria-keyshortcuts":"9"}),p().createElement("div",{className:"ToolIcon__icon"},Fd))};function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vd=function(e){var t=e.appState,n=e.elements,r=e.libraryMenu,a=e.actionManager,i=e.renderJSONExportDialog,o=e.renderImageExportDialog,c=e.setAppState,g=e.onCollabButtonClick,l=e.onLockToggle,s=e.canvas,u=e.isCollaborating,I=e.renderCustomFooter,d=e.viewModeEnabled,C=e.showThemeBtn;return p().createElement(p().Fragment,null,!d&&p().createElement(Id,{side:"top",className:"App-top-bar"},p().createElement(Qd,{heading:"shapes"},(function(e){return p().createElement(yu,{gap:4,align:"center"},p().createElement(Fu,{gap:1},p().createElement(td,{padding:1},e,p().createElement(Fu,{gap:1},p().createElement(PI,{canvas:s,elementType:t.elementType,setAppState:c}))),p().createElement(md,{checked:t.elementLocked,onChange:l,title:L("toolBar.lock")}),p().createElement(yd,{appState:t,setAppState:c})),r)})),p().createElement(dd,{appState:t,elements:n})),p().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},p().createElement(td,{padding:0},"canvas"===t.openMenu?p().createElement(Qd,{className:"App-mobile-menu",heading:"canvasActions"},p().createElement("div",{className:"panelColumn"},p().createElement(yu,{gap:4},d?p().createElement(p().Fragment,null,i(),o()):p().createElement(p().Fragment,null,a.renderAction("clearCanvas"),a.renderAction("loadScene"),i(),o(),g&&p().createElement(qI,{isCollaborating:u,collaboratorCount:t.collaborators.size,onClick:g}),p().createElement(_I,{actionManager:a,appState:t,setAppState:c,showThemeBtn:C})),null==I?void 0:I(!0,t),t.collaborators.size>0&&p().createElement("fieldset",null,p().createElement("legend",null,L("labels.collaborators")),p().createElement(fd,{mobile:!0},Array.from(t.collaborators).filter((function(e){var t=_(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=_(e,2),n=t[0];return t[1],p().createElement(p().Fragment,{key:n},a.renderAction("goToCollaborator",n))}))))))):"shape"===t.openMenu&&!d&&oc(t,n)?p().createElement(Qd,{className:"App-mobile-menu",heading:"selectedShapeActions"},p().createElement(jI,{appState:t,elements:n,renderAction:a.renderAction,elementType:t.elementType})):null,p().createElement("footer",{className:"App-toolbar"},d?p().createElement("div",{className:"App-toolbar-content"},a.renderAction("toggleCanvasMenu")):p().createElement("div",{className:"App-toolbar-content"},a.renderAction("toggleCanvasMenu"),a.renderAction("toggleEditMenu"),a.renderAction("undo"),a.renderAction("redo"),a.renderAction(t.multiElement?"finalize":"duplicateSelection"),a.renderAction("deleteSelectedElements")),t.scrolledOutside&&!t.openMenu&&p().createElement("button",{className:"scroll-back-to-content",onClick:function(){c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},fc(n,t)))}},L("buttons.scrollBackToContent"))))))},Gd=(r(8051),function(e){var t=(0,m.useRef)(null),n=_((0,m.useState)(null),2),r=n[0],a=n[1];return(0,m.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=iu(e.chartType,e.spreadsheet,0,0);a(r);var i=t.current;return(0,F.Z)(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ks(r,{exportBackground:!1,viewBackgroundColor:Ht.white});case 2:n=t.sent,i.appendChild(n),e.selected&&i.parentNode.focus();case 5:case"end":return t.stop()}}),t)})))(),function(){i.removeChild(n)}}}),[e.spreadsheet,e.chartType,e.selected]),p().createElement("button",{className:"ChartPreview",onClick:function(){r&&e.onClick(e.chartType,r)}},p().createElement("div",{ref:t}))}),Ud=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,a=e.onInsertChart,i=p().useCallback((function(){r&&r()}),[r]),o=function(e,n){a(n),Hl("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return p().createElement(ad,{small:!0,onCloseRequest:i,title:L("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},p().createElement("div",{className:"container"},p().createElement(Gd,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:o}),p().createElement(Gd,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:o})))},Xd=(r(3922),function(){return p().createElement("div",{className:"HelpDialog--header"},p().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},L("helpDialog.documentation")),p().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},L("helpDialog.blog")),p().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},L("helpDialog.github")))}),Ed=function(e){return p().createElement(p().Fragment,null,p().createElement("h3",null,e.title),e.children)},Sd=function(e){return p().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},e.children)},wd=function(e){return p().createElement("div",{style:{width:"49%"}},e.children)},Nd=function(e){return p().createElement("div",{className:"HelpDialog--island"},p().createElement("h3",{className:"HelpDialog--island-title"},e.caption),e.children)},Zd=function(e){return p().createElement("div",{className:"HelpDialog--shortcut"},p().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},p().createElement("div",{style:{lineHeight:1.4}},e.label),p().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},e.shortcuts.map((function(t,n){return p().createElement(p().Fragment,{key:n},p().createElement(Vd,null,t),e.isOr&&n!==e.shortcuts.length-1&&L("helpDialog.or"))})))))};Zd.defaultProps={isOr:!0};var Vd=function(e){return p().createElement("kbd",vl({className:"HelpDialog--key"},e))},Wd=function(e){var t=e.onClose,n=p().useCallback((function(){t&&t()}),[t]);return p().createElement(p().Fragment,null,p().createElement(ad,{onCloseRequest:n,title:L("helpDialog.title"),className:"HelpDialog"},p().createElement(Xd,null),p().createElement(Ed,{title:L("helpDialog.shortcuts")},p().createElement(Sd,null,p().createElement(wd,null,p().createElement(Nd,{caption:L("helpDialog.shapes")},p().createElement(Zd,{label:L("toolBar.selection"),shortcuts:["V","1"]}),p().createElement(Zd,{label:L("toolBar.rectangle"),shortcuts:["R","2"]}),p().createElement(Zd,{label:L("toolBar.diamond"),shortcuts:["D","3"]}),p().createElement(Zd,{label:L("toolBar.ellipse"),shortcuts:["E","4"]}),p().createElement(Zd,{label:L("toolBar.arrow"),shortcuts:["A","5"]}),p().createElement(Zd,{label:L("toolBar.line"),shortcuts:["P","6"]}),p().createElement(Zd,{label:L("toolBar.freedraw"),shortcuts:["Shift+P","7"]}),p().createElement(Zd,{label:L("toolBar.text"),shortcuts:["T","8"]}),p().createElement(Zd,{label:L("helpDialog.editSelectedShape"),shortcuts:[ur("Enter"),L("helpDialog.doubleClick")]}),p().createElement(Zd,{label:L("helpDialog.textNewLine"),shortcuts:[ur("Enter"),ur("Shift+Enter")]}),p().createElement(Zd,{label:L("helpDialog.textFinish"),shortcuts:[ur("Esc"),ur("CtrlOrCmd+Enter")]}),p().createElement(Zd,{label:L("helpDialog.curvedArrow"),shortcuts:["A",L("helpDialog.click"),L("helpDialog.click"),L("helpDialog.click")],isOr:!1}),p().createElement(Zd,{label:L("helpDialog.curvedLine"),shortcuts:["L",L("helpDialog.click"),L("helpDialog.click"),L("helpDialog.click")],isOr:!1}),p().createElement(Zd,{label:L("toolBar.lock"),shortcuts:["Q"]}),p().createElement(Zd,{label:L("helpDialog.preventBinding"),shortcuts:[ur("CtrlOrCmd")]})),p().createElement(Nd,{caption:L("helpDialog.view")},p().createElement(Zd,{label:L("buttons.zoomIn"),shortcuts:[ur("CtrlOrCmd++")]}),p().createElement(Zd,{label:L("buttons.zoomOut"),shortcuts:[ur("CtrlOrCmd+-")]}),p().createElement(Zd,{label:L("buttons.resetZoom"),shortcuts:[ur("CtrlOrCmd+0")]}),p().createElement(Zd,{label:L("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),p().createElement(Zd,{label:L("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),p().createElement(Zd,{label:L("buttons.fullScreen"),shortcuts:["F"]}),p().createElement(Zd,{label:L("buttons.zenMode"),shortcuts:[ur("Alt+Z")]}),p().createElement(Zd,{label:L("labels.showGrid"),shortcuts:[ur("CtrlOrCmd+'")]}),p().createElement(Zd,{label:L("labels.viewMode"),shortcuts:[ur("Alt+R")]}),p().createElement(Zd,{label:L("labels.toggleTheme"),shortcuts:[ur("Alt+Shift+D")]}),p().createElement(Zd,{label:L("stats.title"),shortcuts:[ur("Alt+/")]}))),p().createElement(wd,null,p().createElement(Nd,{caption:L("helpDialog.editor")},p().createElement(Zd,{label:L("labels.selectAll"),shortcuts:[ur("CtrlOrCmd+A")]}),p().createElement(Zd,{label:L("labels.multiSelect"),shortcuts:[ur("Shift+".concat(L("helpDialog.click")))]}),p().createElement(Zd,{label:L("labels.moveCanvas"),shortcuts:[ur("Space+".concat(L("helpDialog.drag"))),ur("Wheel+".concat(L("helpDialog.drag")))],isOr:!0}),p().createElement(Zd,{label:L("labels.cut"),shortcuts:[ur("CtrlOrCmd+X")]}),p().createElement(Zd,{label:L("labels.copy"),shortcuts:[ur("CtrlOrCmd+C")]}),p().createElement(Zd,{label:L("labels.paste"),shortcuts:[ur("CtrlOrCmd+V")]}),p().createElement(Zd,{label:L("labels.copyAsPng"),shortcuts:[ur("Shift+Alt+C")]}),p().createElement(Zd,{label:L("labels.copyStyles"),shortcuts:[ur("CtrlOrCmd+Alt+C")]}),p().createElement(Zd,{label:L("labels.pasteStyles"),shortcuts:[ur("CtrlOrCmd+Alt+V")]}),p().createElement(Zd,{label:L("labels.delete"),shortcuts:[ur("Del")]}),p().createElement(Zd,{label:L("labels.sendToBack"),shortcuts:[ur(jt?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),p().createElement(Zd,{label:L("labels.bringToFront"),shortcuts:[ur(jt?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),p().createElement(Zd,{label:L("labels.sendBackward"),shortcuts:[ur("CtrlOrCmd+[")]}),p().createElement(Zd,{label:L("labels.bringForward"),shortcuts:[ur("CtrlOrCmd+]")]}),p().createElement(Zd,{label:L("labels.alignTop"),shortcuts:[ur("CtrlOrCmd+Shift+Up")]}),p().createElement(Zd,{label:L("labels.alignBottom"),shortcuts:[ur("CtrlOrCmd+Shift+Down")]}),p().createElement(Zd,{label:L("labels.alignLeft"),shortcuts:[ur("CtrlOrCmd+Shift+Left")]}),p().createElement(Zd,{label:L("labels.alignRight"),shortcuts:[ur("CtrlOrCmd+Shift+Right")]}),p().createElement(Zd,{label:L("labels.duplicateSelection"),shortcuts:[ur("CtrlOrCmd+D"),ur("Alt+".concat(L("helpDialog.drag")))]}),p().createElement(Zd,{label:L("buttons.undo"),shortcuts:[ur("CtrlOrCmd+Z")]}),p().createElement(Zd,{label:L("buttons.redo"),shortcuts:Pt?[ur("CtrlOrCmd+Y"),ur("CtrlOrCmd+Shift+Z")]:[ur("CtrlOrCmd+Shift+Z")]}),p().createElement(Zd,{label:L("labels.group"),shortcuts:[ur("CtrlOrCmd+G")]}),p().createElement(Zd,{label:L("labels.ungroup"),shortcuts:[ur("CtrlOrCmd+Shift+G")]}),p().createElement(Zd,{label:L("labels.flipHorizontal"),shortcuts:[ur("Shift+H")]}),p().createElement(Zd,{label:L("labels.flipVertical"),shortcuts:[ur("Shift+V")]}),p().createElement(Zd,{label:L("labels.showStroke"),shortcuts:[ur("S")]}),p().createElement(Zd,{label:L("labels.showBackground"),shortcuts:[ur("G")]})))))))},Dd=(r(5080),function(e){var t,n=e.children,r=e.color;return React.createElement("div",{className:"Card",style:(t={},$(t,"--card-color",Ht[r][7]),$(t,"--card-color-darker",Ht[r][8]),$(t,"--card-color-darkest",Ht[r][9]),t)},n)}),Md=function(e){var t=e.elements,n=e.appState,r=e.actionManager,a=e.exportOpts,i=e.canvas,o=a.onExportToBackend;return p().createElement("div",{className:"ExportDialog ExportDialog--json"},p().createElement("div",{className:"ExportDialog-cards"},a.saveFileToDisk&&p().createElement(Dd,{color:"lime"},p().createElement("div",{className:"Card-icon"},Jc),p().createElement("h2",null,L("exportDialog.disk_title")),p().createElement("div",{className:"Card-details"},L("exportDialog.disk_details"),!it&&r.renderAction("changeProjectName")),p().createElement(wc,{className:"Card-button",type:"button",title:L("exportDialog.disk_button"),"aria-label":L("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){r.executeAction(Su)}})),o&&p().createElement(Dd,{color:"pink"},p().createElement("div",{className:"Card-icon"},Mc),p().createElement("h2",null,L("exportDialog.link_title")),p().createElement("div",{className:"Card-details"},L("exportDialog.link_details")),p().createElement(wc,{className:"Card-button",type:"button",title:L("exportDialog.link_button"),"aria-label":L("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return o(t,n,i)}})),a.renderCustomUI&&a.renderCustomUI(t,n,i)))},Td=function(e){var t=e.elements,n=e.appState,r=e.actionManager,a=e.exportOpts,i=e.canvas,o=_((0,m.useState)(!1),2),c=o[0],g=o[1],l=p().useCallback((function(){g(!1)}),[]);return p().createElement(p().Fragment,null,p().createElement(wc,{onClick:function(){g(!0)},"data-testid":"json-export-button",icon:Lc,type:"button","aria-label":L("buttons.export"),showAriaLabel:aC(),title:L("buttons.export")}),c&&p().createElement(ad,{onCloseRequest:l,title:L("buttons.export")},p().createElement(Md,{elements:t,appState:n,actionManager:r,onCloseRequest:l,exportOpts:a,canvas:i})))},Od=["suggestedBindings","startBoundElement"];function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Yd=function(e){var t=e.libraryItems,n=e.onRemoveFromLibrary,r=e.onAddToLibrary,a=e.onInsertShape,i=e.pendingElements,o=e.theme,c=e.setAppState,g=e.setLibraryItems,l=e.libraryReturnUrl,s=e.focusContainer,u=e.library,I=e.id,d=aC(),C=t.length+(i.length>0?1:0),B=d?4:6,b=Math.max(1,Math.ceil(C/B)),A=[],h=!1,m=l||window.location.origin+window.location.pathname;A.push(p().createElement("div",{className:"layer-ui__library-header",key:"library-header"},p().createElement(wc,{key:"import",type:"button",title:L("buttons.load"),"aria-label":L("buttons.load"),icon:kc,onClick:function(){Ms(u).then((function(){c({isLibraryOpen:!1}),c({isLibraryOpen:!0})})).catch(hr).catch((function(e){c({errorMessage:e.message})}))}}),!!t.length&&p().createElement(p().Fragment,null,p().createElement(wc,{key:"export",type:"button",title:L("buttons.export"),"aria-label":L("buttons.export"),icon:Lc,onClick:function(){Ds(u).catch(hr).catch((function(e){c({errorMessage:e.message})}))}}),p().createElement(wc,{key:"reset",type:"button",title:L("buttons.resetLibrary"),"aria-label":L("buttons.resetLibrary"),icon:Rc,onClick:function(){window.confirm(L("alerts.resetLibrary"))&&(u.resetLibrary(),g([]),s())}})),p().createElement("a",{href:"https://libraries.excalidraw.com?target=".concat(window.name||"_blank","&referrer=").concat(m,"&useHash=true&token=").concat(I,"&theme=").concat(o),target:"_excalidraw_libraries"},L("labels.libraries"))));for(var Q=0;Q<b;Q++){for(var f=B*Q,F=[],y=0;y<B;y++){var x=i.length>0&&!h&&f+y>=t.length;h=h||x,F.push(p().createElement(yu,{key:y},p().createElement(Ad,{elements:t[f+y],pendingElements:x?i:void 0,onRemoveFromLibrary:n.bind(null,f+y),onClick:x?r.bind(null,i):a.bind(null,t[f+y])})))}A.push(p().createElement(Fu,{align:"center",gap:1,key:Q},F))}return p().createElement(yu,{align:"start",gap:1,className:"layer-ui__library-items"},A)},Rd=function(e){var t=e.onClickOutside,n=e.onInsertShape,r=e.pendingElements,a=e.onAddToLibrary,i=e.theme,o=e.setAppState,c=e.libraryReturnUrl,g=e.focusContainer,l=e.library,s=e.id,u=(0,m.useRef)(null);!function(e,t){(0,m.useEffect)((function(){var n=function(n){e.current&&(n.target instanceof Element&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}(u,(function(e){e.target.closest(".ToolIcon_type_button__library")||t(e)}));var I=_((0,m.useState)([]),2),d=I[0],C=I[1],B=_((0,m.useState)("preloading"),2),b=B[0],A=B[1],h=(0,m.useRef)(null);(0,m.useEffect)((function(){return Promise.race([new Promise((function(e){h.current=setTimeout((function(){e("loading")}),100)})),l.loadLibrary().then((function(e){C(e),A("ready")}))]).then((function(e){"loading"===e&&A("loading")})),function(){clearTimeout(h.current)}}),[l]);var Q=(0,m.useCallback)(function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.loadLibrary();case 2:n=e.sent,r=n.filter((function(e,n){return n!==t})),l.saveLibrary(r).catch((function(e){C(n),o({errorMessage:L("alerts.errorRemovingFromLibrary")})})),C(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,o]),f=(0,m.useCallback)(function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.loadLibrary();case 2:n=e.sent,r=[].concat(q(n),[t]),a(),l.saveLibrary(r).catch((function(e){C(n),o({errorMessage:L("alerts.errorAddingToLibrary")})})),C(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,l,o]);return"preloading"===b?null:p().createElement(td,{padding:1,ref:u,className:"layer-ui__library"},"loading"===b?p().createElement("div",{className:"layer-ui__library-message"},L("labels.libraryLoadingMessage")):p().createElement(Yd,{libraryItems:d,onRemoveFromLibrary:Q,onAddToLibrary:f,onInsertShape:n,pendingElements:r,setAppState:o,setLibraryItems:C,libraryReturnUrl:c,focusContainer:g,library:l,theme:i,id:s}))},Hd=function(e){var t,n=e.actionManager,r=e.appState,a=e.setAppState,i=e.canvas,o=e.elements,c=e.onCollabButtonClick,g=e.onLockToggle,l=e.onInsertElements,s=e.zenModeEnabled,u=e.showExitZenModeBtn,I=e.showThemeBtn,d=e.toggleZenMode,C=e.isCollaborating,B=e.renderTopRightUI,b=e.renderCustomFooter,A=e.viewModeEnabled,h=e.libraryReturnUrl,f=e.UIOptions,y=e.focusContainer,x=e.library,v=e.id,G=aC(),U=function(){return f.canvasActions.export?p().createElement(Td,{elements:o,appState:r,actionManager:n,exportOpts:f.canvasActions.export,canvas:i}):null},X=function(){if(!f.canvasActions.saveAsImage)return null;var e=function(e){return function(){var t=(0,F.Z)(Z().mark((function t(n){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mu(e,n,r,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(hr).catch((function(e){console.error(e),a({errorMessage:e.message})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return p().createElement(ud,{elements:o,appState:r,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard")})},E=function(){return p().createElement("div",{style:{width:".625em"}})},S=(0,m.useCallback)((function(e){a({isLibraryOpen:!1})}),[a]),w=(0,m.useCallback)((function(){a({selectedElementIds:{},selectedGroupIds:{}})}),[a]),N=r.isLibraryOpen?p().createElement(Rd,{pendingElements:mc(o,r),onClickOutside:S,onInsertShape:l,onAddToLibrary:w,setAppState:a,libraryReturnUrl:h,focusContainer:y,library:x,theme:r.theme,id:v}):null,V=p().createElement(p().Fragment,null,r.isLoading&&p().createElement(z,null),r.errorMessage&&p().createElement(id,{message:r.errorMessage,onClose:function(){return a({errorMessage:null})}}),r.showHelpDialog&&p().createElement(Wd,{onClose:function(){a({showHelpDialog:!1})}}),r.pasteDialog.shown&&p().createElement(Ud,{setAppState:a,appState:r,onInsertChart:l,onClose:function(){return a({pasteDialog:{shown:!1,data:null}})}}));return G?p().createElement(p().Fragment,null,V,p().createElement(vd,{appState:r,elements:o,actionManager:n,libraryMenu:N,renderJSONExportDialog:U,renderImageExportDialog:X,setAppState:a,onCollabButtonClick:c,onLockToggle:g,canvas:i,isCollaborating:C,renderCustomFooter:b,viewModeEnabled:A,showThemeBtn:I})):p().createElement("div",{className:at("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!dt(r.editingElement)})},V,(t=oc(r,o),p().createElement(Id,{side:"top"},p().createElement("div",{className:"App-menu App-menu_top"},p().createElement(yu,{gap:4,className:at({"disable-pointerEvents":s})},A?p().createElement(Qd,{heading:"canvasActions",className:at("zen-mode-transition",{"transition-left":s})},p().createElement(td,{padding:2,style:{zIndex:1}},p().createElement(yu,{gap:4},p().createElement(Fu,{gap:1,justifyContent:"space-between"},U(),X())))):p().createElement(Qd,{heading:"canvasActions",className:at("zen-mode-transition",{"transition-left":s})},p().createElement(td,{padding:2,style:{zIndex:1}},p().createElement(yu,{gap:4},p().createElement(Fu,{gap:1,justifyContent:"space-between"},n.renderAction("clearCanvas"),p().createElement(E,null),n.renderAction("loadScene"),U(),X(),p().createElement(E,null),c&&p().createElement(qI,{isCollaborating:C,collaboratorCount:r.collaborators.size,onClick:c})),p().createElement(_I,{actionManager:n,appState:r,setAppState:a,showThemeBtn:I}),r.fileHandle&&p().createElement(p().Fragment,null,n.renderAction("saveToActiveFile"))))),t&&p().createElement(Qd,{heading:"selectedShapeActions",className:at("zen-mode-transition",{"transition-left":s})},p().createElement(td,{className:Q.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-(r.fileHandle?248:200),"px")}},p().createElement(jI,{appState:r,elements:o,renderAction:n.renderAction,elementType:r.elementType})))),!A&&p().createElement(Qd,{heading:"shapes"},(function(e){return p().createElement(yu,{gap:4,align:"start"},p().createElement(Fu,{gap:1},p().createElement(md,{zenModeEnabled:s,checked:r.elementLocked,onChange:g,title:L("toolBar.lock")}),p().createElement(td,{padding:1,className:at({"zen-mode":s})},p().createElement(dd,{appState:r,elements:o}),e,p().createElement(Fu,{gap:1},p().createElement(PI,{canvas:i,elementType:r.elementType,setAppState:a}))),p().createElement(yd,{appState:r,setAppState:a})),N)})),p().createElement("div",{className:at("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":s})},p().createElement(fd,null,r.collaborators.size>0&&Array.from(r.collaborators).filter((function(e){var t=_(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=_(e,2),r=t[0],a=t[1];return p().createElement(Jl,{label:a.username||"Unknown user",key:r},n.renderAction("goToCollaborator",r))}))),null==B?void 0:B(G,r))))),p().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom"},p().createElement("div",{className:at("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":s})},p().createElement(yu,{gap:2},p().createElement(Qd,{heading:"canvasActions"},p().createElement(td,{padding:1},p().createElement(KI,{renderAction:n.renderAction,zoom:r.zoom}))))),p().createElement("div",{className:at("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":s})},null==b?void 0:b(!1,r)),p().createElement("div",{className:at("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":s})},n.renderAction("toggleShortcuts")),p().createElement("button",{className:at("disable-zen-mode",{"disable-zen-mode--visible":u}),onClick:d},L("buttons.exitZenMode"))),r.scrolledOutside&&p().createElement("button",{className:"scroll-back-to-content",onClick:function(){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},fc(o,r)))}},L("buttons.scrollBackToContent")))},Ld=function(e,t){var n=function(e){return e.suggestedBindings,e.startBoundElement,va(e,Od)},r=n(e.appState),a=n(t.appState),i=Object.keys(r);return e.renderCustomFooter===t.renderCustomFooter&&e.langCode===t.langCode&&e.elements===t.elements&&i.every((function(e){return r[e]===a[e]}))},zd=p().memo(Hd,Ld),Jd=(r(1528),function(e){var t,n=aC(),r=kt(e.elements),a=pc(e.elements,e.appState),i=kt(a);return n&&e.appState.openMenu?null:p().createElement("div",{className:"Stats"},p().createElement(td,{padding:2},p().createElement("div",{className:"close",onClick:e.onClose},Bg),p().createElement("h3",null,L("stats.title")),p().createElement("table",null,p().createElement("tbody",null,p().createElement("tr",null,p().createElement("th",{colSpan:2},L("stats.scene"))),p().createElement("tr",null,p().createElement("td",null,L("stats.elements")),p().createElement("td",null,e.elements.length)),p().createElement("tr",null,p().createElement("td",null,L("stats.width")),p().createElement("td",null,Math.round(r[2])-Math.round(r[0]))),p().createElement("tr",null,p().createElement("td",null,L("stats.height")),p().createElement("td",null,Math.round(r[3])-Math.round(r[1]))),1===a.length&&p().createElement("tr",null,p().createElement("th",{colSpan:2},L("stats.element"))),a.length>1&&p().createElement(p().Fragment,null,p().createElement("tr",null,p().createElement("th",{colSpan:2},L("stats.selected"))),p().createElement("tr",null,p().createElement("td",null,L("stats.elements")),p().createElement("td",null,a.length))),a.length>0&&p().createElement(p().Fragment,null,p().createElement("tr",null,p().createElement("td",null,"x"),p().createElement("td",null,Math.round(i[0]))),p().createElement("tr",null,p().createElement("td",null,"y"),p().createElement("td",null,Math.round(i[1]))),p().createElement("tr",null,p().createElement("td",null,L("stats.width")),p().createElement("td",null,Math.round(i[2]-i[0]))),p().createElement("tr",null,p().createElement("td",null,L("stats.height")),p().createElement("td",null,Math.round(i[3]-i[1])))),1===a.length&&p().createElement("tr",null,p().createElement("td",null,L("stats.angle")),p().createElement("td",null,"".concat(Math.round(180*a[0].angle/Math.PI),"\xb0"))),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)))))}),jd=(r(9757),function(e){var t=e.message,n=e.clearToast,r=(0,m.useRef)(0),a=(0,m.useCallback)((function(){return r.current=window.setTimeout((function(){return n()}),Q.Lg)}),[n]);return(0,m.useEffect)((function(){return a(),function(){return clearTimeout(r.current)}}),[a,t]),p().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==r?void 0:r.current)},onMouseLeave:a},p().createElement("p",{className:"Toast__message"},t))});function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pd(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _d=jg({name:"viewMode",perform:function(e,t){return Hl("view","mode","view"),{appState:Kd(Kd({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[xn]&&e.altKey&&e.code===hn}});function qd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}var rC=p().createContext(!1),aC=function(){return(0,m.useContext)(rC)},iC=p().createContext({container:null,id:null}),oC=function(){return(0,m.useContext)(iC)},cC=!1,gC=0,lC=0,sC=0,uC=!1,IC=!1,dC=!1,CC={horizontal:null,vertical:null},BC=0,bC=!1,AC=null,hC={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},mC=function(e){U(a,e);var t,n,r=nC(a);function a(e){var t;y(this,a),t=r.call(this,e),pC.call(E(t));var n,i,o,c,g=Fr(),l=e.excalidrawRef,s=e.viewModeEnabled,u=void 0!==s&&s,I=e.zenModeEnabled,d=void 0!==I&&I,C=e.gridModeEnabled,B=void 0!==C&&C,b=e.theme,A=void 0===b?g.theme:b,h=e.name,m=void 0===h?g.name:h;if(t.state=tC(tC(tC({},g),{},{theme:A,isLoading:!0},t.getCanvasOffsets()),{},{viewModeEnabled:u,zenModeEnabled:d,gridSize:B?Q.k:null,name:m,width:window.innerWidth,height:window.innerHeight}),t.id=It(),l){var f,F="current"in l&&(null===(f=l.current)||void 0===f?void 0:f.readyPromise)||((o=new Promise((function(e,t){n=e,i=t}))).resolve=n,o.reject=i,o),x={ready:!0,readyPromise:F,updateScene:t.updateScene,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},scrollToContent:t.scrollToContent,getSceneElements:t.getSceneElements,getAppState:function(){return t.state},refresh:t.refresh,importLibrary:t.importLibraryFromUrl,setToastMessage:t.setToastMessage,id:t.id};"function"==typeof l?l(x):l.current=x,F.resolve(x)}return t.excalidrawContainerValue={container:t.excalidrawContainerRef.current,id:t.id},t.scene=new Ca,t.library=new VI(E(t)),t.history=new YI,t.actionManager=new ZI(t.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),E(t)),t.actionManager.registerAll(Jg),t.actionManager.registerAction((c=t.history,{name:"undo",perform:function(e,t){return NI(e,t,(function(){return c.undoOnce()}))},keyTest:function(e){return e[xn]&&e.key.toLowerCase()===zn&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:qc,"aria-label":L("buttons.undo"),onClick:t})},commitToHistory:function(){return!1}})),t.actionManager.registerAction(function(e){return{name:"redo",perform:function(t,n){return NI(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[xn]&&e.shiftKey&&e.key.toLowerCase()===zn||Pt&&e.ctrlKey&&!e.shiftKey&&e.key===Ln},PanelComponent:function(e){var t=e.updateData;return p().createElement(wc,{type:"button",icon:$c,"aria-label":L("buttons.redo"),onClick:t})},commitToHistory:function(){return!1}}}(t.history)),t}return v(a,[{key:"renderCanvas",value:function(){var e=window.devicePixelRatio,t=this.state,n=t.width,r=t.height,a=n*e,i=r*e;return t.viewModeEnabled?p().createElement("canvas",{className:"excalidraw__canvas",style:{width:n,height:r,cursor:Q.oc.GRAB},width:a,height:i,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},L("labels.drawingCanvas")):p().createElement("canvas",{className:"excalidraw__canvas",style:{width:n,height:r},width:a,height:i,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove},L("labels.drawingCanvas"))}},{key:"render",value:function(){var e,t,n=this,r=this.state,a=r.zenModeEnabled,i=r.viewModeEnabled,o=this.props,c=o.onCollabButtonClick,g=o.renderTopRightUI,l=o.renderFooter,s=o.renderCustomStats;return p().createElement("div",{className:at("excalidraw excalidraw-container",{"excalidraw--view-mode":i,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown},p().createElement(iC.Provider,{value:this.excalidrawContainerValue},p().createElement(rC.Provider,{value:this.isMobile},p().createElement(zd,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:c,onLockToggle:this.toggleLock,onInsertElements:function(e){return n.addElementsFromPasteOrLibrary({elements:e,position:"center"})},zenModeEnabled:a,toggleZenMode:this.toggleZenMode,langCode:R().code,isCollaborating:this.props.isCollaborating||!1,renderTopRightUI:g,renderCustomFooter:l,viewModeEnabled:i,showExitZenModeBtn:void 0===(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&a,showThemeBtn:void 0===(null===(t=this.props)||void 0===t?void 0:t.theme)&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id}),p().createElement("div",{className:"excalidraw-textEditorContainer"}),p().createElement("div",{className:"excalidraw-contextMenuContainer"}),this.state.showStats&&p().createElement(Jd,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:s}),null!==this.state.toastMessage&&p().createElement(jd,{message:this.state.toastMessage,clearToast:this.clearToast}),p().createElement("main",null,this.renderCanvas()))))}},{key:"componentDidMount",value:(n=(0,F.Z)(Z().mark((function e(){var t,n,r,a,i=this;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,"production"!==Q.Vi.TEST&&"production"!==Q.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return i.state}},setState:{configurable:!0,value:function(){return i.setState.apply(i,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){var e=i.excalidrawContainerRef.current.getBoundingClientRect(),t=e.width,n=e.height;i.isMobile=t<Q.kV||n<Q.Yx&&t<Q.sS,i.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(Q.kV,"px), (max-height: ").concat(Q.Yx,"px) and (max-width: ").concat(Q.sS,"px)")),a=function(){return i.isMobile=r.matches},r.addListener(a),this.detachIsMobileMqHandler=function(){return r.removeListener(a)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(BC),BC=0}},{key:"removeEventListeners",value:function(){var e,t;document.removeEventListener(Q.Ks.COPY,this.onCopy),document.removeEventListener(Q.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(Q.Ks.CUT,this.onCut),null===(e=this.nearestScrollableContainer)||void 0===e||e.removeEventListener(Q.Ks.SCROLL,this.onScroll),document.removeEventListener(Q.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(Q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(Q.Ks.KEYUP,this.onKeyUp),window.removeEventListener(Q.Ks.RESIZE,this.onResize,!1),window.removeEventListener(Q.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(Q.Ks.BLUR,this.onBlur,!1),window.removeEventListener(Q.Ks.DRAG_OVER,this.disableEvent,!1),window.removeEventListener(Q.Ks.DROP,this.disableEvent,!1),document.removeEventListener(Q.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(Q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(Q.Ks.GESTURE_END,this.onGestureEnd,!1),null===(t=this.detachIsMobileMqHandler)||void 0===t||t.call(this)}},{key:"addEventListeners",value:function(){var e,t;this.removeEventListeners(),document.addEventListener(Q.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(Q.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(Q.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(Q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(e=document.fonts)||void 0===e||null===(t=e.addEventListener)||void 0===t||t.call(e,"loadingdone",this.onFontLoaded),document.addEventListener(Q.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(Q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(Q.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(Q.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Q.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n))return t;t=t.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(Q.Ks.SCROLL,this.onScroll)),window.addEventListener(Q.Ks.RESIZE,this.onResize,!1),window.addEventListener(Q.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Q.Ks.BLUR,this.onBlur,!1),window.addEventListener(Q.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Q.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r,a=this;e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Q.k:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){a.actionManager.executeAction(Rl)}));var i=t.multiElement;t.elementType!==this.state.elementType&&null!=i&&ho(this.state)&&ht(i)&&Fo(i,this.state,this.scene,Ar(bo.getPointAtIndexGlobalCoordinates(i,-1)));var o={},c={},g={},l={},s={};this.state.collaborators.forEach((function(e,t){if(e.selectedElementIds)for(var n=0,r=Object.keys(e.selectedElementIds);n<r.length;n++){var i=r[n];i in g||(g[i]=[]),g[i].push(t)}e.pointer&&(e.username&&(l[t]=e.username),e.userState&&(s[t]=e.userState),c[t]=dr({sceneX:e.pointer.x,sceneY:e.pointer.y},a.state),o[t]=e.button)}));var u=this.scene.getElements(),I=rs(u.filter((function(e){return!a.state.editingElement||"text"!==a.state.editingElement.type||e.id!==a.state.editingElement.id})),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:c,remotePointerButton:o,remoteSelectedElementIds:g,remotePointerUsernames:l,remotePointerUserStates:s,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!this.isMobile}),d=I.atLeastOneVisibleElement,C=I.scrollBars;C&&(CC=C);var B,b,A="text"!==(null===(r=this.state.editingElement)||void 0===r?void 0:r.type)&&!d&&u.length>0;this.state.scrolledOutside!==A&&this.setState({scrolledOutside:A}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||null===(B=(b=this.props).onChange)||void 0===B||B.call(b,this.scene.getElementsIncludingDeleted(),this.state)}},{key:"addTextFromPaste",value:function(e){var t=Ir({clientX:lC,clientY:sC},this.state),n=t.x,r=t.y,a=La({x:n,y:r,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Q.hs});this.scene.replaceAllElements([].concat(q(this.scene.getElementsIncludingDeleted()),[a])),this.setState({selectedElementIds:$({},a.id,!0)}),this.history.resumeRecording()}},{key:"selectShapeTool",value:function(e){var t;uC||lr(this.canvas,e),(t=document.activeElement)instanceof HTMLElement&&t.className.includes("ToolIcon")&&this.focusContainer(),At(e)||this.setState({suggestedBindings:[]}),"selection"!==e?this.setState({elementType:e,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:e})}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,a=void 0!==r&&r,i=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.scene.replaceAllElements(q(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&dt(n)?za(n,{text:t,isDeleted:r}):n}))))};!function(e){var t=e.id,n=e.appState,r=e.onChange,a=e.onSubmit,i=e.getViewportCoords,o=e.element,c=e.canvas,g=e.excalidrawContainer,l=function(){var e,r=null===(e=Ca.getScene(o))||void 0===e?void 0:e.getElement(t);if(r&&dt(r)){var a=_(i(r.x,r.y),2),c=a[0],l=a[1],u=r.textAlign,I=r.angle;s.value=r.text;var d=r.text.replace(/\r\n?/g,"\n").split("\n"),C=r.height/d.length,B=(n.offsetLeft+n.width-c-8)/n.zoom.value-Number(getComputedStyle(null==g?void 0:g.parentNode).marginRight.slice(0,-2));Object.assign(s.style,{font:rr(r),lineHeight:"".concat(C,"px"),width:"".concat(r.width,"px"),height:"".concat(r.height,"px"),left:"".concat(c,"px"),top:"".concat(l,"px"),transform:ac(r.width,r.height,I,n,B),textAlign:u,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(B,"px")})}},s=document.createElement("textarea");s.dir="auto",s.tabIndex=0,s.dataset.type="wysiwyg",s.wrap="off",Object.assign(s.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"}),l(),r&&(s.oninput=function(){r(rc(s.value))}),s.onkeydown=function(e){if(e.stopPropagation(),e.key===Un)e.preventDefault(),A=!0,h();else if(e.key===Gn&&e[xn]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;A=!0,h()}else(e.key===Sn||e[xn]&&(e.code===nn||e.code===tn))&&(e.preventDefault(),e.shiftKey||e.code===nn?C():d(),s.dispatchEvent(new Event("input")))};var u=" ".repeat(4),I=new RegExp("^ {1,".concat(4,"}")),d=function(){var e=s.selectionStart,t=s.selectionEnd,n=B(),r=s.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(u).concat(n)})),s.value=r,s.selectionStart=e+4,s.selectionEnd=t+4*n.length},C=function(){var e=s.selectionStart,t=s.selectionEnd,n=B(),r=[],a=s.value;n.forEach((function(e){var t=a.slice(e,e+4).match(I);if(t){var n=a.slice(0,e),i=a.slice(e+t[0].length);a="".concat(n).concat(i),r.push(e)}})),s.value=a,r.length&&(e>r[r.length-1]?s.selectionStart=Math.max(e-4,r[r.length-1]):s.selectionStart=e,s.selectionEnd=Math.max(s.selectionStart,t-4*r.length))},B=function(){var e=s.selectionStart,t=s.selectionEnd,n=s.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,a){return t.concat(r?t[r-1]+a[r-1].length+1:e)}),[]).reverse()},b=function(e){e.preventDefault(),e.stopPropagation()},A=!1,h=function(){m(),a({text:rc(s.value),viaKeyboard:A})},m=function(){y||(y=!0,s.onblur=null,s.oninput=null,s.onkeydown=null,x&&x.disconnect(),window.removeEventListener("resize",l),window.removeEventListener("wheel",b,!0),window.removeEventListener("pointerdown",f),window.removeEventListener("pointerup",p),window.removeEventListener("blur",h),F(),s.remove())},p=function e(){window.removeEventListener("pointerup",e),setTimeout((function(){s.onblur=h,s.focus()}))},f=function(e){(e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(Q.$C.SHAPE_ACTIONS_MENU))&&!tr(e.target)&&(s.onblur=null,window.addEventListener("pointerup",p),window.addEventListener("blur",h))},F=Ca.getScene(o).addCallback((function(){l(),s.focus()})),y=!1;s.select(),p();var x=null;c&&"ResizeObserver"in window?(x=new window.ResizeObserver((function(){l()}))).observe(c):window.addEventListener("resize",l),window.addEventListener("pointerdown",f),window.addEventListener("wheel",b,{passive:!1,capture:!0}),null==g||g.querySelector(".excalidraw-textEditorContainer").appendChild(s)}({id:e.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(e,t){var r=dr({sceneX:e,sceneY:t},n.state),a=r.x,i=r.y;return[a-n.state.offsetLeft,i-n.state.offsetTop]},onChange:mr((function(t){i(t),Ic(e)&&So(e)})),onSubmit:mr((function(t){var r=t.text,o=t.viaKeyboard,c=!r.trim();i(r,c),!c&&o&&n.setState((function(t){return{selectedElementIds:tC(tC({},t.selectedElementIds),{},$({},e.id,!0))}})),c&&Ro(n.scene.getElements(),[e]),c&&!a||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.elementLocked&&lr(n.canvas,n.state.elementType),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current}),this.deselectElements(),i(e.text)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t);return n&&dt(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t);if(r.length>1){if(null!=n&&n.preferSelected)for(var a=r.length-1;a>-1;a--)if(this.state.selectedElementIds[r[a].id])return r[a];var i=r[r.length-1];return Xi(i,this.state,e,t)?r[r.length-2]:i}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n,r,a=this;return n=this.scene.getElements(),r=function(n){return function(e,t,n,r){var a=10/t.zoom.value,i=[n,r];return Si(t,e)?wi(e,i,a):Ei(e,t,i)}(n,a.state,e,t)},n.filter((function(e){return!e.isDeleted&&r(e)}))}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==AC&&AC(e)}},{key:"updateGestureOnPointerDown",value:function(e){hC.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===hC.pointers.size&&(hC.lastCenter=WI(hC.pointers),hC.initialScale=this.state.zoom.value,hC.initialDistance=DI(Array.from(hC.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=Ir(e,this.state),n=mc(this.scene.getElements(),this.state),r=_(kt(n),4),a=r[0],i=r[1],o=r[2],c=r[3];return{origin:t,withCmdOrCtrl:e[xn],originInGrid:Ar(Et(t.x,t.y,this.state.gridSize)),scrollbars:Ac(CC,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:tC({},t),originalElements:this.scene.getElements().reduce((function(e,t){return e.set(t.id,ja(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(o+a)/2,y:(c+i)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;dC=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=mr((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),a=mr((function(){dC=!1,lr(n.canvas,n.state.elementType),AC=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(Q.Ks.POINTER_MOVE,r),window.removeEventListener(Q.Ks.POINTER_UP,a)}));return AC=a,window.addEventListener(Q.Ks.POINTER_MOVE,r),window.addEventListener(Q.Ks.POINTER_UP,a),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=_(kt(t),4),a=r[0],i=r[1],o=r[2],c=r[3];return e.x>a-n&&e.x<o+n&&e.y>i-n&&e.y<c+n}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return mr((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return mr((function(n){n.key===yn&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return mr((function(n){if(null===e.drag.offset&&(e.drag.offset=Ar(function(e,t,n){var r=_(kt(e),2);return[t-r[0],n-r[1]]}(mc(t.scene.getElements(),t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var r=Ir(n,t.state),a=_(Et(r.x,r.y,t.state.gridSize),2),i=a[0],o=a[1];if(e.drag.hasOccurred||"arrow"!==t.state.elementType&&"line"!==t.state.elementType||!(yt(r.x,r.y,e.origin.x,e.origin.y)<Q.f)){if(e.resize.isResizing&&(e.lastCoords.x=r.x,e.lastCoords.y=r.y,t.maybeHandleResize(e,n)))return!0;if(t.state.editingLinearElement&&bo.handlePointDragging(t.state,(function(e){return t.setState(e)}),r.x,r.y,(function(e,n){t.maybeSuggestBindingForLinearElementAtCursor(e,n,r)})))return e.lastCoords.x=r.x,void(e.lastCoords.y=r.y);if(e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)}))||e.hit.hasHitCommonBoundingBoxOfSelectedElements){e.drag.hasOccurred=!0;var c=mc(t.scene.getElements(),t.state);if(c.length>0&&!e.withCmdOrCtrl){var g=_(Et(r.x-e.drag.offset.x,r.y-e.drag.offset.y,t.state.gridSize),2),l=g[0],s=g[1],u=[Math.abs(r.x-e.origin.x),Math.abs(r.y-e.origin.y)],I=u[0],d=u[1],C=n.shiftKey;if(function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,g=_(kt(t),2),l={x:n-g[0],y:r-g[1]};t.forEach((function(n){var r,a;if(i){var g=i&&o<c,s=i&&o>c,u=e.originalElements.get(n.id);r=g&&u?u.x:n.x+l.x,a=s&&u?u.y:n.y+l.y}else r=n.x+l.x,a=n.y+l.y;pa(n,{x:r,y:a}),So(n,{simultaneouslyUpdated:t})}))}(e,c,l,s,t.scene,C,I,d),t.maybeSuggestBindingForAll(c),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var B,b=[],A=[],h=new Map,m=new Map,p=e.hit.element,f=qd(t.scene.getElementsIncludingDeleted());try{for(f.s();!(B=f.n()).done;){var F=B.value;if(t.state.selectedElementIds[F.id]||F.id===(null==p?void 0:p.id)&&e.hit.wasAddedToSelection){var y=Pa(t.state.editingGroupId,h,F),x=_(Et(e.origin.x-e.drag.offset.x,e.origin.y-e.drag.offset.y,t.state.gridSize),2),v=x[0],G=x[1];pa(y,{x:y.x+(v-l),y:y.y+(G-s)}),b.push(y),A.push(F),m.set(F.id,y.id)}else b.push(F)}}catch(e){f.e(e)}finally{f.f()}var U=[].concat(b,A);ko(U,A,m,"duplicatesServeAsOld"),t.scene.replaceAllElements(U)}return}}var X=t.state.draggingElement;if(X){if("freedraw"===X.type){var E=X.points,S=r.x-X.x,w=r.y-X.y,N=X.simulatePressure?X.pressures:[].concat(q(X.pressures),[n.pressure]);pa(X,{points:[].concat(q(E),[[S,w]]),pressures:N})}else if(bt(X)){e.drag.hasOccurred=!0;var Z=X.points,V=i-X.x,W=o-X.y;if(Kn(n)&&2===Z.length){var D=ya(t.state.elementType,V,W);V=D.width,W=D.height}1===Z.length?pa(X,{points:[].concat(q(Z),[[V,W]])}):Z.length>1&&pa(X,{points:[].concat(q(Z.slice(0,-1)),[[V,W]])}),ht(X)&&t.maybeSuggestBindingForLinearElementAtCursor(X,"end",r,t.state.startBoundElement)}else e.lastCoords.x=r.x,e.lastCoords.y=r.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.elementType){var M=t.scene.getElements();!n.shiftKey&&hc(M,t.state)&&(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return Va(tC(tC({},n),{},{selectedElementIds:$({},e.hit.element.id,!0)}),t.scene.getElements())})):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}));var T=function(e,t){var n=_(Zt(t),4),r=n[0],a=n[1],i=n[2],o=n[3];return e.filter((function(e){var t=_(Ot(e),4),n=t[0],c=t[1],g=t[2],l=t[3];return"selection"!==e.type&&r<=n&&a<=c&&i>=g&&o>=l}))}(M,X);t.setState((function(n){return Va(tC(tC({},n),{},{selectedElementIds:tC(tC(tC({},n.selectedElementIds),T.reduce((function(e,t){return e[t.id]=!0,e}),{})),e.hit.element?$({},e.hit.element.id,!T.length):null)}),t.scene.getElements())}))}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.setState({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var a=e.clientY,i=a-t.lastCoords.y;return this.setState({scrollY:this.state.scrollY-i/this.state.zoom.value}),t.lastCoords.y=a,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return mr((function(n){var r=t.state,a=r.draggingElement,i=r.resizingElement,o=r.multiElement,c=r.elementType,g=r.elementLocked,l=r.isResizing,s=r.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:o||dt(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(n.clientX,n.clientY,"up"),t.state.editingLinearElement){var u=bo.handlePointerUp(n,t.state.editingLinearElement,t.state);u!==t.state.editingLinearElement&&t.setState({editingLinearElement:u,suggestedBindings:[]})}if(AC=null,window.removeEventListener(Q.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(Q.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(Q.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(Q.Ks.KEYUP,e.eventListeners.onKeyUp),"freedraw"===(null==a?void 0:a.type)){var I=Ir(n,t.state),d=a.points,C=I.x-a.x,B=I.y-a.y;C===d[0][0]&&B===d[0][1]&&(B+=1e-4,C+=1e-4);var b=a.simulatePressure?[]:[].concat(q(a.pressures),[n.pressure]);return pa(a,{points:[].concat(q(d),[[C,B]]),pressures:b}),void t.actionManager.executeAction(Rl)}if(bt(a)){a.points.length>1&&t.history.resumeRecording();var A=Ir(n,t.state);e.drag.hasOccurred||!a||o?e.drag.hasOccurred&&!o&&(ho(t.state)&&ht(a)&&Fo(a,t.state,t.scene,A),t.setState({suggestedBindings:[],startBoundElement:null}),g?t.setState((function(e){return{draggingElement:null,selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},t.state.draggingElement.id,!0))}})):(cr(t.canvas),t.setState((function(e){return{draggingElement:null,elementType:"selection",selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},t.state.draggingElement.id,!0))}})))):(pa(a,{points:[].concat(q(a.points),[[A.x-a.x,A.y-a.y]])}),t.setState({multiElement:a,editingElement:t.state.draggingElement}))}else{if("selection"!==c&&a&&Fa(a))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});a&&pa(a,xa(a)),i&&t.history.resumeRecording(),i&&Fa(i)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==i.id})));var h=e.hit.element;if(h&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection)if(n.shiftKey)if(t.state.selectedElementIds[h.id])if(wa(t.state,h)){var m=h.groupIds.flatMap((function(e){return Da(t.scene.getElements(),e)})).map((function(e){return $({},e.id,!1)})).reduce((function(e,t){return tC(tC({},e),t)}),{});t.setState((function(e){return{selectedGroupIds:tC(tC({},e.selectedElementIds),h.groupIds.map((function(e){return $({},e,!1)})).reduce((function(e,t){return tC(tC({},e),t)}),{})),selectedElementIds:tC(tC({},e.selectedElementIds),m)}}))}else t.setState((function(e){return Va(tC(tC({},e),{},{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},h.id,!1))}),t.scene.getElements())}));else t.setState((function(e){return{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},h.id,!0))}}));else t.setState((function(e){return tC({},Va(tC(tC({},e),{},{selectedElementIds:$({},h.id,!0)}),t.scene.getElements()))}));t.state.editingLinearElement||e.drag.hasOccurred||t.state.isResizing||!(h&&Xi(h,t.state,e.origin.x,e.origin.y)||!h&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!g&&"freedraw"!==c&&a&&t.setState((function(e){return{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},a.id,!0))}})),("selection"!==c||hc(t.scene.getElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||l||s)&&(ho(t.state)?Qo:Go)(mc(t.scene.getElements(),t.state)),g||"freedraw"===c?t.setState({draggingElement:null,suggestedBindings:[]}):(cr(t.canvas),t.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}))}},{key:"maybeSuggestBindingForAll",value:function(e){var t,n,r=(t=e,n=new Set(t.map((function(e){return e.id}))),t.flatMap((function(e){return ht(e)?Wo(e).filter((function(e){return!n.has(e.id)})):pt(e)?To(e).filter((function(e){return!n.has(e[0].id)})):[]})));this.setState({suggestedBindings:r})}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&Wa(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r,a){var i=function(e,t,n){for(var r=null,a=e.length-1;a>=0;--a)if(!e[a].isDeleted){var i=_(Zt(e[a]),4),o=i[0],c=i[1],g=i[2],l=i[3];if(o<t&&t<g&&c<n&&n<l){r=e[a];break}}return r}(this.scene.getElementsIncludingDeleted().filter((function(e){return!dt(e)})),e,t);if(i){var o=i.x+i.width/2,c=i.y+i.height/2;if(Math.hypot(e-o,t-c)<Q.wZ){var g=dr({sceneX:o,sceneY:c},n);return{viewportX:g.x,viewportY:g.y,elementCenterX:o,elementCenterY:c}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,F.Z)(Z().mark((function e(){var t,n=this;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.find((function(e){return e.code===n.props.langCode}))||D,e.next=3,Y(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){cC=!1}}]),a}(p().Component);mC.defaultProps={UIOptions:Q.cW};var pC=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=p().createRef(),this.focusContainer=function(){var t;e.props.autoFocus&&(null===(t=e.excalidrawContainerRef.current)||void 0===t||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getElements()},this.syncActionResult=mr((function(t){if(!e.unmounted&&!1!==t){var n=null;if(t.elements&&(t.elements.forEach((function(t){var r;(null===(r=e.state.editingElement)||void 0===r?void 0:r.id)===t.id&&e.state.editingElement!==t&&Ic(t)&&(n=t)})),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.appState||n){var r,a,i,o,c,g;t.commitToHistory&&e.history.resumeRecording();var l=(null==t||null===(r=t.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,s=(null==t||null===(a=t.appState)||void 0===a?void 0:a.zenModeEnabled)||!1,u=(null==t||null===(i=t.appState)||void 0===i?void 0:i.gridSize)||null,I=(null==t||null===(o=t.appState)||void 0===o?void 0:o.theme)||"light",d=null!==(c=null==t||null===(g=t.appState)||void 0===g?void 0:g.name)&&void 0!==c?c:e.state.name;void 0!==e.props.viewModeEnabled&&(l=e.props.viewModeEnabled),void 0!==e.props.zenModeEnabled&&(s=e.props.zenModeEnabled),void 0!==e.props.gridModeEnabled&&(u=e.props.gridModeEnabled?Q.k:null),void 0!==e.props.theme&&(I=e.props.theme),void 0!==e.props.name&&(d=e.props.name),e.setState((function(e){var r;return Object.assign(t.appState||{},{editingElement:n||(null===(r=t.appState)||void 0===r?void 0:r.editingElement)||null,viewModeEnabled:l,zenModeEnabled:s,gridSize:u,theme:I,name:d})}),(function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())}))}}})),this.onBlur=mr((function(){uC=!1,e.setState({isBindingEnabled:!0})})),this.onUnload=function(){e.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach((function(e){dt(e)&&ta(e)})),e.onSceneUpdated()},this.importLibraryFromUrl=function(){var t=(0,F.Z)(Z().mark((function t(n,r){var a,i,o,c,g;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.location.hash.includes(Q.ah.addLibrary)?((a=new URLSearchParams(window.location.hash.slice(1))).delete(Q.ah.addLibrary),window.history.replaceState({},Q.iC,"#".concat(a.toString()))):window.location.search.includes(Q.UO.addLibrary)&&((i=new URLSearchParams(window.location.search)).delete(Q.UO.addLibrary),window.history.replaceState({},Q.iC,"?".concat(i.toString()))),t.prev=1,t.next=4,fetch(decodeURIComponent(n));case 4:return o=t.sent,t.next=7,o.blob();case 7:return c=t.sent,t.t0=JSON,t.next=11,c.text();case 11:if(t.t1=t.sent,g=t.t0.parse.call(t.t0,t.t1),Ws(g)){t.next=15;break}throw new Error;case 15:if(r!==e.id&&!window.confirm(L("alerts.confirmAddLibrary",{numShapes:g.library.length}))){t.next=20;break}return t.next=18,e.library.importLibrary(c);case 18:e.state.isLibraryOpen&&e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0});case 20:t.next=26;break;case 22:t.prev=22,t.t2=t.catch(1),window.alert(L("alerts.errorLoadingLibrary")),console.error(t.t2);case 26:return t.prev=26,e.focusContainer(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[1,22,26,29]])})));return function(e,n){return t.apply(this,arguments)}}(),this.resetHistory=function(){e.history.clear()},this.resetScene=mr((function(t){e.scene.replaceAllElements([]),e.setState((function(n){return tC(tC({},Fr()),{},{isLoading:(null==t||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})})),e.resetHistory()})),this.initializeScene=(0,F.Z)(Z().mark((function t(){var n,r,a,i,o;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var t=(0,F.Z)(Z().mark((function t(n){var r,a;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.files.length){t.next=2;break}return t.abrupt("return");case 2:return r=n.files[0],t.next=5,r.getFile();case 5:(a=t.sent).handle=r,Xs(a,e.state,e.scene.getElementsIncludingDeleted()).then((function(t){var n=t.elements,r=t.appState;return e.syncActionResult({elements:n,appState:tC(tC({},r||e.state),{},{isLoading:!1}),commitToHistory:!0})})).catch((function(t){e.setState({isLoading:!1,errorMessage:t.message})}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),r=null,t.prev=3,t.next=6,e.props.initialData;case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=null;case 9:r=t.t0,null!==(a=r)&&void 0!==a&&a.libraryItems&&(e.libraryItemsFromStorage=r.libraryItems),t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),console.error(t.t1),r={appState:{errorMessage:t.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((i=xs(r,null,null)).appState=tC(tC({},i.appState),{},{isLoading:!1}),null!==(n=r)&&void 0!==n&&n.scrollToContent&&(i.appState=tC(tC({},i.appState),fc(i.elements,tC(tC({},i.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult(tC(tC({},i),{},{commitToHistory:!0})),!(o=new URLSearchParams(window.location.hash.slice(1)).get(Q.ah.addLibrary)||new URLSearchParams(window.location.search).get(Q.UO.addLibrary))){t.next=26;break}return t.next=26,e.importLibraryFromUrl(o);case 26:case"end":return t.stop()}}),t,null,[[3,13]])}))),this.onResize=mr((function(){e.scene.getElementsIncludingDeleted().forEach((function(e){return ta(e)})),e.setState({})})),this.onScroll=ir((function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState((function(e){return e.offsetLeft===r&&e.offsetTop===n?null:{offsetTop:n,offsetLeft:r}}))}),Q.HM),this.onCut=mr((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!tr(t.target)&&(e.cutAll(),t.preventDefault())})),this.onCopy=mr((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!tr(t.target)&&(e.copyAll(),t.preventDefault())})),this.cutAll=function(){e.copyAll(),e.actionManager.executeAction(qg)},this.copyAll=function(){uu(e.scene.getElements(),e.state)},this.onTapStart=function(t){if(!cC)return cC=!0,clearTimeout(gC),void(gC=window.setTimeout(mC.resetTapTwice,Q.Gj));if(cC&&1===t.touches.length){var n=_(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),cC=!1,clearTimeout(gC)}t.preventDefault(),2===t.touches.length&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){t.touches.length>0&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds})},this.pasteFromClipboard=mr(function(){var t=(0,F.Z)(Z().mark((function t(n){var r,a,i,o;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.activeElement,null===(r=e.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(a)){t.next=4;break}return t.abrupt("return");case 4:if(i=document.elementFromPoint(lC,sC),!n||i instanceof HTMLCanvasElement&&!tr(a)){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Bu(n);case 9:if(o=t.sent,!e.props.onPaste){t.next=15;break}return t.next=13,e.props.onPaste(o,n);case 13:if(!t.sent){t.next=15;break}return t.abrupt("return");case 15:o.errorMessage?e.setState({errorMessage:o.errorMessage}):o.spreadsheet?e.setState({pasteDialog:{data:o.spreadsheet,shown:!0}}):o.elements?e.addElementsFromPasteOrLibrary({elements:o.elements,position:"cursor"}):o.text&&e.addTextFromPaste(o.text),e.selectShapeTool("selection"),null==n||n.preventDefault();case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=Fs(t.elements,null),r=_(kt(n),4),a=r[0],i=r[1],o=r[2],c=r[3],g=or(a,o)/2,l=or(i,c)/2,s="object"===X(t.position)?t.position.clientX:"cursor"===t.position?lC:e.state.width/2+e.state.offsetLeft,u="object"===X(t.position)?t.position.clientY:"cursor"===t.position?sC:e.state.height/2+e.state.offsetTop,I=Ir({clientX:s,clientY:u},e.state),d=I.x-g,C=I.y-l,B=new Map,b=_(Et(d,C,e.state.gridSize),2),A=b[0],h=b[1],m=new Map,p=n.map((function(t){var n=Pa(e.state.editingGroupId,B,t,{x:t.x+A-a,y:t.y+h-i});return m.set(t.id,n.id),n})),Q=[].concat(q(e.scene.getElementsIncludingDeleted()),q(p));ko(Q,n,m),e.scene.replaceAllElements(Q),e.history.resumeRecording(),e.setState(Va(tC(tC({},e.state),{},{isLibraryOpen:!1,selectedElementIds:p.reduce((function(e,t){return e[t.id]=!0,e}),{}),selectedGroupIds:{}}),e.scene.getElements())),e.selectShapeTool("selection")},this.setAppState=function(t){e.setState(t)},this.removePointer=function(e){"touch"===e.pointerType&&BC&&(clearTimeout(BC),BC=0,bC=!1),hC.pointers.delete(e.pointerId)},this.toggleLock=function(){e.setState((function(e){return{elementLocked:!e.elementLocked,elementType:e.elementLocked?"selection":e.elementType}}))},this.toggleZenMode=function(){e.actionManager.executeAction(GI)},this.toggleStats=function(){e.state.showStats||Hl("dialog","stats"),e.actionManager.executeAction(EI)},this.scrollToContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scene.getElements();e.setState(tC({},fc(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(t){e.setState({toastMessage:t})},this.restoreFileFromShare=(0,F.Z)(Z().mark((function t(){var n,r,a;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,caches.open("web-share-target");case 3:return n=t.sent,t.next=6,n.match("shared-file");case 6:if(!(r=t.sent)){t.next=15;break}return t.next=10,r.blob();case 10:return a=t.sent,e.loadFileToCanvas(a),t.next=14,n.delete("shared-file");case 14:window.history.replaceState(null,Q.iC,window.location.pathname);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e.setState({errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))),this.updateScene=mr((function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators})})),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=mr((function(e){lC=e.clientX,sC=e.clientY})),this.onKeyDown=mr((function(t){var n;if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(e,n){var r=e[n];return"function"==typeof r?r.bind(e):"key"===n?t.shiftKey?e.key.toUpperCase():e.key.toLowerCase():r}})),!(tr(t.target)&&t.key!==Un||Jn(t.key)&&(n=t.target,n instanceof HTMLElement&&"wysiwyg"===n.dataset.type||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))&&(t.key===Xn&&e.setState({showHelpDialog:!0}),!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled)){if(t[xn]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),t.code===on&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),Jn(t.key)){var r=e.state.gridSize&&(t.shiftKey?Q.$e:e.state.gridSize)||(t.shiftKey?Q.Iw:Q.$e),a=e.scene.getElements().filter((function(t){return e.state.selectedElementIds[t.id]})),i=0,o=0;t.key===pn?i=-r:t.key===Qn?i=r:t.key===fn?o=-r:t.key===mn&&(o=r),a.forEach((function(e){pa(e,{x:e.x+i,y:e.y+o}),So(e,{simultaneouslyUpdated:a})})),e.maybeSuggestBindingForAll(a),t.preventDefault()}else if(t.key===Gn){var c=mc(e.scene.getElements(),e.state);if(1===c.length&&bt(c[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===c[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new bo(c[0],e.scene)}));else if(1===c.length&&!bt(c[0])){var g=c[0];return e.startTextEditing({sceneX:g.x+g.width/2,sceneY:g.y+g.height/2}),void t.preventDefault()}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&null===e.state.draggingElement){var l=function(e){var t=RI.find((function(t,n){return e===(n+1).toString()||("string"==typeof t.key?t.key===e:t.key.includes(e))}));return(null==t?void 0:t.value)||null}(t.key);l?e.selectShapeTool(l):t.key===Tn&&e.toggleLock()}if(t.key===En&&0===hC.pointers.size&&(uC=!0,gr(e.canvas,Q.oc.GRABBING)),t.key===Vn||t.key===kn){if("selection"===e.state.elementType)return;t.key===Vn&&(Fc(e.state.elementType)||mc(e.scene.getElements(),e.state).some((function(e){return Fc(e.type)})))&&e.setState({openPopup:"backgroundColorPicker"}),t.key===kn&&e.setState({openPopup:"strokeColorPicker"})}}})),this.onKeyUp=mr((function(t){if(t.key===En&&(e.state.viewModeEnabled?gr(e.canvas,Q.oc.GRAB):"selection"===e.state.elementType?cr(e.canvas):(lr(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),uC=!1),t[xn]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),Jn(t.key)){var n=mc(e.scene.getElements(),e.state);ho(e.state)?Qo(n):Go(n),e.setState({suggestedBindings:[]})}})),this.onGestureStart=mr((function(t){t.preventDefault(),e.setState({selectedElementIds:{}}),hC.initialScale=e.state.zoom.value})),this.onGestureChange=mr((function(t){if(t.preventDefault(),2!==hC.pointers.size){var n=hC.initialScale;n&&e.setState((function(e){var r=e.zoom,a=e.offsetLeft,i=e.offsetTop;return{zoom:Ec(Sc(n*t.scale),r,{left:a,top:i},{x:lC,y:sC})}}))}})),this.onGestureEnd=mr((function(t){t.preventDefault(),e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),hC.initialScale=null})),this.startTextEditing=function(t){var n=t.sceneX,r=t.sceneY,a=t.insertAtParentCenter,i=void 0===a||a,o=e.getTextElementAtPosition(n,r),c=i&&e.getTextWysiwygSnappedToCenterPosition(n,r,e.state,e.canvas,window.devicePixelRatio),g=o||La({x:c?c.elementCenterX:n,y:c?c.elementCenterY:r,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:c?"center":e.state.currentItemTextAlign,verticalAlign:c?"middle":Q.hs});e.setState({editingElement:g}),o?c&&"center"===g.textAlign||pa(g,{verticalAlign:Q.hs}):(e.scene.replaceAllElements([].concat(q(e.scene.getElementsIncludingDeleted()),[g])),c||pa(g,{y:g.y-g.baseline/2})),e.setState({editingElement:g}),e.handleTextWysiwyg(g,{isExistingElement:!!o})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.elementType){var n=mc(e.scene.getElements(),e.state);if(1===n.length&&bt(n[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new bo(n[0],e.scene)}));else{cr(e.canvas);var r=Ir(t,e.state),a=r.x,i=r.y;if(Za(e.state).length>0){var o=e.getElementAtPosition(a,i),c=o&&function(e,t){return e.groupIds.find((function(e){return t[e]}))}(o,e.state.selectedGroupIds);if(c)return void e.setState((function(t){return Va(tC(tC({},t),{},{editingGroupId:c,selectedElementIds:$({},o.id,!0),selectedGroupIds:{}}),e.scene.getElements())}))}cr(e.canvas),t[xn]||e.state.viewModeEnabled||e.startTextEditing({sceneX:a,sceneY:i,insertAtParentCenter:!t.altKey})}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),hC.pointers.has(t.pointerId)&&hC.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=hC.initialScale;if(2===hC.pointers.size&&hC.lastCenter&&n&&hC.initialDistance){var r=WI(hC.pointers),a=r.x-hC.lastCenter.x,i=r.y-hC.lastCenter.y;hC.lastCenter=r;var o=DI(Array.from(hC.pointers.values()))/hC.initialDistance;e.setState((function(e){var t=e.zoom,c=e.scrollX,g=e.scrollY,l=e.offsetLeft,s=e.offsetTop;return{scrollX:c+a/t.value,scrollY:g+i/t.value,zoom:Ec(Sc(n*o),t,{left:l,top:s},r),shouldCacheIgnoreZoom:!0}})),e.resetShouldCacheIgnoreZoomDebounced()}else hC.lastCenter=hC.initialDistance=hC.initialScale=null;if(!(uC||IC||dC)){var c=Ac(CC,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(c?cr(e.canvas):lr(e.canvas,e.state.elementType));var g=Ir(t,e.state),l=g.x,s=g.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var u=bo.handlePointerMove(t,l,s,e.state.editingLinearElement,e.state.gridSize);u!==e.state.editingLinearElement&&e.setState({editingLinearElement:u}),null!=u.lastUncommittedPoint?e.maybeSuggestBindingAtCursor(g):e.setState({suggestedBindings:[]})}if(mt(e.state.elementType)){var I=e.state.draggingElement;ht(I)?e.maybeSuggestBindingForLinearElementAtCursor(I,"end",g,e.state.startBoundElement):e.maybeSuggestBindingAtCursor(g)}if(e.state.multiElement){var d=e.state.multiElement,C=d.x,B=d.y,b=d.points,A=d.lastCommittedPoint,h=b[b.length-1];return lr(e.canvas,e.state.elementType),void(h===A?yt(l-C,s-B,h[0],h[1])>=Q.qx?pa(d,{points:[].concat(q(b),[[l-C,s-B]])}):gr(e.canvas,Q.oc.POINTER):b.length>2&&A&&yt(l-C,s-B,A[0],A[1])<Q.qx?(gr(e.canvas,Q.oc.POINTER),pa(d,{points:b.slice(0,-1)})):(xt(b,e.state.zoom.value)&&gr(e.canvas,Q.oc.POINTER),pa(d,{points:[].concat(q(b.slice(0,-1)),[[l-C,s-B]])})))}if(!(Boolean(t.buttons)||"selection"!==e.state.elementType&&"text"!==e.state.elementType)){var m=e.scene.getElements(),p=mc(m,e.state);if(1!==p.length||c||e.state.editingLinearElement){if(p.length>1&&!c){var f=so(kt(p),l,s,e.state.zoom,t.pointerType);if(f)return void gr(e.canvas,Io({transformHandleType:f}))}}else{var F=lo(m,e.state,l,s,e.state.zoom,t.pointerType);if(F&&F.transformHandleType)return void gr(e.canvas,Io(F))}var y=e.getElementAtPosition(g.x,g.y);"text"===e.state.elementType?gr(e.canvas,dt(y)?Q.oc.TEXT:Q.oc.CROSSHAIR):e.state.viewModeEnabled?gr(e.canvas,Q.oc.GRAB):c||t[xn]||!y&&!e.isHittingCommonBoundingBoxOfSelectedElements(g,p)?gr(e.canvas,Q.oc.AUTO):gr(e.canvas,Q.oc.MOVE)}}},this.handleTouchMove=function(e){bC=!0},this.handleCanvasPointerDown=function(t){var n=document.getSelection();if(null!=n&&n.anchorNode&&n.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),!IC&&(e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==Q.Oh.MAIN&&t.button!==Q.Oh.TOUCH||(e.updateGestureOnPointerDown(t),hC.pointers.size>1)))){var r=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,r)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,r)))if("text"!==e.state.elementType){"arrow"===e.state.elementType||"line"===e.state.elementType?e.handleLinearElementOnPointerDown(t,e.state.elementType,r):"freedraw"===e.state.elementType?e.handleFreeDrawElementOnPointerDown(t,e.state.elementType,r):e.createGenericElementOnPointerDown(e.state.elementType,r);var a=e.onPointerMoveFromPointerDownHandler(r),i=e.onPointerUpFromPointerDownHandler(r),o=e.onKeyDownFromPointerDownHandler(r),c=e.onKeyUpFromPointerDownHandler(r);AC=i,e.state.viewModeEnabled||(window.addEventListener(Q.Ks.POINTER_MOVE,a),window.addEventListener(Q.Ks.POINTER_UP,i),window.addEventListener(Q.Ks.KEYDOWN,o),window.addEventListener(Q.Ks.KEYUP,c),r.eventListeners.onMove=a,r.eventListeners.onUp=i,r.eventListeners.onKeyUp=c,r.eventListeners.onKeyDown=o)}else e.handleTextOnPointerDown(t,r)}},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(bC=!1,BC?bC=!0:BC=window.setTimeout((function(){BC=0,bC||e.handleCanvasContextMenu(t)}),Q.nM))},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(0!==hC.pointers.size||!(t.button===Q.Oh.WHEEL||t.button===Q.Oh.MAIN&&uC||e.state.viewModeEnabled))return!1;IC=!0;var n=!1,r=/Linux/.test(window.navigator.platform);gr(e.canvas,Q.oc.GRABBING);var a=t.clientX,i=t.clientY,o=mr((function(t){var o=a-t.clientX,c=i-t.clientY;if(a=t.clientX,i=t.clientY,r&&!n&&(Math.abs(o)>1||Math.abs(c)>1)){n=!0;var g=function e(t){document.body.removeEventListener(Q.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(Q.Ks.PASTE,g),window.addEventListener(Q.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(Q.Ks.PASTE,g),window.removeEventListener(Q.Ks.POINTER_UP,e)}),100)}))}e.setState({scrollX:e.state.scrollX-o/e.state.zoom.value,scrollY:e.state.scrollY-c/e.state.zoom.value})})),c=mr(AC=function(){AC=null,IC=!1,uC||(e.state.viewModeEnabled?gr(e.canvas,Q.oc.GRAB):lr(e.canvas,e.state.elementType)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(Q.Ks.POINTER_MOVE,o),window.removeEventListener(Q.Ks.POINTER_UP,c),window.removeEventListener(Q.Ks.BLUR,c)});return window.addEventListener(Q.Ks.BLUR,c),window.addEventListener(Q.Ks.POINTER_MOVE,o,{passive:!0}),window.addEventListener(Q.Ks.POINTER_UP,c),!0},this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.elementType&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if("selection"===e.state.elementType){var r=e.scene.getElements(),a=mc(r,e.state);if(1!==a.length||e.state.editingLinearElement)a.length>1&&(n.resize.handleType=so(kt(a),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var i=lo(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);null!=i&&(e.setState({resizingElement:i.element}),n.resize.handleType=i.transformHandleType)}if(n.resize.handleType)gr(e.canvas,Io({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=Ar(function(e,t,n,r){var a=_(1===t.length?Zt(t[0]):kt(t),4),i=a[0],o=a[1],c=a[2],g=a[3],l=(i+c)/2,s=(o+g)/2,u=1===t.length?t[0].angle:0,I=_(Qt(n,r,l,s,-u),2);switch(n=I[0],r=I[1],e){case"n":return Qt(n-(i+c)/2,r-o,0,0,u);case"s":return Qt(n-(i+c)/2,r-g,0,0,u);case"w":return Qt(n-i,r-(o+g)/2,0,0,u);case"e":return Qt(n-c,r-(o+g)/2,0,0,u);case"nw":return Qt(n-i,r-o,0,0,u);case"ne":return Qt(n-c,r-o,0,0,u);case"sw":return Qt(n-i,r-g,0,0,u);case"se":return Qt(n-c,r-g,0,0,u);default:return[0,0]}}(n.resize.handleType,a,n.origin.x,n.origin.y)),1===a.length&&bt(a[0])&&2===a[0].points.length&&(n.resize.arrowDirection=(s=n.resize.handleType,u=_(a[0].points,2),d=(I=_(u[1],2))[0],C=I[1],"nw"===s&&(d<0||C<0)||"ne"===s&&d>=0||"sw"===s&&d<=0||"se"===s&&(d>0||C>0)?"end":"origin"));else{var o;if(e.state.editingLinearElement){var c=bo.handlePointerDown(t,e.state,(function(t){return e.setState(t)}),e.history,n.origin);if(c.hitElement&&(n.hit.element=c.hitElement),c.didAddPoint)return!0}n.hit.element=null!==(o=n.hit.element)&&void 0!==o?o:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var g=n.hit.element,l=n.hit.allHitElements.some((function(t){return e.isASelectedElement(t)}));if(null!==g&&l||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(g),null!=g){if(t[xn])return e.state.selectedElementIds[g.id]||(n.hit.wasAddedToSelection=!0),e.setState((function(t){return tC(tC({},function(e,t){return Ea(Ea({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:$({},t.id,!0)})}(t,g)),{},{previousSelectedElementIds:e.state.selectedElementIds})})),!1;e.state.selectedElementIds[g.id]||(e.state.editingGroupId&&!Wa(g,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),l||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState((function(t){return Va(tC(tC({},t),{},{selectedElementIds:tC(tC({},t.selectedElementIds),{},$({},g.id,!0))}),e.scene.getElements())})),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var s,u,I,d,C;return!1},this.handleTextOnPointerDown=function(t,n){var r;"text"!==(null===(r=e.state.editingElement)||void 0===r?void 0:r.type)&&(e.startTextEditing({sceneX:n.origin.x,sceneY:n.origin.y,insertAtParentCenter:!t.altKey}),cr(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"}))},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var a,i=_(Et(r.origin.x,r.origin.y,null),2),o=(a={type:n,x:i[0],y:i[1],strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,simulatePressure:.5===t.pressure},ka(ka({},Ya(a.type,a)),{},{points:a.points||[],pressures:[],simulatePressure:a.simulatePressure,lastCommittedPoint:null}));e.setState((function(e){return{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},o.id,!1))}}));var c=o.simulatePressure?o.pressures:[].concat(q(o.pressures),[t.pressure]);pa(o,{points:[[0,0]],pressures:c});var g=Xo(r.origin,e.scene);e.scene.replaceAllElements([].concat(q(e.scene.getElementsIncludingDeleted()),[o])),e.setState({draggingElement:o,editingElement:o,startBoundElement:g,suggestedBindings:[]})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var a=e.state.multiElement;if("line"===a.type&&xt(a.points,e.state.zoom.value))return pa(a,{lastCommittedPoint:a.points[a.points.length-1]}),void e.actionManager.executeAction(Rl);var i=a.x,o=a.y,c=a.lastCommittedPoint;if(a.points.length>1&&c&&yt(r.origin.x-i,r.origin.y-o,c[0],c[1])<Q.qx)return void e.actionManager.executeAction(Rl);e.setState((function(e){return{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},a.id,!0))}})),pa(a,{lastCommittedPoint:a.points[a.points.length-1]}),gr(e.canvas,Q.oc.POINTER)}else{var g=_(Et(r.origin.x,r.origin.y,e.state.gridSize),2),l=g[0],s=g[1],u=e.state,I=u.currentItemStartArrowhead,d=u.currentItemEndArrowhead,C=_("arrow"===n?[I,d]:[null,null],2),B=C[0],b=C[1],A=Ja({type:n,x:l,y:s,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:B,endArrowhead:b});e.setState((function(e){return{selectedElementIds:tC(tC({},e.selectedElementIds),{},$({},A.id,!1))}})),pa(A,{points:[].concat(q(A.points),[[0,0]])});var h=Xo(r.origin,e.scene);e.scene.replaceAllElements([].concat(q(e.scene.getElementsIncludingDeleted()),[A])),e.setState({draggingElement:A,editingElement:A,startBoundElement:h,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=_(Et(n.origin.x,n.origin.y,e.state.gridSize),2),a=r[0],i=r[1],o=Ra({type:t,x:a,y:i,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});"selection"===o.type?e.setState({selectionElement:o,draggingElement:o}):(e.scene.replaceAllElements([].concat(q(e.scene.getElementsIncludingDeleted()),[o])),e.setState({multiElement:null,draggingElement:o,editingElement:o}))},this.updateBindingEnabledOnPointerMove=function(t){var n=function(e){return!e[xn]}(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=Xo(t,e.scene);e.setState({suggestedBindings:null!=n?[n]:[]})},this.maybeSuggestBindingForLinearElementAtCursor=function(t,n,r,a){var i=Xo(r,e.scene);e.setState({suggestedBindings:null==i||vo(t,null==a?void 0:a.id,i)?[]:[i]})},this.handleCanvasRef=function(t){var n,r,a;null!==t?(e.canvas=t,e.rc=nt.canvas(e.canvas),e.canvas.addEventListener(Q.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(Q.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(Q.Ks.TOUCH_END,e.onTapEnd)):(null===(n=e.canvas)||void 0===n||n.removeEventListener(Q.Ks.WHEEL,e.handleWheel),null===(r=e.canvas)||void 0===r||r.removeEventListener(Q.Ks.TOUCH_START,e.onTapStart),null===(a=e.canvas)||void 0===a||a.removeEventListener(Q.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,F.Z)(Z().mark((function t(n){var r,a,i,o,c,g,l,s,u;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"image/png"!==(null==(i=n.dataTransfer.files[0])?void 0:i.type)&&"image/svg+xml"!==(null==i?void 0:i.type)){t.next=10;break}return t.next=5,Xs(i,e.state,e.scene.getElementsIncludingDeleted());case 5:return o=t.sent,c=o.elements,g=o.appState,e.syncActionResult({elements:c,appState:tC(tC({},g||e.state),{},{isLoading:!1}),commitToHistory:!0}),t.abrupt("return");case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",e.setState({isLoading:!1,errorMessage:t.t0.message}));case 15:if(""===(l=n.dataTransfer.getData(Q.LO.excalidrawlib))){t.next=19;break}return e.addElementsFromPasteOrLibrary({elements:JSON.parse(l),position:n}),t.abrupt("return");case 19:if(!((null==(s=null===(r=n.dataTransfer)||void 0===r?void 0:r.files[0])?void 0:s.type)===Q.LO.excalidrawlib||null!=s&&null!==(a=s.name)&&void 0!==a&&a.endsWith(".excalidrawlib"))){t.next=24;break}e.library.importLibrary(s).then((function(){e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0})})).catch((function(t){return e.setState({isLoading:!1,errorMessage:t.message})})),t.next=38;break;case 24:if(e.setState({isLoading:!0}),!it){t.next=36;break}return t.prev=26,u=n.dataTransfer.items[0],t.next=30,u.getAsFileSystemHandle();case 30:s.handle=t.sent,t.next=36;break;case 33:t.prev=33,t.t1=t.catch(26),console.warn(t.t1.name,t.t1.message);case 36:return t.next=38,e.loadFileToCanvas(s);case 38:case"end":return t.stop()}}),t,null,[[0,12],[26,33]])})));return function(e){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(t){Xs(t,e.state,e.scene.getElementsIncludingDeleted()).then((function(t){var n=t.elements,r=t.appState;return e.syncActionResult({elements:n,appState:tC(tC({},r||e.state),{},{isLoading:!1}),commitToHistory:!0})})).catch((function(t){e.setState({isLoading:!1,errorMessage:t.message})}))},this.handleCanvasContextMenu=function(t){t.preventDefault();var n=Ir(t,e.state),r=n.x,a=n.y,i=e.getElementAtPosition(r,a,{preferSelected:!0}),o=i?"element":"canvas",c=e.excalidrawContainerRef.current.getBoundingClientRect(),g=c.top,l=c.left,s=t.clientX-l,u=t.clientY-g;i&&!e.state.selectedElementIds[i.id]?e.setState({selectedElementIds:$({},i.id,!0)},(function(){e._openContextMenu({top:u,left:s},o)})):e._openContextMenu({top:u,left:s},o)},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,a=t.lastCoords;if(r)if("selection"===r.type)nc(r,e.state.elementType,t.origin.x,t.origin.y,a.x,a.y,or(t.origin.x,a.x),or(t.origin.y,a.y),Pn(n),jn(n));else{var i=_(Et(a.x,a.y,e.state.gridSize),2),o=i[0],c=i[1];nc(r,e.state.elementType,t.originInGrid.x,t.originInGrid.y,o,c,or(t.originInGrid.x,o),or(t.originInGrid.y,c),Pn(n),jn(n)),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=mc(e.scene.getElements(),e.state),a=t.resize.handleType;e.setState({isResizing:a&&"rotation"!==a,isRotating:"rotation"===a});var i=t.lastCoords,o=_(Et(i.x-t.resize.offset.x,i.y-t.resize.offset.y,e.state.gridSize),2),c=o[0],g=o[1];return!!function(e,t,n,r,a,i,o,c,g,l,s){if(1===n.length){var u=_(n,1)[0];return"rotation"===t?(jo(u,c,g,a),So(u)):!bt(u)||2!==u.points.length||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?!dt(u)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&$o(e.originalElements.get(u.id),o,u,t,i,c,g):(qo(u,t,i,c,g),So(u)):Po(u,r,a,c,g),!0}if(n.length>1){if("rotation"===t)return tc(e,n,c,g,a,l,s),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return ec(n,t,c,g),!0}return!1}(t,a,r,t.resize.arrowDirection,Kn(n),jn(n),Pn(n),c,g,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this._openContextMenu=function(t,n){var r=t.left,a=t.top,i=Lu.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),o=zu.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),c=sI.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),g=uI.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),l="separator",s=e.scene.getElements(),u=[];if(su&&s.length>0&&u.push(QI),lu&&s.length>0&&u.push(pI),"canvas"!==n)e.state.viewModeEnabled?JI({options:[navigator.clipboard&&hI].concat(u),top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current}):JI({options:[e.isMobile&&mI,e.isMobile&&navigator.clipboard&&hI,e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&l].concat(u,[l,Vu,Wu,l,i&&Lu,o&&zu,(i||o)&&l,Ku,l,gl,ll,sl,ul,l,c&&sI,g&&uI,(c||g)&&l,Al,qg]),top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current});else{var I=[].concat(u,[void 0===e.props.gridModeEnabled&&yI,void 0===e.props.zenModeEnabled&&GI,void 0===e.props.viewModeEnabled&&_d,EI]);if(JI({options:I,top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current}),e.state.viewModeEnabled)return;JI({options:[e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&navigator.clipboard&&l,su&&s.length>0&&QI,lu&&s.length>0&&pI,(su&&s.length>0||lu&&s.length>0)&&l,Cl,l,void 0===e.props.gridModeEnabled&&yI,void 0===e.props.zenModeEnabled&&GI,void 0===e.props.viewModeEnabled&&_d,EI],top:a,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current})}},this.handleWheel=mr((function(t){if(t.preventDefault(),!IC){var n=t.deltaX,r=t.deltaY,a=e.state,i=a.selectedElementIds,o=a.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){var c=Math.sign(r),g=Math.abs(r);g>10&&(g=10),g*=c,0!==Object.keys(o).length&&setTimeout((function(){e.setState({selectedElementIds:o,previousSelectedElementIds:{}})}),1e3);var l=e.state.zoom.value-g/100;return l+=Math.log10(Math.max(1,e.state.zoom.value))*-c,l=Math.round(l*Q.V4*100)/(100*Q.V4),e.setState((function(e){var t=e.zoom,n=e.offsetLeft,r=e.offsetTop;return{zoom:Ec(Sc(l),t,{left:n,top:r},{x:lC,y:sC}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(i).length?i:o,shouldCacheIgnoreZoom:!0}})),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState((function(e){var t=e.zoom;return{scrollX:e.scrollX-(r||n)/t.value}})):e.setState((function(e){var t=e.zoom,a=e.scrollX,i=e.scrollY;return{scrollX:a-n/t.value,scrollY:i-r/t.value}}))}})),this.savePointer=function(t,n,r){var a,i;if(t&&n){var o=Ir({clientX:t,clientY:n},e.state);isNaN(o.x)||isNaN(o.y),null===(a=(i=e.props).onPointerUpdate)||void 0===a||a.call(i,{pointer:o,button:r,pointersMap:hC.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=ir((function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})}),300),this.updateDOMRect=function(t){var n;if(null!==(n=e.excalidrawContainerRef)&&void 0!==n&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),a=r.width,i=r.height,o=r.left,c=r.top,g=e.state,l=g.width,s=g.height,u=g.offsetTop,I=g.offsetLeft;if(a===l&&i===s&&o===I&&c===u)return void(t&&t());e.setState({width:a,height:i,offsetLeft:o,offsetTop:c},(function(){t&&t()}))}},this.refresh=function(){e.setState(tC({},e.getCanvasOffsets()))}};"production"!==Q.Vi.TEST&&"production"!==Q.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}}}));var QC=mC;function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fC(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r(4285),r(3313);var yC=function(e){var t=e.elements,n=e.appState,r=e.getDimensions,a=void 0===r?function(e,t){return{width:e,height:t,scale:1}}:r,i=xs({elements:t,appState:n},null,null),o=i.elements,c=i.appState,g=c.exportBackground,l=c.viewBackgroundColor;return Os(uc(o),FC(FC({},c),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),{exportBackground:g,viewBackgroundColor:l},(function(e,t){var n=document.createElement("canvas"),r=a(e,t);return n.width=r.width,n.height=r.height,{canvas:n,scale:r.scale}}))},xC=function(e){var t=yC(e),n=e.mimeType,r=void 0===n?"image/png":n,a=e.quality;return"image/png"===r&&"number"==typeof a&&console.warn('"quality" will be ignored for "image/png" mimeType'),"image/jpg"===r&&(r="image/jpeg"),a=a||(/image\/jpe?g/.test(r)?.92:.8),new Promise((function(e){t.toBlob((function(t){e(t)}),r,a)}))},vC=function(){var e=(0,F.Z)(Z().mark((function e(t){var n,r,a,i,o,c,g;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,a=void 0===r?Fr():r,i=t.exportPadding,o=xs({elements:n,appState:a},null,null),c=o.elements,g=o.appState,e.abrupt("return",ks(uc(c),FC(FC({},g),{},{exportPadding:i})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),GC=["initialData","UIOptions"],UC=["initialData","UIOptions"];function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XC(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SC=function(e){var t,n,r=e.onChange,a=e.initialData,i=e.excalidrawRef,o=e.onCollabButtonClick,c=e.isCollaborating,g=e.onPointerUpdate,l=e.renderTopRightUI,s=e.renderFooter,u=e.langCode,I=void 0===u?D.code:u,d=e.viewModeEnabled,C=e.zenModeEnabled,B=e.gridModeEnabled,b=e.libraryReturnUrl,A=e.theme,h=e.name,f=e.renderCustomStats,F=e.onPaste,y=e.detectScroll,x=void 0===y||y,v=e.handleKeyboardGlobally,G=void 0!==v&&v,U=e.onLibraryChange,X=e.autoFocus,E=void 0!==X&&X,S=null===(t=e.UIOptions)||void 0===t?void 0:t.canvasActions,w={canvasActions:EC(EC({},Q.cW.canvasActions),S)};return null!=S&&S.export&&(w.canvasActions.export.saveFileToDisk=(null===(n=S.export)||void 0===n?void 0:n.saveFileToDisk)||Q.cW.canvasActions.export.saveFileToDisk),(0,m.useEffect)((function(){var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),p().createElement(j,{langCode:I},p().createElement(QC,{onChange:r,initialData:a,excalidrawRef:i,onCollabButtonClick:o,isCollaborating:c,onPointerUpdate:g,renderTopRightUI:l,renderFooter:s,langCode:I,viewModeEnabled:d,zenModeEnabled:C,gridModeEnabled:B,libraryReturnUrl:b,theme:A,name:h,renderCustomStats:f,UIOptions:w,onPaste:F,detectScroll:x,handleKeyboardGlobally:G,onLibraryChange:U,autoFocus:E}))},wC=function(e,t){e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,a=b()(e,GC),i=(t.initialData,t.UIOptions),o=void 0===i?{}:i,c=b()(t,UC),g=Object.keys(r),l=Object.keys(o);if(g.length!==l.length)return!1;var s=g.every((function(e){return"canvasActions"===e&&Object.keys(r.canvasActions).every((function(e){var t,n,a,i;return"export"===e&&null!=r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!=o&&null!==(n=o.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===o.canvasActions.export.saveFileToDisk:(null==r||null===(a=r.canvasActions)||void 0===a?void 0:a[e])===(null==o||null===(i=o.canvasActions)||void 0===i?void 0:i[e])})),!0})),u=Object.keys(e),I=Object.keys(t);return s&&u.length===I.length&&u.every((function(e){return a[e]===c[e]}))},NC=(0,m.forwardRef)((function(e,t){return p().createElement(SC,C()({},e,{excalidrawRef:t}))})),ZC=p().memo(NC,wC),VC=(r(8336),ZC)},4698:function(e){"use strict";e.exports=r},6207:function(e){"use strict";e.exports=a}},A={};function h(e){var t=A[e];if(void 0!==t)return t.exports;var n=A[e]={id:e,exports:{}};return b[e](n,n.exports,h),n.exports}return h.m=b,h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},h.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"==typeof t.then)return t}var a=Object.create(null);h.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var o=2&r&&t;"object"==typeof o&&!~e.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},h.d(a,i),a},h.d=function(e,t){for(var n in t)h.o(t,n)&&!h.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},h.f={},h.e=function(e){return Promise.all(Object.keys(h.f).reduce((function(t,n){return h.f[n](e,t),t}),[]))},h.u=function(e){return"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[e]+"-"+{9:"eafab0c39ce13f7fea67",43:"f72002171c2c56b967cd",60:"60158040fc55af420fec",62:"08026b081d7dae088759",137:"7780222c69cc877e19a5",149:"7b7c90b1b9d2f1c8516b",164:"9438814b6f8d2d4bca30",196:"7bedb9ed0d2a6ce6dbef",213:"a940d18e2fb0ff323575",242:"b7cafa3196e9247a3744",246:"7817632f1248c4374b19",262:"2636e07fd8cc89d175d9",280:"0346c42fd5a76dafe221",304:"3333609e8b26b63da65d",317:"2c2246b5f03e518b157c",351:"e749f7948c1b822fc757",364:"97d3c042d3a35ef178f1",381:"464cb502a9c0fedb90bc",384:"93c3fd2b081c849d4e04",387:"8b577e35bb3be3287a0b",401:"f50495416e3b91a65ed6",465:"32a61d0b3e05b538bf63",472:"a10d316db60e5c683310",491:"9c439203bdabe6684608",526:"f8f9a3a1729a4935edbc",558:"9a7bef3582993b3fde41",565:"7cd0233768ae95a4ff67",583:"f6fb2e431947fd51c7cd",649:"c6e1e808c0237fb1c06e",661:"83f954e3c1e57b6fd4f2",698:"2fd231ccf2c37b2df52d",710:"95e4c55eb845ae827609",736:"c4dbf2f5c3b177853c42",752:"ac25005e74f8dd8d360c",852:"fd71968e6ed066a9a7e4",869:"ef8daff1f5e8b77e4cad",899:"0a84813c147df37dafd5",920:"cc3e8135a35bc8f98708",933:"15259c14d6c8090e6041"}[e]+".js"},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C={},B="Excalidraw:",h.l=function(e,t,n,r){if(C[e])C[e].push(t);else{var a,i;if(void 0!==n)for(var o=document.getElementsByTagName("script"),c=0;c<o.length;c++){var g=o[c];if(g.getAttribute("src")==e||g.getAttribute("data-webpack")==B+n){a=g;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,h.nc&&a.setAttribute("nonce",h.nc),a.setAttribute("data-webpack",B+n),a.src=e),C[e]=[t];var l=function(t,n){a.onerror=a.onload=null,clearTimeout(s);var r=C[e];if(delete C[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(n)})),t)return t(n)},s=setTimeout(l.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=l.bind(null,a.onerror),a.onload=l.bind(null,a.onload),i&&document.head.appendChild(a)}},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.p="",function(){var e={388:0};h.f.j=function(t,n){var r=h.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,a){r=e[t]=[n,a]}));n.push(r[2]=a);var i=h.p+h.u(t),o=new Error;h.l(i,(function(n){if(h.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,a,i=n[0],o=n[1],c=n[2],g=0;for(r in o)h.o(o,r)&&(h.m[r]=o[r]);for(c&&c(h),t&&t(n);g<i.length;g++)a=i[g],h.o(e,a)&&e[a]&&e[a][0](),e[i[g]]=0},n=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),h(7265)}())}).call(this,n(50))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var g,l=[],s=!1,u=-1;function I(){s&&g&&(s=!1,g.length?l=g.concat(l):u=-1,l.length&&d())}function d(){if(!s){var e=c(I);s=!0;for(var t=l.length;t;){for(g=l,l=[];++u<t;)g&&g[u].run();u=-1,t=l.length}g=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function C(e,t){this.fun=e,this.array=t}function B(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new C(e,t)),1!==l.length||s||c(d)},C.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=B,a.addListener=B,a.once=B,a.off=B,a.removeListener=B,a.removeAllListeners=B,a.emit=B,a.prependListener=B,a.prependOnceListener=B,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{g({},"")}catch(S){g=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),o=new U(r||[]);return i._invoke=function(e,t,n){var r=u;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===C){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var c=x(o,n);if(c){if(c===B)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var g=s(e,t,n);if("normal"===g.type){if(r=n.done?C:I,g.arg===B)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(r=C,n.method="throw",n.arg=g.arg)}}}(e,n,o),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u="suspendedStart",I="suspendedYield",d="executing",C="completed",B={};function b(){}function A(){}function h(){}var m={};m[i]=function(){return this};var p=Object.getPrototypeOf,Q=p&&p(p(X([])));Q&&Q!==n&&r.call(Q,i)&&(m=Q);var f=h.prototype=b.prototype=Object.create(m);function F(e){["next","throw","return"].forEach((function(t){g(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(a,i,o,c){var g=s(e[a],e,i);if("throw"!==g.type){var l=g.arg,u=l.value;return u&&"object"===typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(g.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return B;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return B}var a=s(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,B;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,B):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,B)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function G(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function X(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:E}}function E(){return{value:t,done:!0}}return A.prototype=f.constructor=h,h.constructor=A,A.displayName=g(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,g(e,c,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},F(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new y(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},F(f),g(f,c,"Generator"),f[i]=function(){return this},f.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=X,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(G),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var g=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(g&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(g){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,B):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),B},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),G(n),B}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;G(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:X(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),B}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t){function n(e,t,n,r,a,i,o){try{var c=e[i](o),g=c.value}catch(l){return void n(l)}c.done?t(g):Promise.resolve(g).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function c(e){n(o,a,i,c,g,"next",e)}function g(e){n(o,a,i,c,g,"throw",e)}c(void 0)}))}}},function(e,t,n){var r=n(54);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(56),a=n(57),i=n(58);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(59),a=n(60);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(22);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,g=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){g=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(g)throw o}}}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(65),a=n(66),i=n(22),o=n(67);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},function(e,t,n){var r=n(29);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(69),a=n(70),i=n(22),o=n(71);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(g){a=!0,i=g}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},,,,function(e,t,n){"use strict";n(21);var r=n(2),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,g={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,s=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(s=t.ref),t)c.call(t,r)&&!g.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:s,props:i,_owner:o.current}}t.jsx=l,t.jsxs=l},function(e,t,n){var r=n(77),a=n(18);e.exports=function e(t,n,i,o,c){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,c))}},function(e,t,n){var r=n(78),a=n(37),i=n(112),o=n(116),c=n(138),g=n(26),l=n(38),s=n(39),u="[object Arguments]",I="[object Array]",d="[object Object]",C=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,B,b,A){var h=g(e),m=g(t),p=h?I:c(e),Q=m?I:c(t),f=(p=p==u?d:p)==d,F=(Q=Q==u?d:Q)==d,y=p==Q;if(y&&l(e)){if(!l(t))return!1;h=!0,f=!1}if(y&&!f)return A||(A=new r),h||s(e)?a(e,t,n,B,b,A):i(e,t,p,n,B,b,A);if(!(1&n)){var x=f&&C.call(e,"__wrapped__"),v=F&&C.call(t,"__wrapped__");if(x||v){var G=x?e.value():e,U=v?t.value():t;return A||(A=new r),b(G,U,n,B,A)}}return!!y&&(A||(A=new r),o(e,t,n,B,b,A))}},function(e,t,n){var r=n(13),a=n(84),i=n(85),o=n(86),c=n(87),g=n(88);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=c,l.prototype.set=g,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(14),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(14);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(14);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(13);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(13),a=n(24),i=n(36);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(32),a=n(92),i=n(34),o=n(35),c=/^\[object .+?Constructor\]$/,g=Function.prototype,l=Object.prototype,s=g.toString,u=l.hasOwnProperty,I=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?I:c).test(o(e))}},function(e,t,n){var r=n(25),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(g){}var a=o.call(e);return r&&(t?e[c]=n:delete e[c]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(93),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(8)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(96),a=n(13),i=n(24);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(97),a=n(98),i=n(99),o=n(100),c=n(101);function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}g.prototype.clear=r,g.prototype.delete=a,g.prototype.get=i,g.prototype.has=o,g.prototype.set=c,e.exports=g},function(e,t,n){var r=n(16);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(16),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(16),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(17);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(17);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(17);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(17);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(36),a=n(108),i=n(109);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(25),a=n(113),i=n(31),o=n(37),c=n(114),g=n(115),l=r?r.prototype:void 0,s=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,u,I){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=c;case"[object Set]":var C=1&r;if(d||(d=g),e.size!=t.size&&!C)return!1;var B=I.get(e);if(B)return B==t;r|=2,I.set(e,t);var b=o(d(e),d(t),r,l,u,I);return I.delete(e),b;case"[object Symbol]":if(s)return s.call(e)==s.call(t)}return!1}},function(e,t,n){var r=n(8).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(117),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,c){var g=1&n,l=r(e),s=l.length;if(s!=r(t).length&&!g)return!1;for(var u=s;u--;){var I=l[u];if(!(g?I in t:a.call(t,I)))return!1}var d=c.get(e),C=c.get(t);if(d&&C)return d==t&&C==e;var B=!0;c.set(e,t),c.set(t,e);for(var b=g;++u<s;){var A=e[I=l[u]],h=t[I];if(i)var m=g?i(h,A,I,t,e,c):i(A,h,I,e,t,c);if(!(void 0===m?A===h||o(A,h,n,i,c):m)){B=!1;break}b||(b="constructor"==I)}if(B&&!b){var p=e.constructor,Q=t.constructor;p==Q||!("constructor"in e)||!("constructor"in t)||"function"==typeof p&&p instanceof p&&"function"==typeof Q&&Q instanceof Q||(B=!1)}return c.delete(e),c.delete(t),B}},function(e,t,n){var r=n(118),a=n(120),i=n(123);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(119),a=n(26);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(121),a=n(122),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,c=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(124),a=n(133),i=n(137);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t,n){var r=n(125),a=n(126),i=n(26),o=n(38),c=n(129),g=n(39),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),s=!n&&a(e),u=!n&&!s&&o(e),I=!n&&!s&&!u&&g(e),d=n||s||u||I,C=d?r(e.length,String):[],B=C.length;for(var b in e)!t&&!l.call(e,b)||d&&("length"==b||u&&("offset"==b||"parent"==b)||I&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||c(b,B))||C.push(b);return C}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(127),a=n(18),i=Object.prototype,o=i.hasOwnProperty,c=i.propertyIsEnumerable,g=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!c.call(e,"callee")};e.exports=g},function(e,t,n){var r=n(15),a=n(18);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(15),a=n(40),i=n(18),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(33),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,c=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=c}).call(this,n(23)(e))},function(e,t,n){var r=n(134),a=n(135),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(136)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(32),a=n(40);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(139),a=n(24),i=n(140),o=n(141),c=n(142),g=n(15),l=n(35),s="[object Map]",u="[object Promise]",I="[object Set]",d="[object WeakMap]",C="[object DataView]",B=l(r),b=l(a),A=l(i),h=l(o),m=l(c),p=g;(r&&p(new r(new ArrayBuffer(1)))!=C||a&&p(new a)!=s||i&&p(i.resolve())!=u||o&&p(new o)!=I||c&&p(new c)!=d)&&(p=function(e){var t=g(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case B:return C;case b:return s;case A:return u;case h:return I;case m:return d}return t}),e.exports=p},function(e,t,n){var r=n(10)(n(8),"DataView");e.exports=r},function(e,t,n){var r=n(10)(n(8),"Promise");e.exports=r},function(e,t,n){var r=n(10)(n(8),"Set");e.exports=r},function(e,t,n){var r=n(10)(n(8),"WeakMap");e.exports=r}]]);
//# sourceMappingURL=2.96e8165b.chunk.js.map