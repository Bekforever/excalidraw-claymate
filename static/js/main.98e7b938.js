/*! For license information please see main.98e7b938.js.LICENSE.txt */
(function(){var __webpack_modules__={2973:function(e,t,n){var r,i,a=n(1655).default,o=n(6389).default,l=n(861).default,c=n(6690).default,s=n(9728).default,u=n(8416).default,g=n(7424).default,d=n(4704).default;self,e.exports=(r=n(2791),i=n(4164),function(){var e,t,n,I,b={45:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},6233:function(e,t){var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n="undefined"!=typeof Buffer;function r(e){for(var n=-1,r=0,i=e.length-7;r<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<i+7;)n=n>>>8^t[255&(n^e[r++])];return-1^n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var i=-1,a=e.length-1,o=0;o<a;)i=t[255&(i^e.charCodeAt(o++))]^i>>>8,i=t[255&(i^e.charCodeAt(o++))]^i>>>8;return o===a&&(i=i>>>8^t[255&(i^e.charCodeAt(o))]),-1^i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,i=0,a=e.length-3;i<a;)n=(n=(n=(n=n>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])];for(;i<a+3;)n=n>>>8^t[255&(n^e[i++])];return-1^n},e.str=function(e){for(var n,r,i=-1,a=0,o=e.length;a<o;)(n=e.charCodeAt(a++))<128?i=i>>>8^t[255&(i^n)]:n<2048?i=(i=i>>>8^t[255&(i^(192|n>>6&31))])>>>8^t[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(a++),i=(i=(i=(i=i>>>8^t[255&(i^(240|n>>8&7))])>>>8^t[255&(i^(128|n>>2&63))])>>>8^t[255&(i^(128|r>>6&15|3&n))])>>>8^t[255&(i^(128|63&r))]):i=(i=(i=i>>>8^t[255&(i^(224|n>>12&15))])>>>8^t[255&(i^(128|n>>6&63))])>>>8^t[255&(i^(128|63&n))];return-1^i}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},4739:function(e,t,n){"use strict";n.d(t,{Dv:function(){return R},KO:function(){return L},Vv:function(){return Q},b9:function(){return Y},cn:function(){return W},zt:function(){return M}});var r=n(9787),i=Symbol(),a=function(e){return!!e[i]},o=function(e){var t,n;null==(n=(t=e[i]).c)||n.call(t)},l=function e(t,n){var r=t[i].o,o=n[i].o;return r===o||t===o||a(r)&&e(r,n)},c=function(e){var t={o:e,c:null},n=new Promise((function(n){t.c=function(){t.c=null,n()},e.then(t.c,t.c)}));return n[i]=t,n},s=Object.defineProperty,I=Object.defineProperties,b=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},B=function(e){return"init"in e},m="r",A="w",y="c",v="s",x=function(e){var t,n,r,s=new WeakMap,x=new WeakMap,Q=new Map;if(n=new Set,r=new Set,e){var F,U=d(e);try{for(U.s();!(F=U.n()).done;){var G=g(F.value,2),w=G[0],S={v:G[1],r:0,d:new Map};Object.freeze(S),B(w)||console.warn("Found initial value for derived atom which can cause unexpected behavior",w),s.set(w,S)}}catch(te){U.e(te)}finally{U.f()}}var E=new WeakMap,X=new WeakMap,Z=function(e){var t=X.get(e);return t||(t=new Map,X.set(e,t)),t},k=function e(t,n){if(t){var r=Z(t),i=r.get(n);return i||(i=e(t.p,n))&&("p"in i&&i.p.then((function(){return r.delete(n)})),r.set(n,i)),i}return s.get(n)},N=function(e,t,n){if(Object.freeze(n),e)Z(e).set(t,n);else{var r=s.get(t);s.set(t,n),Q.has(t)||Q.set(t,r)}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2?arguments[2]:void 0;if(!n)return t;var r=new Map,i=!1;return n.forEach((function(n){var a,o=(null==(a=k(e,n))?void 0:a.r)||0;r.set(n,o),t.get(n)!==o&&(i=!0)})),t.size!==r.size||i?r:t},D=function(e,t,n,r,i){var a=k(e,t);if(a){if(i&&(!("p"in a)||!l(a.p,i)))return a;"p"in a&&o(a.p)}var c={v:n,r:(null==a?void 0:a.r)||0,d:T(e,null==a?void 0:a.d,r)};return a&&"v"in a&&Object.is(a.v,n)?c.d===a.d||c.d.size===a.d.size&&Array.from(c.d.keys()).every((function(e){return a.d.has(e)}))||Promise.resolve().then((function(){K(e)})):(++c.r,c.d.has(t)&&(c.d=new Map(c.d).set(t,c.r))),N(e,t,c),c},O=function(e,t,n,r,i){var a=k(e,t);if(a){if(i&&(!("p"in a)||!l(a.p,i)))return a;"p"in a&&o(a.p)}var c={e:n,r:(null==a?void 0:a.r)||0,d:T(e,null==a?void 0:a.d,r)};return N(e,t,c),c},M=function(e,t,n,r){var i=k(e,t);if(i&&"p"in i){if(l(i.p,n))return i;o(i.p)}!function(e,t,n){var r=E.get(t);r||(r=new Map,E.set(t,r)),n.then((function(){r.get(e)===n&&(r.delete(e),r.size||E.delete(t))})),r.set(e,n)}(e,t,n);var a={p:n,r:(null==i?void 0:i.r)||0,d:T(e,null==i?void 0:i.d,r)};return N(e,t,a),a},V=function(e,t,n,r){if(n instanceof Promise){var i=c(n.then((function(n){D(e,t,n,r,i),K(e)})).catch((function(n){if(n instanceof Promise)return a(n)?n.then((function(){R(e,t,!0)})):n;O(e,t,n,r,i),K(e)})));return M(e,t,i,r)}return D(e,t,n,r)},W=function(e,t){var n,r,i=k(e,t);if(i){"p"in i&&o(i.p);var a=(n=function(e,t){for(var n in t||(t={}))f.call(t,n)&&p(e,n,t[n]);if(h){var r,i=d(h(t));try{for(i.s();!(r=i.n()).done;)n=r.value,C.call(t,n)&&p(e,n,t[n])}catch(te){i.e(te)}finally{i.f()}}return e}({},i),r={i:i.r},I(n,b(r)));N(e,t,a)}else console.warn("[Bug] could not invalidate non existing atom",t)},R=function e(t,n,r){if(!r){var a=k(t,n);if(a){if(a.r!==a.i&&"p"in a&&a.p[i].c)return a;if(a.d.forEach((function(r,i){if(i!==n)if(x.has(i)){var a=k(t,i);a&&a.r===a.i&&e(t,i)}else e(t,i)})),Array.from(a.d).every((function(e){var n=g(e,2),r=n[0],i=n[1],a=k(t,r);return a&&"v"in a&&a.r===i})))return a}}var o=new Set;try{var l=n.read((function(r){o.add(r);var i=r===n?k(t,r):e(t,r);if(i){if("e"in i)throw i.e;if("p"in i)throw i.p;return i.v}if(B(r))return r.init;throw new Error("no atom init")}));return V(t,n,l,o)}catch(x){if(x instanceof Promise){var s=c(x);return M(t,n,s,o)}return O(t,n,x,o)}},Y=function(e,t){return R(t,e)},L=function(e,t){return!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e))},H=function e(t,n){var r=x.get(n);null==r||r.t.forEach((function(r){r!==n&&(W(t,r),e(t,r))}))},z=function e(t,n,r){var i=!0,a=function e(n,r){var i=R(t,n);if("e"in i)throw i.e;if("p"in i){if(null==r?void 0:r.unstable_promise)return i.p.then((function(){return e(n,r)}));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",n),i.p}if("v"in i)return i.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",n),new Error("no value found")},l=n.write(a,(function(r,a){var l;if(r===n){if(!B(r))throw new Error("atom not writable");var c=function(e){var t=new Set,n=E.get(e);return n&&(E.delete(e),n.forEach((function(e,n){o(e),t.add(n)}))),t}(r);c.forEach((function(e){e!==t&&V(e,r,a)})),V(t,r,a),H(t,r)}else l=e(t,r,a);return i||K(t),l}),r);return i=!1,t=void 0,l},j=function(e,t,n){var r=z(n,e,t);return K(n),r},_=function e(t,n){var i={t:new Set(n&&[n]),l:new Set};if(x.set(t,i),r.add(t),R(void 0,t).d.forEach((function(n,r){var i=x.get(r);i?i.t.add(t):r!==t&&e(r,t)})),function(e){return!!e.write}(t)&&t.onMount){var a=function(e){return j(t,e)},o=t.onMount(a);o&&(i.u=o)}return i},J=function e(t){var n,i=null==(n=x.get(t))?void 0:n.u;i&&i(),x.delete(t),r.delete(t);var a=k(void 0,t);a?a.d.forEach((function(n,r){if(r!==t){var i=x.get(r);i&&(i.t.delete(t),L(r,i)&&e(r))}})):console.warn("[Bug] could not find atom state to unmount",t)},P=function(e,t,n){var r=new Set(t.d.keys());null==n||n.forEach((function(t,n){if(r.has(n))r.delete(n);else{var i=x.get(n);i&&(i.t.delete(e),L(n,i)&&J(n))}})),r.forEach((function(t){var n=x.get(t);n?n.t.add(e):x.has(e)&&_(t,e)}))},K=function(e){if(e)Z(e).forEach((function(t,n){if(t!==s.get(n)){var r=x.get(n);null==r||r.l.forEach((function(t){return t(e)}))}}));else{for(;Q.size;){var t=Array.from(Q);Q.clear(),t.forEach((function(e){var t=g(e,2),n=t[0],r=t[1],i=k(void 0,n);i&&i.d!==(null==r?void 0:r.d)&&P(n,i,null==r?void 0:r.d);var a=x.get(n);null==a||a.l.forEach((function(e){return e()}))}))}n.forEach((function(e){return e()}))}},q=function(e,t){t&&function(e){Z(e).forEach((function(e,t){var n=s.get(t);(e.r>((null==n?void 0:n.r)||0)||"v"in e&&e.r===(null==n?void 0:n.r)&&e.d!==(null==n?void 0:n.d))&&(s.set(t,e),e.d!==(null==n?void 0:n.d)&&P(t,e,null==n?void 0:n.d))}))}(t),K(void 0)},$=function(e,t){var n=function(e){var t=x.get(e);return t||(t=_(e)),t}(e).l;return n.add(t),function(){n.delete(t),function(e){var t=x.get(e);t&&L(e,t)&&J(e)}(e)}},ee=function(e,t){var n,r=d(e);try{for(r.s();!(n=r.n()).done;){var i=g(n.value,2),a=i[0],o=i[1];B(a)&&(V(t,a,o),H(t,a))}}catch(te){r.e(te)}finally{r.f()}K(t)};return u(t={},m,Y),u(t,A,j),u(t,y,q),u(t,v,$),u(t,"h",ee),u(t,"n",(function(e){return n.add(e),function(){n.delete(e)}})),u(t,"l",(function(){return r.values()})),u(t,"a",(function(e){return s.get(e)})),u(t,"m",(function(e){return x.get(e)})),t},Q=function(e){var t=x(e),n=function e(n){return new Promise((function(r,i){var a=t.r(n);"e"in a?i(a.e):r("p"in a?a.p.then((function(){return e(n)})):a.v)}))};return{get:function(e){var n=t.r(e);if("e"in n)throw n.e;if(!("p"in n))return n.v},asyncGet:n,set:function(e,n){return t.w(e,n)},sub:function(e,n){return t.s(e,n)},SECRET_INTERNAL_store:t}},F=function(e,t){return{s:t?t(e).SECRET_INTERNAL_store:x(e)}},U=new Map,G=function(e){return U.has(e)||U.set(e,(0,r.createContext)(F())),U.get(e)},w=Object.defineProperty,S=Object.defineProperties,E=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,N=function(e,t,n){return t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},T=function(e,t){for(var n in t||(t={}))Z.call(t,n)&&N(e,n,t[n]);if(X){var r,i=d(X(t));try{for(i.s();!(r=i.n()).done;)n=r.value,k.call(t,n)&&N(e,n,t[n])}catch(a){i.e(a)}finally{i.f()}}return e},D=function(e){return e.debugLabel||e.toString()},O=function(e){var t=g(e,2),n=t[0],r=t[1];return Object.fromEntries(r.flatMap((function(e){var t,r,i=null==(t=n.m)?void 0:t.call(n,e);if(!i)return[];var a,o,l=i.t,c=(null==(r=n.a)?void 0:r.call(n,e))||{};return[[D(e),(a=T(T(T({},"e"in c&&{error:c.e}),"p"in c&&{promise:c.p}),"v"in c&&{value:c.v}),o={dependents:Array.from(l).map(D)},S(a,E(o)))]]})))},M=function(e){var t=e.children,n=e.initialValues,i=e.scope,a=e.unstable_createStore,o=e.unstable_enableVersionedWrite,l=(0,r.useState)(),c=g(l,2),s=c[0],u=c[1];(0,r.useEffect)((function(){s&&(d.current.s.c(null,s),delete s.p)}),[s]);var d=(0,r.useRef)();d.current||(d.current=F(n,a),o&&(d.current.w=function(e){u((function(t){var n=t?{p:t}:{};return e(n),n}))})),o||function(e){var t=e.s,n=(0,r.useState)([]),i=g(n,2),a=i[0],o=i[1];(0,r.useEffect)((function(){var e,n=function(){var e;o(Array.from((null==(e=t.l)?void 0:e.call(t))||[]))},r=null==(e=t.n)?void 0:e.call(t,n);return n(),r}),[t]),(0,r.useDebugValue)([t,a],O)}(d.current);var I=G(i);return(0,r.createElement)(I.Provider,{value:d.current},t)},V=0;function W(e,t){var n="atom"+ ++V,r={toString:function(){return n}};return"function"==typeof e?r.read=e:(r.init=e,r.read=function(e){return e(r)},r.write=function(e,t,n){return t(r,"function"==typeof n?n(e(r)):n)}),t&&(r.write=t),r}function R(e,t){var n=G(t),i=(0,r.useContext)(n).s,a=(0,r.useCallback)((function(t){var n=i.r(e,t);if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")}),[i,e]),o=(0,r.useReducer)((0,r.useCallback)((function(t,n){var r=a(n);return Object.is(t[1],r)&&t[2]===e?t:[n,r,e]}),[a,e]),void 0,(function(){var t=void 0;return[t,a(t),e]})),l=g(o,2),c=g(l[0],3),s=c[0],u=c[1],d=c[2],I=l[1];return d!==e&&I(void 0),(0,r.useEffect)((function(){var t=i.s(e,I);return I(void 0),t}),[i,e]),(0,r.useEffect)((function(){i.c(e,s)})),(0,r.useDebugValue)(u),u}function Y(e,t){var n=G(t),i=(0,r.useContext)(n),a=i.s,o=i.w;return(0,r.useCallback)((function(t){if(!("write"in e))throw new Error("not writable atom");var n=function(n){return a.w(e,t,n)};return o?o(n):n()}),[a,o,e])}function L(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[R(e,t),Y(e,t)]}},200:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,g=s||u||Function("return this")(),d=Object.prototype.toString,I=Math.max,b=Math.min,h=function(){return g.Date.now()};function f(e,t,n){var i,a,o,l,c,s,u=0,g=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(r);function B(t){var n=i,r=a;return i=a=void 0,u=t,l=e.apply(r,n)}function m(e){return u=e,c=setTimeout(y,t),g?B(e):l}function A(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=o}function y(){var e=h();if(A(e))return v(e);c=setTimeout(y,function(e){var n=t-(e-s);return d?b(n,o-(e-u)):n}(e))}function v(e){return c=void 0,f&&i?B(e):(i=a=void 0,l)}function x(){var e=h(),n=A(e);if(i=arguments,a=this,s=e,n){if(void 0===c)return m(s);if(d)return c=setTimeout(y,t),B(s)}return void 0===c&&(c=setTimeout(y,t)),l}return t=p(t)||0,C(n)&&(g=!!n.leading,o=(d="maxWait"in n)?I(p(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=s=a=c=void 0},x.flush=function(){return void 0===c?l:v(h())},x}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(C(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=C(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return C(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),f(e,t,{leading:i,maxWait:t,trailing:a})}},2744:function(e,t,n){"use strict";var r={};(0,n(9187).assign)(r,n(4395),n(578),n(2684)),e.exports=r},4395:function(e,t,n){"use strict";var r=n(7651),i=n(9187),a=n(8592),o=n(5604),l=n(249),c=Object.prototype.toString;function s(e){if(!(this instanceof s))return new s(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(o[n]);this._dict_set=!0}}function u(e,t){var n=new s(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}s.prototype.push=function(e,t){var n,o,l=this.strm,s=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?l.input=a.string2buf(e):"[object ArrayBuffer]"===c.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(s),l.next_out=0,l.avail_out=s),1!==(n=r.deflate(l,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(l.output,l.next_out))):this.onData(i.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),l.avail_out=0,!0)},s.prototype.onData=function(e){this.chunks.push(e)},s.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=s,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},578:function(e,t,n){"use strict";var r=n(7823),i=n(9187),a=n(8592),o=n(2684),l=n(5604),c=n(249),s=n(9968),u=Object.prototype.toString;function g(e){if(!(this instanceof g))return new g(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(l[n]);if(this.header=new s,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(l[n])}function d(e,t){var n=new g(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}g.prototype.push=function(e,t){var n,l,c,s,g,d=this.strm,I=this.options.chunkSize,b=this.options.dictionary,h=!1;if(this.ended)return!1;l=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(I),d.next_out=0,d.avail_out=I),(n=r.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&b&&(n=r.inflateSetDictionary(this.strm,b)),n===o.Z_BUF_ERROR&&!0===h&&(n=o.Z_OK,h=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||l!==o.Z_FINISH&&l!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=a.utf8border(d.output,d.next_out),s=d.next_out-c,g=a.buf2string(d.output,c),d.next_out=s,d.avail_out=I-s,s&&i.arraySet(d.output,d.output,c,s,0),this.onData(g)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(h=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(l=o.Z_FINISH),l===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):l!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},g.prototype.onData=function(e){this.chunks.push(e)},g.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=g,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},9187:function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},8592:function(e,t,n){"use strict";var r=n(9187),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,i,a,o,l=e.length,c=0;for(a=0;a<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<l&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),o=0,a=0;o<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<l&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,a,l=t||e.length,s=new Array(2*l);for(r=0,n=0;n<l;)if((i=e[n++])<128)s[r++]=i;else if((a=o[i])>4)s[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<l;)i=i<<6|63&e[n++],a--;a>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return c(s,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},3693:function(e){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},2684:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(e){"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var a=t,o=i+r;e^=-1;for(var l=i;l<o;l++)e=e>>>8^a[255&(e^n[l])];return-1^e}},7651:function(e,t,n){"use strict";var r,i=n(9187),a=n(8676),o=n(3693),l=n(8464),c=n(5604),s=-2,u=258,g=262,d=103,I=113,b=666;function h(e,t){return e.msg=c[t],t}function f(e){return(e<<1)-(e>4?9:0)}function C(e){for(var t=e.length;--t>=0;)e[t]=0}function p(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function B(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,p(e.strm)}function m(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,l=e.nice_match,c=e.strstart>e.w_size-g?e.strstart-(e.w_size-g):0,s=e.window,d=e.w_mask,I=e.prev,b=e.strstart+u,h=s[a+o-1],f=s[a+o];e.prev_length>=e.good_match&&(i>>=2),l>e.lookahead&&(l=e.lookahead);do{if(s[(n=t)+o]===f&&s[n+o-1]===h&&s[n]===s[a]&&s[++n]===s[a+1]){a+=2,n++;do{}while(s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&s[++a]===s[++n]&&a<b);if(r=u-(b-a),a=b-u,r>o){if(e.match_start=t,o=r,r>=l)break;h=s[a+o-1],f=s[a+o]}}}while((t=I[t&d])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function v(e){var t,n,r,a,c,s,u,d,I,b,h=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-g)){i.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);a+=h}if(0===e.strm.avail_in)break;if(s=e.strm,u=e.window,d=e.strstart+e.lookahead,I=a,b=void 0,(b=s.avail_in)>I&&(b=I),n=0===b?0:(s.avail_in-=b,i.arraySet(u,s.input,s.next_in,b,d),1===s.state.wrap?s.adler=o(s.adler,u,b,d):2===s.state.wrap&&(s.adler=l(s.adler,u,b,d)),s.next_in+=b,s.total_in+=b,b),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<g&&0!==e.strm.avail_in)}function x(e,t){for(var n,r;;){if(e.lookahead<g){if(v(e),e.lookahead<g&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-g&&(e.match_length=y(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(B(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?1:2}function Q(e,t){for(var n,r,i;;){if(e.lookahead<g){if(v(e),e.lookahead<g&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-g&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(B(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&B(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(B(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?1:2}function F(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:I,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):h(e,s)}function w(e){var t,n=G(e);return 0===n&&((t=e.state).window_size=2*t.w_size,C(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,r,a,o){if(!e)return s;var l=1;if(-1===t&&(t=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return h(e,s);8===r&&(r=9);var c=new U;return e.state=c,c.strm=e,c.wrap=l,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,w(e)}r=[new F(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,B(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-g&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(B(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(B(e,!1),e.strm.avail_out),1)})),new F(4,4,8,4,x),new F(4,5,16,8,x),new F(4,6,32,32,x),new F(4,4,16,16,Q),new F(8,16,32,32,Q),new F(8,16,128,128,Q),new F(8,32,128,256,Q),new F(32,128,258,1024,Q),new F(32,258,258,4096,Q)],t.deflateInit=function(e,t){return S(e,t,8,15,8,0)},t.deflateInit2=S,t.deflateReset=w,t.deflateResetKeep=G,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?s:(e.state.gzhead=t,0):s},t.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||t>5||t<0)return e?h(e,s):s;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===b&&4!==t)return h(e,0===e.avail_out?-5:s);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,m(i,31),m(i,139),m(i,8),i.gzhead?(m(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),m(i,255&i.gzhead.time),m(i,i.gzhead.time>>8&255),m(i,i.gzhead.time>>16&255),m(i,i.gzhead.time>>24&255),m(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),m(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(m(i,255&i.gzhead.extra.length),m(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=l(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(m(i,0),m(i,0),m(i,0),m(i,0),m(i,0),m(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),m(i,3),i.status=I);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=I,A(i,g),0!==i.strstart&&(A(i,e.adler>>>16),A(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),p(e),o=i.pending,i.pending!==i.pending_buf_size));)m(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),p(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,m(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),p(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,m(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=l(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&p(e),i.pending+2<=i.pending_buf_size&&(m(i,255&e.adler),m(i,e.adler>>8&255),e.adler=0,i.status=I)):i.status=I),0!==i.pending){if(p(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(n)&&4!==t)return h(e,-5);if(i.status===b&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==b){var y=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(B(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,l=e.window;;){if(e.lookahead<=u){if(v(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=l[i=e.strstart-1])===l[++i]&&r===l[++i]&&r===l[++i]){o=e.strstart+u;do{}while(r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&i<o);e.match_length=u-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(B(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(B(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==y&&4!==y||(i.status=b),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(C(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),p(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(m(i,255&e.adler),m(i,e.adler>>8&255),m(i,e.adler>>16&255),m(i,e.adler>>24&255),m(i,255&e.total_in),m(i,e.total_in>>8&255),m(i,e.total_in>>16&255),m(i,e.total_in>>24&255)):(A(i,e.adler>>>16),A(i,65535&e.adler)),p(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==I&&t!==b?h(e,s):(e.state=null,t===I?h(e,-3):0):s},t.deflateSetDictionary=function(e,t){var n,r,a,l,c,u,g,d,I=t.length;if(!e||!e.state)return s;if(2===(l=(n=e.state).wrap)||1===l&&42!==n.status||n.lookahead)return s;for(1===l&&(e.adler=o(e.adler,t,I,0)),n.wrap=0,I>=n.w_size&&(0===l&&(C(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,I-n.w_size,n.w_size,0),t=d,I=n.w_size),c=e.avail_in,u=e.next_in,g=e.input,e.avail_in=I,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=g,e.avail_in=c,n.wrap=l,0},t.deflateInfo="pako deflate (from Nodeca project)"},9968:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(e){"use strict";e.exports=function(e,t){var n,r,i,a,o,l,c,s,u,g,d,I,b,h,f,C,p,B,m,A,y,v,x,Q,F;n=e.state,r=e.next_in,Q=e.input,i=r+(e.avail_in-5),a=e.next_out,F=e.output,o=a-(t-e.avail_out),l=a+(e.avail_out-257),c=n.dmax,s=n.wsize,u=n.whave,g=n.wnext,d=n.window,I=n.hold,b=n.bits,h=n.lencode,f=n.distcode,C=(1<<n.lenbits)-1,p=(1<<n.distbits)-1;e:do{b<15&&(I+=Q[r++]<<b,b+=8,I+=Q[r++]<<b,b+=8),B=h[I&C];t:for(;;){if(I>>>=m=B>>>24,b-=m,0===(m=B>>>16&255))F[a++]=65535&B;else{if(!(16&m)){if(0==(64&m)){B=h[(65535&B)+(I&(1<<m)-1)];continue t}if(32&m){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}A=65535&B,(m&=15)&&(b<m&&(I+=Q[r++]<<b,b+=8),A+=I&(1<<m)-1,I>>>=m,b-=m),b<15&&(I+=Q[r++]<<b,b+=8,I+=Q[r++]<<b,b+=8),B=f[I&p];n:for(;;){if(I>>>=m=B>>>24,b-=m,!(16&(m=B>>>16&255))){if(0==(64&m)){B=f[(65535&B)+(I&(1<<m)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(y=65535&B,b<(m&=15)&&(I+=Q[r++]<<b,(b+=8)<m&&(I+=Q[r++]<<b,b+=8)),(y+=I&(1<<m)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(I>>>=m,b-=m,y>(m=a-o)){if((m=y-m)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(v=0,x=d,0===g){if(v+=s-m,m<A){A-=m;do{F[a++]=d[v++]}while(--m);v=a-y,x=F}}else if(g<m){if(v+=s+g-m,(m-=g)<A){A-=m;do{F[a++]=d[v++]}while(--m);if(v=0,g<A){A-=m=g;do{F[a++]=d[v++]}while(--m);v=a-y,x=F}}}else if(v+=g-m,m<A){A-=m;do{F[a++]=d[v++]}while(--m);v=a-y,x=F}for(;A>2;)F[a++]=x[v++],F[a++]=x[v++],F[a++]=x[v++],A-=3;A&&(F[a++]=x[v++],A>1&&(F[a++]=x[v++]))}else{v=a-y;do{F[a++]=F[v++],F[a++]=F[v++],F[a++]=F[v++],A-=3}while(A>2);A&&(F[a++]=F[v++],A>1&&(F[a++]=F[v++]))}break}}break}}while(r<i&&a<l);r-=A=b>>3,I&=(1<<(b-=A<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<l?l-a+257:257-(a-l),n.hold=I,n.bits=b}},7823:function(e,t,n){"use strict";var r=n(9187),i=n(3693),a=n(8464),o=n(9365),l=n(6446),c=-2,s=12,u=30;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,I(e)):c}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,b(e))):c}function f(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):c}var C,p,B=!0;function m(e){if(B){var t;for(C=new r.Buf32(512),p=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(1,e.lens,0,288,C,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(2,e.lens,0,32,p,0,e.work,{bits:5}),B=!1}e.lencode=C,e.lenbits=9,e.distcode=p,e.distbits=5}function A(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=b,t.inflateReset2=h,t.inflateResetKeep=I,t.inflateInit=function(e){return f(e,15)},t.inflateInit2=f,t.inflate=function(e,t){var n,d,I,b,h,f,C,p,B,y,v,x,Q,F,U,G,w,S,E,X,Z,k,N,T,D=0,O=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===s&&(n.mode=13),h=e.next_out,I=e.output,C=e.avail_out,b=e.next_in,d=e.input,f=e.avail_in,p=n.hold,B=n.bits,y=f,v=C,k=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;B<16;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(2&n.wrap&&35615===p){n.check=0,O[0]=255&p,O[1]=p>>>8&255,n.check=a(n.check,O,2,0),p=0,B=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!=(15&p)){e.msg="unknown compression method",n.mode=u;break}if(B-=4,Z=8+(15&(p>>>=4)),0===n.wbits)n.wbits=Z;else if(Z>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<Z,e.adler=n.check=1,n.mode=512&p?10:s,p=0,B=0;break;case 2:for(;B<16;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(n.flags=p,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(O[0]=255&p,O[1]=p>>>8&255,n.check=a(n.check,O,2,0)),p=0,B=0,n.mode=3;case 3:for(;B<32;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.head&&(n.head.time=p),512&n.flags&&(O[0]=255&p,O[1]=p>>>8&255,O[2]=p>>>16&255,O[3]=p>>>24&255,n.check=a(n.check,O,4,0)),p=0,B=0,n.mode=4;case 4:for(;B<16;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(O[0]=255&p,O[1]=p>>>8&255,n.check=a(n.check,O,2,0)),p=0,B=0,n.mode=5;case 5:if(1024&n.flags){for(;B<16;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(O[0]=255&p,O[1]=p>>>8&255,n.check=a(n.check,O,2,0)),p=0,B=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>f&&(x=f),x&&(n.head&&(Z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,b,x,Z)),512&n.flags&&(n.check=a(n.check,d,x,b)),f-=x,b+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break e;x=0;do{Z=d[b+x++],n.head&&Z&&n.length<65536&&(n.head.name+=String.fromCharCode(Z))}while(Z&&x<f);if(512&n.flags&&(n.check=a(n.check,d,x,b)),f-=x,b+=x,Z)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break e;x=0;do{Z=d[b+x++],n.head&&Z&&n.length<65536&&(n.head.comment+=String.fromCharCode(Z))}while(Z&&x<f);if(512&n.flags&&(n.check=a(n.check,d,x,b)),f-=x,b+=x,Z)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;B<16;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}p=0,B=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=s;break;case 10:for(;B<32;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}e.adler=n.check=g(p),p=0,B=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=C,e.next_in=b,e.avail_in=f,n.hold=p,n.bits=B,2;e.adler=n.check=1,n.mode=s;case s:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&B,B-=7&B,n.mode=27;break}for(;B<3;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}switch(n.last=1&p,B-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(m(n),n.mode=20,6===t){p>>>=2,B-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}p>>>=2,B-=2;break;case 14:for(p>>>=7&B,B-=7&B;B<32;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&p,p=0,B=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(x>f&&(x=f),x>C&&(x=C),0===x)break e;r.arraySet(I,d,b,x,h),f-=x,b+=x,C-=x,h+=x,n.length-=x;break}n.mode=s;break;case 17:for(;B<14;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(n.nlen=257+(31&p),p>>>=5,B-=5,n.ndist=1+(31&p),p>>>=5,B-=5,n.ncode=4+(15&p),p>>>=4,B-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;B<3;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.lens[M[n.have++]]=7&p,p>>>=3,B-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},k=l(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,k){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;G=(D=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,w=65535&D,!((U=D>>>24)<=B);){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(w<16)p>>>=U,B-=U,n.lens[n.have++]=w;else{if(16===w){for(T=U+2;B<T;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(p>>>=U,B-=U,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}Z=n.lens[n.have-1],x=3+(3&p),p>>>=2,B-=2}else if(17===w){for(T=U+3;B<T;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}B-=U,Z=0,x=3+(7&(p>>>=U)),p>>>=3,B-=3}else{for(T=U+7;B<T;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}B-=U,Z=0,x=11+(127&(p>>>=U)),p>>>=7,B-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;x--;)n.lens[n.have++]=Z}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,N={bits:n.lenbits},k=l(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,k){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},k=l(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,k){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(f>=6&&C>=258){e.next_out=h,e.avail_out=C,e.next_in=b,e.avail_in=f,n.hold=p,n.bits=B,o(e,v),h=e.next_out,I=e.output,C=e.avail_out,b=e.next_in,d=e.input,f=e.avail_in,p=n.hold,B=n.bits,n.mode===s&&(n.back=-1);break}for(n.back=0;G=(D=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,w=65535&D,!((U=D>>>24)<=B);){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(G&&0==(240&G)){for(S=U,E=G,X=w;G=(D=n.lencode[X+((p&(1<<S+E)-1)>>S)])>>>16&255,w=65535&D,!(S+(U=D>>>24)<=B);){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}p>>>=S,B-=S,n.back+=S}if(p>>>=U,B-=U,n.back+=U,n.length=w,0===G){n.mode=26;break}if(32&G){n.back=-1,n.mode=s;break}if(64&G){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&G,n.mode=22;case 22:if(n.extra){for(T=n.extra;B<T;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,B-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;G=(D=n.distcode[p&(1<<n.distbits)-1])>>>16&255,w=65535&D,!((U=D>>>24)<=B);){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(0==(240&G)){for(S=U,E=G,X=w;G=(D=n.distcode[X+((p&(1<<S+E)-1)>>S)])>>>16&255,w=65535&D,!(S+(U=D>>>24)<=B);){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}p>>>=S,B-=S,n.back+=S}if(p>>>=U,B-=U,n.back+=U,64&G){e.msg="invalid distance code",n.mode=u;break}n.offset=w,n.extra=15&G,n.mode=24;case 24:if(n.extra){for(T=n.extra;B<T;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,B-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===C)break e;if(x=v-C,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}x>n.wnext?(x-=n.wnext,Q=n.wsize-x):Q=n.wnext-x,x>n.length&&(x=n.length),F=n.window}else F=I,Q=h-n.offset,x=n.length;x>C&&(x=C),C-=x,n.length-=x;do{I[h++]=F[Q++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===C)break e;I[h++]=n.length,C--,n.mode=21;break;case 27:if(n.wrap){for(;B<32;){if(0===f)break e;f--,p|=d[b++]<<B,B+=8}if(v-=C,e.total_out+=v,n.total+=v,v&&(e.adler=n.check=n.flags?a(n.check,I,v,h-v):i(n.check,I,v,h-v)),v=C,(n.flags?p:g(p))!==n.check){e.msg="incorrect data check",n.mode=u;break}p=0,B=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;B<32;){if(0===f)break e;f--,p+=d[b++]<<B,B+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}p=0,B=0}n.mode=29;case 29:k=1;break e;case u:k=-3;break e;case 31:return-4;default:return c}return e.next_out=h,e.avail_out=C,e.next_in=b,e.avail_in=f,n.hold=p,n.bits=B,(n.wsize||v!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&A(e,e.output,e.next_out,v-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,v-=e.avail_out,e.total_in+=y,e.total_out+=v,n.total+=v,n.wrap&&v&&(e.adler=n.check=n.flags?a(n.check,I,v,e.next_out-v):i(n.check,I,v,e.next_out-v)),e.data_type=n.bits+(n.last?64:0)+(n.mode===s?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===v||4===t)&&0===k&&(k=-5),k)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:A(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},6446:function(e,t,n){"use strict";var r=n(9187),i=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,s,u,g,d,I){var b,h,f,C,p,B,m,A,y,v=I.bits,x=0,Q=0,F=0,U=0,G=0,w=0,S=0,E=0,X=0,Z=0,k=null,N=0,T=new r.Buf16(16),D=new r.Buf16(16),O=null,M=0;for(x=0;x<=i;x++)T[x]=0;for(Q=0;Q<s;Q++)T[t[n+Q]]++;for(G=v,U=i;U>=1&&0===T[U];U--);if(G>U&&(G=U),0===U)return u[g++]=20971520,u[g++]=20971520,I.bits=1,0;for(F=1;F<U&&0===T[F];F++);for(G<F&&(G=F),E=1,x=1;x<=i;x++)if(E<<=1,(E-=T[x])<0)return-1;if(E>0&&(0===e||1!==U))return-1;for(D[1]=0,x=1;x<i;x++)D[x+1]=D[x]+T[x];for(Q=0;Q<s;Q++)0!==t[n+Q]&&(d[D[t[n+Q]]++]=Q);if(0===e?(k=O=d,B=19):1===e?(k=a,N-=257,O=o,M-=257,B=256):(k=l,O=c,B=-1),Z=0,Q=0,x=F,p=g,w=G,S=0,f=-1,C=(X=1<<G)-1,1===e&&X>852||2===e&&X>592)return 1;for(;;){m=x-S,d[Q]<B?(A=0,y=d[Q]):d[Q]>B?(A=O[M+d[Q]],y=k[N+d[Q]]):(A=96,y=0),b=1<<x-S,F=h=1<<w;do{u[p+(Z>>S)+(h-=b)]=m<<24|A<<16|y|0}while(0!==h);for(b=1<<x-1;Z&b;)b>>=1;if(0!==b?(Z&=b-1,Z+=b):Z=0,Q++,0==--T[x]){if(x===U)break;x=t[n+d[Q]]}if(x>G&&(Z&C)!==f){for(0===S&&(S=G),p+=F,E=1<<(w=x-S);w+S<U&&!((E-=T[w+S])<=0);)w++,E<<=1;if(X+=1<<w,1===e&&X>852||2===e&&X>592)return 1;u[f=Z&C]=G<<24|w<<16|p-g|0}}return 0!==Z&&(u[p+Z]=x-S<<24|64<<16|0),I.bits=G,0}},5604:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(e,t,n){"use strict";var r=n(9187);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,o=286,l=30,c=15,s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(576);i(I);var b=new Array(60);i(b);var h=new Array(512);i(h);var f=new Array(256);i(f);var C=new Array(29);i(C);var p,B,m,A=new Array(l);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?h[e]:h[256+(e>>>7)]}function Q(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Q(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){F(e,n[2*t],n[2*t+1])}function G(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function w(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=c;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var l=e[2*i+1];0!==l&&(e[2*i]=G(a[l]++,l))}}function S(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?Q(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function Z(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&X(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!X(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function k(e,t,n){var r,i,o,l,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?U(e,i,t):(U(e,(o=f[i])+a+1,t),0!==(l=s[o])&&F(e,i-=C[o],l),U(e,o=x(--r),n),0!==(l=u[o])&&F(e,r-=A[o],l))}while(c<e.last_lit);U(e,256,t)}function N(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,s=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,l&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)Z(e,a,n);i=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,Z(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,l,s=t.dyn_tree,u=t.max_code,g=t.stat_desc.static_tree,d=t.stat_desc.has_stree,I=t.stat_desc.extra_bits,b=t.stat_desc.extra_base,h=t.stat_desc.max_length,f=0;for(a=0;a<=c;a++)e.bl_count[a]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=s[2*s[2*(r=e.heap[n])+1]+1]+1)>h&&(a=h,f++),s[2*r+1]=a,r>u||(e.bl_count[a]++,o=0,r>=b&&(o=I[r-b]),l=s[2*r],e.opt_len+=l*(a+o),d&&(e.static_len+=l*(g[2*r+1]+o)));if(0!==f){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,f-=2}while(f>0);for(a=h;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>u||(s[2*i+1]!==a&&(e.opt_len+=(a-s[2*i+1])*s[2*i],s[2*i+1]=a),r--)}}(e,t),w(a,u,e.bl_count)}function T(e,t,n){var r,i,a=-1,o=t[1],l=0,c=7,s=4;for(0===o&&(c=138,s=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++l<c&&i===o||(l<s?e.bl_tree[2*i]+=l:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,a=i,0===o?(c=138,s=3):i===o?(c=6,s=3):(c=7,s=4))}function D(e,t,n){var r,i,a=-1,o=t[1],l=0,c=7,s=4;for(0===o&&(c=138,s=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++l<c&&i===o)){if(l<s)do{U(e,i,e.bl_tree)}while(0!=--l);else 0!==i?(i!==a&&(U(e,i,e.bl_tree),l--),U(e,16,e.bl_tree),F(e,l-3,2)):l<=10?(U(e,17,e.bl_tree),F(e,l-3,3)):(U(e,18,e.bl_tree),F(e,l-11,7));l=0,a=i,0===o?(c=138,s=3):i===o?(c=6,s=3):(c=7,s=4)}}i(A);var O=!1;function M(e,t,n,i){F(e,0+(i?1:0),3),function(e,t,n,i){E(e),i&&(Q(e,n),Q(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){O||(function(){var e,t,n,r,i,a=new Array(16);for(n=0,r=0;r<28;r++)for(C[r]=n,e=0;e<1<<s[r];e++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(A[r]=i,e=0;e<1<<u[r];e++)h[i++]=r;for(i>>=7;r<l;r++)for(A[r]=i<<7,e=0;e<1<<u[r]-7;e++)h[256+i++]=r;for(t=0;t<=c;t++)a[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,a[8]++;for(;e<=255;)I[2*e+1]=9,e++,a[9]++;for(;e<=279;)I[2*e+1]=7,e++,a[7]++;for(;e<=287;)I[2*e+1]=8,e++,a[8]++;for(w(I,287,a),e=0;e<l;e++)b[2*e+1]=5,b[2*e]=G(e,5);p=new y(I,s,257,o,c),B=new y(b,u,0,l,c),m=new y(new Array(0),g,0,19,7)}(),O=!0),e.l_desc=new v(e.dyn_ltree,p),e.d_desc=new v(e.dyn_dtree,B),e.bl_desc=new v(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,S(e)},t._tr_stored_block=M,t._tr_flush_block=function(e,t,n,r){var i,o,l=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),l=function(e){var t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?M(e,t,n,r):4===e.strategy||o===i?(F(e,2+(r?1:0),3),k(e,I,b)):(F(e,4+(r?1:0),3),function(e,t,n,r){var i;for(F(e,t-257,5),F(e,n-1,5),F(e,r-4,4),i=0;i<r;i++)F(e,e.bl_tree[2*d[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),k(e,e.dyn_ltree,e.dyn_dtree)),S(e),r&&E(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+a+1)]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){F(e,2,3),U(e,256,I),function(e){16===e.bi_valid?(Q(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},249:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(e){e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",i=0;i<e.length;i++){var a=e[i];if(t)a?r+=String.fromCharCode(a):t=!1;else{if(!a)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(a)}}return{keyword:r,text:n}}},9686:function(e){e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,i=new Uint8Array(r),a=0,o=0;o<e.length;o++){if(!(n=e.charCodeAt(o)))throw new Error("0x00 character is not permitted in tEXt keywords");i[a++]=n}i[a++]=0;for(var l=0;l<t.length;l++){if(!(n=t.charCodeAt(l)))throw new Error("0x00 character is not permitted in tEXt content");i[a++]=n}return{name:"tEXt",data:i}}},1194:function(e,t,n){t.encode=n(9686),t.decode=n(9066)},3434:function(e,t,n){var r=n(5714),i=n(6233);e.exports=function(e){var t,n=8,c=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var s=new Uint8Array(n);for(s[0]=137,s[1]=80,s[2]=78,s[3]=71,s[4]=13,s[5]=10,s[6]=26,s[7]=10,t=0;t<e.length;t++){var u=e[t],g=u.name,d=u.data,I=d.length,b=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)];l[0]=I,s[c++]=a[3],s[c++]=a[2],s[c++]=a[1],s[c++]=a[0],s[c++]=b[0],s[c++]=b[1],s[c++]=b[2],s[c++]=b[3];for(var h=0;h<I;)s[c++]=d[h++];var f=b.concat(r(d)),C=i.buf(f);o[0]=C,s[c++]=a[3],s[c++]=a[2],s[c++]=a[1],s[c++]=a[0]}return s};var a=new Uint8Array(4),o=new Int32Array(a.buffer),l=new Uint32Array(a.buffer)},2983:function(e,t,n){var r=n(6233);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var t=!1,n=[],l=8;l<e.length;){i[3]=e[l++],i[2]=e[l++],i[1]=e[l++],i[0]=e[l++];var c=o[0]+4,s=new Uint8Array(c);s[0]=e[l++],s[1]=e[l++],s[2]=e[l++],s[3]=e[l++];var u=String.fromCharCode(s[0])+String.fromCharCode(s[1])+String.fromCharCode(s[2])+String.fromCharCode(s[3]);if(!n.length&&"IHDR"!==u)throw new Error("IHDR header missing");if("IEND"===u){t=!0,n.push({name:u,data:new Uint8Array(0)});break}for(var g=4;g<c;g++)s[g]=e[l++];i[3]=e[l++],i[2]=e[l++],i[1]=e[l++],i[0]=e[l++];var d=a[0];if(r.buf(s)!==d)throw new Error("CRC values for "+u+" header do not match, PNG file is likely corrupted");var I=new Uint8Array(s.buffer.slice(4));n.push({name:u,data:I})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var i=new Uint8Array(4),a=new Int32Array(i.buffer),o=new Uint32Array(i.buffer)},1493:function(e,t,n){"use strict";function r(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function i(e,t,n){var i=r(t,n);if(0===i)return r(e,t);var o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return r(e,a(t,n,o=Math.max(0,Math.min(1,o))))}function a(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function o(e,t,n,i){var l,c,s=i||[];if(function(e,t){var n=e[t+0],r=e[t+1],i=e[t+2],a=e[t+3],o=3*r[0]-2*n[0]-a[0];o*=o;var l=3*r[1]-2*n[1]-a[1];l*=l;var c=3*i[0]-2*a[0]-n[0];c*=c;var s=3*i[1]-2*a[1]-n[1];return o<c&&(o=c),l<(s*=s)&&(l=s),o+l}(e,t)<n){var u=e[t+0];s.length?(l=s[s.length-1],c=u,Math.sqrt(r(l,c))>1&&s.push(u)):s.push(u),s.push(e[t+3])}else{var g=.5,d=e[t+0],I=e[t+1],b=e[t+2],h=e[t+3],f=a(d,I,g),C=a(I,b,g),p=a(b,h,g),B=a(f,C,g),m=a(C,p,g),A=a(B,m,g);o([d,f,B,A],0,n,s),o([A,m,p,h],0,n,s)}return s}function l(e,t){return c(e,0,e.length,t)}function c(e,t,n,r,a){for(var o=a||[],l=e[t],s=e[n-1],u=0,g=1,d=t+1;d<n-1;++d){var I=i(e[d],l,s);I>u&&(u=I,g=d)}return Math.sqrt(u)>r?(c(e,t,g+1,r,o),c(e,g,n,r,o)):(o.length||o.push(l),o.push(s)),o}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],i=(e.length-1)/3,a=0;a<i;a++)o(e,3*a,t,r);return n&&n>0?c(r,0,r.length,n):r}n.d(t,{o:function(){return l},s:function(){return s}})},6094:function(e,t,n){"use strict";var r=n(9787),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,a={},s=null,u=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:s,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=s,t.jsxs=s},4512:function(e,t,n){"use strict";e.exports=n(6094)},8152:function(e,t,n){"use strict";function r(){return Math.floor(Math.random()*Math.pow(2,31))}n.d(t,{W:function(){return r},k:function(){return i}});var i=function(){function e(t){c(this,e),this.seed=t}return s(e,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]),e}()},8234:function(e,t,n){"use strict";function r(e,t,n){if(e&&e.length){var r=g(t,2),i=r[0],a=r[1],o=Math.PI/180*n,l=Math.cos(o),c=Math.sin(o);e.forEach((function(e){var t=g(e,2),n=t[0],r=t[1];e[0]=(n-i)*l-(r-a)*c+i,e[1]=(n-i)*c+(r-a)*l+a}))}}function i(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function u(e,t){var n=t.hachureAngle+90,i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);var a=[0,0];if(n){var o,c=d(e);try{for(c.s();!(o=c.n()).done;)r(o.value,a,n)}catch(I){c.e(I)}finally{c.f()}}var s=function(e,t){var n,r=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=l(a);o[0].join(",")!==o[o.length-1].join(",")&&o.push([o[0][0],o[0][1]]),o.length>2&&r.push(o)}}catch(I){i.e(I)}finally{i.f()}var c=[];t=Math.max(t,.1);for(var s=[],u=0,g=r;u<g.length;u++)for(var b=g[u],h=0;h<b.length-1;h++){var f=b[h],C=b[h+1];if(f[1]!==C[1]){var p=Math.min(f[1],C[1]);s.push({ymin:p,ymax:Math.max(f[1],C[1]),x:p===f[1]?f[0]:C[0],islope:(C[0]-f[0])/(C[1]-f[1])})}}if(s.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!s.length)return c;for(var B=[],m=s[0].ymin;B.length||s.length;){if(s.length){for(var A=-1,y=0;y<s.length&&!(s[y].ymin>m);y++)A=y;s.splice(0,A+1).forEach((function(e){B.push({s:m,edge:e})}))}if(B=B.filter((function(e){return!(e.edge.ymax<=m)})),B.sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),B.length>1)for(var v=0;v<B.length;v+=2){var x=v+1;if(x>=B.length)break;var Q=B[v].edge,F=B[x].edge;c.push([[Math.round(Q.x),m],[Math.round(F.x),m]])}m+=t,B.forEach((function(e){e.edge.x=e.edge.x+t*e.edge.islope}))}return c}(e,i);if(n){var u,g=d(e);try{for(g.s();!(u=g.n()).done;)r(u.value,a,-n)}catch(I){g.e(I)}finally{g.f()}!function(e,t,n){var i=[];e.forEach((function(e){return i.push.apply(i,l(e))})),r(i,t,n)}(s,a,-n)}return s}n.d(t,{Z:function(){return te}});var I=function(){function e(t){c(this,e),this.helper=t}return s(e,[{key:"fillPolygons",value:function(e,t){return this._fillPolygons(e,t)}},{key:"_fillPolygons",value:function(e,t){var n=u(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}},{key:"renderLines",value:function(e,t){var n,r=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push.apply(r,l(this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],t)))}}catch(o){i.e(o)}finally{i.f()}return r}}]),e}(),b=function(e){a(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var r,a=u(e,Object.assign({},t,{hachureGap:n})),o=Math.PI/180*t.hachureAngle,c=[],s=.5*n*Math.cos(o),I=.5*n*Math.sin(o),b=d(a);try{for(b.s();!(r=b.n()).done;){var h=g(r.value,2),f=h[0],C=h[1];i([f,C])&&c.push([[f[0]-s,f[1]+I],l(C)],[[f[0]+s,f[1]-I],l(C)])}}catch(p){b.e(p)}finally{b.f()}return{type:"fillSketch",ops:this.renderLines(c,t)}}}]),n}(I),h=function(e){a(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"fillPolygons",value:function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}]),n}(I),f=function(){function e(t){c(this,e),this.helper=t}return s(e,[{key:"fillPolygons",value:function(e,t){var n=u(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var a=t.fillWeight;a<0&&(a=t.strokeWidth/2);var o,c=r/4,s=d(e);try{for(s.s();!(o=s.n()).done;)for(var u=o.value,g=i(u),I=g/r,b=Math.ceil(I)-1,h=g-b*r,f=(u[0][0]+u[1][0])/2-r/4,C=Math.min(u[0][1],u[1][1]),p=0;p<b;p++){var B=C+h+p*r,m=f-c+2*Math.random()*c,A=B-c+2*Math.random()*c,y=this.helper.ellipse(m,A,a,a,t);n.push.apply(n,l(y.ops))}}catch(v){s.e(v)}finally{s.f()}return{type:"fillSketch",ops:n}}}]),e}(),C=function(){function e(t){c(this,e),this.helper=t}return s(e,[{key:"fillPolygons",value:function(e,t){var n=u(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,o=[];return e.forEach((function(e){var c=i(e),s=Math.floor(c/(r+a)),u=(c+a-s*(r+a))/2,g=e[0],d=e[1];g[0]>d[0]&&(g=e[1],d=e[0]);for(var I=Math.atan((d[1]-g[1])/(d[0]-g[0])),b=0;b<s;b++){var h=b*(r+a),f=h+r,C=[g[0]+h*Math.cos(I)+u*Math.cos(I),g[1]+h*Math.sin(I)+u*Math.sin(I)],p=[g[0]+f*Math.cos(I)+u*Math.cos(I),g[1]+f*Math.sin(I)+u*Math.sin(I)];o.push.apply(o,l(n.helper.doubleLineOps(C[0],C[1],p[0],p[1],t)))}})),o}}]),e}(),p=function(){function e(t){c(this,e),this.helper=t}return s(e,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=u(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,a=[];return e.forEach((function(e){var o=i(e),c=Math.round(o/(2*t)),s=e[0],u=e[1];s[0]>u[0]&&(s=e[1],u=e[0]);for(var g=Math.atan((u[1]-s[1])/(u[0]-s[0])),d=0;d<c;d++){var I=2*d*t,b=2*(d+1)*t,h=Math.sqrt(2*Math.pow(t,2)),f=[s[0]+I*Math.cos(g),s[1]+I*Math.sin(g)],C=[s[0]+b*Math.cos(g),s[1]+b*Math.sin(g)],p=[f[0]+h*Math.cos(g+Math.PI/4),f[1]+h*Math.sin(g+Math.PI/4)];a.push.apply(a,l(r.helper.doubleLineOps(f[0],f[1],p[0],p[1],n)).concat(l(r.helper.doubleLineOps(p[0],p[1],C[0],C[1],n))))}})),a}}]),e}(),B={},m=n(8152),A={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y(e,t){return e.type===t}function v(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",i=0,a=n[i];!y(a,2);){var o=0,l=[];if("BOD"===r){if("M"!==a.text&&"m"!==a.text)return v("M0,0"+e);i++,o=A[a.text],r=a.text}else y(a,1)?o=A[r]:(i++,o=A[a.text],r=a.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(var c=i;c<i+o;c++){var s=n[c];if(!y(s,1))throw new Error("Param not a number: "+r+","+s.text);l[l.length]=+s.text}if("number"!=typeof A[r])throw new Error("Bad segment: "+r);var u={key:r,data:l};t.push(u),a=n[i+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function x(e){var t,n,r,i,a=0,o=0,c=0,s=0,u=[],I=d(e);try{for(I.s();!(i=I.n()).done;){var b=i.value,h=b.key,f=b.data;switch(h){case"M":u.push({key:"M",data:l(f)}),t=g(f,2),a=t[0],o=t[1],c=(n=g(f,2))[0],s=n[1];break;case"m":a+=f[0],o+=f[1],u.push({key:"M",data:[a,o]}),c=a,s=o;break;case"L":u.push({key:"L",data:l(f)}),r=g(f,2),a=r[0],o=r[1];break;case"l":a+=f[0],o+=f[1],u.push({key:"L",data:[a,o]});break;case"C":u.push({key:"C",data:l(f)}),a=f[4],o=f[5];break;case"c":var C=f.map((function(e,t){return t%2?e+o:e+a}));u.push({key:"C",data:C}),a=C[4],o=C[5];break;case"Q":u.push({key:"Q",data:l(f)}),a=f[2],o=f[3];break;case"q":var p=f.map((function(e,t){return t%2?e+o:e+a}));u.push({key:"Q",data:p}),a=p[2],o=p[3];break;case"A":u.push({key:"A",data:l(f)}),a=f[5],o=f[6];break;case"a":a+=f[5],o+=f[6],u.push({key:"A",data:[f[0],f[1],f[2],f[3],f[4],a,o]});break;case"H":u.push({key:"H",data:l(f)}),a=f[0];break;case"h":a+=f[0],u.push({key:"H",data:[a]});break;case"V":u.push({key:"V",data:l(f)}),o=f[0];break;case"v":o+=f[0],u.push({key:"V",data:[o]});break;case"S":u.push({key:"S",data:l(f)}),a=f[2],o=f[3];break;case"s":var B=f.map((function(e,t){return t%2?e+o:e+a}));u.push({key:"S",data:B}),a=B[2],o=B[3];break;case"T":u.push({key:"T",data:l(f)}),a=f[0],o=f[1];break;case"t":a+=f[0],o+=f[1],u.push({key:"T",data:[a,o]});break;case"Z":case"z":u.push({key:"Z",data:[]}),a=c,o=s}}}catch(m){I.e(m)}finally{I.f()}return u}function Q(e){var t,n,r,i,a=[],o="",c=0,s=0,u=0,I=0,b=0,h=0,f=d(e);try{for(f.s();!(i=f.n()).done;){var C=i.value,p=C.key,B=C.data;switch(p){case"M":a.push({key:"M",data:l(B)}),c=(t=g(B,2))[0],s=t[1],u=(n=g(B,2))[0],I=n[1];break;case"C":a.push({key:"C",data:l(B)}),c=B[4],s=B[5],b=B[2],h=B[3];break;case"L":a.push({key:"L",data:l(B)}),c=(r=g(B,2))[0],s=r[1];break;case"H":c=B[0],a.push({key:"L",data:[c,s]});break;case"V":s=B[0],a.push({key:"L",data:[c,s]});break;case"S":var m=0,A=0;"C"===o||"S"===o?(m=c+(c-b),A=s+(s-h)):(m=c,A=s),a.push({key:"C",data:[m,A].concat(l(B))}),b=B[0],h=B[1],c=B[2],s=B[3];break;case"T":var y=g(B,2),v=y[0],x=y[1],Q=0,F=0;"Q"===o||"T"===o?(Q=c+(c-b),F=s+(s-h)):(Q=c,F=s);var G=c+2*(Q-c)/3,w=s+2*(F-s)/3,S=v+2*(Q-v)/3,E=x+2*(F-x)/3;a.push({key:"C",data:[G,w,S,E,v,x]}),b=Q,h=F,c=v,s=x;break;case"Q":var X=g(B,4),Z=X[0],k=X[1],N=X[2],T=X[3],D=c+2*(Z-c)/3,O=s+2*(k-s)/3,M=N+2*(Z-N)/3,V=T+2*(k-T)/3;a.push({key:"C",data:[D,O,M,V,N,T]}),b=Z,h=k,c=N,s=T;break;case"A":var W=Math.abs(B[0]),R=Math.abs(B[1]),Y=B[2],L=B[3],H=B[4],z=B[5],j=B[6];0===W||0===R?(a.push({key:"C",data:[c,s,z,j,z,j]}),c=z,s=j):c===z&&s===j||(U(c,s,z,j,W,R,Y,L,H).forEach((function(e){a.push({key:"C",data:e})})),c=z,s=j);break;case"Z":a.push({key:"Z",data:[]}),c=u,s=I}o=p}}catch(_){f.e(_)}finally{f.f()}return a}function F(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function U(e,t,n,r,i,a,o,l,c,s){var u,d=(u=o,Math.PI*u/180),I=[],b=0,h=0,f=0,C=0;if(s){var p=g(s,4);b=p[0],h=p[1],f=p[2],C=p[3]}else{var B,m,A,y;B=F(e,t,-d),e=(m=g(B,2))[0],t=m[1],A=F(n,r,-d);var v=(e-(n=(y=g(A,2))[0]))/2,x=(t-(r=y[1]))/2,Q=v*v/(i*i)+x*x/(a*a);Q>1&&(i*=Q=Math.sqrt(Q),a*=Q);var G=i*i,w=a*a,S=G*w-G*x*x-w*v*v,E=G*x*x+w*v*v,X=(l===c?-1:1)*Math.sqrt(Math.abs(S/E));f=X*i*x/a+(e+n)/2,C=X*-a*v/i+(t+r)/2,b=Math.asin(parseFloat(((t-C)/a).toFixed(9))),h=Math.asin(parseFloat(((r-C)/a).toFixed(9))),e<f&&(b=Math.PI-b),n<f&&(h=Math.PI-h),b<0&&(b=2*Math.PI+b),h<0&&(h=2*Math.PI+h),c&&b>h&&(b-=2*Math.PI),!c&&h>b&&(h-=2*Math.PI)}var Z=h-b;if(Math.abs(Z)>120*Math.PI/180){var k=h,N=n,T=r;h=c&&h>b?b+120*Math.PI/180*1:b+120*Math.PI/180*-1,I=U(n=f+i*Math.cos(h),r=C+a*Math.sin(h),N,T,i,a,o,0,c,[h,k,f,C])}Z=h-b;var D=Math.cos(b),O=Math.sin(b),M=Math.cos(h),V=Math.sin(h),W=Math.tan(Z/4),R=4/3*i*W,Y=4/3*a*W,L=[e,t],H=[e+R*O,t-Y*D],z=[n+R*V,r-Y*M],j=[n,r];if(H[0]=2*L[0]-H[0],H[1]=2*L[1]-H[1],s)return[H,z,j].concat(I);I=[H,z,j].concat(I);for(var _=[],J=0;J<I.length;J+=3){var P=F(I[J][0],I[J][1],d),K=F(I[J+1][0],I[J+1][1],d),q=F(I[J+2][0],I[J+2][1],d);_.push([P[0],P[1],K[0],K[1],q[0],q[1]])}return _}var G={randOffset:function(e,t){return V(e,t)},randOffsetWithRange:function(e,t,n){return M(e,t,n)},ellipse:function(e,t,n,r,i){return k(e,t,i,Z(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return W(e,t,n,r,i,!0)}};function w(e,t,n,r,i){return{type:"path",ops:W(e,t,n,r,i)}}function S(e,t,n){var r=(e||[]).length;if(r>2){for(var i=[],a=0;a<r-1;a++)i.push.apply(i,l(W(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n)));return t&&i.push.apply(i,l(W(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:i}}return 2===r?w(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function E(e,t,n,r,i){return function(e,t){return S(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}function X(e,t){var n=Y(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=Y(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));n=n.concat(r)}return{type:"path",ops:n}}function Z(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/i,o=Math.abs(e/2),l=Math.abs(t/2),c=1-n.curveFitting;return{increment:a,rx:o+=V(o*c,n),ry:l+=V(l*c,n)}}function k(e,t,n,r){var i=H(r.increment,e,t,r.rx,r.ry,1,r.increment*M(.1,M(.4,1,n),n),n),a=g(i,2),o=a[0],l=a[1],c=L(o,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var s=H(r.increment,e,t,r.rx,r.ry,1.5,0,n),u=L(g(s,1)[0],null,n);c=c.concat(u)}return{estimatedPoints:l,opset:{type:"path",ops:c}}}function N(e,t,n,r,i,a,o,c,s){var u=e,g=t,d=Math.abs(n/2),I=Math.abs(r/2);d+=V(.01*d,s),I+=V(.01*I,s);for(var b=i,h=a;b<0;)b+=2*Math.PI,h+=2*Math.PI;h-b>2*Math.PI&&(b=0,h=2*Math.PI);var f=2*Math.PI/s.curveStepCount,C=Math.min(f/2,(h-b)/2),p=z(C,u,g,d,I,b,h,1,s);if(!s.disableMultiStroke){var B=z(C,u,g,d,I,b,h,1.5,s);p.push.apply(p,l(B))}return o&&(c?p.push.apply(p,l(W(u,g,u+d*Math.cos(b),g+I*Math.sin(b),s)).concat(l(W(u,g,u+d*Math.cos(h),g+I*Math.sin(h),s)))):p.push({op:"lineTo",data:[u,g]},{op:"lineTo",data:[u+d*Math.cos(b),g+I*Math.sin(b)]})),{type:"path",ops:p}}function T(e,t){var n,r=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.length){var o=t.maxRandomnessOffset||0,l=a.length;if(l>2){r.push({op:"move",data:[a[0][0]+V(o,t),a[0][1]+V(o,t)]});for(var c=1;c<l;c++)r.push({op:"lineTo",data:[a[c][0]+V(o,t),a[c][1]+V(o,t)]})}}}}catch(s){i.e(s)}finally{i.f()}return{type:"fillPath",ops:r}}function D(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!B[n])switch(n){case"zigzag":B[n]||(B[n]=new b(t));break;case"cross-hatch":B[n]||(B[n]=new h(t));break;case"dots":B[n]||(B[n]=new f(t));break;case"dashed":B[n]||(B[n]=new C(t));break;case"zigzag-line":B[n]||(B[n]=new p(t));break;default:B[n="hachure"]||(B[n]=new I(t))}return B[n]}(t,G).fillPolygons(e,t)}function O(e){return e.randomizer||(e.randomizer=new m.k(e.seed||0)),e.randomizer.next()}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(O(n)*(t-e)+e)}function V(e,t){return M(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function W(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?i.disableMultiStrokeFill:i.disableMultiStroke,o=R(e,t,n,r,i,!0,!1);if(a)return o;var l=R(e,t,n,r,i,!0,!0);return o.concat(l)}function R(e,t,n,r,i,a,o){var l=Math.pow(e-n,2)+Math.pow(t-r,2),c=Math.sqrt(l),s=1;s=c<200?1:c>500?.4:-.0016668*c+1.233334;var u=i.maxRandomnessOffset||0;u*u*100>l&&(u=c/10);var g=u/2,d=.2+.2*O(i),I=i.bowing*i.maxRandomnessOffset*(r-t)/200,b=i.bowing*i.maxRandomnessOffset*(e-n)/200;I=V(I,i,s),b=V(b,i,s);var h=[],f=function(){return V(g,i,s)},C=function(){return V(u,i,s)},p=i.preserveVertices;return a&&(o?h.push({op:"move",data:[e+(p?0:f()),t+(p?0:f())]}):h.push({op:"move",data:[e+(p?0:V(u,i,s)),t+(p?0:V(u,i,s))]})),o?h.push({op:"bcurveTo",data:[I+e+(n-e)*d+f(),b+t+(r-t)*d+f(),I+e+2*(n-e)*d+f(),b+t+2*(r-t)*d+f(),n+(p?0:f()),r+(p?0:f())]}):h.push({op:"bcurveTo",data:[I+e+(n-e)*d+C(),b+t+(r-t)*d+C(),I+e+2*(n-e)*d+C(),b+t+2*(r-t)*d+C(),n+(p?0:C()),r+(p?0:C())]}),h}function Y(e,t,n){var r=[];r.push([e[0][0]+V(t,n),e[0][1]+V(t,n)]),r.push([e[0][0]+V(t,n),e[0][1]+V(t,n)]);for(var i=1;i<e.length;i++)r.push([e[i][0]+V(t,n),e[i][1]+V(t,n)]),i===e.length-1&&r.push([e[i][0]+V(t,n),e[i][1]+V(t,n)]);return L(r,null,n)}function L(e,t,n){var r=e.length,i=[];if(r>3){var a=[],o=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(var c=1;c+2<r;c++){var s=e[c];a[0]=[s[0],s[1]],a[1]=[s[0]+(o*e[c+1][0]-o*e[c-1][0])/6,s[1]+(o*e[c+1][1]-o*e[c-1][1])/6],a[2]=[e[c+1][0]+(o*e[c][0]-o*e[c+2][0])/6,e[c+1][1]+(o*e[c][1]-o*e[c+2][1])/6],a[3]=[e[c+1][0],e[c+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){var u=n.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+V(u,n),t[1]+V(u,n)]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push.apply(i,l(W(e[0][0],e[0][1],e[1][0],e[1][1],n)));return i}function H(e,t,n,r,i,a,o,l){var c=[],s=[];if(0===l.roughness){e/=4,s.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(var u=0;u<=2*Math.PI;u+=e){var g=[t+r*Math.cos(u),n+i*Math.sin(u)];c.push(g),s.push(g)}s.push([t+r*Math.cos(0),n+i*Math.sin(0)]),s.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{var d=V(.5,l)-Math.PI/2;s.push([V(a,l)+t+.9*r*Math.cos(d-e),V(a,l)+n+.9*i*Math.sin(d-e)]);for(var I=2*Math.PI+d-.01,b=d;b<I;b+=e){var h=[V(a,l)+t+r*Math.cos(b),V(a,l)+n+i*Math.sin(b)];c.push(h),s.push(h)}s.push([V(a,l)+t+r*Math.cos(d+2*Math.PI+.5*o),V(a,l)+n+i*Math.sin(d+2*Math.PI+.5*o)]),s.push([V(a,l)+t+.98*r*Math.cos(d+o),V(a,l)+n+.98*i*Math.sin(d+o)]),s.push([V(a,l)+t+.9*r*Math.cos(d+.5*o),V(a,l)+n+.9*i*Math.sin(d+.5*o)])}return[s,c]}function z(e,t,n,r,i,a,o,l,c){var s=a+V(.1,c),u=[];u.push([V(l,c)+t+.9*r*Math.cos(s-e),V(l,c)+n+.9*i*Math.sin(s-e)]);for(var g=s;g<=o;g+=e)u.push([V(l,c)+t+r*Math.cos(g),V(l,c)+n+i*Math.sin(g)]);return u.push([t+r*Math.cos(o),n+i*Math.sin(o)]),u.push([t+r*Math.cos(o),n+i*Math.sin(o)]),L(u,null,c)}function j(e,t,n,r,i,a,o,l){for(var c=[],s=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],u=[0,0],g=l.disableMultiStroke?1:2,d=l.preserveVertices,I=0;I<g;I++)0===I?c.push({op:"move",data:[o[0],o[1]]}):c.push({op:"move",data:[o[0]+(d?0:V(s[0],l)),o[1]+(d?0:V(s[0],l))]}),u=d?[i,a]:[i+V(s[I],l),a+V(s[I],l)],c.push({op:"bcurveTo",data:[e+V(s[I],l),t+V(s[I],l),n+V(s[I],l),r+V(s[I],l),u[0],u[1]]});return c}function _(e){return l(e)}var J=n(1493),P="none",K=function(){function e(t){c(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return s(e,[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,i){var a=this._o(i);return this._d("line",[w(e,t,n,r,a)],a)}},{key:"rectangle",value:function(e,t,n,r,i){var a=this._o(i),o=[],l=E(e,t,n,r,a);if(a.fill){var c=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===a.fillStyle?o.push(T([c],a)):o.push(D([c],a))}return a.stroke!==P&&o.push(l),this._d("rectangle",o,a)}},{key:"ellipse",value:function(e,t,n,r,i){var a=this._o(i),o=[],l=Z(n,r,a),c=k(e,t,a,l);if(a.fill)if("solid"===a.fillStyle){var s=k(e,t,a,l).opset;s.type="fillPath",o.push(s)}else o.push(D([c.estimatedPoints],a));return a.stroke!==P&&o.push(c.opset),this._d("ellipse",o,a)}},{key:"circle",value:function(e,t,n,r){var i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[S(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,c=this._o(l),s=[],u=N(e,t,n,r,i,a,o,!0,c);if(o&&c.fill)if("solid"===c.fillStyle){var g=Object.assign({},c);g.disableMultiStroke=!0;var d=N(e,t,n,r,i,a,!0,!1,g);d.type="fillPath",s.push(d)}else s.push(function(e,t,n,r,i,a,o){var l=e,c=t,s=Math.abs(n/2),u=Math.abs(r/2);s+=V(.01*s,o),u+=V(.01*u,o);for(var g=i,d=a;g<0;)g+=2*Math.PI,d+=2*Math.PI;d-g>2*Math.PI&&(g=0,d=2*Math.PI);for(var I=(d-g)/o.curveStepCount,b=[],h=g;h<=d;h+=I)b.push([l+s*Math.cos(h),c+u*Math.sin(h)]);return b.push([l+s*Math.cos(d),c+u*Math.sin(d)]),b.push([l,c]),D([b],o)}(e,t,n,r,i,a,c));return c.stroke!==P&&s.push(u),this._d("arc",s,c)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],i=X(e,n);if(n.fill&&n.fill!==P&&e.length>=3){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push(_(e[0]),_(e[1]),_(e[2]),_(e[2]));else{var i=[];i.push(e[0],e[0]);for(var a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);var o=[],l=1-t;r.push(_(i[0]));for(var c=1;c+2<i.length;c++){var s=i[c];o[0]=[s[0],s[1]],o[1]=[s[0]+(l*i[c+1][0]-l*i[c-1][0])/6,s[1]+(l*i[c+1][1]-l*i[c-1][1])/6],o[2]=[i[c+1][0]+(l*i[c][0]-l*i[c+2][0])/6,i[c+1][1]+(l*i[c][1]-l*i[c+2][1])/6],o[3]=[i[c+1][0],i[c+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),o=(0,J.s)(a,10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(T([o],n)):r.push(D([o],n))}return n.stroke!==P&&r.push(i),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],i=S(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(T([e],n)):r.push(D([e],n))),n.stroke!==P&&r.push(i),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var i=n.fill&&"transparent"!==n.fill&&n.fill!==P,a=n.stroke!==P,o=!!(n.simplification&&n.simplification<1),c=function(e,t,n){var r,i=Q(x(v(e))),a=[],o=[],c=[0,0],s=[],u=function(){var e;s.length>=4&&(e=o).push.apply(e,l((0,J.s)(s,t))),s=[]},g=function(){u(),o.length&&(a.push(o),o=[])},I=d(i);try{for(I.s();!(r=I.n()).done;){var b=r.value,h=b.key,f=b.data;switch(h){case"M":g(),c=[f[0],f[1]],o.push(c);break;case"L":u(),o.push([f[0],f[1]]);break;case"C":if(!s.length){var C=o.length?o[o.length-1]:c;s.push([C[0],C[1]])}s.push([f[0],f[1]]),s.push([f[2],f[3]]),s.push([f[4],f[5]]);break;case"Z":u(),o.push([c[0],c[1]])}}}catch(F){I.e(F)}finally{I.f()}if(g(),!n)return a;for(var p=[],B=0,m=a;B<m.length;B++){var A=m[B],y=(0,J.o)(A,n);y.length&&p.push(y)}return p}(e,1,o?4-4*n.simplification:(1+n.roughness)/2);return i&&("solid"===n.fillStyle?r.push(T(c,n)):r.push(D(c,n))),a&&(o?c.forEach((function(e){r.push(S(e,!1,n))})):r.push(function(e,t){var n,r=Q(x(v(e))),i=[],a=[0,0],o=[0,0],c=d(r);try{var s=function(){var e=n.value,r=e.key,c=e.data;switch(r){case"M":var s=1*(t.maxRandomnessOffset||0),u=t.preserveVertices;i.push({op:"move",data:c.map((function(e){return e+(u?0:V(s,t))}))}),o=[c[0],c[1]],a=[c[0],c[1]];break;case"L":i.push.apply(i,l(W(o[0],o[1],c[0],c[1],t))),o=[c[0],c[1]];break;case"C":var d=g(c,6),I=d[0],b=d[1],h=d[2],f=d[3],C=d[4],p=d[5];i.push.apply(i,l(j(I,b,h,f,C,p,o,t))),o=[C,p];break;case"Z":i.push.apply(i,l(W(o[0],o[1],a[0],a[1],t))),o=[a[0],a[1]]}};for(c.s();!(n=c.n()).done;)s()}catch(u){c.e(u)}finally{c.f()}return{type:"path",ops:i}}(e,n))),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,r="",i=d(e.ops);try{for(i.s();!(n=i.n()).done;){var a=n.value,o="number"==typeof t&&t>=0?a.data.map((function(e){return+e.toFixed(t)})):a.data;switch(a.op){case"move":r+="M".concat(o[0]," ").concat(o[1]," ");break;case"bcurveTo":r+="C".concat(o[0]," ").concat(o[1],", ").concat(o[2]," ").concat(o[3],", ").concat(o[4]," ").concat(o[5]," ");break;case"lineTo":r+="L".concat(o[0]," ").concat(o[1]," ")}}}catch(l){i.e(l)}finally{i.f()}return r.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],r=e.options||this.defaultOptions,i=[],a=d(n);try{for(a.s();!(t=a.n()).done;){var o=t.value,l=null;switch(o.type){case"path":l={d:this.opsToPath(o),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:P};break;case"fillPath":l={d:this.opsToPath(o),stroke:P,strokeWidth:0,fill:r.fill||P};break;case"fillSketch":l=this.fillSketch(o,r)}l&&i.push(l)}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||P,strokeWidth:n,fill:P}}}],[{key:"newSeed",value:function(){return(0,m.W)()}}]),e}(),q=function(){function e(t,n){c(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new K(n)}return s(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits,o=d(n);try{for(o.s();!(t=o.n()).done;){var l=t.value;switch(l.type){case"path":i.save(),i.strokeStyle="none"===r.stroke?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,l,a),i.restore();break;case"fillPath":i.save(),i.fillStyle=r.fill||"";var c="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(i,l,a,c),i.restore();break;case"fillSketch":this.fillSketch(i,l,r)}}}catch(s){o.e(s)}finally{o.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}},{key:"_drawToContext",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";e.beginPath();var i,a=d(t.ops);try{for(a.s();!(i=a.n()).done;){var o=i.value,l="number"==typeof n&&n>=0?o.data.map((function(e){return+e.toFixed(n)})):o.data;switch(o.op){case"move":e.moveTo(l[0],l[1]);break;case"bcurveTo":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":e.lineTo(l[0],l[1])}}}catch(c){a.e(c)}finally{a.f()}"fillPath"===t.type?e.fill(r):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,i){var a=this.gen.line(e,t,n,r,i);return this.draw(a),a}},{key:"rectangle",value:function(e,t,n,r,i){var a=this.gen.rectangle(e,t,n,r,i);return this.draw(a),a}},{key:"ellipse",value:function(e,t,n,r,i){var a=this.gen.ellipse(e,t,n,r,i);return this.draw(a),a}},{key:"circle",value:function(e,t,n,r){var i=this.gen.circle(e,t,n,r);return this.draw(i),i}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,c=this.gen.arc(e,t,n,r,i,a,o,l);return this.draw(c),c}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}]),e}(),$="http://www.w3.org/2000/svg",ee=function(){function e(t,n){c(this,e),this.svg=t,this.gen=new K(n)}return s(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS($,"g"),o=e.options.fixedDecimalPlaceDigits,l=d(n);try{for(l.s();!(t=l.n()).done;){var c=t.value,s=null;switch(c.type){case"path":(s=i.createElementNS($,"path")).setAttribute("d",this.opsToPath(c,o)),s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth+""),s.setAttribute("fill","none"),r.strokeLineDash&&s.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&s.setAttribute("stroke-dashoffset","".concat(r.strokeLineDashOffset));break;case"fillPath":(s=i.createElementNS($,"path")).setAttribute("d",this.opsToPath(c,o)),s.setAttribute("stroke","none"),s.setAttribute("stroke-width","0"),s.setAttribute("fill",r.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||s.setAttribute("fill-rule","evenodd");break;case"fillSketch":s=this.fillSketch(i,c,r)}s&&a.appendChild(s)}}catch(u){l.e(u)}finally{l.f()}return a}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var i=e.createElementNS($,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),i}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,i){var a=this.gen.line(e,t,n,r,i);return this.draw(a)}},{key:"rectangle",value:function(e,t,n,r,i){var a=this.gen.rectangle(e,t,n,r,i);return this.draw(a)}},{key:"ellipse",value:function(e,t,n,r,i){var a=this.gen.ellipse(e,t,n,r,i);return this.draw(a)}},{key:"circle",value:function(e,t,n,r){var i=this.gen.circle(e,t,n,r);return this.draw(i)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,c=this.gen.arc(e,t,n,r,i,a,o,l);return this.draw(c)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}]),e}(),te={canvas:function(e,t){return new q(e,t)},svg:function(e,t){return new ee(e,t)},generator:function(e){return new K(e)},newSeed:function(){return K.newSeed()}}},5714:function(e){e.exports=function(e,t,n){var r=[],i=e.length;if(0===i)return r;var a=t<0?Math.max(0,t+i):t||0;for(void 0!==n&&(i=n<0?n+i:n);i-- >a;)r[i-a]=e[i];return r}},5422:function(e,t,n){"use strict";var r=n(487),i=n.n(r),a=n(631),o=n.n(a),l=n(2052),c=n.n(l),s=n(4010),u=n.n(s),g=n(1469),d=n.n(g),I=n(9329),b=n.n(I),h=n(2044),f={};f.styleTagTransform=b(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),i()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals},487:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],l=0;l<e.length;l++){var c=e[l],s=r.base?c[0]+r.base:c[0],u=a[s]||0,g="".concat(s," ").concat(u);a[s]=u+1;var d=n(g),I={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(I);else{var b=i(I,r);r.byIndex=l,t.splice(l,0,{identifier:g,updater:b,references:1})}o.push(g)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var l=n(a[o]);t[l].references--}for(var c=r(e,i),s=0;s<a.length;s++){var u=n(a[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},2052:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},1469:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4010:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},631:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9329:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2173:function(e,t,n){"use strict";var r=n(9787),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return l((function(){i.value=n,i.getSnapshot=t,s(i)&&u({inst:i})}),[e,n,t]),o((function(){return s(i)&&u({inst:i}),e((function(){s(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5917:function(e,t,n){"use strict";var r=n(9787),i=n(1374),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,l=r.useRef,c=r.useEffect,s=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var g=l(null);if(null===g.current){var d={hasValue:!1,value:null};g.current=d}else d=g.current;g=s((function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return l=t}return l=e}if(t=l,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,l=n)}var o,l,c=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]}),[t,n,r,i]);var I=o(e,g[0],g[1]);return c((function(){d.hasValue=!0,d.value=I}),[I]),u(I),I}},1374:function(e,t,n){"use strict";e.exports=n(2173)},5668:function(e,t,n){"use strict";e.exports=n(5917)},940:function(e,t,n){var r={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=940,e.exports=i},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},4295:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),l=n(1667),c=n.n(l),s=new URL(n(3940),n.b),u=new URL(n(3147),n.b),g=new URL(n(8303),n.b),d=new URL(n(1273),n.b),I=new URL(n(9577),n.b),b=new URL(n(9729),n.b),h=o()(i()),f=c()(s),C=c()(u),p=c()(g),B=c()(d),m=c()(I),A=c()(b);h.push([e.id,'@font-face{font-family:"Virgil";src:url('+f+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+C+');font-display:swap}@font-face{font-family:"Assistant";src:url('+p+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+B+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+m+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+A+");font-display:swap;font-weight:700}",""]),t.Z=h},6086:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),t.Z=o},3729:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),t.Z=o},3137:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),l=n(1667),c=n.n(l),s=new URL(n(7984),n.b),u=new URL(n(1639),n.b),g=o()(i()),d=c()(s),I=c()(u);g.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+d+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+I+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),t.Z=g},4241:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),t.Z=o},6029:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.Z=o},2345:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),l=n(1667),c=n.n(l),s=new URL(n(9669),n.b),u=o()(i()),g=c()(s);u.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+g+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.Z=u},9393:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),t.Z=o},6578:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),t.Z=o},9482:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),t.Z=o},6148:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),t.Z=o},7955:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),l=n(1667),c=n.n(l),s=new URL(n(9669),n.b),u=o()(i()),g=c()(s);u.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+g+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.Z=u},3195:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.Z=o},2978:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),t.Z=o},1587:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),t.Z=o},9478:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.Z=o},7369:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.Z=o},1434:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),t.Z=o},2316:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),t.Z=o},8923:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),t.Z=o},6440:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),t.Z=o},2701:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),t.Z=o},6843:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),t.Z=o},8461:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.Z=o},9935:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),t.Z=o},532:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.Z=o},7589:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.Z=o},8208:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),t.Z=o},5892:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.Z=o},3874:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.Z=o},2681:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.Z=o},6759:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),t.Z=o},9650:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.Z=o},2044:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),t.Z=o},9144:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),t.Z=o},6626:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.Z=o},6359:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),t.Z=o},7399:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),t.Z=o},8793:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),t.Z=o},3397:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),t.Z=o},4343:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.Z=o},1569:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),t.Z=o},9915:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),t.Z=o},9310:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),l=n(1667),c=n.n(l),s=new URL(n(7984),n.b),u=new URL(n(1639),n.b),g=o()(i()),d=c()(s),I=c()(u);g.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+d+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+I+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:auto;max-width:90vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),t.Z=g},6464:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,"",""]),o.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},t.Z=o},5260:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.Z=o},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(o[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},202:function(e,t,n){"use strict";n.d(t,{JQ:function(){return A},vD:function(){return B},y7:function(){return p}});var r=n(1930),i=n(7169),a=n(2335),o=n(1047),l=n(1935),c=n(5710),s=n(6906),u=n(1974),g=n(75),d=n(6340),I=n(7901);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,I.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(e,t){return(0,g.eD)(e,t).some((function(e){return(0,u.Xo)(e)}))},perform:function(e,t){return(0,g.eD)((0,o.Lm)(e),t).forEach((function(e){var t=(0,c.WJ)(e);if(t){var n,r=(0,c.X1)(t.originalText,(0,d.mO)(t),t.lineHeight),i=r.width,a=r.height,o=r.baseline,u=(0,s.eR)(e.id);(0,s.kT)(e.id);var g=(0,c.FE)(e,t),I=g.x,b=g.y;(0,l.DR)(t,{containerId:null,width:i,height:a,baseline:o,text:t.originalText,x:I,y:b}),(0,l.DR)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})),height:u||e.height})}})),{elements:e,appState:t,commitToHistory:!0}}}),B=(0,I.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(e,t){var n=(0,g.eD)(e,t);if(2===n.length){var r,i=(0,o.iB)(n[0])||(0,o.iB)(n[1]);if((0,u.mG)(n[0])?r=n[0]:(0,u.mG)(n[1])&&(r=n[1]),i&&r&&null===(0,c.WJ)(r))return!0}return!1},perform:function(e,t){var n,r,d=(0,g.eD)((0,o.Lm)(e),t);(0,o.iB)(d[0])&&(0,u.mG)(d[1])?(n=d[0],r=d[1]):(n=d[1],r=d[0]),(0,l.DR)(n,{containerId:r.id,verticalAlign:a.oX.MIDDLE,textAlign:a.I8.CENTER}),(0,l.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:n.id})});var I=r.height;return(0,c.oN)(n,r),(0,s.h_)(r.id,I),{elements:m(e,r,n),appState:C(C({},t),{},{selectedElementIds:(0,i.Z)({},r.id,!0)}),commitToHistory:!0}}}),m=function(e,t,n){var r=e.slice(),i=r.findIndex((function(e){return e.id===n.id}));r.splice(i,1);var a=r.findIndex((function(e){return e.id===t.id}));return r.splice(a+1,0,n),r},A=(0,I.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(e,t){var n=(0,g.eD)(e,t),r=n.every((function(e){return(0,o.iB)(e)}));return n.length>0&&r},perform:function(e,t){var n,i=(0,g.eD)((0,o.Lm)(e),t),s=e.slice(),d={},I=b(i);try{var h=function(){var e=n.value;if((0,o.iB)(e)){var i,g=(0,o.Up)({type:"rectangle",backgroundColor:t.currentItemBackgroundColor,boundElements:[].concat((0,r.Z)(e.boundElements||[]),[{id:e.id,type:"text"}]),angle:e.angle,fillStyle:t.currentItemFillStyle,strokeColor:t.currentItemStrokeColor,roughness:t.currentItemRoughness,strokeWidth:t.currentItemStrokeWidth,strokeStyle:t.currentItemStrokeStyle,roundness:"round"===t.currentItemRoundness?{type:(0,u.QI)("rectangle")?a.a6.ADAPTIVE_RADIUS:a.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:e.x-a.gK,y:e.y-a.gK,width:(0,c.NS)(e.width,"rectangle"),height:(0,c.NS)(e.height,"rectangle"),groupIds:e.groupIds});if(null!==(i=e.boundElements)&&void 0!==i&&i.length){var I=e.boundElements.filter((function(e){return"arrow"===e.type})).map((function(e){return e.id}));s.filter((function(e){return I.includes(e.id)})).forEach((function(t){var n,r,i=t.startBinding,a=t.endBinding;(null===(n=i)||void 0===n?void 0:n.elementId)===e.id&&(i=C(C({},i),{},{elementId:g.id})),(null===(r=a)||void 0===r?void 0:r.elementId)===e.id&&(a=C(C({},a),{},{elementId:g.id})),(i||a)&&(0,l.DR)(t,{startBinding:i,endBinding:a},!1)}))}(0,l.DR)(e,{containerId:g.id,verticalAlign:a.oX.MIDDLE,boundElements:null,textAlign:a.I8.CENTER},!1),(0,c.oN)(e,g),s=function(e,t,n){var r=e.slice(),i=r.findIndex((function(e){return e.id===t.id}));r.splice(i,1);var a=r.findIndex((function(e){return e.id===n.id}));return r.splice(a,0,t),r}([].concat((0,r.Z)(s),[g]),g,e),d[g.id]=!0}};for(I.s();!(n=I.n()).done;)h()}catch(e){I.e(e)}finally{I.f()}return{elements:s,appState:C(C({},t),{},{selectedElementIds:d}),commitToHistory:!0}}})},2416:function(e,t,n){"use strict";n.d(t,{CZ:function(){return Q},Lo:function(){return x},Zp:function(){return G},eF:function(){return w},md:function(){return U},mo:function(){return v}});var r=n(2577),i=n(7169),a=n(4499),o=n(3646),l=n(1319),c=n(2335),s=n(1047),u=n(8211),g=n(6066),d=n(75),I=n(2264),b=n(746),h=n(6340),f=n(7901),C=n(1894),p=n(1935),B=n(8897),m=n(4512);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,f.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled},perform:function(e,t,n){return{appState:y(y({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,m.jsx)("div",{style:{position:"relative"},children:(0,m.jsx)(a.z,{label:(0,u.t)("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},isActive:"canvasColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:t,appState:n})})}});var v=(0,f.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,p.BE)(e,{isDeleted:!0})})),appState:y(y({},(0,B.im)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?y(y({},t.activeTool),{},{type:"selection"}):t.activeTool}),commitToHistory:!0}}}),x=(0,f.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:y(y({},t),(0,b.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,d.j)(t.zoom.value+c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,m.jsx)(l.V,{type:"button",className:"zoom-in-button zoom-button",icon:o.Sd,title:"".concat((0,u.t)("buttons.zoomIn")," \u2014 ").concat((0,h.uY)("CtrlOrCmd++")),"aria-label":(0,u.t)("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===g.aU.EQUAL||e.code===g.aU.NUM_ADD)&&(e[g.tW.CTRL_OR_CMD]||e.shiftKey)}}),Q=(0,f.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:y(y({},t),(0,b.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,d.j)(t.zoom.value-c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,m.jsx)(l.V,{type:"button",className:"zoom-out-button zoom-button",icon:o.xL,title:"".concat((0,u.t)("buttons.zoomOut")," \u2014 ").concat((0,h.uY)("CtrlOrCmd+-")),"aria-label":(0,u.t)("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===g.aU.MINUS||e.code===g.aU.NUM_SUBTRACT)&&(e[g.tW.CTRL_OR_CMD]||e.shiftKey)}}),F=((0,f.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:y(y({},t),(0,b.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,d.j)(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,m.jsx)(C.u,{label:(0,u.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,m.jsxs)(l.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,u.t)("buttons.resetZoom"),"aria-label":(0,u.t)("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===g.aU.ZERO||e.code===g.aU.NUM_ZERO)&&(e[g.tW.CTRL_OR_CMD]||e.shiftKey)}}),function(e,t){var n=(0,r.Z)(e,4),i=n[0],a=n[1],o=n[2],l=n[3],s=o-i,u=t.width/s,g=l-a,d=t.height/g,I=Math.min(u,d),b=Math.floor(I/c.V4)*c.V4;return Math.min(Math.max(b,c.Zj),1)}),U=function(e,t,n){var i=(0,s.Lm)(e),a=(0,d.eD)(i,t),o=n&&a.length>0?(0,s.KP)(a):(0,s.KP)(i),l={value:F(o,{width:t.width,height:t.height})},c=(0,r.Z)(o,4),u=c[0],g=c[1],b=(u+c[2])/2,h=(g+c[3])/2;return{appState:y(y(y({},t),(0,I.s)({scenePoint:{x:b,y:h},viewportDimensions:{width:t.width,height:t.height},zoom:l})),{},{zoom:l}),commitToHistory:!1}},G=((0,f.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(e,t){return U(e,t,!0)},keyTest:function(e){return e.code===g.aU.TWO&&e.shiftKey&&!e.altKey&&!e[g.tW.CTRL_OR_CMD]}}),(0,f.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return U(e,t,!1)},keyTest:function(e){return e.code===g.aU.ONE&&e.shiftKey&&!e.altKey&&!e[g.tW.CTRL_OR_CMD]}}),(0,f.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:y(y({},t),{},{theme:n||(t.theme===c.C6.LIGHT?c.C6.DARK:c.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===g.aU.D},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.toggleTheme}})),w=((0,f.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,B.EN)(t)?(0,h.Om)(t,y(y({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,h.Om)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:y(y({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:n}),commitToHistory:!0}},keyTest:function(e){return e.key===g.tW.E}}),(0,f.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(e,t,n,r){var i;return(0,B.l$)(t)?i=(0,h.Om)(t,y(y({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(i=(0,h.Om)(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),(0,h.KJ)(r.canvas,c.oc.GRAB)),{appState:y(y({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:i}),commitToHistory:!0}},keyTest:function(e){return e.key===g.tW.H}}))},4688:function(e,t,n){"use strict";n.d(t,{FA:function(){return y},ZM:function(){return A},jK:function(){return v},uN:function(){return B},yQ:function(){return m},zp:function(){return x}});var r=n(7169),i=n(8950),a=n(2975),o=n.n(a),l=n(6066),c=n(7901),s=n(6665),u=n(533),g=n(1868),d=n(9485),I=n(1047),b=n(8211);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,p,B=(0,c.z)({name:"copy",trackEvent:{category:"element"},perform:function(e,t,n,r){var i=(0,g.eD)(e,t,!0);return(0,s.vQ)(i,t,r.files),{commitToHistory:!1}},predicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),m=(0,c.z)({name:"paste",trackEvent:{category:"element"},perform:function(e,t,n,r){return r.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),A=(0,c.z)({name:"cut",trackEvent:{category:"element"},perform:function(e,t,n,r){return B.perform(e,t,n,r),u.X.perform(e,t)},predicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(e){return e[l.tW.CTRL_OR_CMD]&&e.key===l.tW.X}}),y=(0,c.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(C=(0,i.Z)(o().mark((function e(t,n,r,i){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return a=(0,g.eD)((0,I.Lm)(t),n,!0),e.prev=3,e.next=6,(0,d.p1)("clipboard-svg",a.length?a:(0,I.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:f(f({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])}))),function(e,t,n,r){return C.apply(this,arguments)}),predicate:function(e){return s.wx&&e.length>0},contextItemLabel:"labels.copyAsSvg"}),v=(0,c.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(p=(0,i.Z)(o().mark((function e(t,n,r,i){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return a=(0,g.eD)((0,I.Lm)(t),n,!0),e.prev=3,e.next=6,(0,d.p1)("clipboard",a.length?a:(0,I.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{appState:f(f({},n),{},{toast:{message:(0,b.t)("toast.copyToClipboardAsPng",{exportSelection:a.length?(0,b.t)("toast.selection"):(0,b.t)("toast.canvas"),exportColorScheme:n.exportWithDarkMode?(0,b.t)("buttons.darkMode"):(0,b.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:f(f({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])}))),function(e,t,n,r){return p.apply(this,arguments)}),predicate:function(e){return s.vt&&e.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===l.aU.C&&e.altKey&&e.shiftKey}}),x=(0,c.z)({name:"copyText",trackEvent:{category:"element"},perform:function(e,t){var n=(0,g.eD)((0,I.Lm)(e),t,!0).reduce((function(e,t){return(0,I.iB)(t)&&e.push(t.text),e}),[]).join("\n\n");return(0,s.dd)(n),{commitToHistory:!1}},predicate:function(e,t){return s.wx&&(0,g.eD)(e,t,!0).some(I.iB)},contextItemLabel:"labels.copyText"})},533:function(e,t,n){"use strict";n.d(t,{X:function(){return A}});var r=n(7169),i=n(75),a=n(6066),o=n(1319),l=n(8211),c=n(7901),s=n(1047),u=n(1935),g=n(242),d=n(6938),I=n(8290),b=n(1974),h=n(6340),f=n(3646),C=n(4512);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){if(e.editingGroupId){var n=(0,g.Fb)((0,s.Lm)(t),e.editingGroupId);if(n.length)return B(B({},e),{},{selectedElementIds:(0,r.Z)({},n[0].id,!0)})}return e},A=(0,c.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,a=n.selectedPointsIndices,o=n.startBindingElement,l=n.endBindingElement,c=d._.getElement(r);if(!c)return!1;if(null==a)return!1;if(c.points.length<2){var g=e.map((function(e){return e.id===c.id?(0,u.BE)(e,{isDeleted:!0}):e}));return{elements:g,appState:B(B({},m(t,g)),{},{editingLinearElement:null}),commitToHistory:!1}}var f={startBindingElement:null!=a&&a.includes(0)?null:o,endBindingElement:null!=a&&a.includes(c.points.length-1)?null:l};return d._.deletePoints(c,a),{elements:e,appState:B(B({},t),{},{editingLinearElement:B(B(B({},t.editingLinearElement),f),{},{selectedPointsIndices:(null==a?void 0:a[0])>0?[a[0]-1]:[0]})}),commitToHistory:!0}}var C=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]||(0,b.Xh)(e)&&t.selectedElementIds[e.containerId]?(0,u.BE)(e,{isDeleted:!0}):e})),appState:B(B({},t),{},{selectedElementIds:{}})}}(e,t),p=C.elements,A=C.appState;return(0,I.$q)(p,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),{elements:p,appState:B(B({},A=m(A,p)),{},{activeTool:(0,h.Om)(t,{type:"selection"}),multiElement:null}),commitToHistory:(0,i.N)((0,s.Lm)(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e,t,n){return(e.key===a.tW.BACKSPACE||e.key===a.tW.DELETE)&&!e[a.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,C.jsx)(o.V,{type:"button",icon:f.XH,title:(0,l.t)("labels.delete"),"aria-label":(0,l.t)("labels.delete"),onClick:function(){return r(null)},visible:(0,i.N)((0,s.Lm)(t),n)})}})},8671:function(e,t,n){"use strict";n.d(t,{_d:function(){return te},mM:function(){return ee},ns:function(){return $}});var r=n(8950),i=n(2577),a=n(7169),o=n(2975),l=n.n(o),c=n(3646),s=n(487),u=n.n(s),g=n(631),d=n.n(g),I=n(2052),b=n.n(I),h=n(4010),f=n.n(h),C=n(1469),p=n.n(C),B=n(9329),m=n.n(B),A=n(6759),y={};y.styleTagTransform=m(),y.setAttributes=f(),y.insert=b().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=p(),u()(A.Z,y),A.Z&&A.Z.locals&&A.Z.locals;var v=n(9787),x=n(6340),Q=n(532),F={};F.styleTagTransform=m(),F.setAttributes=f(),F.insert=b().bind(null,"head"),F.domAPI=d(),F.insertStyleElement=p(),u()(Q.Z,F),Q.Z&&Q.Z.locals&&Q.Z.locals;var U=n(2134),G=n(4512),w=function(e){var t=(0,U.J0)().id,n=(0,v.useState)(e.value),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,G.jsxs)("div",{className:"ProjectName",children:[(0,G.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,G.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){(0,x.qz)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:a,onChange:function(e){return o(e.target.value)}}):(0,G.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})},S=n(1319),E=n(1894),X=(n(5422),n(8211)),Z=n(2335),k=function(e){var t=e.title||("dark"===e.value?(0,X.t)("buttons.lightMode"):(0,X.t)("buttons.darkMode"));return(0,G.jsx)(S.V,{type:"icon",icon:e.value===Z.C6.LIGHT?N.MOON:N.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===Z.C6.DARK?Z.C6.LIGHT:Z.C6.DARK)},"data-testid":"toggle-dark-mode"})},N={SUN:(0,G.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,G.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,G.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,G.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},T=n(9485),D=n(1047),O=n(434);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(){var e=(0,r.Z)(l().mark((function e(t,n,r){var i,a,o,c,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(i=n).exportBackground,o=i.viewBackgroundColor,c=i.name,s=i.fileHandle,u=(0,O.Qk)(s),s&&(0,O.DQ)(u)){e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return n=V(V({},n),{},{exportEmbedScene:!0}),e.next=7,(0,T.p1)(u,(0,D.Lm)(t),n,r,{exportBackground:a,viewBackgroundColor:o,name:c,fileHandle:s});case 7:return e.abrupt("return",{fileHandle:s});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),R=n(6066),Y=n(7901),L=n(3807),H=n(4162),z=n(75),j=n(1393);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,Y.z)({name:"changeProjectName",trackEvent:!1,perform:function(e,t,n){return{appState:J(J({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return(0,G.jsx)(w,{label:(0,X.t)("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)},isNameEditable:void 0===r.name&&!t.viewModeEnabled})}}),(0,Y.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:J(J({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,D.Lm)(t),o=(0,z.N)(a,n)?(0,z.eD)(a,n):a;return(0,G.jsx)(G.Fragment,{children:Z.ZB.map((function(e){var t=(0,H.Cg)(o,Z.qy,e),a=(0,i.Z)(t,2),l=a[0],c=a[1],s="".concat((0,X.t)("buttons.scale")," ").concat(e,"x (").concat(l,"x").concat(c,")");return(0,G.jsx)(S.V,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:s,"aria-label":s,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),(0,Y.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:J(J({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,G.jsx)(L.o,{checked:t.exportBackground,onChange:function(e){return n(e)},children:(0,X.t)("labels.withBackground")})}}),(0,Y.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:J(J({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,G.jsxs)(L.o,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[(0,X.t)("labels.exportEmbedScene"),(0,G.jsx)(E.u,{label:(0,X.t)("labels.exportEmbedScene_details"),long:!0,children:(0,G.jsx)("div",{className:"excalidraw-tooltip-icon",children:c.Vl})})]})}});var P,K,q,$=(0,Y.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.saveToActiveFile&&!!t.fileHandle&&!t.viewModeEnabled},perform:(P=(0,r.Z)(l().mark((function e(t,n,r,i){var a,o,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!!n.fileHandle,e.prev=1,!(0,O.g8)(n.fileHandle)){e.next=8;break}return e.next=5,W(t,n,i.files);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,T.Um)(t,n,i.files);case 10:e.t0=e.sent;case 11:return o=e.t0,c=o.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:J(J({},n),{},{fileHandle:c,toast:a?{message:null!=c&&c.name?(0,X.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(c.name,'"')):(0,X.t)("toast.fileSaved")}:null})});case 16:return e.prev=16,e.t1=e.catch(1),"AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),e.abrupt("return",{commitToHistory:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e,t,n,r){return P.apply(this,arguments)}),keyTest:function(e){return e.key===R.tW.S&&e[R.tW.CTRL_OR_CMD]&&!e.shiftKey}}),ee=(0,Y.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(K=(0,r.Z)(l().mark((function e(t,n,r,i){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.Um)(t,J(J({},n),{},{fileHandle:null}),i.files);case 3:return a=e.sent,o=a.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:J(J({},n),{},{fileHandle:o})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,n,r){return K.apply(this,arguments)}),keyTest:function(e){return e.key===R.tW.S&&e.shiftKey&&e[R.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,G.jsx)(S.V,{type:"button",icon:c.po,title:(0,X.t)("buttons.saveAs"),"aria-label":(0,X.t)("buttons.saveAs"),showAriaLabel:(0,U.Fy)().isMobile,hidden:!j.kr,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),te=(0,Y.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.loadScene&&!t.viewModeEnabled},perform:(q=(0,r.Z)(l().mark((function e(t,n,r,i){var a,o,c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.n8)(n,t);case 3:return a=e.sent,o=a.elements,c=a.appState,s=a.files,e.abrupt("return",{elements:o,appState:c,files:s,commitToHistory:!0});case 10:if(e.prev=10,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=15;break}return console.warn(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",{elements:t,appState:J(J({},n),{},{errorMessage:e.t0.message}),files:i.files,commitToHistory:!1});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,t,n,r){return q.apply(this,arguments)}),keyTest:function(e){return e[R.tW.CTRL_OR_CMD]&&e.key===R.tW.O}});(0,Y.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:J(J({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,G.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,G.jsx)(k,{value:t.exportWithDarkMode?Z.C6.DARK:Z.C6.LIGHT,onChange:function(e){n(e===Z.C6.DARK)},title:(0,X.t)("labels.toggleExportColorScheme")})})}})},6208:function(e,t,n){"use strict";n.d(t,{Tu:function(){return P},Zq:function(){return K}});var r=n(1930),i=n(7169),a=n(7047),o=n(45),l=n(4512),c=function(e){return(0,l.jsx)("div",{className:"buttonList buttonListIcon",children:e.options.map((function(t){var n;return"button"===e.type?(0,l.jsx)("button",{onClick:function(n){return e.onClick(t.value,n)},className:(0,o.Z)({active:null!==(n=t.active)&&void 0!==n?n:e.value===t.value}),"data-testid":t.testId,title:t.text,children:t.icon},t.text):(0,l.jsxs)("label",{className:(0,o.Z)({active:e.value===t.value}),title:t.text,children:[(0,l.jsx)("input",{type:"radio",name:e.group,onChange:function(){return e.onChange(t.value)},checked:e.value===t.value,"data-testid":t.testId}),t.icon]},t.text)}))})},s=n(4499),u=n(2577),g=n(9787),d=n.n(g),I=n(2891),b=n(487),h=n.n(b),f=n(631),C=n.n(f),p=n(2052),B=n.n(p),m=n(4010),A=n.n(m),y=n(1469),v=n.n(y),x=n(9329),Q=n.n(x),F=n(9478),U={};U.styleTagTransform=Q(),U.setAttributes=A(),U.insert=B().bind(null,"head"),U.domAPI=C(),U.insertStyleElement=v(),h()(F.Z,U),F.Z&&F.Z.locals&&F.Z.locals;var G=n(6066),w=n(8211);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=e.options,n=e.value,r=e.label,i=e.onChange,a=e.onClose,c=d().useRef(),s=d().useRef(),u=d().useRef(null);return d().useEffect((function(){s.current?s.current.focus():u.current&&u.current.focus()}),[]),(0,l.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===G.tW.TAB)setTimeout((function(){s.current!==document.activeElement&&a()}),0);else if((0,G.Wl)(e.key)){var r=document.activeElement,i=(0,w.G3)().rtl,o=Array.prototype.indexOf.call(u.current.children,r);if(-1!==o){var l=t.length,c=o;switch(e.key){case i?G.tW.ARROW_LEFT:G.tW.ARROW_RIGHT:case G.tW.ARROW_DOWN:c=(o+1)%l;break;case i?G.tW.ARROW_RIGHT:G.tW.ARROW_LEFT:case G.tW.ARROW_UP:c=(l+o-1)%l}u.current.children[c].focus()}e.preventDefault()}else e.key!==G.tW.ESCAPE&&e.key!==G.tW.ENTER||(e.preventDefault(),a());else{var g=t.indexOf(n);u.current.children[g].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,l.jsx)("div",{className:"picker-content",ref:u,children:t.map((function(e,t){return(0,l.jsxs)("button",{className:(0,o.Z)("picker-option",{active:n===e.value}),onClick:function(t){t.currentTarget.focus(),i(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,ref:function(r){r&&0===t&&(c.current=r),r&&e.value===n&&(s.current=r)},onFocus:function(){i(e.value)},children:[e.icon,(0,l.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})})}function Z(e){var t,n=e.value,r=e.label,i=e.options,a=e.onChange,o=e.group,c=void 0===o?"":o,s=d().useState(!1),g=(0,u.Z)(s,2),b=g[0],h=g[1],f=d().useRef(null),C=(0,w.G3)().rtl;return(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{name:c,className:b?"active":"","aria-label":r,onClick:function(){return h(!b)},ref:f,children:null===(t=i.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),(0,l.jsx)(d().Suspense,{fallback:"",children:b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(I.J,E(E({onCloseRequest:function(e){return e.target!==f.current&&h(!1)}},C?{right:5.5}:{left:-5.5}),{},{children:(0,l.jsx)(X,{options:i,value:n,label:r,onChange:a,onClose:function(){var e;h(!1),null===(e=f.current)||void 0===e||e.focus()}})})),(0,l.jsx)("div",{className:"picker-triangle"})]}):null})]})}var k=n(3646),N=n(2335),T=n(1047),D=n(1935),O=n(5710),M=n(1974),V=n(6954),W=n(75),R=n(8120),Y=n(6340),L=n(7901);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,Y.xn)((0,W.eD)(e,t,r));return e.map((function(e){var r;return i.get(e.id)||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},_=function(e,t,n,r){var i,a,o=t.editingElement,l=(0,T.Lm)(e);return null!==(i=null!==(a=o&&n(o))&&void 0!==a?a:(0,W.N)(l,t)?(0,W.PR)(l,t,n):r)&&void 0!==i?i:null},J=function(e,t,n,i){var a=new Set;return{elements:j(e,t,(function(e){if((0,T.iB)(e)){var t=n(e);a.add(t);var r=(0,D.BE)(e,{fontSize:t});return(0,T.oN)(r,(0,O.tl)(e)),i=e,o=r,(0,M.Xh)(o)?o:(0,D.DR)(o,{x:"left"===i.textAlign?i.x:i.x+(i.width-o.width)/("center"===i.textAlign?2:1),y:i.y+(i.height-o.height)/2},!1)}var i,o;return e}),!0),appState:z(z({},t),{},{currentItemFontSize:1===a.size?(0,r.Z)(a)[0]:null!=i?i:t.currentItemFontSize}),commitToHistory:!0}},P=((0,L.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(e,t,n){return z(z({},n.currentItemStrokeColor&&{elements:j(e,t,(function(e){return(0,R.PD)(e.type)?(0,D.BE)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:z(z({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{"aria-hidden":"true",children:(0,w.t)("labels.stroke")}),(0,l.jsx)(s.z,{type:"elementStroke",label:(0,w.t)("labels.stroke"),color:_(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},isActive:"strokeColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"strokeColorPicker":null})},elements:t,appState:n})]})}}),(0,L.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(e,t,n){return z(z({},n.currentItemBackgroundColor&&{elements:j(e,t,(function(e){return(0,D.BE)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:z(z({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{"aria-hidden":"true",children:(0,w.t)("labels.background")}),(0,l.jsx)(s.z,{type:"elementBackground",label:(0,w.t)("labels.background"),color:_(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},isActive:"backgroundColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"backgroundColorPicker":null})},elements:t,appState:n})]})}}),(0,L.z)({name:"changeFillStyle",trackEvent:!1,perform:function(e,t,n,r){return(0,a.L)("element","changeFillStyle","".concat(n," (").concat(r.device.isMobile?"mobile":"desktop",")")),{elements:j(e,t,(function(e){return(0,D.BE)(e,{fillStyle:n})})),appState:z(z({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,W.eD)(t,n),a=i.length>0&&i.every((function(e){return"zigzag"===e.fillStyle}));return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.fill")}),(0,l.jsx)(c,{type:"button",options:[{value:"hachure",text:"".concat(a?(0,w.t)("labels.zigzag"):(0,w.t)("labels.hachure")," (").concat((0,Y.uY)("Alt-Click"),")"),icon:a?k.lF:k.a0,active:!!a||void 0},{value:"cross-hatch",text:(0,w.t)("labels.crossHatch"),icon:k.np},{value:"solid",text:(0,w.t)("labels.solid"),icon:k.X7}],value:_(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onClick:function(e,t){var n=t.altKey&&"hachure"===e&&i.every((function(e){return"hachure"===e.fillStyle}))?"zigzag":e;r(n)}})]})}}),(0,L.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){return(0,D.BE)(e,{strokeWidth:n})})),appState:z(z({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.strokeWidth")}),(0,l.jsx)(c,{group:"stroke-width",options:[{value:1,text:(0,w.t)("labels.thin"),icon:k.ZA},{value:2,text:(0,w.t)("labels.bold"),icon:k.Wl},{value:4,text:(0,w.t)("labels.extraBold"),icon:k.m9}],value:_(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeSloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){return(0,D.BE)(e,{seed:(0,V.LU)(),roughness:n})})),appState:z(z({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.sloppiness")}),(0,l.jsx)(c,{group:"sloppiness",options:[{value:0,text:(0,w.t)("labels.architect"),icon:k.bf},{value:1,text:(0,w.t)("labels.artist"),icon:k.kM},{value:2,text:(0,w.t)("labels.cartoonist"),icon:k.W2}],value:_(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){return(0,D.BE)(e,{strokeStyle:n})})),appState:z(z({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.strokeStyle")}),(0,l.jsx)(c,{group:"strokeStyle",options:[{value:"solid",text:(0,w.t)("labels.strokeStyle_solid"),icon:k.ZA},{value:"dashed",text:(0,w.t)("labels.strokeStyle_dashed"),icon:k.a5},{value:"dotted",text:(0,w.t)("labels.strokeStyle_dotted"),icon:k.aT}],value:_(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeOpacity",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){return(0,D.BE)(e,{opacity:n})}),!0),appState:z(z({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,i=e.updateData;return(0,l.jsxs)("label",{className:"control-label",children:[(0,w.t)("labels.opacity"),(0,l.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return i(+e.target.value)},value:null!==(t=_(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0})]})}}),(0,L.z)({name:"changeFontSize",trackEvent:!1,perform:function(e,t,n){return J(e,t,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.fontSize")}),(0,l.jsx)(c,{group:"font-size",options:[{value:16,text:(0,w.t)("labels.small"),icon:k.q0,testId:"fontSize-small"},{value:20,text:(0,w.t)("labels.medium"),icon:k.nq,testId:"fontSize-medium"},{value:28,text:(0,w.t)("labels.large"),icon:k.tW,testId:"fontSize-large"},{value:36,text:(0,w.t)("labels.veryLarge"),icon:k.OA,testId:"fontSize-veryLarge"}],value:_(t,n,(function(e){if((0,T.iB)(e))return e.fontSize;var t=(0,O.WJ)(e);return t?t.fontSize:null}),n.currentItemFontSize||N.n5),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(e,t,n){return J(e,t,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[G.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===G.tW.CHEVRON_LEFT||e.key===G.tW.COMMA)}})),K=(0,L.z)({name:"increaseFontSize",trackEvent:!1,perform:function(e,t,n){return J(e,t,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[G.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===G.tW.CHEVRON_RIGHT||e.key===G.tW.PERIOD)}});(0,L.z)({name:"changeFontFamily",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){if((0,T.iB)(e)){var t=(0,D.BE)(e,{fontFamily:n,lineHeight:(0,O.PT)(n)});return(0,T.oN)(t,(0,O.tl)(e)),t}return e}),!0),appState:z(z({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=[{value:N.ut.Virgil,text:(0,w.t)("labels.handDrawn"),icon:k.Pm},{value:N.ut.Helvetica,text:(0,w.t)("labels.normal"),icon:k.vo},{value:N.ut.Cascadia,text:(0,w.t)("labels.code"),icon:k.z6}];return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.fontFamily")}),(0,l.jsx)(c,{group:"font-family",options:i,value:_(t,n,(function(e){if((0,T.iB)(e))return e.fontFamily;var t=(0,O.WJ)(e);return t?t.fontFamily:null}),n.currentItemFontFamily||N.rk),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeTextAlign",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){if((0,T.iB)(e)){var t=(0,D.BE)(e,{textAlign:n});return(0,T.oN)(t,(0,O.tl)(e)),t}return e}),!0),appState:z(z({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.textAlign")}),(0,l.jsx)(c,{group:"text-align",options:[{value:"left",text:(0,w.t)("labels.left"),icon:k.rr,testId:"align-left"},{value:"center",text:(0,w.t)("labels.center"),icon:k.o3,testId:"align-horizontal-center"},{value:"right",text:(0,w.t)("labels.right"),icon:k.oT,testId:"align-right"}],value:_(t,n,(function(e){if((0,T.iB)(e))return e.textAlign;var t=(0,O.WJ)(e);return t?t.textAlign:null}),n.currentItemTextAlign),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(e,t,n){return{elements:j(e,t,(function(e){if((0,T.iB)(e)){var t=(0,D.BE)(e,{verticalAlign:n});return(0,T.oN)(t,(0,O.tl)(e)),t}return e}),!0),appState:z({},t),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,l.jsx)("fieldset",{children:(0,l.jsx)(c,{group:"text-align",options:[{value:N.oX.TOP,text:(0,w.t)("labels.alignTop"),icon:(0,l.jsx)(k.EO,{theme:n.theme}),testId:"align-top"},{value:N.oX.MIDDLE,text:(0,w.t)("labels.centerVertically"),icon:(0,l.jsx)(k.P7,{theme:n.theme}),testId:"align-middle"},{value:N.oX.BOTTOM,text:(0,w.t)("labels.alignBottom"),icon:(0,l.jsx)(k.aA,{theme:n.theme}),testId:"align-bottom"}],value:_(t,n,(function(e){if((0,T.iB)(e)&&e.containerId)return e.verticalAlign;var t=(0,O.WJ)(e);return t?t.verticalAlign:null})),onChange:function(e){return r(e)}})})}}),(0,L.z)({name:"changeRoundness",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){return(0,D.BE)(e,{roundness:"round"===n?{type:(0,M.QI)(e.type)?N.a6.ADAPTIVE_RADIUS:N.a6.PROPORTIONAL_RADIUS}:null})})),appState:z(z({},t),{},{currentItemRoundness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,W.Zs)((0,T.Lm)(t),n).some((function(e){var t;return(null===(t=e.roundness)||void 0===t?void 0:t.type)===N.a6.LEGACY}));return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.edges")}),(0,l.jsx)(c,{group:"edges",options:[{value:"sharp",text:(0,w.t)("labels.sharp"),icon:k.wr},{value:"round",text:(0,w.t)("labels.round"),icon:k.DS}],value:_(t,n,(function(e){return i?null:e.roundness?"round":"sharp"}),(0,W.sh)(n.activeTool.type)&&n.currentItemRoundness||null),onChange:function(e){return r(e)}})]})}}),(0,L.z)({name:"changeArrowhead",trackEvent:!1,perform:function(e,t,n){return{elements:j(e,t,(function(e){if((0,M.bt)(e)){var t=n.position,r=n.type;if("start"===t)return(0,D.BE)(e,{startArrowhead:r});if("end"===t)return(0,D.BE)(e,{endArrowhead:r})}return e})),appState:z(z({},t),{},(0,i.Z)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,w.G3)().rtl;return(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,w.t)("labels.arrowheads")}),(0,l.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,l.jsx)(Z,{label:"arrowhead_start",options:[{value:null,text:(0,w.t)("labels.arrowhead_none"),icon:k.fr,keyBinding:"q"},{value:"arrow",text:(0,w.t)("labels.arrowhead_arrow"),icon:(0,l.jsx)(k.il,{flip:!i}),keyBinding:"w"},{value:"bar",text:(0,w.t)("labels.arrowhead_bar"),icon:(0,l.jsx)(k.m,{flip:!i}),keyBinding:"e"},{value:"dot",text:(0,w.t)("labels.arrowhead_dot"),icon:(0,l.jsx)(k.tn,{flip:!i}),keyBinding:"r"},{value:"triangle",text:(0,w.t)("labels.arrowhead_triangle"),icon:(0,l.jsx)(k.j8,{flip:!i}),keyBinding:"t"}],value:_(t,n,(function(e){return(0,M.bt)(e)&&(0,W.Un)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),(0,l.jsx)(Z,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,w.t)("labels.arrowhead_none"),keyBinding:"q",icon:k.fr},{value:"arrow",text:(0,w.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,l.jsx)(k.il,{flip:i})},{value:"bar",text:(0,w.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,l.jsx)(k.m,{flip:i})},{value:"dot",text:(0,w.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,l.jsx)(k.tn,{flip:i})},{value:"triangle",text:(0,w.t)("labels.arrowhead_triangle"),icon:(0,l.jsx)(k.j8,{flip:i}),keyBinding:"t"}],value:_(t,n,(function(e){return(0,M.bt)(e)&&(0,W.Un)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})]})]})}})},4958:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var r=n(7169),i=n(7901),a=n(6066);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,i.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(e,t){return{appState:l(l({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[a.tW.CTRL_OR_CMD]&&e.altKey&&e.code===a.aU.SLASH}})},6710:function(e,t,n){"use strict";n.d(t,{FL:function(){return Re},vD:function(){return ht.vD},yA:function(){return F},BZ:function(){return G},mo:function(){return J.mo},uN:function(){return lt.uN},jK:function(){return lt.jK},FA:function(){return lt.FA},pw:function(){return ae},ZM:function(){return lt.ZM},X9:function(){return r.X},xF:function(){return j},pL:function(){return ee},jl:function(){return tt},kt:function(){return nt},EQ:function(){return Ce},nz:function(){return ft.nz},_d:function(){return te._d},W3:function(){return oe},ns:function(){return te.ns},Yy:function(){return N},V:function(){return Q},zi:function(){return U},jY:function(){return se},Pb:function(){return ut},Qs:function(){return vt},iL:function(){return Bt},u0:function(){return bt.u},Zp:function(){return J.Zp},JN:function(){return It},y7:function(){return ht.y7},s:function(){return pe},zp:function(){return lt.zp}});var r=n(533),i=n(1930),a=n(1935),o=n(242),l=n(75),c=n(1564),s=n(6340),u=function(e,t){for(var n=[],r=[],i=null,a=-1,o=(0,s.xn)((0,l.eD)(e,t,!0));++a<e.length;)o.get(e[a].id)?(r.length&&(n=n.concat(r),r=[]),n.push(a),i=a+1):e[a].isDeleted&&i===a?(i=a+1,r.push(a)):r=[];return n},g=function(e,t,n){if("containerId"in e&&e.containerId){if("left"!==n)return t.indexOf(e);var r=c.Z.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var i,a,o=null===(i=e.boundElements)||void 0===i||null===(a=i.find((function(e){return"arrow"!==e.type})))||void 0===a?void 0:a.id;if(o){if("left"===n)return t.indexOf(e);var l=c.Z.getScene(e).getElement(o);if(l)return t.indexOf(l)}}},d=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},I=function(e,t,n){var r,l,c=u(t,e),I=d(t,c),b=(l=0,(r=c).reduce((function(e,t,n){return n>0&&r[n-1]!==t-1&&(l=++l),(e[l]||(e[l]=[])).push(t),e}),[]));return"right"===n&&(b=b.reverse()),b.forEach((function(r,a){var l=r[0],c=r[r.length-1],u="left"===n?l:c,d=function(e,t,n,r){var i,a=t[n],l=function(t){return!t.isDeleted&&(!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},c="left"===r?(0,s.qr)(t,l,Math.max(0,n-1)):(0,s.cx)(t,l,n+1),u=t[c];if(!u)return-1;if(e.editingGroupId){var d;if((null==a?void 0:a.groupIds.join(""))===(null==u?void 0:u.groupIds.join("")))return null!==(d=g(u,t,r))&&void 0!==d?d:c;if(null==u||!u.groupIds.includes(e.editingGroupId))return-1}if(!u.groupIds.length)return null!==(i=g(u,t,r))&&void 0!==i?i:c;var I=e.editingGroupId?u.groupIds[u.groupIds.indexOf(e.editingGroupId)-1]:u.groupIds[u.groupIds.length-1],b=(0,o.Fb)(t,I);return b.length?"left"===r?t.indexOf(b[0]):t.indexOf(b[b.length-1]):c}(e,t,u,n);if(-1!==d&&u!==d){var I="left"===n?t.slice(0,d):t.slice(0,l),b=t.slice(l,c+1),h="left"===n?t.slice(d,l):t.slice(c+1,d+1),f="left"===n?t.slice(c+1):t.slice(d+1);t="left"===n?[].concat((0,i.Z)(I),(0,i.Z)(b),(0,i.Z)(h),(0,i.Z)(f)):[].concat((0,i.Z)(I),(0,i.Z)(h),(0,i.Z)(b),(0,i.Z)(f))}})),t.map((function(e){return I[e.id]?(0,a.ZP)(e):e}))},b=function(e,t,n){var r,l,c=u(e,t),s=d(e,c),g=[];if("left"===n){if(t.editingGroupId){var I=(0,o.Fb)(e,t.editingGroupId);if(!I.length)return e;r=e.indexOf(I[0])}else r=0;l=c[c.length-1]}else{if(t.editingGroupId){var b=(0,o.Fb)(e,t.editingGroupId);if(!b.length)return e;l=e.indexOf(b[b.length-1])}else l=e.length-1;r=c[0]}for(var h=r;h<l+1;h++)c.includes(h)||g.push(e[h]);var f=Object.values(s).map((function(e){return(0,a.ZP)(e)})),C=e.slice(0,r),p=e.slice(l+1);return"left"===n?[].concat((0,i.Z)(C),(0,i.Z)(f),g,(0,i.Z)(p)):[].concat((0,i.Z)(C),g,(0,i.Z)(f),(0,i.Z)(p))},h=function(e,t){return I(t,e,"left")},f=function(e,t){return I(t,e,"right")},C=function(e,t){return b(e,t,"left")},p=function(e,t){return b(e,t,"right")},B=n(6066),m=n(8211),A=n(7901),y=n(3646),v=n(2335),x=n(4512),Q=(0,A.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(e,t){return{elements:h(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===B.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,x.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,m.t)("labels.sendBackward")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+[")),children:y.Gc})}}),F=(0,A.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(e,t){return{elements:f(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===B.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,x.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,m.t)("labels.bringForward")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+]")),children:y.t5})}}),U=(0,A.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(e,t){return{elements:C(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return v.Um?e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.BRACKET_LEFT:e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===B.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,x.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,m.t)("labels.sendToBack")," \u2014 ").concat(v.Um?(0,s.uY)("CtrlOrCmd+Alt+["):(0,s.uY)("CtrlOrCmd+Shift+[")),children:y.pw})}}),G=(0,A.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(e,t){return{elements:p(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return v.Um?e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.BRACKET_RIGHT:e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===B.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,x.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat((0,m.t)("labels.bringToFront")," \u2014 ").concat(v.Um?(0,s.uY)("CtrlOrCmd+Alt+]"):(0,s.uY)("CtrlOrCmd+Shift+]")),children:y.IN})}}),w=n(7169),S=n(1047),E=n(1974),X=n(6938);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=(0,A.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(e,t,n,r){if(t.editingLinearElement)return!1;var i=e.reduce((function(e,t){return t.isDeleted||(0,S.iB)(t)&&t.containerId||t.locked||(e[t.id]=!0),e}),{});return{appState:(0,o.bO)(k(k({},t),{},{selectedLinearElement:1===Object.keys(i).length&&(0,E.bt)(e[0])?new X._(e[0],r.scene):null,editingGroupId:null,selectedElementIds:i}),(0,S.Lm)(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.key===B.tW.A}}),T=n(1319),D=n(8290),O=n(5710);function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=function(e){var t=e.slice(),n=new Set,r=function e(t){var n,r,a,o=null===(n=t[0])||void 0===n||null===(r=n.groupIds)||void 0===r?void 0:r.join(""),l=[t[0]],c=[],s=M(t.slice(1));try{for(s.s();!(a=s.n()).done;){var u,g=a.value;(null===(u=g.groupIds)||void 0===u?void 0:u.join(""))===o?l.push(g):c.push(g)}}catch(e){s.e(e)}finally{s.f()}return c.length?[].concat(l,(0,i.Z)(e(c))):l},a=new Map;return t.forEach((function(e,i){var o;if(!a.has(e.id))if(null!==(o=e.groupIds)&&void 0!==o&&o.length){var l,c=e.groupIds[e.groupIds.length-1],s=t.slice(i).filter((function(e){var t,n=null==e||null===(t=e.groupIds)||void 0===t?void 0:t.some((function(e){return e===c}));return n&&a.set(e.id,!0),n})),u=M(r(s));try{for(u.s();!(l=u.n()).done;){var g=l.value;n.add(g)}}catch(e){u.e(e)}finally{u.f()}}else n.add(e)})),n.size!==e.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),e):(0,i.Z)(n)},R=function(e){var t=function(e){var t=(0,s.I4)(e),n=e.slice(),r=new Set;return n.forEach((function(e,i){var a;if(e)if(null!==(a=e.boundElements)&&void 0!==a&&a.length)r.add(e),n[i]=null,e.boundElements.forEach((function(e){var i=t.get(e.id);i&&"text"===e.type&&(r.add(i[0]),n[i[1]]=null)}));else if("text"===e.type&&e.containerId){var o,l=t.get(e.containerId);null!=l&&null!==(o=l[0].boundElements)&&void 0!==o&&o.find((function(t){return t.id===e.id}))||(r.add(e),n[i]=null)}else r.add(e),n[i]=null})),r.size!==e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),e):(0,i.Z)(r)}(W(e));return t};function Y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,A.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(e,t){if(t.editingLinearElement){var n=X._.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return z(z({},_(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.key===B.tW.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{type:"button",icon:y.NA,title:"".concat((0,m.t)("labels.duplicateSelection")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+D")),"aria-label":(0,m.t)("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,l.N)((0,S.Lm)(t),n)})}}),_=function(e,t){for(var n=R(e),r=new Map,a=[],c=[],u=new Map,g=function(e){var n=(0,S.Sy)(t.editingGroupId,r,e,{x:e.x+v.k/2,y:e.y+v.k/2});return u.set(e.id,n.id),c.push(e),a.push(n),n},d=(0,s.xn)((0,l.eD)(n,t,!0)),I=new Map,b=function(e){var t,n=Y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;I.set(r.id,!0)}}catch(e){n.e(e)}finally{n.f()}return e},h=[],f=-1;++f<n.length;){var C=n[f];if(!I.get(C.id)){var p=(0,O.WJ)(C);if(d.get(C.id)){if(C.groupIds.length||p){var B=(0,o.yO)(t,C);if(B){var m=(0,o.Fb)(n,B);h.push.apply(h,(0,i.Z)(b([].concat((0,i.Z)(m),(0,i.Z)(m.map((function(e){return g(e)})))))));continue}if(p){h.push.apply(h,(0,i.Z)(b([C,p,g(C),g(p)])));continue}}h.push.apply(h,(0,i.Z)(b([C,g(C)])))}else h.push.apply(h,(0,i.Z)(b([C])))}}var A=[],y=new Map;for(f=h.length;--f>=0;){var x=h[f];y.get(x.id)||(y.set(x.id,!0),A.push(x))}var Q=A.reverse();return(0,O.P7)(h,c,u),(0,D.ek)(h,c,u),{elements:Q,appState:(0,o.bO)(z(z({},t),{},{selectedGroupIds:{},selectedElementIds:a.reduce((function(e,t){return(0,E.Xh)(t)||(e[t.id]=!0),e}),{})}),(0,S.Lm)(Q))}},J=(n(6208),n(2416)),P=n(2577),K=n(6552);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=(0,A.z)({name:"finalize",trackEvent:!1,perform:function(e,t,n,r){var i,o=r.canvas,l=r.focusContainer,u=r.scene;if(t.editingLinearElement){var g=t.editingLinearElement,d=g.elementId,I=g.startBindingElement,b=g.endBindingElement,h=X._.getElement(d);if(h)return(0,E.Mn)(h)&&(0,D.HG)(h,I,b),{elements:h.points.length<2||(0,S.QD)(h)?e.filter((function(e){return e.id!==h.id})):void 0,appState:$($({},t),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var f=e,C=t.pendingImageElementId&&u.getElement(t.pendingImageElementId);C&&(0,a.DR)(C,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&l();var p,B=t.multiElement?t.multiElement:"freedraw"===(null===(i=t.editingElement)||void 0===i?void 0:i.type)?t.editingElement:null;if(B){if("freedraw"!==B.type&&"touch"!==t.lastPointerDownWith){var m=B.points,A=B.lastCommittedPoint;A&&m[m.length-1]===A||(0,a.DR)(B,{points:B.points.slice(0,-1)})}(0,S.QD)(B)&&(f=f.slice(0,-1));var y=(0,K.g6)(B.points,t.zoom.value);if(("line"===B.type||"freedraw"===B.type)&&y){var v=B.points,x=v[0];(0,a.DR)(B,{points:v.map((function(e,t){return t===v.length-1?[x[0],x[1]]:e}))})}if((0,E.Mn)(B)&&!y&&B.points.length>1){var Q=X._.getPointAtIndexGlobalCoordinates(B,-1),F=(0,P.Z)(Q,2),U=F[0],G=F[1];(0,D.R)(B,t,c.Z.getScene(B),{x:U,y:G})}t.activeTool.locked||"freedraw"===t.activeTool.type||(t.selectedElementIds[B.id]=!0)}return(t.activeTool.locked||"freedraw"===t.activeTool.type)&&B||(0,s.z8)(o),p="eraser"===t.activeTool.type?(0,s.Om)(t,$($({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,s.Om)(t,{type:"selection"}),{elements:f,appState:$($({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&B?t.activeTool:p,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:B&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?$($({},t.selectedElementIds),{},(0,w.Z)({},B.id,!0)):t.selectedElementIds,selectedLinearElement:B&&(0,E.bt)(B)?new X._(B,u):t.selectedLinearElement,pendingImageElementId:null}),commitToHistory:"freedraw"===t.activeTool.type}},keyTest:function(e,t){return e.key===B.tW.ESCAPE&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===B.tW.ESCAPE||e.key===B.tW.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,x.jsx)(T.V,{type:"button",icon:y.$c,title:(0,m.t)("buttons.done"),"aria-label":(0,m.t)("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null==r?void 0:r.size)||"medium"})}}),te=n(8671);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie="{}",ae=(0,A.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(e,t){var n=[],r=e.find((function(e){return t.selectedElementIds[e.id]}));if(n.push(r),r&&(0,E.Xo)(r)){var i=(0,O.WJ)(r);n.push(i)}return r&&(ie=JSON.stringify(n)),{appState:re(re({},t),{},{toast:{message:(0,m.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.C}}),oe=(0,A.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(e,t){var n=JSON.parse(ie),r=n[0],i=n[1];if(!(0,S.r2)(r))return{elements:e,commitToHistory:!1};var o=(0,l.eD)(e,t,!0),c=o.map((function(e){return e.id}));return{elements:e.map((function(e){if(c.includes(e.id)){var t,n,l,s,u,g,d,I=r;if((0,S.iB)(e)&&e.containerId&&(I=i),!I)return e;var b=(0,a.BE)(e,{backgroundColor:null===(t=I)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=I)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(l=I)||void 0===l?void 0:l.strokeColor,strokeStyle:null===(s=I)||void 0===s?void 0:s.strokeStyle,fillStyle:null===(u=I)||void 0===u?void 0:u.fillStyle,opacity:null===(g=I)||void 0===g?void 0:g.opacity,roughness:null===(d=I)||void 0===d?void 0:d.roughness,roundness:I.roundness?(0,E.eK)(I.roundness.type,e)?I.roundness:(0,E.UQ)(e):null});if((0,S.iB)(b)){var h,f,C,p=(null===(h=I)||void 0===h?void 0:h.fontSize)||v.n5,B=(null===(f=I)||void 0===f?void 0:f.fontFamily)||v.rk,m=null;(b=(0,a.BE)(b,{fontSize:p,fontFamily:B,textAlign:(null===(C=I)||void 0===C?void 0:C.textAlign)||v.Hg,lineHeight:I.lineHeight||(0,O.PT)(B)})).containerId&&(m=o.find((function(e){return(0,S.iB)(b)&&e.id===b.containerId}))||null),(0,S.oN)(b,m)}return"arrow"===b.type&&(b=(0,a.BE)(b,{startArrowhead:I.startArrowhead,endArrowhead:I.endArrowhead})),b}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.V}});function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,A.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:ce(ce({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,x.jsx)(T.V,{type:"button",icon:y.RY,"aria-label":(0,m.t)("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,A.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:ce(ce({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{visible:(0,S.RT)(n,(0,S.Lm)(t)),type:"button",icon:y.DG,"aria-label":(0,m.t)("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,A.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!(0,s.rB)()}},perform:function(){return(0,s.rB)()||(0,s.wo)(),(0,s.rB)()&&(0,s.Pr)(),{commitToHistory:!1}},keyTest:function(e){return e.key===B.tW.F&&!e[B.tW.CTRL_OR_CMD]}});var se=(0,A.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var i=r.focusContainer;return"help"===t.openDialog&&i(),{appState:ce(ce({},t),{},{openDialog:"help"===t.openDialog?null:"help"}),commitToHistory:!1}},keyTest:function(e){return e.key===B.tW.QUESTION_MARK}}),ue=n(6655),ge=n(6954);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e,t){var n=(0,l.eD)((0,S.Lm)(e),t,!0);return n.length>=2&&!function(e){if(e.length>=2){var t,n=be(e[0].groupIds);try{var r=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,o.Nd)(t,n)}),!0))return{v:!0}};for(n.s();!(t=n.n()).done;){var i=r();if("object"===(0,ue.Z)(i))return i.v}}catch(e){n.e(e)}finally{n.f()}}return!1}(n)},Ce=(0,A.z)({name:"group",trackEvent:{category:"element"},perform:function(e,t){var n=(0,l.eD)((0,S.Lm)(e),t,!0);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=(0,o.iJ)(t);if(1===r.length){var c=r[0],u=new Set((0,o.Fb)(e,c).map((function(e){return e.id}))),g=new Set(n.map((function(e){return e.id})));if(new Set([].concat((0,i.Z)(Array.from(u)),(0,i.Z)(Array.from(g)))).size===u.size)return{appState:t,elements:e,commitToHistory:!1}}var d=(0,ge.kb)(),I=(0,s.xn)(n),b=e.map((function(e){return I.get(e.id)?(0,a.BE)(e,{groupIds:(0,o.S_)(e.groupIds,d,t.editingGroupId)}):e})),h=(0,o.Fb)(b,d),f=h[h.length-1],C=b.lastIndexOf(f),p=b.slice(C+1),B=b.slice(0,C).filter((function(e){return!(0,o.Nd)(e,d)})),m=[].concat((0,i.Z)(B),(0,i.Z)(h),(0,i.Z)(p));return{appState:(0,o.F$)(d,Ie(Ie({},t),{},{selectedGroupIds:{}}),(0,S.Lm)(m)),elements:m,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(e,t){return fe(e,t)},keyTest:function(e){return!e.shiftKey&&e[B.tW.CTRL_OR_CMD]&&e.key===B.tW.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!fe(t,n),type:"button",icon:(0,x.jsx)(y.BF,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.group")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+G")),"aria-label":(0,m.t)("labels.group"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),pe=(0,A.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(e,t){if(0===(0,o.iJ)(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=[],r=e.map((function(e){(0,E.Xh)(e)&&n.push(e.id);var r=(0,o.h6)(e.groupIds,t.selectedGroupIds);return r.length===e.groupIds.length?e:(0,a.BE)(e,{groupIds:r})})),i=(0,o.bO)(Ie(Ie({},t),{},{selectedGroupIds:{}}),(0,S.Lm)(r));return n.forEach((function(e){return i.selectedElementIds[e]=!1})),{appState:i,elements:r,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[B.tW.CTRL_OR_CMD]&&e.key===B.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(e,t){return(0,o.iJ)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{type:"button",hidden:0===(0,o.iJ)(n).length,icon:(0,x.jsx)(y.RJ,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.ungroup")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,m.t)("labels.ungroup"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),Be=n(8982),me=n(487),Ae=n.n(me),ye=n(631),ve=n.n(ye),xe=n(2052),Qe=n.n(xe),Fe=n(4010),Ue=n.n(Fe),Ge=n(1469),we=n.n(Ge),Se=n(9329),Ee=n.n(Se),Xe=n(3729),Ze={};Ze.styleTagTransform=Ee(),Ze.setAttributes=Ue(),Ze.insert=Qe().bind(null,"head"),Ze.domAPI=ve(),Ze.insertStyleElement=we(),Ae()(Xe.Z,Ze),Xe.Z&&Xe.Z.locals&&Xe.Z.locals;var ke=n(9787),Ne=function(e){var t=e.color,n=e.onClick,r=e.name,i=e.src,a=(0,Be.f)(r),o=(0,ke.useState)(!1),l=(0,P.Z)(o,2),c=l[0],s=l[1],u=!c&&i,g=u?void 0:{background:t};return(0,x.jsx)("div",{className:"Avatar",style:g,onClick:n,children:u?(0,x.jsx)("img",{className:"Avatar-img",src:i,alt:a,referrerPolicy:"no-referrer",onError:function(){return s(!0)}}):a})},Te=n(2264);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,A.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(e,t,n){var r=n;return r?{appState:Oe(Oe(Oe({},t),(0,Te.s)({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data,i=(0,P.Z)(r,2),a=i[0],o=i[1],l=(0,Be.X)(a,t),c=l.background,s=l.stroke;return(0,x.jsx)(Ne,{color:c,border:s,onClick:function(){return n(o.pointer)},name:o.username||"",src:o.avatarUrl})}});var Me=n(2791);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=(0,A.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var a=(0,l.eD)((0,S.Lm)(e),t,!0);return a.some((function(e){return"image"===e.type}))?{commitToHistory:!1,appState:We(We({},t),{},{errorMessage:"Support for adding images to the library coming soon!"})}:r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,ge.kb)(),status:"unpublished",elements:a.map(Me.OL),created:Date.now()}].concat((0,i.Z)(e)))})).then((function(){return{commitToHistory:!1,appState:We(We({},t),{},{toast:{message:(0,m.t)("toast.addedToLibrary")}})}})).catch((function(e){return{commitToHistory:!1,appState:We(We({},t),{},{errorMessage:e.message})}}))},contextItemLabel:"labels.addToLibrary"}),Ye=n(8925);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e,t,n){var r=n.axis,i=n.position,a=(0,Ye.v2)(e),o="x"===r?["minX","maxX"]:["minY","maxY"],l=(0,P.Z)(o,2),c=l[0],s=l[1];return He(He({},{x:0,y:0}),{},"start"===i?(0,w.Z)({},r,t[c]-a[c]):"end"===i?(0,w.Z)({},r,t[s]-a[s]):(0,w.Z)({},r,(t[c]+t[s])/2-(a[c]+a[s])/2))},je=function(e,t){return(0,l.eD)((0,S.Lm)(e),t).length>1},_e=function(e,t,n){var r=function(e,t){var n=(0,o.AI)(e),r=(0,Ye.v2)(e);return n.flatMap((function(e){var n=ze(e,r,t);return e.map((function(e){return(0,a.BE)(e,{x:e.x+n.x,y:e.y+n.y})}))}))}((0,l.eD)((0,S.Lm)(e),t),n),i=(0,s.xn)(r);return e.map((function(e){return i.get(e.id)||e}))};function Je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,A.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===B.tW.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.Ct,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.alignTop")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,m.t)("labels.alignTop"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===B.tW.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.HL,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.alignBottom")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,m.t)("labels.alignBottom"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===B.tW.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.xs,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.alignLeft")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,m.t)("labels.alignLeft"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===B.tW.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.mh,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.alignRight")," \u2014 ").concat((0,s.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,m.t)("labels.alignRight"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.ST,onClick:function(){return r(null)},title:(0,m.t)("labels.centerVertically"),"aria-label":(0,m.t)("labels.centerVertically"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:_e(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!je(t,n),type:"button",icon:y.gK,onClick:function(){return r(null)},title:(0,m.t)("labels.centerHorizontally"),"aria-label":(0,m.t)("labels.centerHorizontally"),visible:(0,l.N)((0,S.Lm)(t),n)})}});var Ke=function(e,t){return(0,l.eD)((0,S.Lm)(e),t).length>1},qe=function(e,t,n){var r=function(e,t){var n,r="x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],i=(0,P.Z)(r,4),l=i[0],c=i[1],s=i[2],u=i[3],g=(0,Ye.v2)(e),d=(0,o.AI)(e).map((function(e){return[e,(0,Ye.v2)(e)]})).sort((function(e,t){return e[1][c]-t[1][c]})),I=0,b=Je(d);try{for(b.s();!(n=b.n()).done;)I+=n.value[1][u]}catch(e){b.e(e)}finally{b.f()}var h=(g[u]-I)/(d.length-1);if(h<0){var f=d.findIndex((function(e){return e[1][l]===g[l]})),C=d.findIndex((function(e){return e[1][s]===g[s]})),p=(d[C][1][c]-d[f][1][c])/(d.length-1),B=d[f][1][c];return d.flatMap((function(e,n){var r=(0,P.Z)(e,2),i=r[0],o=r[1],l={x:0,y:0};return n!==f&&n!==C&&(B+=p,l[t.axis]=B-o[c]),i.map((function(e){return(0,a.BE)(e,{x:e.x+l.x,y:e.y+l.y})}))}))}var m=g[l];return d.flatMap((function(e){var n=(0,P.Z)(e,2),r=n[0],i=n[1],o={x:0,y:0};return o[t.axis]=m-i[l],m+=h,m+=i[u],r.map((function(e){return(0,a.BE)(e,{x:e.x+o.x,y:e.y+o.y})}))}))}((0,l.eD)((0,S.Lm)(e),t),n),i=(0,s.xn)(r);return e.map((function(e){return i.get(e.id)||e}))},$e=((0,A.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:qe(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return!e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!Ke(t,n),type:"button",icon:y.uD,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.distributeHorizontally")," \u2014 ").concat((0,s.uY)("Alt+H")),"aria-label":(0,m.t)("labels.distributeHorizontally"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),(0,A.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:qe(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return!e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,x.jsx)(T.V,{hidden:!Ke(t,n),type:"button",icon:y.W5,onClick:function(){return r(null)},title:"".concat((0,m.t)("labels.distributeVertically")," \u2014 ").concat((0,s.uY)("Alt+V")),"aria-label":(0,m.t)("labels.distributeVertically"),visible:(0,l.N)((0,S.Lm)(t),n)})}}),n(8634)),et=n(267),tt=(0,A.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(e,t){return{elements:rt(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyH"===e.code},contextItemLabel:"labels.flipHorizontal",predicate:function(e,t){return function(e,t){var n=(0,l.eD)((0,S.Lm)(e),t);return 1===n.length&&"text"!==n[0].type}(e,t)}}),nt=(0,A.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(e,t){return{elements:rt(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyV"===e.code&&!e[B.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(e,t){return function(e,t){return 1===(0,l.eD)((0,S.Lm)(e),t).length}(e,t)}}),rt=function(e,t,n){var r=(0,l.eD)((0,S.Lm)(e),t);if(r.length>1)return e;var i=it(r,t,n),a=(0,s.xn)(i);return e.map((function(e){return a.get(e.id)||e}))},it=function(e,t,n){return e.forEach((function(e){at(e,t),"vertical"===n&&ot(e,Math.PI)})),e},at=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,l=(0,$e.LW)(e.angle);(0,a.DR)(e,{angle:(0,$e.LW)(0)});var c=(0,et.PC)(e,t.zoom),s=!0,u=c.nw;if(u||(s=!1,u=c.ne)){var g,d=0;(0,E.bt)(e)&&e.points.length<3&&(d=2*e.points.reduce((function(e,t){return Math.max(e,t[0])}),0)-e.width),(0,E.bt)(e)&&(g=(0,Ye.Ut)(e,e.points));var I=(0,Ye.qf)(e);if((0,E.bt)(e)&&e.points.length<3){for(var b=1;b<e.points.length;b++)X._.movePoints(e,[{index:b,point:[-e.points[b][0],e.points[b][1]]}]);X._.normalizePoints(e)}else{var h=g?g[2]-g[0]:I[2]-I[0],f=g?[g[0],g[1]]:[I[0],I[1]];(0,$e.l2)((new Map).set(e.id,e),!1,e,s?"nw":"ne",!0,s?f[0]+h:f[0]-h,f[1])}var C=(0,$e.LW)(2*Math.PI-l);if(C<0&&(C=(0,$e.LW)(C+2*Math.PI)),(0,a.DR)(e,{angle:C}),(0,a.DR)(e,{x:n+d,y:r,width:i,height:o}),(0,D.Ww)(e),g&&(0,E.bt)(e)){var p=(0,Ye.Ut)(e,e.points),B=g[0]-p[0]+(g[2]-p[2]);(0,a.DR)(e,{x:e.x+.5*B,y:e.y,width:i,height:o})}}else(0,a.DR)(e,{angle:l})},ot=function(e,t){var n=e.x,r=e.y,i=(0,$e.LW)(e.angle+t);i<0&&(i=(0,$e.LW)(2*Math.PI+i)),(0,a.DR)(e,{angle:i}),(0,a.DR)(e,{x:n,y:r})},lt=n(4688);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=(0,A.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.gridSize}},perform:function(e,t){return{appState:st(st({},t),{},{gridSize:this.checked(t)?null:v.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},predicate:function(e,t,n){return void 0===n.gridModeEnabled},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[B.tW.CTRL_OR_CMD]&&e.code===B.aU.QUOTE}});function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=(0,A.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:dt(dt({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},predicate:function(e,t,n){return void 0===n.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[B.tW.CTRL_OR_CMD]&&e.altKey&&e.code===B.aU.Z}}),bt=n(4958),ht=n(202),ft=n(4929);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=(0,A.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(e,t){var n=(0,l.eD)(e,t,!0);if(!n.length)return!1;var r=mt(n),i=(0,s.xn)(n),o="lock"===r;return{elements:e.map((function(e){return i.has(e.id)?(0,a.BE)(e,{locked:o}):e})),appState:pt(pt({},t),{},{selectedLinearElement:o?null:t.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(e,t){var n=(0,l.eD)(e,t,!1);return 1===n.length?n[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":"lock"===mt(n)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(e,t,n){return e.key.toLocaleLowerCase()===B.tW.L&&e[B.tW.CTRL_OR_CMD]&&e.shiftKey&&(0,l.eD)(n,t,!1).length>0}}),mt=function(e){return e.some((function(e){return!e.locked}))?"lock":"unlock"};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=(0,A.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(e,t){var n=(0,l.eD)(e,t);return!(1!==n.length||!(0,E.bt)(n[0]))},perform:function(e,t,n,r){var i,a=(0,l.eD)((0,S.Lm)(e),t,!0)[0],o=(null===(i=t.editingLinearElement)||void 0===i?void 0:i.elementId)===a.id?null:new X._(a,r.scene);return{appState:yt(yt({},t),{},{editingLinearElement:o}),commitToHistory:!1}},contextItemLabel:function(e,t){var n,r=(0,l.eD)((0,S.Lm)(e),t,!0)[0];return(null===(n=t.editingLinearElement)||void 0===n?void 0:n.elementId)===r.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(e,t,n){"use strict";n.d(t,{N:function(){return r},z:function(){return i}});var r=[],i=function(e){return r=r.concat(e),e}},785:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(2335),i=n(8211),a=n(6340),o={toggleTheme:[(0,a.uY)("Shift+Alt+D")],saveScene:[(0,a.uY)("CtrlOrCmd+S")],loadScene:[(0,a.uY)("CtrlOrCmd+O")],clearCanvas:[(0,a.uY)("CtrlOrCmd+Delete")],imageExport:[(0,a.uY)("CtrlOrCmd+Shift+E")],cut:[(0,a.uY)("CtrlOrCmd+X")],copy:[(0,a.uY)("CtrlOrCmd+C")],paste:[(0,a.uY)("CtrlOrCmd+V")],copyStyles:[(0,a.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,a.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,a.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,a.uY)("Delete")],duplicateSelection:[(0,a.uY)("CtrlOrCmd+D"),(0,a.uY)("Alt+".concat((0,i.t)("helpDialog.drag")))],sendBackward:[(0,a.uY)("CtrlOrCmd+[")],bringForward:[(0,a.uY)("CtrlOrCmd+]")],sendToBack:[r.Um?(0,a.uY)("CtrlOrCmd+Alt+["):(0,a.uY)("CtrlOrCmd+Shift+[")],bringToFront:[r.Um?(0,a.uY)("CtrlOrCmd+Alt+]"):(0,a.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,a.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,a.uY)("CtrlOrCmd+G")],ungroup:[(0,a.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,a.uY)("CtrlOrCmd+'")],zenMode:[(0,a.uY)("Alt+Z")],stats:[(0,a.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,a.uY)("Shift+H")],flipVertical:[(0,a.uY)("Shift+V")],viewMode:[(0,a.uY)("Alt+R")],hyperlink:[(0,a.uY)("CtrlOrCmd+K")],toggleLock:[(0,a.uY)("CtrlOrCmd+Shift+L")]},l=function(e){var t=o[e];return t&&t.length>0?t[0]:""}},7047:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=function(e,t,n,r){try{if("undefined"==typeof window||{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.JEST_WORKER_ID)return;window.gtag&&window.gtag("event",t,{event_category:e,event_label:n,value:r}),window._paq&&window._paq.push(["trackEvent",e,t,n,r])}catch(e){console.error("error during analytics",e)}}},8897:function(e,t,n){"use strict";n.d(t,{EN:function(){return I},eS:function(){return d},im:function(){return c},l$:function(){return b},s:function(){return g}});var r=n(5284),i=n(2335),a=n(8211),o=n(6340),l=i.ZB.includes(devicePixelRatio)?devicePixelRatio:1,c=function(){return{showWelcomeScreen:!1,theme:i.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:i.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:i.HN.fillStyle,currentItemFontFamily:i.rk,currentItemFontSize:i.n5,currentItemOpacity:i.HN.opacity,currentItemRoughness:i.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:i.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:i.HN.strokeStyle,currentItemStrokeWidth:i.HN.strokeWidth,currentItemTextAlign:i.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:i.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:l,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,a.t)("labels.untitled"),"-").concat((0,o.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:r.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},s={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},u=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=s[a];if(null!=o&&o[t]){var l=e[a];n[a]=l}}return n},g=function(e){return u(e,"export")},d=function(e){return u(e,"server")},I=function(e){return"eraser"===e.activeTool.type},b=function(e){return"hand"===e.activeTool.type}},5674:function(e,t,n){"use strict";n.d(t,{dz:function(){return y},i$:function(){return p},ps:function(){return U}});var r=n(1930),i=n(7169),a=n(2577),o=n(56),l=n(2335),c=n(1047),s=n(6954);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=32,h=12,f=256,C="NOT_SPREADSHEET",p="VALID_SPREADSHEET",B=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},m=function(e,t){return e.slice(1).every((function(e){return null!==B(e[t])}))},A=function(e){var t=e[0].length;if(t>2)return{type:C,reason:"More than 2 columns"};if(1===t){if(!m(e,0))return{type:C,reason:"Value is not numeric"};var n=null===B(e[0][0]),r=(n?e.slice(1):e).map((function(e){return B(e[0])}));return r.length<2?{type:C,reason:"Less than two rows"}:{type:p,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var i=m(e,0),o=m(e,1);if(!i&&!o)return{type:C,reason:"Value is not numeric"};var l=o?[0,1]:[1,0],c=(0,a.Z)(l,2),s=c[0],u=c[1],g=null===B(e[0][u]),d=g?e.slice(1):e;return d.length<2?{type:C,reason:"Less than 2 rows"}:{type:p,spreadsheet:{title:g?e[0][u]:null,labels:d.map((function(e){return e[s]})),values:d.map((function(e){return B(e[u])}))}}},y=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:C,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:C,reason:"All rows don't have same number of columns"};var r=A(t);if(r.type!==p){var i=A(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],i=0;i<e.length;i++)r.push(e[i][n]);t.push(r)}return t}(t));if(i.type===p)return i}return r},v=o.Z.elementBackground.slice(2,o.Z.elementBackground.length),x={strokeColor:o.Z.elementStroke[0]},Q=function(e){return{chartWidth:44*e.values.length+h,chartHeight:280}},F=function(e,t,n,i,a,s){var u=Q(e),g=u.chartWidth,d=u.chartHeight,C=e.title?(0,c.VL)(I(I({backgroundColor:a,groupIds:[i]},x),{},{text:e.title,x:t+g/2,y:n-f-24-l.n5,roundness:null,textAlign:"center"})):null,p=s?(0,c.Up)(I(I({backgroundColor:a,groupIds:[i]},x),{},{type:"rectangle",x:t,y:n-d,width:g,height:d,strokeColor:o.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,r.Z)(p?[p]:[]),(0,r.Z)(C?[C]:[]),(0,r.Z)(function(e,t,n,r,i){var a;return(null===(a=e.labels)||void 0===a?void 0:a.map((function(e,a){return(0,c.VL)(I(I({groupIds:[r],backgroundColor:i},x),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*a+24,y:n+6,width:b,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,i,a)),(0,r.Z)(function(e,t,n,i,a){var o=(0,c.VL)(I(I({groupIds:[i],backgroundColor:a},x),{},{x:t-h,y:n-h,text:"0",textAlign:"right"}));return[o,(0,c.VL)(I(I({groupIds:[i],backgroundColor:a},x),{},{x:t-h,y:n-f-o.height/2,text:Math.max.apply(Math,(0,r.Z)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,i,a)),(0,r.Z)(function(e,t,n,r,i){var a=Q(e),o=a.chartWidth,l=a.chartHeight;return[(0,c.y8)(I(I({backgroundColor:i,groupIds:[r]},x),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:o,points:[[0,0],[o,0]]})),(0,c.y8)(I(I({backgroundColor:i,groupIds:[r]},x),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:l,points:[[0,0],[0,-l]]})),(0,c.y8)(I(I({backgroundColor:i,groupIds:[r]},x),{},{type:"line",x:t,y:n-f-h,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:o,opacity:50,points:[[0,0],[o,0]]}))]}(e,t,n,i,a)))},U=function(e,t,n,i){return"line"===e?function(e,t,n){var i,a=Math.max.apply(Math,(0,r.Z)(e.values)),o=(0,s.kb)(),g=v[Math.floor(Math.random()*v.length)],d=0,b=[],C=u(e.values);try{for(C.s();!(i=C.n()).done;){var p=i.value,B=44*d,m=-p/a*f;b.push([B,m]),d++}}catch(e){C.e(e)}finally{C.f()}var A=Math.max.apply(Math,(0,r.Z)(b.map((function(e){return e[0]})))),y=Math.max.apply(Math,(0,r.Z)(b.map((function(e){return e[1]})))),Q=Math.min.apply(Math,(0,r.Z)(b.map((function(e){return e[0]})))),U=Math.min.apply(Math,(0,r.Z)(b.map((function(e){return e[1]})))),G=(0,c.y8)(I(I({backgroundColor:g,groupIds:[o]},x),{},{type:"line",x:t+h+16,y:n-h,startArrowhead:null,endArrowhead:null,height:y-U,width:A-Q,strokeWidth:2,points:b})),w=e.values.map((function(e,r){var i=44*r+6,l=-e/a*f+6;return(0,c.Up)(I(I({backgroundColor:g,groupIds:[o]},x),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+i+16,y:n+l-24,width:h,height:h}))})),S=e.values.map((function(e,r){var i=44*r+6,l=e/a*f+6+h;return(0,c.y8)(I(I({backgroundColor:g,groupIds:[o]},x),{},{type:"line",x:t+i+16+6,y:n-l,startArrowhead:null,endArrowhead:null,height:l,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,l]]}))}));return[].concat((0,r.Z)(F(e,t,n,o,g,"production"===l.Vi.DEVELOPMENT)),[G],(0,r.Z)(S),(0,r.Z)(w))}(t,n,i):function(e,t,n){var i=Math.max.apply(Math,(0,r.Z)(e.values)),a=(0,s.kb)(),o=v[Math.floor(Math.random()*v.length)],u=e.values.map((function(e,r){var l=e/i*f;return(0,c.Up)(I(I({backgroundColor:o,groupIds:[a]},x),{},{type:"rectangle",x:t+44*r+h,y:n-l-h,width:b,height:l}))}));return[].concat((0,r.Z)(u),(0,r.Z)(F(e,t,n,a,o,"production"===l.Vi.DEVELOPMENT)))}(t,n,i)}},8982:function(e,t,n){"use strict";n.d(t,{X:function(){return i},f:function(){return a}});var r=n(56),i=function(e,t){if(null!=t&&t.collaborators){var n=t.collaborators.get(e);if(null!=n&&n.color)return n.color}var i=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),a=r.Z.elementBackground.slice(3),o=r.Z.elementStroke.slice(3);return{background:a[i%a.length],stroke:o[i%o.length]}},a=function(e){return null!=e&&e.trim()?e.trim()[0].toUpperCase():"?"}},6665:function(e,t,n){"use strict";n.d(t,{dd:function(){return F},mQ:function(){return x},uR:function(){return Q},vQ:function(){return m},vt:function(){return p},wx:function(){return C}});var r=n(7169),i=n(8950),a=n(2975),o=n.n(a),l=n(4162),c=n(5674),s=n(2335),u=n(1974),g=n(6340);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b="",h=!1,f="clipboard"in navigator&&"readText"in navigator.clipboard,C="clipboard"in navigator&&"writeText"in navigator.clipboard,p="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,B=function(e){return!(![s.r8.excalidraw,s.r8.excalidrawClipboard].includes(null==e?void 0:e.type)||!Array.isArray(e.elements))},m=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:s.r8.excalidrawClipboard,elements:t,files:r?t.reduce((function(e,t){return(0,u.wi)(t)&&r[t.fileId]&&(e[t.fileId]=r[t.fileId]),e}),{}):void 0},a=JSON.stringify(i),b=a,e.prev=3,h=!1,e.next=7,F(a);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),h=!0,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(){if(!b)return{};try{return JSON.parse(b)}catch(e){return console.error(e),{}}},y=function(e){var t=(0,c.dz)(e);return t.type===c.i$?{spreadsheet:t.spreadsheet}:null},v=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain"),e.next=11;break;case 5:if(e.t1=f,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return r=e.t0,e.abrupt("return",(r||"").trim());case 15:return e.prev=15,e.t2=e.catch(0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,i,a,c,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],e.next=3,v(t);case 3:if((r=e.sent)&&(n||!r.includes(l.oj))){e.next=6;break}return e.abrupt("return",A());case 6:if(!(i=!n&&y(r))){e.next=9;break}return e.abrupt("return",i);case 9:if(a=A(),e.prev=10,c=JSON.parse(r),!B(c)){e.next=14;break}return e.abrupt("return",{elements:c.elements,files:c.files,text:n?JSON.stringify(c.elements,null,2):void 0});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(10);case 18:return e.abrupt("return",h&&a.elements?I(I({},a),{},{text:n?JSON.stringify(a.elements,null,2):void 0}):{text:r});case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,r.Z)({},s.LO.png,t))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(0,g.y8)(t)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=r.Z,e.t4={},e.t5=s.LO.png,e.next=15,t;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!C){e.next=11;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(n||U(t||" ")){e.next=13;break}throw new Error("couldn't copy");case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var i=!1;try{n.select(),n.setSelectionRange(0,n.value.length),i=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),i}},56:function(e,t,n){"use strict";var r=n(1930),i=n(5284),a=function(e){return[i.red[e],i.pink[e],i.grape[e],i.violet[e],i.indigo[e],i.blue[e],i.cyan[e],i.teal[e],i.green[e],i.lime[e],i.yellow[e],i.orange[e]]};t.Z={canvasBackground:[i.white,i.gray[0],i.gray[1]].concat((0,r.Z)(a(0))),elementBackground:["transparent",i.gray[4],i.gray[6]].concat((0,r.Z)(a(6))),elementStroke:[i.black,i.gray[8],i.gray[7]].concat((0,r.Z)(a(9)))}},6798:function(e,t,n){"use strict";n.d(t,{o:function(){return d},w:function(){return g}});var r=n(2577),i=n(4739),a=n(6710),o=n(8211),l=n(9487),c=n(2134),s=n(7046),u=n(4512),g=(0,i.cn)(null),d=function(){var e=(0,i.KO)(g,l.yE),t=(0,r.Z)(e,2),n=t[0],d=t[1],I=(0,c.eh)();return n&&"clearCanvas"===n?(0,u.jsx)(s.Z,{onConfirm:function(){I.executeAction(a.mo),d(null)},onCancel:function(){return d(null)},title:(0,o.t)("clearCanvasDialog.title"),children:(0,u.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,o.t)("alerts.clearReset")]})}):null}},2134:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Lr},Fy:function(){return mr},eh:function(){return Qr},gF:function(){return vr},J0:function(){return Ar},bd:function(){return yr},n9:function(){return xr}});var r=n(6655),i=n(2577),a=n(1930),o=n(8950),l=n(8821),c=n(5169),s=n(3173),u=n(2248),g=n(7245),d=n(2312),I=n(7169),b=n(2975),h=n.n(b),f=n(9787),C=n.n(f),p=n(5156),B=n(8234),m=n(45),A=n(5605),y=n(6710),v=n(3646),x=n(1319),Q=n(8211),F=n(6066),U=n(1935),G=n(8290),w=n(6340),S=n(2335),E=n(4512);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var i=n();if(null===i)return{commitToHistory:r};var a=(0,w.xn)(e),o=i.elements,l=(0,w.xn)(o),c=e.filter((function(e){return!l.has(e.id)})),s=o.map((function(e){return(0,U.BE)(a.get(e.id)||e,e)})).concat(c.map((function(e){return(0,U.BE)(e,{isDeleted:!0})})));return(0,G.$q)(s,c),{elements:s,appState:Z(Z({},t),i.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},N=n(7047),T=function(e,t,n,i,a,o){if(e.trackEvent)try{"object"===(0,r.Z)(e.trackEvent)&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,i,o))&&(0,N.L)(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(a.device.isMobile?"mobile":"desktop",")"))}catch(e){console.error("error while logging action:",e)}},D=function(){function e(t,n,r,i){var a=this;(0,l.Z)(this,e),this.actions={},this.renderAction=function(e,t){var n=a.app.props.UIOptions.canvasActions;if(a.actions[e]&&"PanelComponent"in a.actions[e]&&(!(e in n)||n[e])){var r=a.actions[e],i=r.PanelComponent;i.displayName="PanelComponent";var o=a.getElementsIncludingDeleted(),l=a.getAppState();return(0,E.jsx)(i,{elements:a.getElementsIncludingDeleted(),appState:a.getAppState(),updateData:function(e){T(r,"ui",l,o,a.app,e),a.updater(r.perform(a.getElementsIncludingDeleted(),a.getAppState(),e,a.app))},appProps:a.app.props,data:t})}return null},this.isActionEnabled=function(e){var t=a.getElementsIncludingDeleted(),n=a.getAppState();return!e.predicate||e.predicate(t,n,a.app.props,a.app)},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=i}return(0,c.Z)(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var i=r[0];if(this.getAppState().viewModeEnabled&&!0!==i.viewMode)return!1;var a=this.getElementsIncludingDeleted(),o=this.getAppState();return T(i,"keyboard",o,a,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(a,o,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=this.getElementsIncludingDeleted(),r=this.getAppState(),i=null;T(e,t,r,n,this.app,i),this.updater(e.perform(n,r,i,this.app))}}]),e}(),O=n(7901),M=n(8897),V=n(6665),W=n(9485),R=n(7053),Y=n(679),L=n(1047),H=n(6938),z=n(2791),j=n(1974),_=function(e){var t=Array.from(e.values());return{x:P(t,(function(e){return e.x}))/t.length,y:P(t,(function(e){return e.y}))/t.length}},J=function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},P=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)},K=n(242);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},te=function(){function e(){var t=this;(0,l.Z)(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:ee(e),elements:n.reduce((function(t,n){if((0,j.bt)(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push($($({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return(0,c.Z)(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,(0,z.OL)(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var i=e.elements[r],a=n.elements[r];if(!i||!a||i.id!==a.id||i.versionNonce!==a.versionNonce)return!0}for(t in e.appState){var o,l;if(("editingLinearElement"!==t||(null===(o=e.appState[t])||void 0===o?void 0:o.elementId)!==(null===(l=n.appState[t])||void 0===l?void 0:l.elementId))&&"selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}(),ne=n(6552),re=n(3547),ie=n(3063),ae=n(75),oe=n(1564),le=n(746),ce=[{icon:v.zu,value:"selection",key:F.tW.V,numericKey:F.tW[1],fillable:!0},{icon:v.OW,value:"rectangle",key:F.tW.R,numericKey:F.tW[2],fillable:!0},{icon:v.nb,value:"diamond",key:F.tW.D,numericKey:F.tW[3],fillable:!0},{icon:v.Re,value:"ellipse",key:F.tW.O,numericKey:F.tW[4],fillable:!0},{icon:v.e0,value:"arrow",key:F.tW.A,numericKey:F.tW[5],fillable:!0},{icon:v.zb,value:"line",key:F.tW.L,numericKey:F.tW[6],fillable:!0},{icon:v.Pm,value:"freedraw",key:[F.tW.P,F.tW.X],numericKey:F.tW[7],fillable:!1},{icon:v.VL,value:"text",key:F.tW.T,numericKey:F.tW[8],fillable:!1},{icon:v.XB,value:"image",key:null,numericKey:F.tW[9],fillable:!1},{icon:v.$q,value:"eraser",key:F.tW.E,numericKey:F.tW[0],fillable:!1}],se=n(2891),ue=n(487),ge=n.n(ue),de=n(631),Ie=n.n(de),be=n(2052),he=n.n(be),fe=n(4010),Ce=n.n(fe),pe=n(1469),Be=n.n(pe),me=n(9329),Ae=n.n(me),ye=n(6578),ve={};ve.styleTagTransform=Ae(),ve.setAttributes=Ce(),ve.insert=he().bind(null,"head"),ve.domAPI=Ie(),ve.insertStyleElement=Be(),ge()(ye.Z,ve),ye.Z&&ye.Z.locals&&ye.Z.locals;var xe=n(785),Qe="separator",Fe=C().memo((function(e){var t=e.actionManager,n=e.items,r=e.top,i=e.left,a=vr(),o=xr(),l=yr(),c=n.reduce((function(e,n){return!n||n!==Qe&&n.predicate&&!n.predicate(l,a,t.app.props,t.app)||e.push(n),e}),[]);return(0,E.jsx)(se.J,{onCloseRequest:function(){return o({contextMenu:null})},top:r,left:i,fitInViewport:!0,offsetLeft:a.offsetLeft,offsetTop:a.offsetTop,viewportWidth:a.width,viewportHeight:a.height,children:(0,E.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:c.map((function(e,n){var r;if(e===Qe)return c[n-1]&&c[n-1]!==Qe?(0,E.jsx)("hr",{className:"context-menu-item-separator"},n):null;var i=e.name,s="";return e.contextItemLabel&&(s="function"==typeof e.contextItemLabel?(0,Q.t)(e.contextItemLabel(l,a)):(0,Q.t)(e.contextItemLabel)),(0,E.jsx)("li",{"data-testid":i,onClick:function(){o({contextMenu:null},(function(){t.executeAction(e,"contextMenu")}))},children:(0,E.jsxs)("button",{className:(0,m.Z)("context-menu-item",{dangerous:"deleteSelectedElements"===i,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,a)}),children:[(0,E.jsx)("div",{className:"context-menu-item__label",children:s}),(0,E.jsx)("kbd",{className:"context-menu-item__shortcut",children:i?(0,xe.C)(i):""})]})},n)}))})})})),Ue=n(2726),Ge=n(7239),we=n(8120),Se=n(6086),Ee={};Ee.styleTagTransform=Ae(),Ee.setAttributes=Ce(),Ee.insert=he().bind(null,"head"),Ee.domAPI=Ie(),Ee.insertStyleElement=Be(),ge()(Se.Z,Ee),Se.Z&&Se.Z.locals&&Se.Z.locals;var Xe=n(1894),Ze=n(5710);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=function(e){var t,n=e.appState,r=e.elements,i=e.renderAction,a=(0,ae.Zs)((0,L.Lm)(r),n),o=!1;2===a.length&&((0,j.Xo)(a[0])||(0,j.Xo)(a[1]))&&(o=!0);var l,c=Boolean(n.editingElement),s=mr(),u="rtl"===document.documentElement.getAttribute("dir"),g=(0,ae.$b)(n.activeTool.type)||a.some((function(e){return(0,ae.$b)(e.type)&&!(0,w.Qm)(e.backgroundColor)})),d=(0,ae.$b)(n.activeTool.type)||a.some((function(e){return(0,ae.$b)(e.type)})),I=1===a.length||o,b=(null===(t=a[0])||void 0===t?void 0:t.type)||null,h=Te(a);try{for(h.s();!(l=h.n()).done;)if(l.value.type!==b){b=null;break}}catch(e){h.e(e)}finally{h.f()}return(0,E.jsxs)("div",{className:"panelColumn",children:[(0,E.jsx)("div",{children:((0,we.PD)(n.activeTool.type)&&"image"!==n.activeTool.type&&"image"!==b||a.some((function(e){return(0,we.PD)(e.type)})))&&i("changeStrokeColor")}),d&&(0,E.jsx)("div",{children:i("changeBackgroundColor")}),g&&i("changeFillStyle"),((0,ae.Zd)(n.activeTool.type)||a.some((function(e){return(0,ae.Zd)(e.type)})))&&i("changeStrokeWidth"),("freedraw"===n.activeTool.type||a.some((function(e){return"freedraw"===e.type})))&&i("changeStrokeShape"),((0,ae.M9)(n.activeTool.type)||a.some((function(e){return(0,ae.M9)(e.type)})))&&(0,E.jsxs)(E.Fragment,{children:[i("changeStrokeStyle"),i("changeSloppiness")]}),((0,ae.sh)(n.activeTool.type)||a.some((function(e){return(0,ae.sh)(e.type)})))&&(0,E.jsx)(E.Fragment,{children:i("changeRoundness")}),((0,ae.bZ)(n.activeTool.type)||a.some((function(e){return(0,ae.bZ)(e.type)})))&&(0,E.jsxs)(E.Fragment,{children:[i("changeFontSize"),i("changeFontFamily"),(0,Ze.aV)(a)&&i("changeTextAlign")]}),(0,Ze.cn)(a)&&i("changeVerticalAlign"),((0,ae.Un)(n.activeTool.type)||a.some((function(e){return(0,ae.Un)(e.type)})))&&(0,E.jsx)(E.Fragment,{children:i("changeArrowhead")}),i("changeOpacity"),(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,Q.t)("labels.layers")}),(0,E.jsxs)("div",{className:"buttonList",children:[i("sendToBack"),i("sendBackward"),i("bringToFront"),i("bringForward")]})]}),a.length>1&&!o&&(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,Q.t)("labels.align")}),(0,E.jsxs)("div",{className:"buttonList",children:[u?(0,E.jsxs)(E.Fragment,{children:[i("alignRight"),i("alignHorizontallyCentered"),i("alignLeft")]}):(0,E.jsxs)(E.Fragment,{children:[i("alignLeft"),i("alignHorizontallyCentered"),i("alignRight")]}),a.length>2&&i("distributeHorizontally"),(0,E.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,E.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[i("alignTop"),i("alignVerticallyCentered"),i("alignBottom"),a.length>2&&i("distributeVertically")]})]})]}),!c&&a.length>0&&(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,Q.t)("labels.actions")}),(0,E.jsxs)("div",{className:"buttonList",children:[!s.isMobile&&i("duplicateSelection"),!s.isMobile&&i("deleteSelectedElements"),i("group"),i("ungroup"),I&&i("hyperlink")]})]})]})},Me=function(e){var t=e.canvas,n=e.activeTool,r=e.setAppState,i=e.onImageAction,a=e.appState;return(0,E.jsx)(E.Fragment,{children:ce.map((function(e,o){var l=e.value,c=e.icon,s=e.key,u=e.numericKey,g=e.fillable,d=(0,Q.t)("toolBar.".concat(l)),I=s&&(0,w.Oo)("string"==typeof s?s:s[0]),b=I?"".concat(I," ").concat((0,Q.t)("helpDialog.or")," ").concat(u):"".concat(u);return(0,E.jsx)(x.V,{className:(0,m.Z)("Shape",{fillable:g}),type:"radio",icon:c,checked:n.type===l,name:"editor-current-shape",title:"".concat((0,w.Oo)(d)," \u2014 ").concat(b),keyBindingLabel:u||I,"aria-label":(0,w.Oo)(d),"aria-keyshortcuts":b,"data-testid":"toolbar-".concat(l),onPointerDown:function(e){var t=e.pointerType;a.penDetected||"pen"!==t||r({penDetected:!0,penMode:!0})},onChange:function(e){var n=e.pointerType;a.activeTool.type!==l&&(0,N.L)("toolbar",l,"ui");var o=(0,w.Om)(a,{type:l});r({activeTool:o,multiElement:null,selectedElementIds:{}}),(0,w.Uk)(t,Ne(Ne({},a),{},{activeTool:o})),"image"===l&&i({pointerType:n})}},l)}))})},Ve=function(e){var t=e.renderAction;return e.zoom,(0,E.jsx)(Ge.Z.Col,{gap:1,className:"zoom-actions",children:(0,E.jsxs)(Ge.Z.Row,{align:"center",children:[t("zoomOut"),t("resetZoom"),t("zoomIn")]})})},We=function(e){var t=e.renderAction,n=e.className;return(0,E.jsxs)("div",{className:"undo-redo-buttons ".concat(n),children:[(0,E.jsx)("div",{className:"undo-button-container",children:(0,E.jsx)(Xe.u,{label:(0,Q.t)("buttons.undo"),children:t("undo")})}),(0,E.jsx)("div",{className:"redo-button-container",children:(0,E.jsxs)(Xe.u,{label:(0,Q.t)("buttons.redo"),children:[" ",t("redo")]})})]})},Re=function(e){var t=e.actionManager,n=e.showExitZenModeBtn;return(0,E.jsx)("button",{className:(0,m.Z)("disable-zen-mode",{"disable-zen-mode--visible":n}),onClick:function(){return t.executeAction(y.JN)},children:(0,Q.t)("buttons.exitZenMode")})},Ye=function(e){var t=e.renderAction,n=e.className;return(0,E.jsx)("div",{className:"finalize-button ".concat(n),children:t("finalize",{size:"small"})})},Le=n(8396),He=function(e){var t=e.children,n=e.onClose,r=(0,f.useState)(!!t),a=(0,i.Z)(r,2),o=a[0],l=a[1],c=Ar().container,s=C().useCallback((function(){l(!1),n&&n(),null==c||c.focus()}),[n,c]);return(0,E.jsx)(E.Fragment,{children:o&&(0,E.jsx)(Le.V,{small:!0,onCloseRequest:s,title:(0,Q.t)("errorDialog.title"),children:(0,E.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},ze=n(434),je=n(7955),_e={};_e.styleTagTransform=Ae(),_e.setAttributes=Ce(),_e.insert=he().bind(null,"head"),_e.domAPI=Ie(),_e.insertStyleElement=Be(),ge()(je.Z,_e),je.Z&&je.Z.locals&&je.Z.locals;var Je=n(5284),Pe=n(3807),Ke=n(1393),qe=n(3024),$e="filter"in document.createElement("canvas").getContext("2d"),et=function(){return(0,E.jsxs)("div",{children:[(0,E.jsx)("h3",{children:(0,Q.t)("canvasError.cannotShowPreview")}),(0,E.jsx)("p",{children:(0,E.jsx)("span",{children:(0,Q.t)("canvasError.canvasTooBig")})}),(0,E.jsxs)("em",{children:["(",(0,Q.t)("canvasError.canvasTooBigTip"),")"]})]})},tt=function(e){var t,n=e.children,r=e.title,i=e.onClick,a=e.color,o=e.shade,l=void 0===o?6:o;return(0,E.jsx)("button",{className:"ExportDialog-imageExportButton",style:(t={},(0,I.Z)(t,"--button-color",Je[a][l]),(0,I.Z)(t,"--button-color-darker",Je[a][l+1]),(0,I.Z)(t,"--button-color-darkest",Je[a][l+2]),t),title:r,"aria-label":r,onClick:i,children:n})},nt=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.exportPadding,o=void 0===a?S.qy:a,l=e.actionManager,c=e.onExportToPng,s=e.onExportToSvg,u=e.onExportToClipboard,g=(0,ae.N)(t,n),d=(0,f.useState)(g),I=(0,i.Z)(d,2),b=I[0],h=I[1],C=(0,f.useRef)(null),p=(0,f.useState)(null),B=(0,i.Z)(p,2),m=B[0],A=B[1],y=b?(0,ae.eD)(t,n,!0):t;return(0,f.useEffect)((function(){h(g)}),[g]),(0,f.useEffect)((function(){var e=C.current;if(e){var t=e.offsetWidth;t&&(0,qe.NL)({elements:y,appState:n,files:r,exportPadding:o,maxWidthOrHeight:t}).then((function(t){return A(null),(0,ze._c)(t).then((function(){e.replaceChildren(t)}))})).catch((function(e){console.error(e),A(e)}))}}),[n,r,y,o]),(0,E.jsxs)("div",{className:"ExportDialog",children:[(0,E.jsx)("div",{className:"ExportDialog__preview",ref:C,children:m&&(0,E.jsx)(et,{})}),$e&&l.renderAction("exportWithDarkMode"),(0,E.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,E.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[l.renderAction("changeExportBackground"),g&&(0,E.jsx)(Pe.o,{checked:b,onChange:function(e){return h(e)},children:(0,Q.t)("labels.onlySelected")}),l.renderAction("changeExportEmbedScene")]})}),(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,E.jsx)(Ge.Z.Row,{gap:2,children:l.renderAction("changeExportScale")}),(0,E.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,Q.t)("buttons.scale")})]}),(0,E.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Ke.kr&&l.renderAction("changeProjectName")}),(0,E.jsxs)(Ge.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,E.jsx)(tt,{color:"indigo",title:(0,Q.t)("buttons.exportToPng"),"aria-label":(0,Q.t)("buttons.exportToPng"),onClick:function(){return c(y)},children:"PNG"}),(0,E.jsx)(tt,{color:"red",title:(0,Q.t)("buttons.exportToSvg"),"aria-label":(0,Q.t)("buttons.exportToSvg"),onClick:function(){return s(y)},children:"SVG"}),(V.vt||S.vU)&&(0,E.jsx)(tt,{title:(0,Q.t)("buttons.copyPngToClipboard"),onClick:function(){return u(y)},color:"gray",shade:7,children:v.BR})]})]})},rt=function(e){var t=e.elements,n=e.appState,r=e.setAppState,i=e.files,a=e.exportPadding,o=void 0===a?S.qy:a,l=e.actionManager,c=e.onExportToPng,s=e.onExportToSvg,u=e.onExportToClipboard,g=C().useCallback((function(){r({openDialog:null})}),[r]);return(0,E.jsx)(E.Fragment,{children:"imageExport"===n.openDialog&&(0,E.jsx)(Le.V,{onCloseRequest:g,title:(0,Q.t)("buttons.exportImage"),children:(0,E.jsx)(nt,{elements:t,appState:n,files:i,exportPadding:o,actionManager:l,onExportToPng:c,onExportToSvg:s,onExportToClipboard:u,onCloseRequest:g})})})},it=n(3195),at={};at.styleTagTransform=Ae(),at.setAttributes=Ce(),at.insert=he().bind(null,"head"),at.domAPI=Ie(),at.insertStyleElement=Be(),ge()(it.Z,at),it.Z&&it.Z.locals&&it.Z.locals;var ot=function(e){var t=e.children,n=e.side,r=e.className;return(0,E.jsx)("div",{className:(0,m.Z)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})},lt=n(1587),ct={};ct.styleTagTransform=Ae(),ct.setAttributes=Ce(),ct.insert=he().bind(null,"head"),ct.domAPI=Ie(),ct.insertStyleElement=Be(),ge()(lt.Z,ct),lt.Z&&lt.Z.locals&&lt.Z.locals;var st=function(e){var t=function(e){var t=e.appState,n=e.elements,r=e.isMobile,i=e.device,a=t.activeTool,o=t.isResizing,l=t.isRotating,c=t.lastPointerDownWith,s=null!==t.multiElement;if("library"===t.openSidebar&&!i.canDeviceFitSidebar)return null;if((0,M.EN)(t))return(0,Q.t)("hints.eraserRevert");if("arrow"===a.type||"line"===a.type)return s?(0,Q.t)("hints.linearElementMulti"):(0,Q.t)("hints.linearElement");if("freedraw"===a.type)return(0,Q.t)("hints.freeDraw");if("text"===a.type)return(0,Q.t)("hints.text");if("image"===t.activeTool.type&&t.pendingImageElementId)return(0,Q.t)("hints.placeImage");var u=(0,ae.eD)(n,t);if(o&&"mouse"===c&&1===u.length){var g=u[0];return(0,j.bt)(g)&&2===g.points.length?(0,Q.t)("hints.lockAngle"):(0,j.pC)(g)?(0,Q.t)("hints.resizeImage"):(0,Q.t)("hints.resize")}if(l&&"mouse"===c)return(0,Q.t)("hints.rotate");if(1===u.length&&(0,j.iB)(u[0]))return(0,Q.t)("hints.text_selected");if(t.editingElement&&(0,j.iB)(t.editingElement))return(0,Q.t)("hints.text_editing");if("selection"===a.type){var d;if("selection"===(null===(d=t.draggingElement)||void 0===d?void 0:d.type)&&!t.editingElement&&!t.editingLinearElement)return(0,Q.t)("hints.deepBoxSelect");if(!u.length&&!r)return(0,Q.t)("hints.canvasPanning")}if(1===u.length){if((0,j.bt)(u[0]))return t.editingLinearElement?t.editingLinearElement.selectedPointsIndices?(0,Q.t)("hints.lineEditor_pointSelected"):(0,Q.t)("hints.lineEditor_nothingSelected"):(0,Q.t)("hints.lineEditor_info");if((0,j.mG)(u[0]))return(0,Q.t)("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile,device:e.device});return t?(t=(0,w.uY)(t),(0,E.jsx)("div",{className:"HintViewer",children:(0,E.jsx)("span",{children:t})})):null},ut=n(1881),gt=n(5440),dt=(n(5422),{CHECKED:v.FC,UNCHECKED:v._C}),It=function(e){return(0,E.jsxs)("label",{className:(0,m.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,E.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,E.jsx)("div",{className:"ToolIcon__icon",children:e.checked?dt.CHECKED:dt.UNCHECKED})]})},bt=["heading","children"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(e){var t=e.heading,n=e.children,r=(0,Ue.Z)(e,bt),i=Ar().id,a=(0,E.jsx)("h2",{className:"visually-hidden",id:"".concat(i,"-").concat(t,"-title"),children:(0,Q.t)("headings.".concat(t))});return(0,E.jsx)("section",ft(ft({},r),{},{"aria-labelledby":"".concat(i,"-").concat(t,"-title"),children:"function"==typeof n?n(a):(0,E.jsxs)(E.Fragment,{children:[a,n]})}))},pt=n(756),Bt=n(2316),mt={};mt.styleTagTransform=Ae(),mt.setAttributes=Ce(),mt.insert=he().bind(null,"head"),mt.domAPI=Ie(),mt.insertStyleElement=Be(),ge()(Bt.Z,mt),Bt.Z&&Bt.Z.locals&&Bt.Z.locals;var At=function(e){var t=e.appState,n=e.setAppState,r=e.isMobile,i=mr(),a=!r;return t.isSidebarDocked&&"library"===t.openSidebar?null:(0,E.jsxs)("label",{title:"".concat((0,w.Oo)((0,Q.t)("toolBar.library"))),children:[(0,E.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var r=e.target.checked;n({openSidebar:r?"library":null}),r&&(0,N.L)("library","toggleLibrary (open)","toolbar (".concat(i.isMobile?"mobile":"desktop",")"))},checked:"library"===t.openSidebar,"aria-label":(0,w.Oo)((0,Q.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,E.jsxs)("div",{className:"library-button",children:[(0,E.jsx)("div",{children:v.Vq}),a&&(0,E.jsx)("div",{className:"library-button__label",children:(0,Q.t)("toolBar.library")})]})]})},yt=function(e){return e.penDetected?(0,E.jsxs)("label",{className:(0,m.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,E.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,E.jsx)("div",{className:"ToolIcon__icon",children:v.tb})]}):null},vt=n(8925),xt=n(2681),Qt={};Qt.styleTagTransform=Ae(),Qt.setAttributes=Ce(),Qt.insert=he().bind(null,"head"),Qt.domAPI=Ie(),Qt.insertStyleElement=Be(),ge()(xt.Z,Qt),xt.Z&&xt.Z.locals&&xt.Z.locals;var Ft=function(e){var t,n=(0,vt.KP)(e.elements),r=(0,ae.Zs)(e.elements,e.appState),i=(0,vt.KP)(r);return(0,E.jsx)("div",{className:"Stats",children:(0,E.jsxs)(ut.W,{padding:2,children:[(0,E.jsx)("div",{className:"close",onClick:e.onClose,children:v.Tw}),(0,E.jsx)("h3",{children:(0,Q.t)("stats.title")}),(0,E.jsx)("table",{children:(0,E.jsxs)("tbody",{children:[(0,E.jsx)("tr",{children:(0,E.jsx)("th",{colSpan:2,children:(0,Q.t)("stats.scene")})}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.elements")}),(0,E.jsx)("td",{children:e.elements.length})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.width")}),(0,E.jsx)("td",{children:Math.round(n[2])-Math.round(n[0])})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.height")}),(0,E.jsx)("td",{children:Math.round(n[3])-Math.round(n[1])})]}),1===r.length&&(0,E.jsx)("tr",{children:(0,E.jsx)("th",{colSpan:2,children:(0,Q.t)("stats.element")})}),r.length>1&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("tr",{children:(0,E.jsx)("th",{colSpan:2,children:(0,Q.t)("stats.selected")})}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.elements")}),(0,E.jsx)("td",{children:r.length})]})]}),r.length>0&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:"x"}),(0,E.jsx)("td",{children:Math.round(i[0])})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:"y"}),(0,E.jsx)("td",{children:Math.round(i[1])})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.width")}),(0,E.jsx)("td",{children:Math.round(i[2]-i[0])})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.height")}),(0,E.jsx)("td",{children:Math.round(i[3]-i[1])})]})]}),1===r.length&&(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,Q.t)("stats.angle")}),(0,E.jsx)("td",{children:"".concat(Math.round(180*r[0].angle/Math.PI),"\xb0")})]}),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)]})})]})})},Ut=function(e){return(0,E.jsx)(x.V,{className:(0,m.Z)("Shape",{fillable:!1}),type:"radio",icon:v.Hk,name:"editor-current-shape",checked:e.checked,title:"".concat(e.title," \u2014 H"),keyBindingLabel:e.isMobile?void 0:F.tW.H.toLocaleUpperCase(),"aria-label":"".concat(e.title," \u2014 H"),"aria-keyshortcuts":F.tW.H,"data-testid":"toolbar-hand",onChange:function(){var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e)}})},Gt=n(8888);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var St=function(e){var t=e.appState,n=e.elements,r=e.actionManager,i=e.setAppState,a=e.onLockToggle,o=e.onHandToolToggle,l=e.onPenModeToggle,c=e.canvas,s=e.onImageAction,u=e.renderTopRightUI,g=e.renderCustomStats,d=e.renderSidebars,b=e.device,h=e.renderWelcomeScreen,f=(0,Gt.R6)(),C=f.welcomeScreenCenterTunnel,p=f.mainMenuTunnel;return(0,E.jsxs)(E.Fragment,{children:[d(),!t.viewModeEnabled&&(0,E.jsxs)(ot,{side:"top",className:"App-top-bar",children:[h&&(0,E.jsx)(C.Out,{}),(0,E.jsx)(Ct,{heading:"shapes",children:function(e){return(0,E.jsx)(Ge.Z.Col,{gap:4,align:"center",children:(0,E.jsxs)(Ge.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,E.jsxs)(ut.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[e,(0,E.jsx)(Ge.Z.Row,{gap:1,children:(0,E.jsx)(Me,{appState:t,canvas:c,activeTool:t.activeTool,setAppState:i,onImageAction:function(e){var t=e.pointerType;s({insertOnCanvasDirectly:"mouse"!==t})}})})]}),u&&u(!0,t),(0,E.jsxs)("div",{className:"mobile-misc-tools-container",children:[!t.viewModeEnabled&&(0,E.jsx)(At,{appState:t,setAppState:i,isMobile:!0}),(0,E.jsx)(yt,{checked:t.penMode,onChange:l,title:(0,Q.t)("toolBar.penMode"),isMobile:!0,penDetected:t.penDetected}),(0,E.jsx)(It,{checked:t.activeTool.locked,onChange:a,title:(0,Q.t)("toolBar.lock"),isMobile:!0}),(0,E.jsx)(Ut,{checked:(0,M.l$)(t),onChange:function(){return o()},title:(0,Q.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,E.jsx)(st,{appState:t,elements:n,isMobile:!0,device:b})]}),!t.openMenu&&t.showStats&&(0,E.jsx)(Ft,{appState:t,setAppState:i,elements:n,onClose:function(){r.executeAction(y.u0)},renderCustomStats:g}),(0,E.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:pt.nn+2*pt.WM,marginLeft:pt.nn+2*pt.WM,marginRight:pt.nn+2*pt.WM},children:(0,E.jsxs)(ut.W,{padding:0,children:["shape"===t.openMenu&&!t.viewModeEnabled&&(0,L.RT)(t,n)?(0,E.jsx)(Ct,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,E.jsx)(Oe,{appState:t,elements:n,renderAction:r.renderAction})}):null,(0,E.jsxs)("footer",{className:"App-toolbar",children:[t.viewModeEnabled?(0,E.jsx)("div",{className:"App-toolbar-content",children:(0,E.jsx)(p.Out,{})}):(0,E.jsxs)("div",{className:"App-toolbar-content",children:[(0,E.jsx)(p.Out,{}),r.renderAction("toggleEditMenu"),r.renderAction("undo"),r.renderAction("redo"),r.renderAction(t.multiElement?"finalize":"duplicateSelection"),r.renderAction("deleteSelectedElements")]}),t.scrolledOutside&&!t.openMenu&&"library"!==t.openSidebar&&(0,E.jsx)("button",{className:"scroll-back-to-content",onClick:function(){i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,ae.W)(n,t,c)))},children:(0,Q.t)("buttons.scrollBackToContent")})]})]})})]})},Et=n(5674),Xt=n(4162),Zt=n(8461),kt={};kt.styleTagTransform=Ae(),kt.setAttributes=Ce(),kt.insert=he().bind(null,"head"),kt.domAPI=Ie(),kt.insertStyleElement=Be(),ge()(Zt.Z,kt),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var Nt=function(e){var t=(0,f.useRef)(null),n=(0,f.useState)(null),r=(0,i.Z)(n,2),a=r[0],l=r[1];return(0,f.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=(0,Et.ps)(e.chartType,e.spreadsheet,0,0);l(r);var i=t.current;return(0,o.Z)(h().mark((function t(){var a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Xt.$D)(r,{exportBackground:!1,viewBackgroundColor:Je.white},null);case 2:n=t.sent,null===(a=n.querySelector(".style-fonts"))||void 0===a||a.remove(),i.replaceChildren(),i.appendChild(n),e.selected&&i.parentNode.focus();case 7:case"end":return t.stop()}}),t)})))(),function(){i.replaceChildren()}}}),[e.spreadsheet,e.chartType,e.selected]),(0,E.jsx)("button",{className:"ChartPreview",onClick:function(){a&&e.onClick(e.chartType,a)},children:(0,E.jsx)("div",{ref:t})})},Tt=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,i=e.onInsertChart,a=C().useCallback((function(){r&&r()}),[r]),o=function(e,n){i(n),(0,N.L)("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,E.jsx)(Le.V,{small:!0,onCloseRequest:a,title:(0,Q.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,E.jsxs)("div",{className:"container",children:[(0,E.jsx)(Nt,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:o}),(0,E.jsx)(Nt,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:o})]})})},Dt=n(2978),Ot={};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Ot.styleTagTransform=Ae(),Ot.setAttributes=Ce(),Ot.insert=he().bind(null,"head"),Ot.domAPI=Ie(),Ot.insertStyleElement=Be(),ge()(Dt.Z,Ot),Dt.Z&&Dt.Z.locals&&Dt.Z.locals;var Vt=h().mark(zt);function Wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt=function(){return(0,E.jsxs)("div",{className:"HelpDialog__header",children:[(0,E.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,Q.t)("helpDialog.documentation"),(0,E.jsx)("div",{className:"HelpDialog__link-icon",children:v.h0})]}),(0,E.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,Q.t)("helpDialog.blog"),(0,E.jsx)("div",{className:"HelpDialog__link-icon",children:v.h0})]}),(0,E.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,Q.t)("helpDialog.github"),(0,E.jsx)("div",{className:"HelpDialog__link-icon",children:v.h0})]})]})},Lt=function(e){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h3",{children:e.title}),(0,E.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]})},Ht=function(e){return(0,E.jsxs)("div",{className:"HelpDialog__island ".concat(e.className),children:[(0,E.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,E.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]})};function zt(e,t){var n,r,i,a;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=!0,r=Wt(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=14;break}if(a=i.value,n){o.next=9;break}return o.next=9,t;case 9:return n=!1,o.next=12,a;case 12:o.next=4;break;case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(2),r.e(o.t0);case 19:return o.prev=19,r.f(),o.finish(19);case 22:case"end":return o.stop()}}),Vt,null,[[2,16,19,22]])}var jt=function(e){var t=e.label,n=e.shortcuts,r=e.isOr,i=void 0===r||r,o=n.map((function(e){return(e.endsWith("++")?[].concat((0,a.Z)(e.slice(0,-2).split("+")),["+"]):e.split("+")).map((function(e){return(0,E.jsx)(_t,{children:(t=e,t.replace(/\b[a-z]\b/,(function(e){return e.toUpperCase()})))},e);var t}))}));return(0,E.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,E.jsx)("div",{children:t}),(0,E.jsx)("div",{className:"HelpDialog__key-container",children:(0,a.Z)(zt(o,i?(0,Q.t)("helpDialog.or"):null))})]})},_t=function(e){return(0,E.jsx)("kbd",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"HelpDialog__key"},e))},Jt=function(e){var t=e.onClose,n=C().useCallback((function(){t&&t()}),[t]);return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(Le.V,{onCloseRequest:n,title:(0,Q.t)("helpDialog.title"),className:"HelpDialog",children:[(0,E.jsx)(Yt,{}),(0,E.jsxs)(Lt,{title:(0,Q.t)("helpDialog.shortcuts"),children:[(0,E.jsxs)(Ht,{className:"HelpDialog__island--tools",caption:(0,Q.t)("helpDialog.tools"),children:[(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.hand"),shortcuts:[F.tW.H]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.selection"),shortcuts:[F.tW.V,F.tW[1]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.rectangle"),shortcuts:[F.tW.R,F.tW[2]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.diamond"),shortcuts:[F.tW.D,F.tW[3]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.ellipse"),shortcuts:[F.tW.O,F.tW[4]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.arrow"),shortcuts:[F.tW.A,F.tW[5]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.line"),shortcuts:[F.tW.L,F.tW[6]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.freedraw"),shortcuts:[F.tW.P,F.tW[7]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.text"),shortcuts:[F.tW.T,F.tW[8]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.image"),shortcuts:[F.tW[9]]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.eraser"),shortcuts:[F.tW.E,F.tW[0]]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,w.uY)("CtrlOrCmd+Enter")]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.editText"),shortcuts:[(0,w.uY)("Enter")]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.textNewLine"),shortcuts:[(0,w.uY)("Enter"),(0,w.uY)("Shift+Enter")]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.textFinish"),shortcuts:[(0,w.uY)("Esc"),(0,w.uY)("CtrlOrCmd+Enter")]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,Q.t)("helpDialog.click"),(0,Q.t)("helpDialog.click"),(0,Q.t)("helpDialog.click")],isOr:!1}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.curvedLine"),shortcuts:["L",(0,Q.t)("helpDialog.click"),(0,Q.t)("helpDialog.click"),(0,Q.t)("helpDialog.click")],isOr:!1}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.lock"),shortcuts:[F.tW.Q]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.preventBinding"),shortcuts:[(0,w.uY)("CtrlOrCmd")]}),(0,E.jsx)(jt,{label:(0,Q.t)("toolBar.link"),shortcuts:[(0,w.uY)("CtrlOrCmd+K")]})]}),(0,E.jsxs)(Ht,{className:"HelpDialog__island--view",caption:(0,Q.t)("helpDialog.view"),children:[(0,E.jsx)(jt,{label:(0,Q.t)("buttons.zoomIn"),shortcuts:[(0,w.uY)("CtrlOrCmd++")]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.zoomOut"),shortcuts:[(0,w.uY)("CtrlOrCmd+-")]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.resetZoom"),shortcuts:[(0,w.uY)("CtrlOrCmd+0")]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.zenMode"),shortcuts:[(0,w.uY)("Alt+Z")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.showGrid"),shortcuts:[(0,w.uY)("CtrlOrCmd+'")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.viewMode"),shortcuts:[(0,w.uY)("Alt+R")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.toggleTheme"),shortcuts:[(0,w.uY)("Alt+Shift+D")]}),(0,E.jsx)(jt,{label:(0,Q.t)("stats.title"),shortcuts:[(0,w.uY)("Alt+/")]})]}),(0,E.jsxs)(Ht,{className:"HelpDialog__island--editor",caption:(0,Q.t)("helpDialog.editor"),children:[(0,E.jsx)(jt,{label:(0,Q.t)("labels.moveCanvas"),shortcuts:[(0,w.uY)("Space+".concat((0,Q.t)("helpDialog.drag"))),(0,w.uY)("Wheel+".concat((0,Q.t)("helpDialog.drag")))],isOr:!0}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.clearReset"),shortcuts:[(0,w.uY)("CtrlOrCmd+Delete")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.delete"),shortcuts:[(0,w.uY)("Delete")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.cut"),shortcuts:[(0,w.uY)("CtrlOrCmd+X")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.copy"),shortcuts:[(0,w.uY)("CtrlOrCmd+C")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.paste"),shortcuts:[(0,w.uY)("CtrlOrCmd+V")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.pasteAsPlaintext"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+V")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.selectAll"),shortcuts:[(0,w.uY)("CtrlOrCmd+A")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.multiSelect"),shortcuts:[(0,w.uY)("Shift+".concat((0,Q.t)("helpDialog.click")))]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.deepSelect"),shortcuts:[(0,w.uY)("CtrlOrCmd+".concat((0,Q.t)("helpDialog.click")))]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,w.uY)("CtrlOrCmd+".concat((0,Q.t)("helpDialog.drag")))]}),(V.vt||S.vU)&&(0,E.jsx)(jt,{label:(0,Q.t)("labels.copyAsPng"),shortcuts:[(0,w.uY)("Shift+Alt+C")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.copyStyles"),shortcuts:[(0,w.uY)("CtrlOrCmd+Alt+C")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.pasteStyles"),shortcuts:[(0,w.uY)("CtrlOrCmd+Alt+V")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.sendToBack"),shortcuts:[S.Um?(0,w.uY)("CtrlOrCmd+Alt+["):(0,w.uY)("CtrlOrCmd+Shift+[")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.bringToFront"),shortcuts:[S.Um?(0,w.uY)("CtrlOrCmd+Alt+]"):(0,w.uY)("CtrlOrCmd+Shift+]")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.sendBackward"),shortcuts:[(0,w.uY)("CtrlOrCmd+[")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.bringForward"),shortcuts:[(0,w.uY)("CtrlOrCmd+]")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.alignTop"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Up")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.alignBottom"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Down")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.alignLeft"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Left")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.alignRight"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Right")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.duplicateSelection"),shortcuts:[(0,w.uY)("CtrlOrCmd+D"),(0,w.uY)("Alt+".concat((0,Q.t)("helpDialog.drag")))]}),(0,E.jsx)(jt,{label:(0,Q.t)("helpDialog.toggleElementLock"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+L")]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.undo"),shortcuts:[(0,w.uY)("CtrlOrCmd+Z")]}),(0,E.jsx)(jt,{label:(0,Q.t)("buttons.redo"),shortcuts:S.ED?[(0,w.uY)("CtrlOrCmd+Y"),(0,w.uY)("CtrlOrCmd+Shift+Z")]:[(0,w.uY)("CtrlOrCmd+Shift+Z")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.group"),shortcuts:[(0,w.uY)("CtrlOrCmd+G")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.ungroup"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+G")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.flipHorizontal"),shortcuts:[(0,w.uY)("Shift+H")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.flipVertical"),shortcuts:[(0,w.uY)("Shift+V")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.showStroke"),shortcuts:[(0,w.uY)("S")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.showBackground"),shortcuts:[(0,w.uY)("G")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.decreaseFontSize"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+<")]}),(0,E.jsx)(jt,{label:(0,Q.t)("labels.increaseFontSize"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Pt=n(6773),Kt=n(8671),qt=n(4241),$t={};$t.styleTagTransform=Ae(),$t.setAttributes=Ce(),$t.insert=he().bind(null,"head"),$t.domAPI=Ie(),$t.insertStyleElement=Be(),ge()(qt.Z,$t),qt.Z&&qt.Z.locals&&qt.Z.locals;var en=function(e){var t,n=e.children,r=e.color;return(0,E.jsx)("div",{className:"Card",style:(t={},(0,I.Z)(t,"--card-color","primary"===r?"var(--color-primary)":Je[r][7]),(0,I.Z)(t,"--card-color-darker","primary"===r?"var(--color-primary-darker)":Je[r][8]),(0,I.Z)(t,"--card-color-darkest","primary"===r?"var(--color-primary-darkest)":Je[r][9]),t),children:n})},tn=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.actionManager,a=e.exportOpts,o=e.canvas,l=a.onExportToBackend;return(0,E.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,E.jsxs)("div",{className:"ExportDialog-cards",children:[a.saveFileToDisk&&(0,E.jsxs)(en,{color:"lime",children:[(0,E.jsx)("div",{className:"Card-icon",children:v.TP}),(0,E.jsx)("h2",{children:(0,Q.t)("exportDialog.disk_title")}),(0,E.jsxs)("div",{className:"Card-details",children:[(0,Q.t)("exportDialog.disk_details"),!Ke.kr&&i.renderAction("changeProjectName")]}),(0,E.jsx)(x.V,{className:"Card-button",type:"button",title:(0,Q.t)("exportDialog.disk_button"),"aria-label":(0,Q.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(Kt.mM,"ui")}})]}),l&&(0,E.jsxs)(en,{color:"pink",children:[(0,E.jsx)("div",{className:"Card-icon",children:v.xP}),(0,E.jsx)("h2",{children:(0,Q.t)("exportDialog.link_title")}),(0,E.jsx)("div",{className:"Card-details",children:(0,Q.t)("exportDialog.link_details")}),(0,E.jsx)(x.V,{className:"Card-button",type:"button",title:(0,Q.t)("exportDialog.link_button"),"aria-label":(0,Q.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){l(t,n,r,o),(0,N.L)("export","link","ui (".concat((0,w.$h)(),")"))}})]}),a.renderCustomUI&&a.renderCustomUI(t,n,r,o)]})})},nn=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.actionManager,a=e.exportOpts,o=e.canvas,l=e.setAppState,c=C().useCallback((function(){l({openDialog:null})}),[l]);return(0,E.jsx)(E.Fragment,{children:"jsonExport"===n.openDialog&&(0,E.jsx)(Le.V,{onCloseRequest:c,title:(0,Q.t)("buttons.export"),children:(0,E.jsx)(tn,{elements:t,appState:n,files:r,actionManager:i,onCloseRequest:c,exportOpts:a,canvas:o})})})},rn=n(6954),an=n(8923),on={};on.styleTagTransform=Ae(),on.setAttributes=Ce(),on.insert=he().bind(null,"head"),on.domAPI=Ie(),on.insertStyleElement=Be(),ge()(an.Z,on),an.Z&&an.Z.locals&&an.Z.locals;var ln=n(5523),cn=n(2701),sn={};sn.styleTagTransform=Ae(),sn.setAttributes=Ce(),sn.insert=he().bind(null,"head"),sn.domAPI=Ie(),sn.insertStyleElement=Be(),ge()(cn.Z,sn),cn.Z&&cn.Z.locals&&cn.Z.locals;var un=function(e){var t=e.id,n=e.elements,r=e.isPending,a=e.onClick,l=e.selected,c=e.onToggle,s=e.onDrag,u=(0,f.useRef)(null);(0,f.useEffect)((function(){var e=u.current;if(e)return(0,o.Z)(h().mark((function t(){var r,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,qe.$D)({elements:n,appState:{exportBackground:!1,viewBackgroundColor:Je.white},files:null});case 4:i=t.sent,null===(r=i.querySelector(".style-fonts"))||void 0===r||r.remove(),e.innerHTML=i.outerHTML;case 7:case"end":return t.stop()}}),t)})))(),function(){e.innerHTML=""}}),[n]);var g=(0,f.useState)(!1),d=(0,i.Z)(g,2),I=d[0],b=d[1],C=mr().isMobile,p=r&&(0,E.jsx)("div",{className:"library-unit__adder",children:v.pO});return(0,E.jsxs)("div",{className:(0,m.Z)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&I,"library-unit--selected":l}),onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,E.jsx)("div",{className:(0,m.Z)("library-unit__dragger",{"library-unit__pulse":!!r}),ref:u,draggable:!!n,onClick:n||r?function(e){t&&e.shiftKey?c(t,e):a()}:void 0,onDragStart:function(e){t?(b(!1),s(t,e)):e.preventDefault()}}),p,t&&n&&(I||C||l)&&(0,E.jsx)(Pe.o,{checked:l,onChange:function(e,n){return c(t,n)},className:"library-unit__checkbox"})]})},gn=n(6440),dn={};dn.styleTagTransform=Ae(),dn.setAttributes=Ce(),dn.insert=he().bind(null,"head"),dn.domAPI=Ie(),dn.insertStyleElement=Be(),ge()(gn.Z,dn),gn.Z&&gn.Z.locals&&gn.Z.locals;var In=n(5644),bn=function(e){var t=e.theme,n=e.id,r=e.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,E.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(r,"&useHash=true&token=").concat(n,"&theme=").concat(t,"&version=").concat(S.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,Q.t)("labels.libraries")})};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn=function(e){var t=e.isLoading,n=e.libraryItems,r=e.onAddToLibrary,o=e.onInsertLibraryItems,l=e.pendingElements,c=e.selectedItems,s=e.onSelectItems,u=e.theme,g=e.id,d=e.libraryReturnUrl,I=(0,f.useState)(null),b=(0,i.Z)(I,2),h=b[0],C=b[1],p=function(e,t){var n=!c.includes(e),r=[].concat((0,a.Z)(v),(0,a.Z)(x));if(n){if(t.shiftKey&&h){var i=r.findIndex((function(e){return e.id===h})),o=r.findIndex((function(t){return t.id===e}));if(-1===i||-1===o)return void s([].concat((0,a.Z)(c),[e]));var l=(0,w.xn)(c),u=r.reduce((function(e,t,n){return(n>=i&&n<=o||l.has(t.id))&&e.push(t.id),e}),[]);s(u)}else s([].concat((0,a.Z)(c),[e]));C(e)}else C(null),s(c.filter((function(t){return t!==e})))},B=function(e){return(c.includes(e)?n.filter((function(e){return c.includes(e.id)})):n.filter((function(t){return t.id===e}))).map((function(e){return fn(fn({},e),{},{elements:(0,z._N)(e.elements)})}))},A=function(e){var t,n,r,i,a;return(0,E.jsx)(Ge.Z.Col,{children:(0,E.jsx)(un,{elements:null===(t=e.item)||void 0===t?void 0:t.elements,isPending:!(null!==(n=e.item)&&void 0!==n&&n.id||null===(r=e.item)||void 0===r||!r.elements),onClick:e.onClick||function(){},id:(null===(i=e.item)||void 0===i?void 0:i.id)||null,selected:!(null===(a=e.item)||void 0===a||!a.id)&&c.includes(e.item.id),onToggle:p,onDrag:function(e,t){t.dataTransfer.setData(S.LO.excalidrawlib,(0,ln.NI)(B(e)))}})},e.key)},y=function(e){var t=e.map((function(e){return e.id?A({item:e,onClick:function(){return o(B(e.id))},key:e.id}):A({key:"__pending__item__",item:e,onClick:function(){return r(l)}})})),n=(0,w.yo)(t,4);return n.length||(n=[[]]),n.map((function(e,t,n){return t===n.length-1&&(e=e.concat(new Array(4-e.length).fill(null).map((function(e,t){return A({key:"empty_".concat(t),item:null})})))),(0,E.jsx)(Ge.Z.Row,{align:"center",className:"library-menu-items-container__row",children:e},t)}))},v=n.filter((function(e){return"published"!==e.status})),x=n.filter((function(e){return"published"===e.status})),F=!(n.length||v.length||x.length||l.length);return(0,E.jsx)("div",{className:"library-menu-items-container",style:l.length||v.length||x.length?{justifyContent:"flex-start"}:{},children:(0,E.jsxs)(Ge.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:x.length>0?1:"0 1 auto",marginBottom:0},children:[(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{children:[(l.length>0||v.length>0||x.length>0)&&(0,E.jsx)("div",{className:"library-menu-items-container__header",children:(0,Q.t)("labels.personalLib")}),t&&(0,E.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,E.jsx)(In.Z,{})})]}),l.length||v.length?y([].concat((0,a.Z)(l.length?[{id:null,elements:l}]:[]),(0,a.Z)(v))):(0,E.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,E.jsx)("div",{className:(0,m.Z)({"library-menu-items__no-items__label":F}),children:(0,Q.t)("library.noItems")}),(0,E.jsx)("div",{className:"library-menu-items__no-items__hint",children:x.length>0?(0,Q.t)("library.hint_emptyPrivateLibrary"):(0,Q.t)("library.hint_emptyLibrary")})]})]}),(0,E.jsxs)(E.Fragment,{children:[(x.length>0||l.length>0||v.length>0)&&(0,E.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,Q.t)("labels.excalidrawLib")}),x.length>0?y(x):v.length>0?(0,E.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,Q.t)("library.noItems")}):null]}),F&&(0,E.jsx)(bn,{id:g,libraryReturnUrl:d,theme:u})]})})},pn=n(4739),Bn=n(9487),mn=n(9430),An=n(9206),yn=(0,f.forwardRef)((function(e,t){var n=e.children;return(0,E.jsx)("div",{ref:t,className:"layer-ui__library",children:n})})),vn=function(e){var t=e.onInsertLibraryItems,n=e.pendingElements,r=e.onAddToLibrary,l=e.setAppState,c=e.libraryReturnUrl,s=e.library,u=e.id,g=e.appState,d=e.selectedItems,I=e.onSelectItems,b=(0,pn.KO)(R.rF,Bn.yE),C=(0,i.Z)(b,1)[0],p=(0,f.useCallback)(function(){var e=(0,o.Z)(h().mark((function e(t,n){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,N.L)("element","addToLibrary","ui"),!t.some((function(e){return"image"===e.type}))){e.next=3;break}return e.abrupt("return",l({errorMessage:"Support for adding images to the library coming soon!"}));case 3:i=[{status:"unpublished",elements:t,id:(0,rn.kb)(),created:Date.now()}].concat((0,a.Z)(n)),r(),s.setLibrary(i).catch((function(){l({errorMessage:(0,Q.t)("alerts.errorAddingToLibrary")})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,s,l]);if("loading"===C.status&&!C.isInitialized)return(0,E.jsx)(yn,{children:(0,E.jsx)("div",{className:"layer-ui__library-message",children:(0,E.jsxs)("div",{children:[(0,E.jsx)(In.Z,{size:"2em"}),(0,E.jsx)("span",{children:(0,Q.t)("labels.libraryLoadingMessage")})]})})});var B=C.libraryItems.length>0||n.length>0;return(0,E.jsxs)(yn,{children:[(0,E.jsx)(Cn,{isLoading:"loading"===C.status,libraryItems:C.libraryItems,onAddToLibrary:function(e){return p(e,C.libraryItems)},onInsertLibraryItems:t,pendingElements:n,selectedItems:d,onSelectItems:I,id:u,libraryReturnUrl:c,theme:g.theme}),B&&(0,E.jsx)(bn,{id:u,libraryReturnUrl:c,theme:g.theme})]})},xn=function(e){var t=e.appState,n=e.onInsertElements,r=e.libraryReturnUrl,a=e.focusContainer,l=e.library,c=e.id,s=xr(),u=yr(),g=mr(),d=(0,f.useState)([]),I=(0,i.Z)(d,2),b=I[0],C=I[1],p=(0,pn.KO)(R.rF,Bn.yE),B=(0,i.Z)(p,1)[0],m=(0,f.useRef)(null),A=(0,f.useCallback)((function(){document.querySelector(".Dialog")||s({openSidebar:null})}),[s]);!function(e,t){(0,f.useEffect)((function(){var n=function(n){e.current&&(n.target instanceof Element&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}(m,(0,f.useCallback)((function(e){e.target.closest(".ToolIcon__library")||t.isSidebarDocked&&g.canDeviceFitSidebar||A()}),[A,t.isSidebarDocked,g.canDeviceFitSidebar])),(0,f.useEffect)((function(){var e=function(e){e.key!==F.tW.ESCAPE||t.isSidebarDocked&&g.canDeviceFitSidebar||A()};return document.addEventListener(S.Ks.KEYDOWN,e),function(){document.removeEventListener(S.Ks.KEYDOWN,e)}}),[A,t.isSidebarDocked,g.canDeviceFitSidebar]);var y=(0,f.useCallback)((function(){s({selectedElementIds:{},selectedGroupIds:{}})}),[s]),v=(0,f.useCallback)(function(){var e=(0,o.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.filter((function(e){return!b.includes(e.id)})),l.setLibrary(n).catch((function(){s({errorMessage:(0,Q.t)("alerts.errorRemovingFromLibrary")})})),C([]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,s,b,C]),x=(0,f.useCallback)((function(){l.resetLibrary(),a()}),[l,a]);return(0,E.jsxs)(mn.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:t.isSidebarDocked,onDock:function(e){(0,N.L)("library","toggleLibraryDock (".concat(e?"dock":"undock",")"),"sidebar (".concat(g.isMobile?"mobile":"desktop",")"))},ref:m,children:[(0,E.jsx)(mn.Y.Header,{className:"layer-ui__library-header",children:(0,E.jsx)(An.W,{appState:t,setAppState:s,selectedItems:b,onSelectItems:C,library:l,onRemoveFromLibrary:function(){return v(B.libraryItems)},resetLibrary:x})}),(0,E.jsx)(vn,{pendingElements:(0,ae.eD)(u,t,!0),onInsertLibraryItems:function(e){n((0,R.WV)(e))},onAddToLibrary:y,setAppState:s,libraryReturnUrl:r,library:l,id:c,appState:t,selectedItems:b,onSelectItems:C})]},"library")},Qn=n(1434),Fn={};Fn.styleTagTransform=Ae(),Fn.setAttributes=Ce(),Fn.insert=he().bind(null,"head"),Fn.domAPI=Ie(),Fn.insertStyleElement=Be(),ge()(Qn.Z,Fn),Qn.Z&&Qn.Z.locals&&Qn.Z.locals;var Un=n(9144),Gn={};Gn.styleTagTransform=Ae(),Gn.setAttributes=Ce(),Gn.insert=he().bind(null,"head"),Gn.domAPI=Ie(),Gn.insertStyleElement=Be(),ge()(Un.Z,Gn),Un.Z&&Un.Z.locals&&Un.Z.locals;var wn=n(4958),Sn=function(e){return(0,E.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat((0,Q.t)("helpDialog.title")," \u2014 ?"),"aria-label":(0,Q.t)("helpDialog.title"),children:v.by})},En=function(e){var t=e.appState,n=e.actionManager,r=e.showExitZenModeBtn,i=e.renderWelcomeScreen,a=(0,Gt.R6)(),o=a.footerCenterTunnel,l=a.welcomeScreenHelpHintTunnel,c=mr(),s=!t.viewModeEnabled&&t.multiElement&&c.isTouchScreen;return(0,E.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,E.jsx)("div",{className:(0,m.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled}),children:(0,E.jsx)(Ge.Z.Col,{gap:2,children:(0,E.jsxs)(Ct,{heading:"canvasActions",children:[(0,E.jsx)(Ve,{renderAction:n.renderAction,zoom:t.zoom}),!t.viewModeEnabled&&(0,E.jsx)(We,{renderAction:n.renderAction,className:(0,m.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":t.zenModeEnabled})}),s&&(0,E.jsx)(Ye,{renderAction:n.renderAction,className:(0,m.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled})})]})})}),(0,E.jsx)(o.Out,{}),(0,E.jsx)("div",{className:(0,m.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":t.zenModeEnabled}),children:(0,E.jsxs)("div",{style:{position:"relative"},children:[i&&(0,E.jsx)(l.Out,{}),(0,E.jsx)(Sn,{onClick:function(){return n.executeAction(y.jY)}})]})}),(0,E.jsx)(Re,{actionManager:n,showExitZenModeBtn:r})]})},Xn=En;En.displayName="Footer";var Zn=n(4709),kn=n(6798),Nn=["suggestedBindings","startBoundElement","cursorButton"],Tn=["canvas","onInsertElements","appState"],Dn=["canvas","onInsertElements","appState"];function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Mn=function(e){var t=e.UIOptions;return(0,E.jsxs)(Zn.Z,{__fallback:!0,children:[(0,E.jsx)(Zn.Z.DefaultItems.LoadScene,{}),(0,E.jsx)(Zn.Z.DefaultItems.SaveToActiveFile,{}),t.canvasActions.export&&(0,E.jsx)(Zn.Z.DefaultItems.Export,{}),t.canvasActions.saveAsImage&&(0,E.jsx)(Zn.Z.DefaultItems.SaveAsImage,{}),(0,E.jsx)(Zn.Z.DefaultItems.Help,{}),(0,E.jsx)(Zn.Z.DefaultItems.ClearCanvas,{}),(0,E.jsx)(Zn.Z.Separator,{}),(0,E.jsx)(Zn.Z.Group,{title:"Excalidraw links",children:(0,E.jsx)(Zn.Z.DefaultItems.Socials,{})}),(0,E.jsx)(Zn.Z.Separator,{}),(0,E.jsx)(Zn.Z.DefaultItems.ToggleTheme,{}),(0,E.jsx)(Zn.Z.DefaultItems.ChangeCanvasBackground,{})]})},Vn=function(e){var t,n=e.actionManager,r=e.appState,a=e.files,l=e.setAppState,c=e.elements,s=e.canvas,u=e.onLockToggle,g=e.onHandToolToggle,d=e.onPenModeToggle,b=e.onInsertElements,f=e.showExitZenModeBtn,C=e.renderTopRightUI,p=e.renderCustomStats,B=e.renderCustomSidebar,A=e.libraryReturnUrl,y=e.UIOptions,v=e.focusContainer,x=e.library,F=e.id,U=e.onImageAction,G=e.renderWelcomeScreen,X=e.children,Z=mr(),k=(0,Gt.ZC)(),T=function(){return y.canvasActions.export?(0,E.jsx)(nn,{elements:c,appState:r,files:a,actionManager:n,exportOpts:y.canvasActions.export,canvas:s,setAppState:l}):null},D=function(){if(!y.canvasActions.saveAsImage)return null;var e=function(e){return function(){var t=(0,o.Z)(h().mark((function t(n){var i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,N.L)("export",e,"ui"),t.next=3,(0,W.p1)(e,n,r,a,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(w.FG).catch((function(e){console.error(e),l({errorMessage:e.message})}));case 3:i=t.sent,r.exportEmbedScene&&i&&(0,ze.g8)(i)&&l({fileHandle:i});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return(0,E.jsx)(rt,{elements:c,appState:r,setAppState:l,files:a,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard")})},O=function(){return"customSidebar"===r.openSidebar?(null==B?void 0:B())||null:"library"===r.openSidebar?(0,E.jsx)(xn,{appState:r,onInsertElements:b,libraryReturnUrl:A,focusContainer:v,library:x,id:F}):null},V=(0,pn.KO)(mn.b,Bn.yE),R=(0,i.Z)(V,1)[0],Y=(0,E.jsxs)(E.Fragment,{children:[X,(0,E.jsx)(Mn,{UIOptions:y}),r.isLoading&&(0,E.jsx)(gt.z,{delay:250}),r.errorMessage&&(0,E.jsx)(He,{onClose:function(){return l({errorMessage:null})},children:r.errorMessage}),"help"===r.openDialog&&(0,E.jsx)(Jt,{onClose:function(){l({openDialog:null})}}),(0,E.jsx)(kn.o,{}),D(),T(),r.pasteDialog.shown&&(0,E.jsx)(Tt,{setAppState:l,appState:r,onInsertChart:b,onClose:function(){return l({pasteDialog:{shown:!1,data:null}})}}),Z.isMobile&&(0,E.jsx)(St,{appState:r,elements:c,actionManager:n,renderJSONExportDialog:T,renderImageExportDialog:D,setAppState:l,onLockToggle:u,onHandToolToggle:g,onPenModeToggle:d,canvas:s,onImageAction:U,renderTopRightUI:C,renderCustomStats:p,renderSidebars:O,device:Z,renderWelcomeScreen:G}),!Z.isMobile&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:(0,m.Z)("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!(0,L.iB)(r.editingElement)}),style:("library"===r.openSidebar&&r.isSidebarDocked||R.docked)&&Z.canDeviceFitSidebar?{width:"calc(100% - ".concat(S.EE,"px)")}:{},children:[G&&(0,E.jsx)(k.welcomeScreenCenterTunnel.Out,{}),(t=(0,L.RT)(r,c),(0,E.jsx)(ot,{side:"top",children:(0,E.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,E.jsxs)(Ge.Z.Col,{gap:6,className:(0,m.Z)("App-menu_top__left",{"disable-pointerEvents":r.zenModeEnabled}),children:[(0,E.jsxs)("div",{style:{position:"relative"},children:[(0,E.jsx)(k.mainMenuTunnel.Out,{}),G&&(0,E.jsx)(k.welcomeScreenMenuHintTunnel.Out,{})]}),t&&(0,E.jsx)(Ct,{heading:"selectedShapeActions",className:(0,m.Z)("selected-shape-actions zen-mode-transition",{"transition-left":r.zenModeEnabled}),children:(0,E.jsx)(ut.W,{className:S.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-166,"px")},children:(0,E.jsx)(Oe,{appState:r,elements:c,renderAction:n.renderAction})})})]}),!r.viewModeEnabled&&(0,E.jsx)(Ct,{heading:"shapes",className:"shapes-section",children:function(e){return(0,E.jsxs)("div",{style:{position:"relative"},children:[G&&(0,E.jsx)(k.welcomeScreenToolbarHintTunnel.Out,{}),(0,E.jsx)(Ge.Z.Col,{gap:4,align:"start",children:(0,E.jsx)(Ge.Z.Row,{gap:1,className:(0,m.Z)("App-toolbar-container",{"zen-mode":r.zenModeEnabled}),children:(0,E.jsxs)(ut.W,{padding:1,className:(0,m.Z)("App-toolbar",{"zen-mode":r.zenModeEnabled}),children:[(0,E.jsx)(st,{appState:r,elements:c,isMobile:Z.isMobile,device:Z}),e,(0,E.jsxs)(Ge.Z.Row,{gap:1,children:[(0,E.jsx)(yt,{zenModeEnabled:r.zenModeEnabled,checked:r.penMode,onChange:d,title:(0,Q.t)("toolBar.penMode"),penDetected:r.penDetected}),(0,E.jsx)(It,{checked:r.activeTool.locked,onChange:u,title:(0,Q.t)("toolBar.lock")}),(0,E.jsx)("div",{className:"App-toolbar__divider"}),(0,E.jsx)(Ut,{checked:(0,M.l$)(r),onChange:function(){return g()},title:(0,Q.t)("toolBar.hand"),isMobile:!0}),(0,E.jsx)(Me,{appState:r,canvas:s,activeTool:r.activeTool,setAppState:l,onImageAction:function(e){var t=e.pointerType;U({insertOnCanvasDirectly:"mouse"!==t})}})]})]})})})]})}}),(0,E.jsxs)("div",{className:(0,m.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":r.zenModeEnabled}),children:[(0,E.jsx)(Pt.Z,{collaborators:r.collaborators}),null==C?void 0:C(Z.isMobile,r),!r.viewModeEnabled&&(0,E.jsx)(At,{appState:r,setAppState:l})]})]})})),(0,E.jsx)(Xn,{appState:r,actionManager:n,showExitZenModeBtn:f,renderWelcomeScreen:G}),r.showStats&&(0,E.jsx)(Ft,{appState:r,setAppState:l,elements:c,onClose:function(){n.executeAction(wn.u)},renderCustomStats:p}),r.scrolledOutside&&(0,E.jsx)("button",{className:"scroll-back-to-content",onClick:function(){l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,ae.W)(c,r,s)))},children:(0,Q.t)("buttons.scrollBackToContent")})]}),O()]})]});return(0,E.jsx)(pn.zt,{scope:k.jotaiScope,children:(0,E.jsx)(Gt.A3.Provider,{value:k,children:Y})})},Wn=function(e){return e.suggestedBindings,e.startBoundElement,e.cursorButton,(0,Ue.Z)(e,Nn)},Rn=function(e,t){if(e.children!==t.children)return!1;e.canvas,e.onInsertElements;var n=e.appState,r=(0,Ue.Z)(e,Tn),i=(t.canvas,t.onInsertElements,t.appState),a=(0,Ue.Z)(t,Dn);return(0,w.w8)(Wn(n),Wn(i))&&(0,w.w8)(r,a)},Yn=C().memo(Vn,Rn),Ln=n(9650),Hn={};Hn.styleTagTransform=Ae(),Hn.setAttributes=Ce(),Hn.insert=he().bind(null,"head"),Hn.domAPI=Ie(),Hn.insertStyleElement=Be(),ge()(Ln.Z,Hn),Ln.Z&&Ln.Z.locals&&Ln.Z.locals;var zn=function(e){var t=e.message,n=e.onClose,r=e.closable,i=void 0!==r&&r,a=e.duration,o=void 0===a?5e3:a,l=(0,f.useRef)(0),c=o!==1/0,s=(0,f.useCallback)((function(){c&&(l.current=window.setTimeout((function(){return n()}),o))}),[n,o,c]);(0,f.useEffect)((function(){if(c)return s(),function(){return clearTimeout(l.current)}}),[s,t,o,c]);var u=c?function(){return clearTimeout(null==l?void 0:l.current)}:void 0,g=c?s:void 0;return(0,E.jsxs)("div",{className:"Toast",onMouseEnter:u,onMouseLeave:g,children:[(0,E.jsx)("p",{className:"Toast__message",children:t}),i&&(0,E.jsx)(x.V,{icon:v.Tw,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jn=(0,O.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:_n(_n({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},predicate:function(e,t,n){return void 0===n.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[F.tW.CTRL_OR_CMD]&&e.altKey&&e.code===F.aU.R}}),Pn=n(5637),Kn=n(200),qn=n.n(Kn),$n=n(2325),er=n(4929),tr=n(267);function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var rr=(0,c.Z)((function e(t){var n=this,r=t.scene,i=t.onSceneUpdated;(0,l.Z)(this,e),this.onFontsLoaded=function(t){if(t.every((function(t){var n="".concat(t.family,"-").concat(t.style,"-").concat(t.weight);return!!e.loadedFontFaces.has(n)||(e.loadedFontFaces.add(n),!1)})))return!1;var r=!1;n.scene.mapElements((function(e){return(0,L.iB)(e)?((0,ie.bI)(e),r=!0,(0,U.BE)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,L.JZ)(e)))):e})),r&&n.onSceneUpdated()},this.loadFontsForElements=function(){var e=(0,o.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all((0,a.Z)(new Set(t.filter((function(e){return(0,L.iB)(e)})).map((function(e){return e.fontFamily})))).map((function(e){var t,n,r,i,a=(0,w.mO)({fontFamily:e,fontSize:16});if(null===(t=document.fonts)||void 0===t||null===(n=t.check)||void 0===n||!n.call(t,a))return null===(r=document.fonts)||void 0===r||null===(i=r.load)||void 0===i?void 0:i.call(r,a)})));case 2:r=e.sent,n.onFontsLoaded(r.flat().filter(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.scene=r,this.onSceneUpdated=i}));rr.loadedFontFaces=new Set;var ir=n(4688),ar=n(2416),or=n(202),lr=function(){return(0,E.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,E.jsxs)("p",{children:[(0,Q.t)("errors.brave_measure_text_error.start")," \xa0",(0,E.jsx)("span",{style:{fontWeight:600},children:(0,Q.t)("errors.brave_measure_text_error.aggressive_block_fingerprint")})," ",(0,Q.t)("errors.brave_measure_text_error.setting_enabled"),".",(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),(0,Q.t)("errors.brave_measure_text_error.break")," ",(0,E.jsx)("span",{style:{fontWeight:600},children:(0,Q.t)("errors.brave_measure_text_error.text_elements")})," ",(0,Q.t)("errors.brave_measure_text_error.in_your_drawings"),"."]}),(0,E.jsxs)("p",{children:[(0,Q.t)("errors.brave_measure_text_error.strongly_recommend")," ",(0,E.jsxs)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:[" ",(0,Q.t)("errors.brave_measure_text_error.steps")]})," ",(0,Q.t)("errors.brave_measure_text_error.how"),"."]}),(0,E.jsxs)("p",{children:[(0,Q.t)("errors.brave_measure_text_error.disable_setting")," ",(0,E.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:(0,Q.t)("errors.brave_measure_text_error.issue")})," ",(0,Q.t)("errors.brave_measure_text_error.write")," ",(0,E.jsx)("a",{href:"https://discord.gg/UexuTaE",children:(0,Q.t)("errors.brave_measure_text_error.discord")}),"."]})]})};function cr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,g.Z)(this,n)}}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},br=C().createContext(Ir);br.displayName="DeviceContext";var hr=C().createContext({container:null,id:null});hr.displayName="ExcalidrawContainerContext";var fr=C().createContext([]);fr.displayName="ExcalidrawElementsContext";var Cr=C().createContext(dr(dr({},(0,M.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Cr.displayName="ExcalidrawAppStateContext";var pr=C().createContext((function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")}));pr.displayName="ExcalidrawSetAppStateContext";var Br=C().createContext(null);Br.displayName="ExcalidrawActionManagerContext";var mr=function(){return(0,f.useContext)(br)},Ar=function(){return(0,f.useContext)(hr)},yr=function(){return(0,f.useContext)(fr)},vr=function(){return(0,f.useContext)(Cr)},xr=function(){return(0,f.useContext)(pr)},Qr=function(){return(0,f.useContext)(Br)},Fr=!1,Ur=0,Gr=0,wr=0,Sr=!1,Er=!1,Xr=!1,Zr={horizontal:null,vertical:null},kr=0,Nr=!1,Tr=!0,Dr=!1,Or=0,Mr=!1,Vr=null,Wr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Rr=function(e){(0,u.Z)(g,e);var t,n,r=ur(g);function g(e){var t;(0,l.Z)(this,g),t=r.call(this,e),Yr.call((0,s.Z)(t));var n,i=(0,M.im)(),a=e.excalidrawRef,o=e.viewModeEnabled,c=void 0!==o&&o,u=e.zenModeEnabled,d=void 0!==u&&u,I=e.gridModeEnabled,b=void 0!==I&&I,h=e.theme,f=void 0===h?i.theme:h,C=e.name,p=void 0===C?i.name:C;if(t.state=dr(dr(dr({},i),{},{theme:f,isLoading:!0},t.getCanvasOffsets()),{},{viewModeEnabled:c,zenModeEnabled:d,gridSize:b?S.k:null,name:p,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),t.id=(0,A.x0)(),t.library=new R.ZP((0,s.Z)(t)),a){var B,m="current"in a&&(null===(B=a.current)||void 0===B?void 0:B.readyPromise)||(0,w.PI)(),y={ready:!0,readyPromise:m,updateScene:t.updateScene,updateLibrary:t.library.updateLibrary,addFiles:t.addFiles,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},scrollToContent:t.scrollToContent,getSceneElements:t.getSceneElements,getAppState:function(){return t.state},getFiles:function(){return t.files},refresh:t.refresh,setToast:t.setToast,id:t.id,setActiveTool:t.setActiveTool,setCursor:t.setCursor,resetCursor:t.resetCursor,toggleMenu:t.toggleMenu};"function"==typeof a?a(y):a.current=y,m.resolve(y)}return t.excalidrawContainerValue={container:t.excalidrawContainerRef.current,id:t.id},t.scene=new oe.Z,t.fonts=new rr({scene:t.scene,onSceneUpdated:t.onSceneUpdated}),t.history=new te,t.actionManager=new D(t.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),(0,s.Z)(t)),t.actionManager.registerAll(O.N),t.actionManager.registerAction((n=t.history,{name:"undo",trackEvent:{category:"history"},perform:function(e,t){return k(e,t,(function(){return n.undoOnce()}))},keyTest:function(e){return e[F.tW.CTRL_OR_CMD]&&e.key.toLowerCase()===F.tW.Z&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,E.jsx)(x.V,{type:"button",icon:v.UE,"aria-label":(0,Q.t)("buttons.undo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}})),t.actionManager.registerAction(function(e){return{name:"redo",trackEvent:{category:"history"},perform:function(t,n){return k(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[F.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===F.tW.Z||S.ED&&e.ctrlKey&&!e.shiftKey&&e.key===F.tW.Y},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,E.jsx)(x.V,{type:"button",icon:v.zG,"aria-label":(0,Q.t)("buttons.redo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}}}(t.history)),t}return(0,c.Z)(g,[{key:"renderCanvas",value:function(){var e=window.devicePixelRatio,t=this.state,n=t.width,r=t.height,i=n*e,a=r*e;return t.viewModeEnabled?(0,E.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r,cursor:S.oc.GRAB},width:i,height:a,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,Q.t)("labels.drawingCanvas")}):(0,E.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r},width:i,height:a,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,Q.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var e,t=this,n=(0,ae.eD)(this.scene.getNonDeletedElements(),this.state),r=this.props,i=r.renderTopRightUI,a=r.renderCustomStats;return(0,E.jsx)("div",{className:(0,m.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,E.jsx)(hr.Provider,{value:this.excalidrawContainerValue,children:(0,E.jsx)(br.Provider,{value:this.device,children:(0,E.jsx)(pr.Provider,{value:this.setAppState,children:(0,E.jsxs)(Cr.Provider,{value:this.state,children:[(0,E.jsx)(fr.Provider,{value:this.scene.getNonDeletedElements(),children:(0,E.jsxs)(Br.Provider,{value:this.actionManager,children:[(0,E.jsx)(Yn,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(e){return t.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})},langCode:(0,Q.G3)().code,renderTopRightUI:i,renderCustomStats:a,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:void 0===(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&"selection"===this.state.activeTool.type&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,E.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,E.jsx)("div",{className:"excalidraw-contextMenuContainer"}),1===n.length&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,E.jsx)(er.nW,{element:n[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},n[0].id),null!==this.state.toast&&(0,E.jsx)(zn,{message:this.state.toast.message,onClose:function(){return t.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,E.jsx)(Fe,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,E.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(n=(0,o.Z)(h().mark((function e(){var t,n,r,i,a,o,l=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,"production"!==S.Vi.TEST&&"production"!==S.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return l.state}},setState:{configurable:!0,value:function(){return l.setState.apply(l,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){Tr=!1,l.refreshDeviceState(l.excalidrawContainerRef.current),l.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(S.kV,"px), (max-height: ").concat(S.Yx,"px) and (max-width: ").concat(S.sS,"px)")),i=window.matchMedia("(max-width: ".concat(S.eF,"px)")),a=window.matchMedia("(min-width: ".concat(null!=this.props.UIOptions.dockedSidebarBreakpoint?this.props.UIOptions.dockedSidebarBreakpoint:S.sk,"px)")),o=function(){l.excalidrawContainerRef.current.getBoundingClientRect(),l.device=(0,w.v4)(l.device,{isSmScreen:i.matches,isMobile:r.matches,canDeviceFitSidebar:a.matches})},r.addListener(o),this.detachIsMobileMqHandler=function(){return r.removeListener(o)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,S.jP)()&&!(0,Ze.eB)()&&this.setState({errorMessage:(0,E.jsx)(lr,{})});case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;this.files={},this.imageCache.clear(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(kr),kr=0}},{key:"removeEventListeners",value:function(){var e,t,n,r,i;document.removeEventListener(S.Ks.POINTER_UP,this.removePointer),document.removeEventListener(S.Ks.COPY,this.onCopy),document.removeEventListener(S.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(S.Ks.CUT,this.onCut),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.removeEventListener(S.Ks.WHEEL,this.onWheel),null===(t=this.nearestScrollableContainer)||void 0===t||t.removeEventListener(S.Ks.SCROLL,this.onScroll),document.removeEventListener(S.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(S.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(S.Ks.KEYUP,this.onKeyUp),window.removeEventListener(S.Ks.RESIZE,this.onResize,!1),window.removeEventListener(S.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(S.Ks.BLUR,this.onBlur,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.removeEventListener(S.Ks.DRAG_OVER,this.disableEvent,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.removeEventListener(S.Ks.DROP,this.disableEvent,!1),document.removeEventListener(S.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(S.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(S.Ks.GESTURE_END,this.onGestureEnd,!1),null===(i=this.detachIsMobileMqHandler)||void 0===i||i.call(this)}},{key:"addEventListeners",value:function(){var e,t,n,r,i,a=this;this.removeEventListeners(),document.addEventListener(S.Ks.POINTER_UP,this.removePointer),document.addEventListener(S.Ks.COPY,this.onCopy),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.addEventListener(S.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(S.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(S.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(S.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(t=document.fonts)||void 0===t||null===(n=t.addEventListener)||void 0===n||n.call(t,"loadingdone",(function(e){var t=e.fontfaces;a.fonts.onFontsLoaded(t)})),document.addEventListener(S.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(S.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(S.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(S.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(S.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,w.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(S.Ks.SCROLL,this.onScroll)),window.addEventListener(S.Ks.RESIZE,this.onResize,!1),window.addEventListener(S.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(S.Ks.BLUR,this.onBlur,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.addEventListener(S.Ks.DRAG_OVER,this.disableEvent,!1),null===(i=this.excalidrawContainerRef.current)||void 0===i||i.addEventListener(S.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r,i,a=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null===(r=this.props)||void 0===r||null===(i=r.onScrollChange)||void 0===i||i.call(r,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,M.EN)(this.state)&&this.setState({activeTool:(0,w.Om)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,w.OF)(this.canvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?S.k:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){a.state.editingLinearElement&&a.actionManager.executeAction(y.pL)})),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var o,l,c=t.multiElement;t.activeTool!==this.state.activeTool&&null!=c&&(0,G.N1)(this.state)&&(0,j.Mn)(c,!1)&&(0,G.R)(c,this.state,this.scene,(0,w.AK)(H._.getPointAtIndexGlobalCoordinates(c,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||null===(o=(l=this.props).onChange)||void 0===o||o.call(l,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,w.dE)({clientX:Gr,clientY:wr},this.state),r=n.x,i=n.y,o={x:r,y:i,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:S.hs,locked:!1},l=10,c=i,s=t?[e]:e.split("\n"),u=s.reduce((function(e,t,n){var i=t.trim(),a=(0,Ze.PT)(o.fontFamily);if(i.length){var u=(0,L.VL)(dr(dr({},o),{},{x:r,y:c,text:i,lineHeight:a}));e.push(u),c+=u.height+l}else{var g;(null===(g=s[n-1])||void 0===g?void 0:g.trim())&&(c+=(0,Ze.Rg)(o.fontSize,a)+l)}return e}),[]);0!==u.length&&(this.scene.replaceAllElements([].concat((0,a.Z)(this.scene.getElementsIncludingDeleted()),(0,a.Z)(u))),this.setState({selectedElementIds:Object.fromEntries(u.map((function(e){return[e.id,!0]})))}),!t&&u.length>1&&!1===Mr&&!this.device.isMobile&&(this.setToast({message:(0,Q.t)("toast.pasteAsSingleElement",{shortcut:(0,w.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Mr=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,i=void 0!==r&&r,o=function(t,r,i){n.scene.replaceAllElements((0,a.Z)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,L.iB)(n)?(0,L.N_)(n,{text:t,isDeleted:i,originalText:r}):n}))))};(0,L.b_)({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,w._i)({sceneX:e,sceneY:t},n.state),i=r.x,a=r.y;return[i-n.state.offsetLeft,a-n.state.offsetTop]},onChange:(0,w.tH)((function(t){o(t,t,!1),(0,L.qP)(e)&&(0,G.Ww)(e)})),onSubmit:(0,w.tH)((function(t){var r=t.text,a=t.viaKeyboard,l=t.originalText,c=!r.trim();if(o(r,l,c),!c&&a){var s=e.containerId?e.containerId:e.id;n.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},s,!0))}}))}c&&(0,G.$q)(n.scene.getNonDeletedElements(),[e]),c&&!i||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.activeTool.locked&&(0,w.Uk)(n.canvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),o(e.text,e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,L.iB)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null==n?void 0:n.includeBoundTextElement,null==n?void 0:n.includeLockedElements);if(r.length>1){if(null!=n&&n.preferSelected)for(var i=r.length-1;i>-1;i--)if(this.state.selectedElementIds[r[i].id])return r[i];var a=r[r.length-1];return(0,L.wB)(a,this.state,e,t)?r[r.length-2]:a}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=r&&i?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(i||!e.locked)&&(r||!((0,L.iB)(e)&&e.containerId))}));return(0,ae.CJ)(a,(function(r){return(0,L.wX)(r,n.state,e,t)}))}},{key:"handleHoverSelectedLinearElement",value:function(e,t,n){var r=H._.getElement(e.elementId),i=(0,Ze.WJ)(r);if(r)if(this.state.selectedLinearElement){var a=-1,o=null;(0,$n.Qu)(r,this.state,[t,n])?(a=H._.getPointIndexUnderCursor(r,this.state.zoom,t,n),o=H._.getSegmentMidpointHitCoords(e,{x:t,y:n},this.state),a>=0||o?(0,w.KJ)(this.canvas,S.oc.POINTER):(0,w.KJ)(this.canvas,S.oc.MOVE)):((0,tr.oY)([r],this.state)&&(0,L.wB)(r,this.state,t,n)||i&&(0,L.wX)(i,this.state,t,n))&&(0,w.KJ)(this.canvas,S.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==a&&this.setState({selectedLinearElement:dr(dr({},this.state.selectedLinearElement),{},{hoverPointIndex:a})}),H._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,o)||this.setState({selectedLinearElement:dr(dr({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:o})})}else(0,w.KJ)(this.canvas,S.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==Vr&&Vr(e)}},{key:"updateGestureOnPointerDown",value:function(e){Wr.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===Wr.pointers.size&&(Wr.lastCenter=_(Wr.pointers),Wr.initialScale=this.state.zoom.value,Wr.initialDistance=J(Array.from(Wr.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,w.dE)(e,this.state),n=(0,ae.eD)(this.scene.getNonDeletedElements(),this.state),r=(0,L.KP)(n),a=(0,i.Z)(r,4),o=a[0],l=a[1],c=a[2],s=a[3];return{origin:t,withCmdOrCtrl:e[F.tW.CTRL_OR_CMD],originInGrid:(0,w.AK)((0,ne.wC)(t.x,t.y,this.state.gridSize)),scrollbars:(0,ae._4)(Zr,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:dr({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,z.OL)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(c+o)/2,y:(s+l)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;Xr=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=(0,w.$9)((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),i=(0,w.tH)((function(){Xr=!1,(0,w.Uk)(n.canvas,n.state),Vr=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(S.Ks.POINTER_MOVE,r),window.removeEventListener(S.Ks.POINTER_UP,i),r.flush()}));return Vr=i,window.addEventListener(S.Ks.POINTER_MOVE,r),window.addEventListener(S.Ks.POINTER_UP,i),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=(0,L.KP)(t),a=(0,i.Z)(r,4),o=a[0],l=a[1],c=a[2],s=a[3];return e.x>o-n&&e.x<c+n&&e.y>l-n&&e.y<s+n}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return(0,w.tH)((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return(0,w.tH)((function(n){n.key===F.tW.ALT&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return(0,w.$9)((function(n){var r;if(null===e.drag.offset&&(e.drag.offset=(0,w.AK)((0,L.$V)((0,ae.eD)(t.scene.getNonDeletedElements(),t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var o=(0,w.dE)(n,t.state);if((0,M.EN)(t.state))t.handleEraser(n,e,o);else{var l=(0,ne.wC)(o.x,o.y,t.state.gridSize),c=(0,i.Z)(l,2),s=c[0],u=c[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,ne.LW)(o.x,o.y,e.origin.x,e.origin.y)<S.f)){if(e.resize.isResizing&&(e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeHandleResize(e,n)))return!0;if(t.state.selectedLinearElement){var g=t.state.editingLinearElement||t.state.selectedLinearElement;if(H._.shouldAddMidpoint(t.state.selectedLinearElement,o,t.state)){var d=H._.addMidpoint(t.state.selectedLinearElement,o,t.state);if(!d)return;return void(0,p.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:dr(dr({},t.state.selectedLinearElement),{},{pointerDownState:d.pointerDownState,selectedPointsIndices:d.selectedPointsIndices})}),t.state.editingLinearElement&&t.setState({editingLinearElement:dr(dr({},t.state.editingLinearElement),{},{pointerDownState:d.pointerDownState,selectedPointsIndices:d.selectedPointsIndices})})}))}if(null!==g.pointerDownState.segmentMidpoint.value&&!g.pointerDownState.segmentMidpoint.added)return;var b=H._.handlePointDragging(n,t.state,o.x,o.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}),g);if(b)return e.lastCoords.x=o.x,e.lastCoords.y=o.y,e.drag.hasOccurred=!0,t.state.editingLinearElement&&!t.state.editingLinearElement.isDragging&&t.setState({editingLinearElement:dr(dr({},t.state.editingLinearElement),{},{isDragging:!0})}),void(t.state.selectedLinearElement.isDragging||t.setState({selectedLinearElement:dr(dr({},t.state.selectedLinearElement),{},{isDragging:!0})}))}var h=e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)})),f=t.state.editingLinearElement&&n.shiftKey&&t.state.editingLinearElement.elementId===(null===(r=e.hit.element)||void 0===r?void 0:r.id);if((h||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!f){var C=(0,ae.eD)(t.scene.getNonDeletedElements(),t.state);if(C.every((function(e){return e.locked})))return;if(e.drag.hasOccurred=!0,C.length>0&&!e.withCmdOrCtrl){var B=(0,ne.wC)(o.x-e.drag.offset.x,o.y-e.drag.offset.y,t.state.gridSize),m=(0,i.Z)(B,2),A=m[0],y=m[1],v=[Math.abs(o.x-e.origin.x),Math.abs(o.y-e.origin.y)],x=v[0],Q=v[1],E=n.shiftKey;if((0,L.o8)(e,C,A,y,E,x,Q,t.state),t.maybeSuggestBindingForAll(C),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var X,Z=[],k=[],N=new Map,T=new Map,D=e.hit.element,O=t.scene.getElementsIncludingDeleted(),V=(0,ae.eD)(O,t.state,!0).map((function(e){return e.id})),W=cr(O);try{for(W.s();!(X=W.n()).done;){var R=X.value;if(V.includes(R.id)||R.id===(null==D?void 0:D.id)&&e.hit.wasAddedToSelection){var Y=(0,L.Sy)(t.state.editingGroupId,N,R),z=(0,ne.wC)(e.origin.x-e.drag.offset.x,e.origin.y-e.drag.offset.y,t.state.gridSize),_=(0,i.Z)(z,2),J=_[0],P=_[1];(0,U.DR)(Y,{x:Y.x+(J-A),y:Y.y+(P-y)}),Z.push(Y),k.push(R),T.set(R.id,Y.id)}else Z.push(R)}}catch(e){W.e(e)}finally{W.f()}var q=[].concat(Z,k);(0,Ze.P7)(Z,k,T),(0,G.ek)(q,k,T,"duplicatesServeAsOld"),t.scene.replaceAllElements(q)}return}}var $=t.state.draggingElement;if($){if("freedraw"===$.type){var ee=$.points,te=o.x-$.x,re=o.y-$.y,ie=ee.length>0&&ee[ee.length-1];if(!ie||ie[0]!==te||ie[1]!==re){var oe=$.simulatePressure?$.pressures:[].concat((0,a.Z)($.pressures),[n.pressure]);(0,U.DR)($,{points:[].concat((0,a.Z)(ee),[[te,re]]),pressures:oe})}}else if((0,j.bt)($)){e.drag.hasOccurred=!0;var le=$.points,ce=s-$.x,se=u-$.y;if((0,F.Ge)(n)&&2===le.length){var ue=(0,L.o4)($.x,$.y,o.x,o.y);ce=ue.width,se=ue.height}1===le.length?(0,U.DR)($,{points:[].concat((0,a.Z)(le),[[ce,se]])}):2===le.length&&(0,U.DR)($,{points:[].concat((0,a.Z)(le.slice(0,-1)),[[ce,se]])}),(0,j.Mn)($,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords($,[o],t.state.startBoundElement)}else e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var ge=t.scene.getNonDeletedElements();if(n.shiftKey||t.state.editingLinearElement||!(0,ae.N)(ge,t.state)||(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,K.bO)(dr(dr({},n),{},{selectedElementIds:(0,I.Z)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements())})):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),t.state.editingLinearElement)H._.handleBoxSelection(n,t.state,t.setState.bind(t));else{var de=(0,ae.Yp)(ge,$);t.setState((function(n){return(0,K.bO)(dr(dr({},n),{},{selectedElementIds:dr(dr(dr({},n.selectedElementIds),de.reduce((function(e,t){return e[t.id]=!0,e}),{})),e.hit.element?(0,I.Z)({},e.hit.element.id,!de.length):null),showHyperlinkPopup:!(1!==de.length||!de[0].link)&&"info",selectedLinearElement:1===de.length&&(0,j.bt)(de[0])?new H._(de[0],t.scene):null}),t.scene.getNonDeletedElements())}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var i=e.clientY,a=i-t.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-a/this.state.zoom.value}),t.lastCoords.y=i,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return(0,w.tH)((function(n){var r,i,o,l=t.state,c=l.draggingElement,s=l.resizingElement,u=l.multiElement,g=l.activeTool,d=l.isResizing,b=l.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:u||(0,L.iB)(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(n.clientX,n.clientY,"up"),t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(i=e.hit)||void 0===i||null===(o=i.element)||void 0===o?void 0:o.id)===t.state.editingLinearElement.elementId){var h=H._.handlePointerUp(n,t.state.editingLinearElement,t.state);h!==t.state.editingLinearElement&&t.setState({editingLinearElement:h,suggestedBindings:[]})}else t.actionManager.executeAction(y.pL);else if(t.state.selectedLinearElement){var f,C;if((null===(f=e.hit)||void 0===f||null===(C=f.element)||void 0===C?void 0:C.id)!==t.state.selectedLinearElement.elementId)(0,ae.eD)(t.scene.getNonDeletedElements(),t.state).length>1&&t.setState({selectedLinearElement:null});else{var p=H._.handlePointerUp(n,t.state.selectedLinearElement,t.state),B=p.startBindingElement,m=p.endBindingElement,A=t.scene.getElement(p.elementId);(0,j.Mn)(A)&&(0,G.HG)(A,B,m),p!==t.state.selectedLinearElement&&t.setState({selectedLinearElement:dr(dr({},p),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Vr=null,e.eventListeners.onMove&&e.eventListeners.onMove.flush(),window.removeEventListener(S.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(S.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(S.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(S.Ks.KEYUP,e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),"freedraw"===(null==c?void 0:c.type)){var v=(0,w.dE)(n,t.state),x=c.points,Q=v.x-c.x,F=v.y-c.y;Q===x[0][0]&&F===x[0][1]&&(F+=1e-4,Q+=1e-4);var E=c.simulatePressure?[]:[].concat((0,a.Z)(c.pressures),[n.pressure]);return(0,U.DR)(c,{points:[].concat((0,a.Z)(x),[[Q,F]]),pressures:E,lastCommittedPoint:[Q,F]}),void t.actionManager.executeAction(y.pL)}if((0,j.pC)(c)){var X=c;try{t.initializeImageDimensions(X),t.setState({selectedElementIds:(0,I.Z)({},X.id,!0)},(function(){t.actionManager.executeAction(y.pL)}))}catch(e){console.error(e),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==X.id}))),t.actionManager.executeAction(y.pL)}}else if((0,j.bt)(c)){c.points.length>1&&t.history.resumeRecording();var Z=(0,w.dE)(n,t.state);e.drag.hasOccurred||!c||u?e.drag.hasOccurred&&!u&&((0,G.N1)(t.state)&&(0,j.Mn)(c,!1)&&(0,G.R)(c,t.state,t.scene,Z),t.setState({suggestedBindings:[],startBoundElement:null}),g.locked?t.setState((function(e){return{draggingElement:null}})):((0,w.z8)(t.canvas),t.setState((function(e){return{draggingElement:null,activeTool:(0,w.Om)(t.state,{type:"selection"}),selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},c.id,!0)),selectedLinearElement:new H._(c,t.scene)}})))):((0,U.DR)(c,{points:[].concat((0,a.Z)(c.points),[[Z.x-c.x,Z.y-c.y]])}),t.setState({multiElement:c,editingElement:t.state.draggingElement}))}else{if("selection"!==g.type&&c&&(0,L.QD)(c))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});c&&(0,U.DR)(c,(0,L.Qp)(c)),s&&t.history.resumeRecording(),s&&(0,L.QD)(s)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==s.id})));var k=e.hit.element;if((null===(r=t.state.selectedLinearElement)||void 0===r?void 0:r.elementId)!==(null==k?void 0:k.id)&&(0,j.bt)(k)&&1===(0,ae.eD)(t.scene.getNonDeletedElements(),t.state).length&&t.setState({selectedLinearElement:new H._(k,t.scene)}),(0,M.EN)(t.state)){if(0===(0,ne.LW)(t.lastPointerDown.clientX,t.lastPointerDown.clientY,t.lastPointerUp.clientX,t.lastPointerUp.clientY)){var N=(0,w.dE)({clientX:t.lastPointerUp.clientX,clientY:t.lastPointerUp.clientY},t.state);t.getElementsAtPosition(N.x,N.y).forEach((function(t){return e.elementIdsToErase[t.id]={erase:!0,opacity:t.opacity}}))}t.eraseElements(e)}else{var T;if(Object.keys(e.elementIdsToErase).length&&t.restoreReadyToEraseElements(e),k&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred))if(n.shiftKey&&!t.state.editingLinearElement)if(t.state.selectedElementIds[k.id])if((0,K.zq)(t.state,k)){var D=k.groupIds.flatMap((function(e){return(0,K.Fb)(t.scene.getNonDeletedElements(),e)})).map((function(e){return(0,I.Z)({},e.id,!1)})).reduce((function(e,t){return dr(dr({},e),t)}),{});t.setState((function(e){return{selectedGroupIds:dr(dr({},e.selectedElementIds),k.groupIds.map((function(e){return(0,I.Z)({},e,!1)})).reduce((function(e,t){return dr(dr({},e),t)}),{})),selectedElementIds:dr(dr({},e.selectedElementIds),D)}}))}else null!==(T=t.state.selectedLinearElement)&&void 0!==T&&T.isDragging||t.setState((function(e){var n=dr(dr({},e.selectedElementIds),{},(0,I.Z)({},k.id,!1)),r=(0,ae.eD)(t.scene.getNonDeletedElements(),dr(dr({},e),{},{selectedElementIds:n}));return(0,K.bO)(dr(dr({},e),{},{selectedElementIds:n,selectedLinearElement:1===r.length&&(0,j.bt)(r[0])?new H._(r[0],t.scene):e.selectedLinearElement}),t.scene.getNonDeletedElements())}));else t.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},k.id,!0))}}));else t.setState((function(e){var n;return dr({},(0,K.bO)(dr(dr({},e),{},{selectedElementIds:(0,I.Z)({},k.id,!0),selectedLinearElement:(0,j.bt)(k)&&(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)!==k.id?new H._(k,t.scene):e.selectedLinearElement}),t.scene.getNonDeletedElements()))}));e.drag.hasOccurred||t.state.isResizing||!(k&&(0,L.wB)(k,t.state,e.origin.x,e.origin.y)||!k&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!g.locked&&"freedraw"!==g.type&&c&&t.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},c.id,!0))}})),("selection"!==g.type||(0,ae.N)(t.scene.getNonDeletedElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||d||b)&&((0,G.N1)(t.state)?G.el:G.H)((0,ae.eD)(t.scene.getNonDeletedElements(),t.state)),g.locked||"freedraw"===g.type?t.setState({draggingElement:null,suggestedBindings:[]}):((0,w.z8)(t.canvas),t.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,w.Om)(t.state,{type:"selection"})}))):t.state.editingLinearElement?t.setState({editingLinearElement:null}):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}}))}},{key:"maybeSuggestBindingForAll",value:function(e){var t=(0,G.ZB)(e);this.setState({suggestedBindings:t})}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,K.Nd)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r){if(r){var i=r.x+r.width/2,a=r.y+r.height/2,o=(0,Ze.TP)(r,n);if(o&&(i=o.x,a=o.y),Math.hypot(e-i,t-a)<S.wZ){var l=(0,w._i)({sceneX:i,sceneY:a},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:i,elementCenterY:a}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,o.Z)(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q.Mj.find((function(e){return e.code===n.props.langCode}))||Q.Fp,e.next=3,(0,Q.m0)(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Fr=!1}}]),g}(C().Component);Rr.defaultProps={UIOptions:S.cW};var Yr=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=Ir,this.excalidrawContainerRef=C().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var t;e.props.autoFocus&&(null===(t=e.excalidrawContainerRef.current)||void 0===t||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getNonDeletedElements()},this.syncActionResult=(0,w.tH)((function(t){if(!e.unmounted&&!1!==t){var n=null;if(t.elements&&(t.elements.forEach((function(t){var r;(null===(r=e.state.editingElement)||void 0===r?void 0:r.id)===t.id&&e.state.editingElement!==t&&(0,L.qP)(t)&&(n=t)})),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.files&&(e.files=t.replaceFiles?t.files:dr(dr({},e.files),t.files),e.addNewImagesToImageCache()),t.appState||n||e.state.contextMenu){var r,i,a,o,l,c,s,u;t.commitToHistory&&e.history.resumeRecording();var g=(null==t||null===(r=t.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,d=(null==t||null===(i=t.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,I=(null==t||null===(a=t.appState)||void 0===a?void 0:a.gridSize)||null,b=(null==t||null===(o=t.appState)||void 0===o?void 0:o.theme)||e.props.theme||S.C6.LIGHT,h=null!==(l=null==t||null===(c=t.appState)||void 0===c?void 0:c.name)&&void 0!==l?l:e.state.name,f=null!==(s=null==t||null===(u=t.appState)||void 0===u?void 0:u.errorMessage)&&void 0!==s?s:e.state.errorMessage;void 0!==e.props.viewModeEnabled&&(g=e.props.viewModeEnabled),void 0!==e.props.zenModeEnabled&&(d=e.props.zenModeEnabled),void 0!==e.props.gridModeEnabled&&(I=e.props.gridModeEnabled?S.k:null),void 0!==e.props.name&&(h=e.props.name),e.setState((function(e){var r;return Object.assign(t.appState||{},{contextMenu:null,editingElement:n||(null===(r=t.appState)||void 0===r?void 0:r.editingElement)||null,viewModeEnabled:g,zenModeEnabled:d,gridSize:I,theme:b,name:h,errorMessage:f})}),(function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())}))}}})),this.onBlur=(0,w.tH)((function(){Sr=!1,e.setState({isBindingEnabled:!0})})),this.onUnload=function(){e.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.resetHistory=function(){e.history.clear()},this.resetScene=(0,w.tH)((function(t){e.scene.replaceAllElements([]),e.setState((function(n){return dr(dr({},(0,M.im)()),{},{isLoading:(null==t||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})})),e.resetHistory()})),this.initializeScene=(0,o.Z)(h().mark((function t(){var n,r,i,a,l;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var t=(0,o.Z)(h().mark((function t(n){var r,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.files.length){t.next=2;break}return t.abrupt("return");case 2:return r=n.files[0],t.next=5,r.getFile();case 5:i=t.sent,e.loadFileToCanvas(new File([i],i.name||"",{type:i.type}),r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.props.theme&&e.setState({theme:e.props.theme}),e.state.isLoading||e.setState({isLoading:!0}),i=null,t.prev=4,t.next=7,e.props.initialData;case 7:if(t.t0=t.sent,t.t0){t.next=10;break}t.t0=null;case 10:i=t.t0,null!==(a=i)&&void 0!==a&&a.libraryItems&&e.library.updateLibrary({libraryItems:i.libraryItems,merge:!0}).catch((function(e){console.error(e)})),t.next=18;break;case 14:t.prev=14,t.t1=t.catch(4),console.error(t.t1),i={appState:{errorMessage:t.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(l=(0,Y.nu)(i,null,null,{repairBindings:!0})).appState=dr(dr({},l.appState),{},{theme:e.props.theme||l.appState.theme,openSidebar:(null===(n=l.appState)||void 0===n?void 0:n.openSidebar)||e.state.openSidebar,activeTool:"image"===l.appState.activeTool.type?dr(dr({},l.appState.activeTool),{},{type:"selection"}):l.appState.activeTool,isLoading:!1,toast:e.state.toast}),null!==(r=i)&&void 0!==r&&r.scrollToContent&&(l.appState=dr(dr({},l.appState),(0,ae.W)(l.elements,dr(dr({},l.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft}),null))),e.fonts.loadFontsForElements(l.elements),e.resetHistory(),e.syncActionResult(dr(dr({},l),{},{commitToHistory:!0}));case 24:case"end":return t.stop()}}),t,null,[[4,14]])}))),this.refreshDeviceState=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height,a=null!=e.props.UIOptions.dockedSidebarBreakpoint?e.props.UIOptions.dockedSidebarBreakpoint:S.sk;e.device=(0,w.v4)(e.device,{isSmScreen:r<S.eF,isMobile:r<S.kV||i<S.Yx&&r<S.sS,canDeviceFitSidebar:r>a})},this.onResize=(0,w.tH)((function(){e.scene.getElementsIncludingDeleted().forEach((function(e){return(0,ie.bI)(e)})),e.setState({})})),this.renderScene=function(){var t={},n={},r={},i={},a={};e.state.collaborators.forEach((function(o,l){if(o.selectedElementIds)for(var c=0,s=Object.keys(o.selectedElementIds);c<s.length;c++){var u=s[c];u in r||(r[u]=[]),r[u].push(l)}o.pointer&&(o.username&&(i[l]=o.username),o.userState&&(a[l]=o.userState),n[l]=(0,w._i)({sceneX:o.pointer.x,sceneY:o.pointer.y},e.state),t[l]=o.button)}));var o=e.scene.getNonDeletedElements().filter((function(t){return(!(0,j.pC)(t)||e.state.pendingImageElementId!==t.id)&&(!e.state.editingElement||"text"!==e.state.editingElement.type||t.id!==e.state.editingElement.id)})),l=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,re.Eu)({elements:o,appState:e.state,scale:window.devicePixelRatio,rc:e.rc,canvas:e.canvas,renderConfig:{selectionColor:l,scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor,zoom:e.state.zoom,remotePointerViewportCoords:n,remotePointerButton:t,remoteSelectedElementIds:r,remotePointerUsernames:i,remotePointerUserStates:a,shouldCacheIgnoreZoom:e.state.shouldCacheIgnoreZoom,theme:e.state.theme,imageCache:e.imageCache,isExporting:!1,renderScrollbars:!e.device.isMobile},callback:function(t){var n=t.atLeastOneVisibleElement,r=t.scrollBars;r&&(Zr=r);var i=!(0,L.iB)(e.state.editingElement)&&!n&&o.length>0;e.state.scrolledOutside!==i&&e.setState({scrolledOutside:i}),e.scheduleImageRefresh()}},Tr&&!0===window.EXCALIDRAW_THROTTLE_RENDER),Tr||(Tr=!0)},this.onScroll=(0,w.Ds)((function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState((function(e){return e.offsetLeft===r&&e.offsetTop===n?null:{offsetTop:n,offsetLeft:r}}))}),S.HM),this.onCut=(0,w.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,w.s)(t.target)&&(e.cutAll(),t.preventDefault(),t.stopPropagation())})),this.onCopy=(0,w.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,w.s)(t.target)&&(e.copyAll(),t.preventDefault(),t.stopPropagation())})),this.cutAll=function(){e.actionManager.executeAction(y.ZM,"keyboard")},this.copyAll=function(){e.actionManager.executeAction(y.uN,"keyboard")},this.onTapStart=function(t){if(S.Dt||t.preventDefault(),!Fr)return Fr=!0,clearTimeout(Ur),void(Ur=window.setTimeout(Rr.resetTapTwice,S.Gj));if(Fr&&1===t.touches.length){var n=(0,i.Z)(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),Fr=!1,clearTimeout(Ur)}S.Dt&&t.preventDefault(),2===t.touches.length&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){e.resetContextMenuTimer(),t.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):Wr.pointers.clear()},this.pasteFromClipboard=(0,w.tH)(function(){var t=(0,o.Z)(h().mark((function t(n){var r,i,a,o,l,c,s,u,g,d,b,f,C;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!(!Dr||!n),o=document.activeElement,l=null===(r=e.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(o),!n||l){t.next=5;break}return t.abrupt("return");case 5:if(c=document.elementFromPoint(Gr,wr),!n||c instanceof HTMLCanvasElement&&!(0,w.s)(o)){t.next=8;break}return t.abrupt("return");case 8:return s=null==n||null===(i=n.clipboardData)||void 0===i?void 0:i.files[0],t.next=11,(0,V.mQ)(n,a);case 11:if(u=t.sent,s||!u.text||a||(g=u.text.trim()).startsWith("<svg")&&g.endsWith("</svg>")&&(s=(0,ze.Pn)(g)),!(0,ze.Wr)(s)||u.spreadsheet){t.next=20;break}return d=(0,w.dE)({clientX:Gr,clientY:wr},e.state),b=d.x,f=d.y,C=e.createImageElement({sceneX:b,sceneY:f}),e.insertImageElement(C,s),e.initializeImageDimensions(C),e.setState({selectedElementIds:(0,I.Z)({},C.id,!0)}),t.abrupt("return");case 20:if(!e.props.onPaste){t.next=32;break}return t.prev=21,t.next=24,e.props.onPaste(u,n);case 24:if(t.t0=t.sent,!1!==t.t0){t.next=27;break}return t.abrupt("return");case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(21),console.error(t.t1);case 32:u.errorMessage?e.setState({errorMessage:u.errorMessage}):u.spreadsheet&&!a?e.setState({pasteDialog:{data:u.spreadsheet,shown:!0}}):u.elements?e.addElementsFromPasteOrLibrary({elements:u.elements,files:u.files||null,position:"cursor"}):u.text&&e.addTextFromPaste(u.text,a),e.setActiveTool({type:"selection"}),null==n||n.preventDefault();case 35:case"end":return t.stop()}}),t,null,[[21,29]])})));return function(e){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=(0,Y.ET)(t.elements,null),o=(0,L.KP)(n),l=(0,i.Z)(o,4),c=l[0],s=l[1],u=l[2],g=l[3],d=(0,w.TE)(c,u)/2,I=(0,w.TE)(s,g)/2,b="object"===(0,r.Z)(t.position)?t.position.clientX:"cursor"===t.position?Gr:e.state.width/2+e.state.offsetLeft,h="object"===(0,r.Z)(t.position)?t.position.clientY:"cursor"===t.position?wr:e.state.height/2+e.state.offsetTop,f=(0,w.dE)({clientX:b,clientY:h},e.state),C=f.x-d,p=f.y-I,B=(0,ne.wC)(C,p,e.state.gridSize),m=(0,i.Z)(B,2),A=m[0],y=m[1],v=(0,z._N)(n.map((function(e){return(0,U.BE)(e,{x:e.x+A-c,y:e.y+y-s})}))),x=[].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),(0,a.Z)(v));e.scene.replaceAllElements(x),v.forEach((function(e){if((0,L.iB)(e)&&(0,j.Xh)(e)){var t=(0,Ze.tl)(e);(0,L.oN)(e,t)}})),t.files&&(e.files=dr(dr({},e.files),t.files)),e.history.resumeRecording(),e.setState((0,K.bO)(dr(dr({},e.state),{},{openSidebar:e.state.openSidebar&&e.device.canDeviceFitSidebar&&e.state.isSidebarDocked?e.state.openSidebar:null,selectedElementIds:v.reduce((function(e,t){return(0,j.Xh)(t)||(e[t.id]=!0),e}),{}),selectedGroupIds:{}}),e.scene.getNonDeletedElements()),(function(){t.files&&e.addNewImagesToImageCache()})),e.setActiveTool({type:"selection"})},this.setAppState=function(t,n){e.setState(t,n)},this.removePointer=function(t){kr&&e.resetContextMenuTimer(),Wr.pointers.delete(t.pointerId)},this.toggleLock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";e.state.activeTool.locked||(0,N.L)("toolbar","toggleLock","".concat(t," (").concat(e.device.isMobile?"mobile":"desktop",")")),e.setState((function(t){return{activeTool:dr(dr(dr({},t.activeTool),(0,w.Om)(e.state,t.activeTool.locked?{type:"selection"}:t.activeTool)),{},{locked:!t.activeTool.locked})}}))},this.togglePenMode=function(){e.setState((function(e){return{penMode:!e.penMode}}))},this.onHandToolToggle=function(){e.actionManager.executeAction(ar.eF)},this.zoomCanvas=function(t){e.setState(dr({},(0,le.E)({viewportX:e.state.width/2+e.state.offsetLeft,viewportY:e.state.height/2+e.state.offsetTop,nextZoom:(0,ae.j)(t)},e.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scene.getNonDeletedElements(),r=arguments.length>1?arguments[1]:void 0;null===(t=e.cancelInProgresAnimation)||void 0===t||t.call(e);var i=Array.isArray(n)?n:[n],a=e.state.zoom,o=e.state.scrollX,l=e.state.scrollY;if(null!=r&&r.fitToContent){var c=(0,ar.md)(i,e.state,!1).appState;a=c.zoom,o=c.scrollX,l=c.scrollY}else{var s=(0,ae.W)(i,e.state,e.canvas);o=s.scrollX,l=s.scrollY}if(null!=r&&r.animate){var u,g=e.state.scrollX,d=e.state.scrollY;e.zoomCanvas(a.value);var I=(0,w.B4)([g,d],[o,l],(function(t,n){return e.setState({scrollX:t,scrollY:n})}),{duration:null!==(u=null==r?void 0:r.duration)&&void 0!==u?u:500});e.cancelInProgresAnimation=function(){I(),e.cancelInProgresAnimation=null}}else e.setState({scrollX:o,scrollY:l,zoom:a})},this.translateCanvas=function(t){var n;null===(n=e.cancelInProgresAnimation)||void 0===n||n.call(e),e.setState(t)},this.setToast=function(t){e.setState({toast:t})},this.restoreFileFromShare=(0,o.Z)(h().mark((function t(){var n,r,i,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,caches.open("web-share-target");case 3:return n=t.sent,t.next=6,n.match("shared-file");case 6:if(!(r=t.sent)){t.next=16;break}return t.next=10,r.blob();case 10:return i=t.sent,a=new File([i],i.name||"",{type:i.type}),e.loadFileToCanvas(a,null),t.next=15,n.delete("shared-file");case 15:window.history.replaceState(null,S.iC,window.location.pathname);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.setState({errorMessage:t.t0.message});case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),this.addFiles=(0,w.tH)((function(t){var n=t.reduce((function(e,t){return e.set(t.id,t),e}),new Map);e.files=dr(dr({},e.files),Object.fromEntries(n)),e.scene.getNonDeletedElements().forEach((function(t){(0,j.wi)(t)&&n.has(t.fileId)&&(e.imageCache.delete(t.fileId),(0,ie.bI)(t))})),e.scene.informMutation(),e.addNewImagesToImageCache()})),this.updateScene=(0,w.tH)((function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators})})),this.onSceneUpdated=function(){e.setState({})},this.toggleMenu=function(t,n){return"customSidebar"!==t||e.props.renderSidebar?("library"===t||"customSidebar"===t)&&(r=void 0===n?e.state.openSidebar===t?null:t:n?t:null,e.setState({openSidebar:r}),!!r):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var r},this.updateCurrentCursorPosition=(0,w.tH)((function(e){Gr=e.clientX,wr=e.clientY})),this.onKeyDown=(0,w.tH)((function(t){if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(e,n){var r=e[n];return"function"==typeof r?r.bind(e):"key"===n?t.shiftKey?e.key.toUpperCase():e.key.toLowerCase():r}})),t[F.tW.CTRL_OR_CMD]&&t.key.toLowerCase()===F.tW.V&&(Dr=t.shiftKey,clearTimeout(Or),Or=window.setTimeout((function(){Dr=!1}),100)),!t[F.tW.CTRL_OR_CMD]||!(0,w.s)(t.target)||t.code!==F.aU.MINUS&&t.code!==F.aU.EQUAL){if(!((0,w.s)(t.target)&&t.key!==F.tW.ESCAPE||(0,F.Wl)(t.key)&&(0,w._Z)(t.target)))if(t.key!==F.tW.QUESTION_MARK)if(t.key.toLowerCase()===F.tW.E&&t.shiftKey&&t[F.tW.CTRL_OR_CMD])e.setState({openDialog:"imageExport"});else{if(t.key===F.tW.PAGE_UP||t.key===F.tW.PAGE_DOWN){var n=(t.shiftKey?e.state.width:e.state.height)/e.state.zoom.value;t.key===F.tW.PAGE_DOWN&&(n=-n),t.shiftKey?e.translateCanvas((function(e){return{scrollX:e.scrollX+n}})):e.translateCanvas((function(e){return{scrollY:e.scrollY+n}}))}if(!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled){if(t[F.tW.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),(0,F.Wl)(t.key)){var r=e.state.gridSize&&(t.shiftKey?S.$e:e.state.gridSize)||(t.shiftKey?S.Iw:S.$e),i=0,a=0;t.key===F.tW.ARROW_LEFT?i=-r:t.key===F.tW.ARROW_RIGHT?i=r:t.key===F.tW.ARROW_UP?a=-r:t.key===F.tW.ARROW_DOWN&&(a=r);var o=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state,!0);o.forEach((function(e){(0,U.DR)(e,{x:e.x+i,y:e.y+a}),(0,G.Ww)(e,{simultaneouslyUpdated:o})})),e.maybeSuggestBindingForAll(o),t.preventDefault()}else if(t.key===F.tW.ENTER){var l=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state);if(1===l.length){var c=l[0];if(t[F.tW.CTRL_OR_CMD])(0,j.bt)(c)&&(e.state.editingLinearElement&&e.state.editingLinearElement.elementId===l[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new H._(c,e.scene)})));else if((0,L.iB)(c)||(0,Ze.Zr)(c)){var s;(0,L.iB)(c)||(s=c);var u=(0,Ze.TP)(c,e.state),g=u.x,d=u.y;return e.startTextEditing({sceneX:g,sceneY:d,container:s}),void t.preventDefault()}}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&null===e.state.draggingElement){var I=function(e){var t=ce.find((function(t,n){return null!=t.numericKey&&e===t.numericKey.toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))}));return(null==t?void 0:t.value)||null}(t.key);I?(e.state.activeTool.type!==I&&(0,N.L)("toolbar",I,"keyboard (".concat(e.device.isMobile?"mobile":"desktop",")")),e.setActiveTool({type:I}),t.stopPropagation()):t.key===F.tW.Q&&(e.toggleLock("keyboard"),t.stopPropagation())}if(t.key===F.tW.SPACE&&0===Wr.pointers.size&&(Sr=!0,(0,w.KJ)(e.canvas,S.oc.GRAB),t.preventDefault()),!(t.key!==F.tW.G&&t.key!==F.tW.S||t.altKey||t[F.tW.CTRL_OR_CMD])){var b=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state);if("selection"===e.state.activeTool.type&&!b.length)return;t.key===F.tW.G&&((0,ae.$b)(e.state.activeTool.type)||b.some((function(e){return(0,ae.$b)(e.type)})))&&(e.setState({openPopup:"backgroundColorPicker"}),t.stopPropagation()),t.key===F.tW.S&&(e.setState({openPopup:"strokeColorPicker"}),t.stopPropagation())}!t[F.tW.CTRL_OR_CMD]||t.key!==F.tW.BACKSPACE&&t.key!==F.tW.DELETE||Bn.e_.set(kn.w,"clearCanvas")}}else e.setState({openDialog:"help"})}else t.preventDefault()})),this.onWheel=(0,w.tH)((function(e){e.target instanceof HTMLCanvasElement||!e.ctrlKey||e.preventDefault()})),this.onKeyUp=(0,w.tH)((function(t){if(t.key===F.tW.SPACE&&(e.state.viewModeEnabled?(0,w.KJ)(e.canvas,S.oc.GRAB):"selection"===e.state.activeTool.type?(0,w.z8)(e.canvas):((0,w.Uk)(e.canvas,e.state),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Sr=!1),t[F.tW.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),(0,F.Wl)(t.key)){var n=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state);(0,G.N1)(e.state)?(0,G.el)(n):(0,G.H)(n),e.setState({suggestedBindings:[]})}})),this.setActiveTool=function(t){var n=(0,w.Om)(e.state,t);"hand"===n.type?(0,w.KJ)(e.canvas,S.oc.GRAB):Sr||(0,w.Uk)(e.canvas,e.state),(0,w.wO)(document.activeElement)&&e.focusContainer(),(0,j.dt)(n.type)||e.setState({suggestedBindings:[]}),"image"===n.type&&e.onImageAction(),"selection"!==n.type?e.setState({activeTool:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):e.setState({activeTool:n})},this.setCursor=function(t){(0,w.KJ)(e.canvas,t)},this.resetCursor=function(){(0,w.z8)(e.canvas)},this.isTouchScreenMultiTouchGesture=function(){return Wr.pointers.size>=2},this.onGestureStart=(0,w.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({selectedElementIds:{}}),Wr.initialScale=e.state.zoom.value})),this.onGestureChange=(0,w.tH)((function(t){if(t.preventDefault(),!e.isTouchScreenMultiTouchGesture()){var n=Wr.initialScale;n&&e.setState((function(e){return dr({},(0,le.E)({viewportX:Gr,viewportY:wr,nextZoom:(0,ae.j)(n*t.scale)},e))}))}})),this.onGestureEnd=(0,w.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),Wr.initialScale=null})),this.startTextEditing=function(t){var n,r,i,o,l=t.sceneX,c=t.sceneY,s=t.insertAtParentCenter,u=void 0===s||s,g=t.container,d=!1,I=u&&e.getTextWysiwygSnappedToCenterPosition(l,c,e.state,g);g&&I&&(d=!0);var b=null,h=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state),f=(null===(n=b=1===h.length?(0,L.iB)(h[0])?h[0]:g?(0,Ze.WJ)(h[0]):e.getTextElementAtPosition(l,c):e.getTextElementAtPosition(l,c))||void 0===n?void 0:n.fontFamily)||e.state.currentItemFontFamily,C=(null===(r=b)||void 0===r?void 0:r.lineHeight)||(0,Ze.PT)(f),p=e.state.currentItemFontSize;if(!b&&d&&g&&!(0,j.Yv)(g)){var B={fontSize:p,fontFamily:f},m=(0,Ze.AT)((0,w.mO)(B),C),A=(0,Ze.w_)(p,C),y=(0,Ze.HE)(g),v=Math.max(y.height,A),x=Math.max(y.width,m);(0,U.DR)(g,{height:v,width:x}),l=g.x+x/2,c=g.y+v/2,I&&(I=e.getTextWysiwygSnappedToCenterPosition(l,c,e.state,g))}var Q=b||(0,L.VL)({x:I?I.elementCenterX:l,y:I?I.elementCenterY:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,text:"",fontSize:p,fontFamily:f,textAlign:I?"center":e.state.currentItemTextAlign,verticalAlign:I?S.oX.MIDDLE:S.hs,containerId:d?null==g?void 0:g.id:void 0,groupIds:null!==(i=null==g?void 0:g.groupIds)&&void 0!==i?i:[],lineHeight:C,angle:null!==(o=null==g?void 0:g.angle)&&void 0!==o?o:0});if(!b&&d&&g&&(0,U.DR)(g,{boundElements:(g.boundElements||[]).concat({type:"text",id:Q.id})}),e.setState({editingElement:Q}),!b)if(g&&d){var F=e.scene.getElementIndex(g.id);e.scene.insertElementAtIndex(Q,F+1)}else e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[Q]));e.setState({editingElement:Q}),e.handleTextWysiwyg(Q,{isExistingElement:!!b})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.activeTool.type){var n=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state);if(1===n.length&&(0,j.bt)(n[0])){if(t[F.tW.CTRL_OR_CMD]&&(!e.state.editingLinearElement||e.state.editingLinearElement.elementId!==n[0].id))return e.history.resumeRecording(),void e.setState({editingLinearElement:new H._(n[0],e.scene)});if(e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id)return}(0,w.z8)(e.canvas);var r=(0,w.dE)(t,e.state),i=r.x,a=r.y;if((0,K.iJ)(e.state).length>0){var o=e.getElementAtPosition(i,a),l=o&&(0,K.YS)(o,e.state.selectedGroupIds);if(l)return void e.setState((function(t){return(0,K.bO)(dr(dr({},t),{},{editingGroupId:l,selectedElementIds:(0,I.Z)({},o.id,!0),selectedGroupIds:{}}),e.scene.getNonDeletedElements())}))}if((0,w.z8)(e.canvas),!t[F.tW.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var c=(0,Ze.OW)(e.scene.getNonDeletedElements(),e.state,i,a);if(c&&((0,j.Xo)(c)||!(0,w.Qm)(c.backgroundColor)||(0,$n.Qu)(c,e.state,[i,a]))){var s=(0,Ze.TP)(c,e.state);i=s.x,a=s.y}e.startTextEditing({sceneX:i,sceneY:a,insertAtParentCenter:!t.altKey,container:c})}}},this.getElementLinkAtPosition=function(t,n){var r=e.scene.getNonDeletedElements().slice().reverse(),i=1/0;return r.find((function(r,a){return n&&r.id===n.id&&(i=a),r.link&&a<=i&&(0,er.wq)(r,e.state,[t.x,t.y],e.device.isMobile)}))},this.redirectToLink=function(t,n){var r=(0,ne.LW)(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||n&&r>S.f||!n&&0!==r)){var i=(0,w.dE)(e.lastPointerDown,e.state),a=(0,er.wq)(e.hitLinkElement,e.state,[i.x,i.y],e.device.isMobile),o=(0,w.dE)(e.lastPointerUp,e.state),l=(0,er.wq)(e.hitLinkElement,e.state,[o.x,o.y],e.device.isMobile);if(a&&l){var c,s,u=e.hitLinkElement.link;if(u&&(e.props.onLinkOpen&&(s=(0,w.ag)(S.Ks.EXCALIDRAW_LINK,t.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,s)),null===(c=s)||void 0===c||!c.defaultPrevented)){var g=(0,er.q$)(u)?"_self":"_blank",d=window.open(void 0,g);d&&(d.opener=null,d.location=(0,er.$u)(u))}}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),Wr.pointers.has(t.pointerId)&&Wr.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=Wr.initialScale;if(2===Wr.pointers.size&&Wr.lastCenter&&n&&Wr.initialDistance){var r=_(Wr.pointers),o=r.x-Wr.lastCenter.x,l=r.y-Wr.lastCenter.y;Wr.lastCenter=r;var c=J(Array.from(Wr.pointers.values())),s="freedraw"===e.state.activeTool.type&&e.state.penMode?1:c/Wr.initialDistance,u=s?(0,ae.j)(n*s):e.state.zoom.value;e.setState((function(t){var n=(0,le.E)({viewportX:r.x,viewportY:r.y,nextZoom:u},t);e.translateCanvas({zoom:n.zoom,scrollX:n.scrollX+o/u,scrollY:n.scrollY+l/u,shouldCacheIgnoreZoom:!0})})),e.resetShouldCacheIgnoreZoomDebounced()}else Wr.lastCenter=Wr.initialDistance=Wr.initialScale=null;if(!(Sr||Er||Xr||(0,M.l$)(e.state))){var g=(0,ae._4)(Zr,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(g?(0,w.z8)(e.canvas):(0,w.Uk)(e.canvas,e.state));var d=(0,w.dE)(t,e.state),I=d.x,b=d.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var h=H._.handlePointerMove(t,I,b,e.state);h&&h!==e.state.editingLinearElement&&(0,p.flushSync)((function(){e.setState({editingLinearElement:h})})),null!=(null==h?void 0:h.lastUncommittedPoint)?e.maybeSuggestBindingAtCursor(d):(0,p.flushSync)((function(){e.setState({suggestedBindings:[]})}))}if((0,j.Lx)(e.state.activeTool.type)){var f=e.state.draggingElement;(0,j.Mn)(f,!1)?e.maybeSuggestBindingsForLinearElementAtCoords(f,[d],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(d)}if(e.state.multiElement){var C=e.state.multiElement,B=C.x,m=C.y,A=C.points,y=C.lastCommittedPoint,v=A[A.length-1];if((0,w.Uk)(e.canvas,e.state),v===y)(0,ne.LW)(I-B,b-m,v[0],v[1])>=S.qx?(0,U.DR)(C,{points:[].concat((0,a.Z)(A),[[I-B,b-m]])}):(0,w.KJ)(e.canvas,S.oc.POINTER);else if(A.length>2&&y&&(0,ne.LW)(I-B,b-m,y[0],y[1])<S.qx)(0,w.KJ)(e.canvas,S.oc.POINTER),(0,U.DR)(C,{points:A.slice(0,-1)});else{var x,Q=(0,ne.wC)(I,b,e.state.gridSize),G=(0,i.Z)(Q,2),E=G[0],X=G[1],Z=null!==(x=null==C?void 0:C.lastCommittedPoint)&&void 0!==x?x:[0,0],k=(0,i.Z)(Z,2),N=k[0],T=k[1],D=E-B-N,O=X-m-T;if((0,F.Ge)(t)){var V=(0,L.o4)(N+B,T+m,E,X);D=V.width,O=V.height}(0,ne.g6)(A,e.state.zoom.value)&&(0,w.KJ)(e.canvas,S.oc.POINTER),(0,U.DR)(C,{points:[].concat((0,a.Z)(A.slice(0,-1)),[[N+D,T+O]])})}}else if(!(Boolean(t.buttons)||"selection"!==e.state.activeTool.type&&"text"!==e.state.activeTool.type&&"eraser"!==e.state.activeTool.type)){var W=e.scene.getNonDeletedElements(),R=(0,ae.eD)(W,e.state);if(1!==R.length||g||e.state.editingLinearElement){if(R.length>1&&!g){var Y=(0,L.n2)((0,L.KP)(R),I,b,e.state.zoom,t.pointerType);if(Y)return void(0,w.KJ)(e.canvas,(0,L.Un)({transformHandleType:Y}))}}else{var z=(0,L.jt)(W,e.state,I,b,e.state.zoom,t.pointerType);if(z&&z.transformHandleType)return void(0,w.KJ)(e.canvas,(0,L.Un)(z))}var P=e.getElementAtPosition(d.x,d.y);e.hitLinkElement=e.getElementLinkAtPosition(d,P),(0,M.EN)(e.state)||(e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]?((0,w.KJ)(e.canvas,S.oc.POINTER),(0,er.Pp)(e.hitLinkElement,e.state)):((0,er.lV)(),P&&P.link&&e.state.selectedElementIds[P.id]&&!e.state.contextMenu&&!e.state.showHyperlinkPopup?e.setState({showHyperlinkPopup:"info"}):"text"===e.state.activeTool.type?(0,w.KJ)(e.canvas,(0,L.iB)(P)?S.oc.TEXT:S.oc.CROSSHAIR):e.state.viewModeEnabled?(0,w.KJ)(e.canvas,S.oc.GRAB):g?(0,w.KJ)(e.canvas,S.oc.AUTO):e.state.selectedLinearElement?e.handleHoverSelectedLinearElement(e.state.selectedLinearElement,I,b):t[F.tW.CTRL_OR_CMD]?(0,w.KJ)(e.canvas,S.oc.AUTO):!P&&!e.isHittingCommonBoundingBoxOfSelectedElements(d,R)||null!=P&&P.locked||(0,w.KJ)(e.canvas,S.oc.MOVE)))}}},this.handleEraser=function(t,n,r){for(var i=function(e){e.forEach((function(e){e.locked||(a.push(e.id),t.altKey?n.elementIdsToErase[e.id]&&n.elementIdsToErase[e.id].erase&&(n.elementIdsToErase[e.id].erase=!1):n.elementIdsToErase[e.id]||(n.elementIdsToErase[e.id]={erase:!0,opacity:e.opacity}))}))},a=[],o=(0,ne.LW)(n.lastCoords.x,n.lastCoords.y,r.x,r.y),l=10/e.state.zoom.value,c=dr({},n.lastCoords),s=0;s<=o&&(i(e.getElementsAtPosition(c.x,c.y)),s!==o);){var u=(s=Math.min(s+l,o))/o,g=(1-u)*c.x+u*r.x,d=(1-u)*c.y+u*r.y;c.x=g,c.y=d}var I=e.scene.getElementsIncludingDeleted().map((function(e){var r=(0,j.Xh)(e)&&a.includes(e.containerId)?e.containerId:e.id;if(a.includes(r)){if(!t.altKey)return(0,U.BE)(e,{opacity:S.xY});if(n.elementIdsToErase[r]&&!1===n.elementIdsToErase[r].erase)return(0,U.BE)(e,{opacity:n.elementIdsToErase[r].opacity})}return e}));e.scene.replaceAllElements(I),n.lastCoords.x=r.x,n.lastCoords.y=r.y},this.handleTouchMove=function(e){Nr=!0},this.handleCanvasPointerDown=function(t){var n,r;if(e.state.contextMenu&&e.setState({contextMenu:null}),e.updateGestureOnPointerDown(t),"touch"===t.pointerType&&e.state.draggingElement&&"freedraw"===e.state.draggingElement.type){var i=e.state.draggingElement;e.updateScene(dr(dr({},i.points.length<10?{elements:e.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==i.id}))}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Object.keys(e.state.selectedElementIds).filter((function(e){return e!==i.id})).reduce((function(t,n){return t[n]=e.state.selectedElementIds[n],t}),{})}}))}else{var a=document.getSelection();if(null!=a&&a.anchorNode&&a.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),e.state.penDetected||"pen"!==t.pointerType||e.setState((function(e){return{penMode:!0,penDetected:!0}})),!e.device.isTouchScreen&&["pen","touch"].includes(t.pointerType)&&(e.device=(0,w.v4)(e.device,{isTouchScreen:!0})),!Er&&(e.lastPointerDown=t,e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==S.Oh.MAIN&&t.button!==S.Oh.TOUCH||Wr.pointers.size>1))){var o=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,o)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,o)&&(!e.state.penMode||"touch"!==t.pointerType||"selection"===e.state.activeTool.type||"text"===e.state.activeTool.type||"image"===e.state.activeTool.type)))if("text"!==e.state.activeTool.type){if("arrow"===e.state.activeTool.type||"line"===e.state.activeTool.type)e.handleLinearElementOnPointerDown(t,e.state.activeTool.type,o);else if("image"===e.state.activeTool.type){(0,w.KJ)(e.canvas,S.oc.CROSSHAIR);var l=e.state.pendingImageElementId&&e.scene.getElement(e.state.pendingImageElementId);if(!l)return;e.setState({draggingElement:l,editingElement:l,pendingImageElementId:null,multiElement:null});var c=(0,w.dE)(t,e.state),s=c.x,u=c.y;(0,U.DR)(l,{x:s,y:u})}else"freedraw"===e.state.activeTool.type?e.handleFreeDrawElementOnPointerDown(t,e.state.activeTool.type,o):"custom"===e.state.activeTool.type?(0,w.KJ)(e.canvas,S.oc.AUTO):"eraser"!==e.state.activeTool.type&&"hand"!==e.state.activeTool.type&&e.createGenericElementOnPointerDown(e.state.activeTool.type,o);null===(n=e.props)||void 0===n||null===(r=n.onPointerDown)||void 0===r||r.call(n,e.state.activeTool,o);var g=e.onPointerMoveFromPointerDownHandler(o),d=e.onPointerUpFromPointerDownHandler(o),I=e.onKeyDownFromPointerDownHandler(o),b=e.onKeyUpFromPointerDownHandler(o);Vr=d,e.state.viewModeEnabled||(window.addEventListener(S.Ks.POINTER_MOVE,g),window.addEventListener(S.Ks.POINTER_UP,d),window.addEventListener(S.Ks.KEYDOWN,I),window.addEventListener(S.Ks.KEYUP,b),o.eventListeners.onMove=g,o.eventListeners.onUp=d,o.eventListeners.onKeyUp=b,o.eventListeners.onKeyDown=I)}else e.handleTextOnPointerDown(t,o)}}},this.handleCanvasPointerUp=function(t){if(e.lastPointerUp=t,e.device.isTouchScreen){var n=(0,w.dE)({clientX:t.clientX,clientY:t.clientY},e.state),r=e.getElementAtPosition(n.x,n.y);e.hitLinkElement=e.getElementLinkAtPosition(n,r)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(t,e.device.isTouchScreen),e.removePointer(t)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(Nr=!1,kr?Nr=!0:kr=window.setTimeout((function(){kr=0,Nr||e.handleCanvasContextMenu(t)}),S.nM))},this.resetContextMenuTimer=function(){clearTimeout(kr),kr=0,Nr=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(!(Wr.pointers.size<=1&&(t.button===S.Oh.WHEEL||t.button===S.Oh.MAIN&&Sr||(0,M.l$)(e.state)||e.state.viewModeEnabled))||(0,L.iB)(e.state.editingElement))return!1;Er=!0,t.preventDefault();var n=!1,r=/Linux/.test(window.navigator.platform);(0,w.KJ)(e.canvas,S.oc.GRABBING);var i=t.clientX,a=t.clientY,o=(0,w.$9)((function(t){var o=i-t.clientX,l=a-t.clientY;if(i=t.clientX,a=t.clientY,r&&!n&&(Math.abs(o)>1||Math.abs(l)>1)){n=!0;var c=function e(t){document.body.removeEventListener(S.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(S.Ks.PASTE,c),window.addEventListener(S.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(S.Ks.PASTE,c),window.removeEventListener(S.Ks.POINTER_UP,e)}),100)}))}e.translateCanvas({scrollX:e.state.scrollX-o/e.state.zoom.value,scrollY:e.state.scrollY-l/e.state.zoom.value})})),l=(0,w.tH)(Vr=function(){Vr=null,Er=!1,Sr||(e.state.viewModeEnabled?(0,w.KJ)(e.canvas,S.oc.GRAB):(0,w.Uk)(e.canvas,e.state)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(S.Ks.POINTER_MOVE,o),window.removeEventListener(S.Ks.POINTER_UP,l),window.removeEventListener(S.Ks.BLUR,l),o.flush()});return window.addEventListener(S.Ks.BLUR,l),window.addEventListener(S.Ks.POINTER_MOVE,o,{passive:!0}),window.addEventListener(S.Ks.POINTER_UP,l),!0},this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.activeTool.type&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if("selection"===e.state.activeTool.type){var r=e.scene.getNonDeletedElements(),i=(0,ae.eD)(r,e.state);if(1!==i.length||e.state.editingLinearElement)i.length>1&&(n.resize.handleType=(0,L.n2)((0,L.KP)(i),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var a=(0,L.jt)(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);null!=a&&(e.setState({resizingElement:a.element}),n.resize.handleType=a.transformHandleType)}if(n.resize.handleType)(0,w.KJ)(e.canvas,(0,L.Un)({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=(0,w.AK)((0,L.xx)(n.resize.handleType,i,n.origin.x,n.origin.y)),1===i.length&&(0,j.bt)(i[0])&&2===i[0].points.length&&(n.resize.arrowDirection=(0,L.T)(n.resize.handleType,i[0]));else{var o;if(e.state.selectedLinearElement){var l=e.state.editingLinearElement||e.state.selectedLinearElement,c=H._.handlePointerDown(t,e.state,e.history,n.origin,l);if(c.hitElement&&(n.hit.element=c.hitElement),c.linearElementEditor&&(e.setState({selectedLinearElement:c.linearElementEditor}),e.state.editingLinearElement&&e.setState({editingLinearElement:c.linearElementEditor})),c.didAddPoint)return!0}if(n.hit.element=null!==(o=n.hit.element)&&void 0!==o?o:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.element&&e.getElementLinkAtPosition({x:n.origin.x,y:n.origin.y},n.hit.element))return!1;n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var s=n.hit.element,u=n.hit.allHitElements.some((function(t){return e.isASelectedElement(t)}));if(null!==s&&u||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(s),e.state.editingLinearElement)e.setState({selectedElementIds:(0,I.Z)({},e.state.editingLinearElement.elementId,!0)});else if(null!=s){if(t[F.tW.CTRL_OR_CMD])return e.state.selectedElementIds[s.id]||(n.hit.wasAddedToSelection=!0),e.setState((function(t){return dr(dr({},(0,K.iE)(t,s)),{},{previousSelectedElementIds:e.state.selectedElementIds})})),!1;e.state.selectedElementIds[s.id]||(e.state.editingGroupId&&!(0,K.Nd)(s,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),u||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState((function(t){return(0,K.bO)(dr(dr({},t),{},{selectedElementIds:dr(dr({},t.selectedElementIds),{},(0,I.Z)({},s.id,!0)),showHyperlinkPopup:!!s.link&&"info"}),e.scene.getNonDeletedElements())})),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(t,n){if(!(0,L.iB)(e.state.editingElement)){var r=n.origin.x,i=n.origin.y,a=e.getElementAtPosition(r,i,{includeBoundTextElement:!0}),o=(0,Ze.OW)(e.scene.getNonDeletedElements(),e.state,r,i);(0,j.Xo)(a)&&(o=a,r=a.x+a.width/2,i=a.y+a.height/2),e.startTextEditing({sceneX:r,sceneY:i,insertAtParentCenter:!t.altKey,container:o}),(0,w.z8)(e.canvas),e.state.activeTool.locked||e.setState({activeTool:(0,w.Om)(e.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var o=(0,ne.wC)(r.origin.x,r.origin.y,null),l=(0,i.Z)(o,2),c=l[0],s=l[1],u=(0,z.KE)({type:n,x:c,y:s,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:null,simulatePressure:.5===t.pressure,locked:!1});e.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},u.id,!1))}}));var g=u.simulatePressure?u.pressures:[].concat((0,a.Z)(u.pressures),[t.pressure]);(0,U.DR)(u,{points:[[0,0]],pressures:g});var d=(0,G.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[u])),e.setState({draggingElement:u,editingElement:u,startBoundElement:d,suggestedBindings:[]})},this.createImageElement=function(t){var n=t.sceneX,r=t.sceneY,a=(0,ne.wC)(n,r,e.state.gridSize),o=(0,i.Z)(a,2),l=o[0],c=o[1];return(0,L.vw)({type:"image",x:l,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,roundness:null,opacity:e.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var o=e.state.multiElement;if("line"===o.type&&(0,ne.g6)(o.points,e.state.zoom.value))return(0,U.DR)(o,{lastCommittedPoint:o.points[o.points.length-1]}),void e.actionManager.executeAction(y.pL);var l=o.x,c=o.y,s=o.lastCommittedPoint;if(o.points.length>1&&s&&(0,ne.LW)(r.origin.x-l,r.origin.y-c,s[0],s[1])<S.qx)return void e.actionManager.executeAction(y.pL);e.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},o.id,!0))}})),(0,U.DR)(o,{lastCommittedPoint:o.points[o.points.length-1]}),(0,w.KJ)(e.canvas,S.oc.POINTER)}else{var u=(0,ne.wC)(r.origin.x,r.origin.y,e.state.gridSize),g=(0,i.Z)(u,2),d=g[0],b=g[1],h=e.state,f=h.currentItemStartArrowhead,C=h.currentItemEndArrowhead,p="arrow"===n?[f,C]:[null,null],B=(0,i.Z)(p,2),m=B[0],A=B[1],v=(0,L.y8)({type:n,x:d,y:b,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:"round"===e.state.currentItemRoundness?{type:S.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:m,endArrowhead:A,locked:!1});e.setState((function(e){return{selectedElementIds:dr(dr({},e.selectedElementIds),{},(0,I.Z)({},v.id,!1))}})),(0,U.DR)(v,{points:[].concat((0,a.Z)(v.points),[[0,0]])});var x=(0,G.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[v])),e.setState({draggingElement:v,editingElement:v,startBoundElement:x,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=(0,ne.wC)(n.origin.x,n.origin.y,e.state.gridSize),o=(0,i.Z)(r,2),l=o[0],c=o[1],s=(0,L.Up)({type:t,x:l,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:"round"===e.state.currentItemRoundness?{type:(0,j.QI)(t)?S.a6.ADAPTIVE_RADIUS:S.a6.PROPORTIONAL_RADIUS}:null,locked:!1});"selection"===s.type?e.setState({selectionElement:s,draggingElement:s}):(e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[s])),e.setState({multiElement:null,draggingElement:s,editingElement:s}))},this.restoreReadyToEraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase?(0,U.BE)(e,{opacity:t.elementIdsToErase[e.id].opacity}):(0,j.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,U.BE)(e,{opacity:t.elementIdsToErase[e.containerId].opacity}):e}));e.scene.replaceAllElements(n)},this.eraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase||(0,j.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,U.BE)(e,{isDeleted:!0}):e}));e.history.resumeRecording(),e.scene.replaceAllElements(n)},this.initializeImage=function(){var t=(0,o.Z)(h().mark((function t(n){var r,i,a,l,c,s,u,g,d,b,f,C,p,B,m;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=n.imageFile,c=n.imageElement,s=n.showCursorImagePreview,u=void 0!==s&&s,(0,ze.Wr)(l)){t.next=3;break}throw new Error((0,Q.t)("errors.unsupportedFileType"));case 3:if(g=l.type,(0,w.KJ)(e.canvas,"wait"),g!==S.LO.svg){t.next=23;break}return t.prev=6,t.t0=ze.Pn,t.t1=Pn.bp,t.next=11,l.text();case 11:return t.t2=t.sent,t.next=14,(0,t.t1)(t.t2);case 14:t.t3=t.sent,t.t4=l.name,l=(0,t.t0)(t.t3,t.t4),t.next=23;break;case 19:throw t.prev=19,t.t5=t.catch(6),console.warn(t.t5),new Error((0,Q.t)("errors.svgImageInsertError"));case 23:return t.next=25,(null===(r=(i=e.props).generateIdForFile)||void 0===r?void 0:r.call(i,l))||(0,ze.tW)(l);case 25:if(d=t.sent){t.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,Q.t)("errors.imageInsertError"));case 29:if(null!=(b=e.files[d])&&b.dataURL){t.next=42;break}return t.prev=31,t.next=34,(0,ze.Tu)(l,{maxWidthOrHeight:S.h6});case 34:l=t.sent,t.next=40;break;case 37:t.prev=37,t.t6=t.catch(31),console.error("error trying to resing image file on insertion",t.t6);case 40:if(!(l.size>S.$n)){t.next=42;break}throw new Error((0,Q.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(S.$n/1024/1024),"MB")}));case 42:if(u&&(C=null===(f=e.files[d])||void 0===f?void 0:f.dataURL,p=C&&(0,ze.KG)(C),e.setImagePreviewCursor(p||l)),t.t7=null===(a=e.files[d])||void 0===a?void 0:a.dataURL,t.t7){t.next=48;break}return t.next=47,(0,ze.Sf)(l);case 47:t.t7=t.sent;case 48:return B=t.t7,m=(0,U.DR)(c,{fileId:d},!1),t.abrupt("return",new Promise(function(){var t=(0,o.Z)(h().mark((function t(n,r){var i,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.files=dr(dr({},e.files),{},(0,I.Z)({},d,{mimeType:g,id:d,dataURL:B,created:Date.now(),lastRetrieved:Date.now()})),a=e.imageCache.get(d)){t.next=7;break}return e.addNewImagesToImageCache(),t.next=7,e.updateImageCache([m]);case 7:if(!((null==a?void 0:a.image)instanceof Promise)){t.next=10;break}return t.next=10,a.image;case 10:e.state.pendingImageElementId!==m.id&&(null===(i=e.state.draggingElement)||void 0===i?void 0:i.id)!==m.id&&e.initializeImageDimensions(m,!0),n(m),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r(new Error((0,Q.t)("errors.imageInsertError")));case 18:return t.prev=18,u||(0,w.z8)(e.canvas),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,14,18,21]])})));return function(e,n){return t.apply(this,arguments)}}()));case 51:case"end":return t.stop()}}),t,null,[[6,19],[31,37]])})));return function(e){return t.apply(this,arguments)}}(),this.insertImageElement=function(){var t=(0,o.Z)(h().mark((function t(n,r,i){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[n])),t.prev=1,t.next=4,e.initializeImage({imageFile:r,imageElement:n,showCursorImagePreview:i});case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),(0,U.DR)(n,{isDeleted:!0}),e.actionManager.executeAction(y.pL),e.setState({errorMessage:t.t0.message||(0,Q.t)("errors.imageInsertError")});case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var t=(0,o.Z)(h().mark((function t(n){var r,i,a,o,l,c,s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=96,t.next=3,(0,ze.Tu)(n,{maxWidthOrHeight:r});case 3:return i=t.sent,t.next=6,(0,ze.Sf)(i);case 6:if(a=t.sent,n.type!==S.LO.svg){t.next=20;break}return t.next=10,(0,Pn.PK)(a);case 10:o=t.sent,l=Math.min(o.height,r),(c=l*(o.width/o.height))>r&&(l=(c=r)*(o.height/o.width)),(s=document.createElement("canvas")).height=l,s.width=c,s.getContext("2d").drawImage(o,0,0,c,l),a=s.toDataURL(S.LO.svg);case 20:e.state.pendingImageElementId&&(0,w.KJ)(e.canvas,"url(".concat(a,") 4 4, auto"));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onImageAction=(0,o.Z)(h().mark((function t(){var n,r,i,a,o,l,c,s,u,g=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.length>0&&void 0!==g[0]?g[0]:{insertOnCanvasDirectly:!1},r=n.insertOnCanvasDirectly,t.prev=1,i=e.state.width/2+e.state.offsetLeft,a=e.state.height/2+e.state.offsetTop,o=(0,w.dE)({clientX:i,clientY:a},e.state),l=o.x,c=o.y,t.next=7,(0,Ke.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:s=t.sent,u=e.createImageElement({sceneX:l,sceneY:c}),r?(e.insertImageElement(u,s),e.initializeImageDimensions(u),e.setState({selectedElementIds:(0,I.Z)({},u.id,!0)},(function(){e.actionManager.executeAction(y.pL)}))):e.setState({pendingImageElementId:u.id},(function(){e.insertImageElement(u,s,!0)})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),"AbortError"!==t.t0.name?console.error(t.t0):console.warn(t.t0),e.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,w.Om)(e.state,{type:"selection"})},(function(){e.actionManager.executeAction(y.pL)}));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),this.initializeImageDimensions=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,j.wi)(t)&&(null===(n=e.imageCache.get(t.fileId))||void 0===n?void 0:n.image);if(!i||i instanceof Promise){if(t.width<S.f/e.state.zoom.value&&t.height<S.f/e.state.zoom.value){var a=100/e.state.zoom.value;(0,U.DR)(t,{x:t.x-a/2,y:t.y-a/2,width:a,height:a})}}else if(r||t.width<S.f/e.state.zoom.value&&t.height<S.f/e.state.zoom.value){var o=Math.max(e.state.height-120,160),l=Math.min(o,Math.floor(.5*e.state.height)/e.state.zoom.value),c=Math.min(i.naturalHeight,l),s=c*(i.naturalWidth/i.naturalHeight),u=t.x+t.width/2-s/2,g=t.y+t.height/2-c/2;(0,U.DR)(t,{x:u,y:g,width:s,height:c})}},this.updateImageCache=function(){var t=(0,o.Z)(h().mark((function t(n){var r,i,a,o,l,c,s,u=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:e.files,t.next=3,(0,Pn.Xx)({imageCache:e.imageCache,fileIds:n.map((function(e){return e.fileId})),files:r});case 3:if(i=t.sent,a=i.updatedFiles,o=i.erroredFiles,a.size||o.size){l=cr(n);try{for(l.s();!(c=l.n()).done;)s=c.value,a.has(s.fileId)&&(0,ie.bI)(s)}catch(e){l.e(e)}finally{l.f()}}return o.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map((function(e){return(0,j.wi)(e)&&o.has(e.fileId)?(0,U.BE)(e,{status:"error"}):e}))),t.abrupt("return",{updatedFiles:a,erroredFiles:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,o.Z)(h().mark((function t(){var n,r,i,a=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:(0,Pn.oA)(e.scene.getNonDeletedElements()),r=a.length>1&&void 0!==a[1]?a[1]:e.files,!(i=n.filter((function(t){return!t.isDeleted&&!e.imageCache.has(t.fileId)}))).length){t.next=9;break}return t.next=6,e.updateImageCache(i,r);case 6:t.sent.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return t.stop()}}),t)}))),this.scheduleImageRefresh=qn()((function(){e.addNewImagesToImageCache()}),S.LL),this.updateBindingEnabledOnPointerMove=function(t){var n=(0,G.cz)(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=(0,G.Y9)(t,e.scene);e.setState({suggestedBindings:null!=n?[n]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(t,n,r){if(n.length){var i=n.reduce((function(n,i){var a=(0,G.Y9)(i,e.scene);return null==a||(0,G.DK)(t,null==r?void 0:r.id,a)||n.push(a),n}),[]);e.setState({suggestedBindings:i})}},this.handleCanvasRef=function(t){var n,r,i;null!==t?(e.canvas=t,e.rc=B.Z.canvas(e.canvas),e.canvas.addEventListener(S.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(S.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(S.Ks.TOUCH_END,e.onTapEnd)):(null===(n=e.canvas)||void 0===n||n.removeEventListener(S.Ks.WHEEL,e.handleWheel),null===(r=e.canvas)||void 0===r||r.removeEventListener(S.Ks.TOUCH_START,e.onTapStart),null===(i=e.canvas)||void 0===i||i.removeEventListener(S.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,o.Z)(h().mark((function t(n){var r,i,a,o,l,c,s,u,g,d;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ze.bv)(n);case 2:if(r=t.sent,i=r.file,a=r.fileHandle,t.prev=5,!(0,ze.Wr)(i)){t.next=26;break}if((null==i?void 0:i.type)!==S.LO.png&&(null==i?void 0:i.type)!==S.LO.svg){t.next=20;break}return t.prev=8,t.next=11,(0,W.cT)(i,e.state,e.scene.getElementsIncludingDeleted(),a);case 11:return o=t.sent,e.syncActionResult(dr(dr({},o),{},{appState:dr(dr({},o.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.abrupt("return");case 16:if(t.prev=16,t.t0=t.catch(8),"EncodingError"===t.t0.name){t.next=20;break}throw t.t0;case 20:return l=(0,w.dE)(n,e.state),c=l.x,s=l.y,u=e.createImageElement({sceneX:c,sceneY:s}),e.insertImageElement(u,i),e.initializeImageDimensions(u),e.setState({selectedElementIds:(0,I.Z)({},u.id,!0)}),t.abrupt("return");case 26:t.next=31;break;case 28:return t.prev=28,t.t1=t.catch(5),t.abrupt("return",e.setState({isLoading:!1,errorMessage:t.t1.message}));case 31:if(!(g=n.dataTransfer.getData(S.LO.excalidrawlib))||"string"!=typeof g){t.next=35;break}try{d=(0,ze.wf)(g),e.addElementsFromPasteOrLibrary({elements:(0,R.WV)(d),position:n,files:null})}catch(t){e.setState({errorMessage:t.message})}return t.abrupt("return");case 35:if(!i){t.next=38;break}return t.next=38,e.loadFileToCanvas(i,a);case 38:case"end":return t.stop()}}),t,null,[[5,28],[8,16]])})));return function(e){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var t=(0,o.Z)(h().mark((function t(n,r){var i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ze.gY)(n);case 2:return n=t.sent,t.prev=3,t.next=6,(0,ze.ZY)(n,e.state,e.scene.getElementsIncludingDeleted(),r);case 6:if((i=t.sent).type!==S.LO.excalidraw){t.next=12;break}e.setState({isLoading:!0}),e.syncActionResult(dr(dr({},i.data),{},{appState:dr(dr({},i.data.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.next=15;break;case 12:if(i.type!==S.LO.excalidrawlib){t.next=15;break}return t.next=15,e.library.updateLibrary({libraryItems:n,merge:!0,openLibraryMenu:!0}).catch((function(t){console.error(t),e.setState({errorMessage:(0,Q.t)("errors.importLibraryError")})}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),e.setState({isLoading:!1,errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e,n){return t.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(t){if(t.preventDefault(),"touch"!==t.nativeEvent.pointerType&&("pen"!==t.nativeEvent.pointerType||t.button===S.Oh.SECONDARY)||"selection"===e.state.activeTool.type){var n=(0,w.dE)(t,e.state),r=n.x,i=n.y,a=e.getElementAtPosition(r,i,{preferSelected:!0,includeLockedElements:!0}),o=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state),l=e.isHittingCommonBoundingBoxOfSelectedElements({x:r,y:i},o),c=a||l?"element":"canvas",s=e.excalidrawContainerRef.current.getBoundingClientRect(),u=s.top,g=s.left,d=t.clientX-g,b=t.clientY-u;(0,N.L)("contextMenu","openContextMenu",c),e.setState(dr(dr({},a&&!e.state.selectedElementIds[a.id]?(0,K.bO)(dr(dr({},e.state),{},{selectedElementIds:(0,I.Z)({},a.id,!0),selectedLinearElement:(0,j.bt)(a)?new H._(a,e.scene):null}),e.scene.getNonDeletedElements()):e.state),{},{showHyperlinkPopup:!1}),(function(){e.setState({contextMenu:{top:b,left:d,items:e.getContextMenuItems(c)}})}))}},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,a=t.lastCoords;if(r)if("selection"===r.type&&"eraser"!==e.state.activeTool.type)(0,L.EJ)(r,e.state.activeTool.type,t.origin.x,t.origin.y,a.x,a.y,(0,w.TE)(t.origin.x,a.x),(0,w.TE)(t.origin.y,a.y),(0,F.E0)(n),(0,F.OA)(n));else{var o,l=(0,ne.wC)(a.x,a.y,e.state.gridSize),c=(0,i.Z)(l,2),s=c[0],u=c[1],g=(0,j.wi)(r)&&(null===(o=e.imageCache.get(r.fileId))||void 0===o?void 0:o.image),d=!g||g instanceof Promise?null:g.width/g.height;(0,L.EJ)(r,e.state.activeTool.type,t.originInGrid.x,t.originInGrid.y,s,u,(0,w.TE)(t.originInGrid.x,s),(0,w.TE)(t.originInGrid.y,u),(0,j.pC)(r)?!(0,F.E0)(n):(0,F.E0)(n),(0,F.OA)(n),d),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=(0,ae.eD)(e.scene.getNonDeletedElements(),e.state),a=t.resize.handleType;e.setState({isResizing:a&&"rotation"!==a,isRotating:"rotation"===a});var o=t.lastCoords,l=(0,ne.wC)(o.x-t.resize.offset.x,o.y-t.resize.offset.y,e.state.gridSize),c=(0,i.Z)(l,2),s=c[0],u=c[1];return!!(0,L.vY)(t,a,r,t.resize.arrowDirection,(0,F.Ge)(n),(0,F.OA)(n),1===r.length&&(0,j.pC)(r[0])?!(0,F.E0)(n):(0,F.E0)(n),s,u,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this.getContextMenuItems=function(t){var n=[];return n.push(y.jK,y.FA),"canvas"===t?e.state.viewModeEnabled?[].concat(n,[y.Pb,y.JN,Jn,y.u0]):[ir.yQ,Qe,y.jK,y.FA,y.zp,Qe,y.Yy,Qe,y.Pb,y.JN,Jn,y.u0]:(n.push(y.zp),e.state.viewModeEnabled?[y.uN].concat(n):[y.ZM,y.uN,ir.yQ,Qe].concat(n,[Qe,y.pw,y.W3,Qe,y.EQ,y.y7,y.vD,or.JQ,y.s,Qe,y.FL,Qe,y.V,y.yA,y.zi,y.BZ,Qe,y.jl,y.kt,Qe,y.Qs,y.nz,y.xF,y.iL,Qe,y.X9]))},this.handleWheel=(0,w.tH)((function(t){if(t.preventDefault(),!Er){var n=t.deltaX,r=t.deltaY;if(t.metaKey||t.ctrlKey){var i=Math.sign(r),a=100*S.V4,o=Math.abs(r),l=r;o>a&&(l=a*i);var c=e.state.zoom.value-l/100;return c+=Math.log10(Math.max(1,e.state.zoom.value))*-i*Math.min(1,o/20),e.translateCanvas((function(e){return dr(dr({},(0,le.E)({viewportX:Gr,viewportY:wr,nextZoom:(0,ae.j)(c)},e)),{},{shouldCacheIgnoreZoom:!0})})),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.translateCanvas((function(e){var t=e.zoom;return{scrollX:e.scrollX-(r||n)/t.value}})):e.translateCanvas((function(e){var t=e.zoom,i=e.scrollX,a=e.scrollY;return{scrollX:i-n/t.value,scrollY:a-r/t.value}}))}})),this.savePointer=function(t,n,r){var i,a;if(t&&n){var o=(0,w.dE)({clientX:t,clientY:n},e.state);isNaN(o.x)||isNaN(o.y),null===(i=(a=e.props).onPointerUpdate)||void 0===i||i.call(a,{pointer:o,button:r,pointersMap:Wr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,w.Ds)((function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})}),300),this.updateDOMRect=function(t){var n;if(null!==(n=e.excalidrawContainerRef)&&void 0!==n&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),i=r.width,a=r.height,o=r.left,l=r.top,c=e.state,s=c.width,u=c.height,g=c.offsetTop,d=c.offsetLeft;if(i===s&&a===u&&o===d&&l===g)return void(t&&t());e.setState({width:i,height:a,offsetLeft:o,offsetTop:l},(function(){t&&t()}))}},this.refresh=function(){e.setState(dr({},e.getCanvasOffsets()))}};"production"!==S.Vi.TEST&&"production"!==S.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements(e)}}}));var Lr=Rr},3807:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var r=n(45),i=n(3646),a=n(487),o=n.n(a),l=n(631),c=n.n(l),s=n(2052),u=n.n(s),g=n(4010),d=n.n(g),I=n(1469),b=n.n(I),h=n(9329),f=n.n(h),C=n(6029),p={};p.styleTagTransform=f(),p.setAttributes=d(),p.insert=u().bind(null,"head"),p.domAPI=c(),p.insertStyleElement=b(),o()(C.Z,p),C.Z&&C.Z.locals&&C.Z.locals;var B=n(4512),m=function(e){var t=e.children,n=e.checked,a=e.onChange,o=e.className;return(0,B.jsxs)("div",{className:(0,r.Z)("Checkbox",o,{"is-checked":n}),onClick:function(e){a(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,B.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:i.eQ}),(0,B.jsx)("div",{className:"Checkbox-label",children:t})]})}},4499:function(e,t,n){"use strict";n.d(t,{z:function(){return E}});var r=n(2577),i=n(9787),a=n.n(i),o=n(2891),l=n(6340),c=n(487),s=n.n(c),u=n(631),g=n.n(u),d=n(2052),I=n.n(d),b=n(4010),h=n.n(b),f=n(1469),C=n.n(f),p=n(9329),B=n.n(p),m=n(2345),A={};A.styleTagTransform=B(),A.setAttributes=h(),A.insert=I().bind(null,"head"),A.domAPI=g(),A.insertStyleElement=C(),s()(m.Z,A),m.Z&&m.Z.locals&&m.Z.locals;var y=n(6066),v=n(8211),x=n(56),Q=n(4512),F=function(e,t){return!x.Z[t].includes(e)},U=function(e){var t=(new Option).style;return t.color=e,!!t.color},G=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),w=function(e){var t=e.colors,n=e.color,i=e.onChange,o=e.onClose,c=e.label,s=e.showInput,u=void 0===s||s,g=e.type,d=e.elements,I=a().useRef(),b=a().useRef(),h=a().useRef(),f=a().useRef(),C=a().useState((function(){return"canvasBackground"===g?[]:function(e,t){for(var n=[],r=e.filter((function(e){return!e.isDeleted})).sort((function(e,t){return t.updated-e.updated})),i=0,a={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[t];i<r.length&&n.length<5;){var o=r[i];n.length<5&&F(o[a],t)&&!n.includes(o[a])&&n.push(o[a]),i++}return n}(d,g)})),p=(0,r.Z)(C,1)[0];a().useEffect((function(){b.current?b.current.focus():f.current?f.current.focus():h.current&&h.current.focus()}),[]);var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e,r){var a=e.replace("#",""),o=t?G[r+15]:G[r],c=t?a:(0,v.t)("colors.".concat(a));return(0,Q.jsxs)("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),i(e)},title:"".concat(c).concat((0,l.Qm)(e)?"":" (".concat(e,")")," \u2014 ").concat(o.toUpperCase()),"aria-label":c,"aria-keyshortcuts":G[r],style:{color:e},ref:function(i){!t&&i&&0===r&&(I.current=i),i&&e===n&&(b.current=i)},onFocus:function(){i(e)},children:[(0,l.Qm)(e)?(0,Q.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,Q.jsx)("span",{className:"color-picker-keybinding",children:o})]},e)}))};return(0,Q.jsxs)("div",{className:"color-picker color-picker-type-".concat(g),role:"dialog","aria-modal":"true","aria-label":(0,v.t)("labels.colorPicker"),onKeyDown:function(e){var t=!1;if((0,y.Wl)(e.key)){var n,r,i;t=!0;var a,c=document.activeElement,s=(0,v.G3)().rtl,g=!1,d=Array.prototype.indexOf.call(null===(n=h.current.querySelector(".color-picker-content--default"))||void 0===n?void 0:n.children,c);-1===d&&-1!==(d=Array.prototype.indexOf.call(null===(a=h.current.querySelector(".color-picker-content--canvas-colors"))||void 0===a?void 0:a.children,c))&&(g=!0);var I=g?null===(r=h.current)||void 0===r?void 0:r.querySelector(".color-picker-content--canvas-colors"):null===(i=h.current)||void 0===i?void 0:i.querySelector(".color-picker-content--default");if(I&&-1!==d){var b,f=I.children.length-(u?1:0),C=e.key===(s?y.tW.ARROW_LEFT:y.tW.ARROW_RIGHT)?(d+1)%f:e.key===(s?y.tW.ARROW_RIGHT:y.tW.ARROW_LEFT)?(f+d-1)%f:g||e.key!==y.tW.ARROW_DOWN?g||e.key!==y.tW.ARROW_UP?d:(f+d-5)%f:(d+5)%f;null===(b=I.children[C])||void 0===b||b.focus()}e.preventDefault()}else if(!G.includes(e.key.toLowerCase())||e[y.tW.CTRL_OR_CMD]||e.altKey||(0,l.s)(e.target))e.key!==y.tW.ESCAPE&&e.key!==y.tW.ENTER||(t=!0,e.preventDefault(),o());else{var p,B,m;t=!0;var A=G.indexOf(e.key.toLowerCase()),x=A>=15,Q=x?null==h||null===(p=h.current)||void 0===p?void 0:p.querySelector(".color-picker-content--canvas-colors"):null==h||null===(B=h.current)||void 0===B?void 0:B.querySelector(".color-picker-content--default"),F=x?A-15:A;null==Q||null===(m=Q.children[F])||void 0===m||m.focus(),e.preventDefault()}t&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},children:[(0,Q.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,Q.jsx)("div",{className:"color-picker-triangle"}),(0,Q.jsxs)("div",{className:"color-picker-content",ref:function(e){e&&(h.current=e)},tabIndex:-1,children:[(0,Q.jsx)("div",{className:"color-picker-content--default",children:B(t)}),!!p.length&&(0,Q.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,Q.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,v.t)("labels.canvasColors")}),(0,Q.jsx)("div",{className:"color-picker-content--canvas-colors",children:B(p,!0)})]}),u&&(0,Q.jsx)(S,{color:n,label:c,onChange:function(e){i(e)},ref:f})]})]})},S=a().forwardRef((function(e,t){var n=e.color,i=e.onChange,o=e.label,c=a().useState(n),s=(0,r.Z)(c,2),u=s[0],g=s[1],d=a().useRef(null);a().useEffect((function(){g(n)}),[n]),a().useImperativeHandle(t,(function(){return d.current}));var I=a().useCallback((function(e){var t=e.toLowerCase(),n=function(e){return(0,l.Qm)(e)?e:U("#".concat(e))?"#".concat(e):U(e)?e:null}(t);n&&i(n),g(t)}),[i]);return(0,Q.jsxs)("label",{className:"color-input-container",children:[(0,Q.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,Q.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":o,onChange:function(e){return I(e.target.value)},value:(u||"").replace(/^#/,""),onBlur:function(){return g(n)},ref:d})]})}));S.displayName="ColorInput";var E=function(e){var t,n=e.type,r=e.color,i=e.onChange,l=e.label,c=e.isActive,s=e.setActive,u=e.elements,g=(e.appState,a().useRef(null)),d=null===(t=g.current)||void 0===t?void 0:t.getBoundingClientRect();return(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("div",{className:"color-picker-control-container",children:[(0,Q.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,Q.jsx)("button",{className:"color-picker-label-swatch","aria-label":l,style:r?{"--swatch-color":r}:void 0,onClick:function(){return s(!c)},ref:g})}),(0,Q.jsx)(S,{color:r,label:l,onChange:function(e){i(e)}})]}),(0,Q.jsx)(a().Suspense,{fallback:"",children:c?(0,Q.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:null==d?void 0:d.top,left:null==d?void 0:d.right,zIndex:1},children:(0,Q.jsx)(o.J,{onCloseRequest:function(e){return e.target!==g.current&&s(!1)},children:(0,Q.jsx)(w,{colors:x.Z[n],color:r||null,onChange:function(e){i(e)},onClose:function(){var e;s(!1),null===(e=g.current)||void 0===e||e.focus()},label:l,showInput:!1,type:n,elements:u})})}):null})]})}},7046:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(7169),i=n(2726),a=n(8211),o=n(8396),l=n(487),c=n.n(l),s=n(631),u=n.n(s),g=n(2052),d=n.n(g),I=n(4010),b=n.n(I),h=n(1469),f=n.n(h),C=n(9329),p=n.n(C),B=n(9393),m={};m.styleTagTransform=p(),m.setAttributes=b(),m.insert=d().bind(null,"head"),m.domAPI=u(),m.insertStyleElement=f(),c()(B.Z,m),B.Z&&B.Z.locals&&B.Z.locals;var A=n(6428),y=n(4739),v=n(9206),x=n(2134),Q=n(9487),F=n(4512),U=["onConfirm","onCancel","children","confirmText","cancelText","className"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,l=e.confirmText,c=void 0===l?(0,a.t)("buttons.confirm"):l,s=e.cancelText,u=void 0===s?(0,a.t)("buttons.cancel"):s,g=e.className,d=void 0===g?"":g,I=(0,i.Z)(e,U),b=(0,x.n9)(),h=(0,y.b9)(v.u,Q.yE);return(0,F.jsxs)(o.V,w(w({onCloseRequest:n,small:!0},I),{},{className:"confirm-dialog ".concat(d),children:[r,(0,F.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,F.jsx)(A.Z,{label:u,onClick:function(){b({openMenu:null}),h(!1),n()}}),(0,F.jsx)(A.Z,{label:c,onClick:function(){b({openMenu:null}),h(!1),t()},actionType:"danger"})]})]}))}},8396:function(e,t,n){"use strict";n.d(t,{V:function(){return T}});var r=n(2577),i=n(45),a=n(9787),o=n(8211),l=n(2134),c=n(6066),s=n(487),u=n.n(s),g=n(631),d=n.n(g),I=n(2052),b=n.n(I),h=n(4010),f=n.n(h),C=n(1469),p=n.n(C),B=n(9329),m=n.n(B),A=n(9482),y={};y.styleTagTransform=m(),y.setAttributes=f(),y.insert=b().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=p(),u()(A.Z,y),A.Z&&A.Z.locals&&A.Z.locals;var v=n(3646),x=n(1881),Q=n(6843),F={};F.styleTagTransform=m(),F.setAttributes=f(),F.insert=b().bind(null,"head"),F.domAPI=d(),F.insertStyleElement=p(),u()(Q.Z,F),Q.Z&&Q.Z.locals&&Q.Z.locals;var U=n(5156),G=n(2335),w=n(4512),S=function(e){var t=e.theme,n=void 0===t?G.C6.LIGHT:t,r=e.closeOnClickOutside,a=void 0===r||r,o=E(n);return o?(0,U.createPortal)((0,w.jsxs)("div",{className:(0,i.Z)("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===c.tW.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,w.jsx)("div",{className:"Modal__background",onClick:a?e.onCloseRequest:void 0}),(0,w.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),o):null},E=function(e){var t=(0,a.useState)(null),n=(0,r.Z)(t,2),i=n[0],o=n[1],c=(0,l.Fy)(),s=(0,a.useRef)(c.isMobile);s.current=c.isMobile;var u=(0,l.J0)().container;return(0,a.useLayoutEffect)((function(){i&&i.classList.toggle("excalidraw--mobile",c.isMobile)}),[i,c.isMobile]),(0,a.useLayoutEffect)((function(){var t=!(null==u||!u.classList.contains("theme--dark"))||"dark"===e,n=document.createElement("div");return n.classList.add("excalidraw","excalidraw-modal-container"),n.classList.toggle("excalidraw--mobile",s.current),t&&(n.classList.add("theme--dark"),n.classList.add("theme--dark-background-none")),document.body.appendChild(n),o(n),function(){document.body.removeChild(n)}}),[u,e]),i},X=n(6340),Z=n(4739),k=n(9206),N=n(9487),T=function(e){var t=function(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,(0,a.useCallback)((function(e){return i(e)}),[])]}(),n=(0,r.Z)(t,2),s=n[0],u=n[1],g=(0,a.useState)(document.activeElement),d=(0,r.Z)(g,1)[0],I=(0,l.J0)().id;(0,a.useEffect)((function(){if(s){var t=(0,X.xp)(s);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===c.tW.TAB){var t=(0,X.xp)(s),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return s.addEventListener("keydown",n),function(){return s.removeEventListener("keydown",n)}}}),[s,e.autofocus]);var b=(0,l.n9)(),h=(0,Z.b9)(k.u,N.yE),f=function(){b({openMenu:null}),h(!1),d.focus(),e.onCloseRequest()};return(0,w.jsx)(S,{className:(0,i.Z)("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:f,theme:e.theme,closeOnClickOutside:e.closeOnClickOutside,children:(0,w.jsxs)(x.W,{ref:u,children:[(0,w.jsxs)("h2",{id:"".concat(I,"-dialog-title"),className:"Dialog__title",children:[(0,w.jsx)("span",{className:"Dialog__titleContent",children:e.title}),(0,w.jsx)("button",{className:"Modal__close",onClick:f,title:(0,o.t)("buttons.close"),"aria-label":(0,o.t)("buttons.close"),children:(0,l.Fy)().isMobile?v.op:v.Tw})]}),(0,w.jsx)("div",{className:"Dialog__content",children:e.children})]})})}},6428:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(7169),i=n(2726),a=n(45),o=n(487),l=n.n(o),c=n(631),s=n.n(c),u=n(2052),g=n.n(u),d=n(4010),I=n.n(d),b=n(1469),h=n.n(b),f=n(9329),C=n.n(f),p=n(6148),B={};B.styleTagTransform=C(),B.setAttributes=I(),B.insert=g().bind(null,"head"),B.domAPI=s(),B.insertStyleElement=h(),l()(p.Z,B),p.Z&&p.Z.locals&&p.Z.locals;var m=n(5644),A=n(4512),y=["label","onClick","className","children","actionType","type","isLoading"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){var t=e.label,n=e.onClick,r=e.className,o=e.children,l=e.actionType,c=e.type,s=void 0===c?"button":c,u=e.isLoading,g=(0,i.Z)(e,y),d=l?"Dialog__action-button--".concat(l):"";return(0,A.jsxs)("button",x(x({className:(0,a.Z)("Dialog__action-button",d,r),type:s,"aria-label":t,onClick:n},g),{},{children:[o&&(0,A.jsx)("div",{style:u?{visibility:"hidden"}:{},children:o}),(0,A.jsx)("div",{style:u?{visibility:"hidden"}:{},children:t}),u&&(0,A.jsx)("div",{style:{position:"absolute",inset:0},children:(0,A.jsx)(m.Z,{})})]}))}},1881:function(e,t,n){"use strict";n.d(t,{W:function(){return x}});var r=n(7169),i=n(487),a=n.n(i),o=n(631),l=n.n(o),c=n(2052),s=n.n(c),u=n(4010),g=n.n(u),d=n(1469),I=n.n(d),b=n(9329),h=n.n(b),f=n(7369),C={};C.styleTagTransform=h(),C.setAttributes=g(),C.insert=s().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=I(),a()(f.Z,C),f.Z&&f.Z.locals&&f.Z.locals;var p=n(9787),B=n.n(p),m=n(45),A=n(4512);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=B().forwardRef((function(e,t){var n=e.children,r=e.padding,i=e.className,a=e.style;return(0,A.jsx)("div",{className:(0,m.Z)("Island",i),style:v({"--padding":r},a),ref:t,children:n})}))},9206:function(e,t,n){"use strict";n.d(t,{W:function(){return K},u:function(){return J}});var r=n(8950),i=n(2577),a=n(2975),o=n.n(a),l=n(9787),c=n(5523),s=n(7053),u=n(8211),g=n(3646),d=n(1319),I=n(1393),b=n(6340),h=n(4739),f=n(9487),C=n(7046),p=n(7169),B=n(5284),m=n(8396),A=n(3024),y=n(2335),v=n(434),x=n(6428),Q=n(487),F=n.n(Q),U=n(631),G=n.n(U),w=n(2052),S=n.n(w),E=n(4010),X=n.n(E),Z=n(1469),k=n.n(Z),N=n(9329),T=n.n(N),D=n(7589),O={};O.styleTagTransform=T(),O.setAttributes=X(),O.insert=S().bind(null,"head"),O.domAPI=G(),O.insertStyleElement=k(),F()(D.Z,O),D.Z&&D.Z.locals&&D.Z.locals;var M=n(4512);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L="publish-library-data",H=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,l,c,s,u,g,d,I,h,f,C,p,m,x,Q;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=6,r=128,a=Math.round(r/16),l=Math.max(Math.round(r/64),2),c=(0,b.yo)(t,n),(s=document.createElement("canvas")).width=c[0].length*r+(c[0].length+1)*(2*a)-2*a,s.height=c.length*r+(c.length+1)*(2*a)-2*a,(u=s.getContext("2d")).fillStyle=B.white,u.fillRect(0,0,s.width,s.height),g=R(t.entries()),e.prev=12,g.s();case 14:if((d=g.n()).done){e.next=28;break}return I=(0,i.Z)(d.value,2),h=I[0],f=I[1],e.next=18,(0,A.NL)({elements:f.elements,files:null,maxWidthOrHeight:r});case 18:C=e.sent,p=C.width,m=C.height,x=Math.floor(h/n)*(r+2*a),Q=h%n*(r+2*a),u.drawImage(C,Q+(r-p)/2+a,x+(r-m)/2+a),u.lineWidth=l,u.strokeStyle=B.gray[4],u.strokeRect(Q+a/2,x+a/2,r+a,r+a);case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),g.e(e.t0);case 33:return e.prev=33,g.f(),e.finish(33);case 36:return e.t1=v.Tu,e.t2=File,e.next=40,(0,v._c)(s);case 40:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:y.LO.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:y.LO.jpg,maxWidthOrHeight:5e3},e.next=47,(0,e.t1)(e.t6,e.t7);case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e,null,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=e.libItem,n=e.appState,i=e.index,a=e.onChange,c=e.onRemove,s=(0,l.useRef)(null),I=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=s.current;e&&(0,r.Z)(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,A.$D)({elements:t.elements,appState:W(W({},n),{},{viewBackgroundColor:B.white,exportBackground:!0}),files:null});case 2:i=r.sent,e.innerHTML=i.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,M.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,M.jsx)("span",{className:"single-library-item-status",children:(0,u.t)("labels.statusPublished")}),(0,M.jsx)("div",{ref:s,className:"single-library-item__svg"}),(0,M.jsx)(d.V,{"aria-label":(0,u.t)("buttons.remove"),type:"button",icon:g.Tw,className:"single-library-item--remove",onClick:c.bind(null,t.id),title:(0,u.t)("buttons.remove")}),(0,M.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,M.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,M.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,M.jsx)("span",{style:{fontWeight:500,color:B.gray[6]},children:(0,u.t)("publishDialog.itemName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",ref:I,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){a(e.target.value,i)}})]}),(0,M.jsx)("span",{className:"error",children:t.error})]})]})},j=function(e){var t=e.onClose,n=e.libraryItems,a=e.appState,c=e.onSuccess,s=e.onError,g=e.updateItemsInStorage,d=e.onRemove,I=(0,l.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),b=(0,i.Z)(I,2),h=b[0],f=b[1],C=(0,l.useState)(!1),B=(0,i.Z)(C,2),A=B[0],v=B[1];(0,l.useEffect)((function(){var e=function(){try{var e=localStorage.getItem(L);if(e)return JSON.parse(e)}catch(e){console.error(e)}return null}();e&&f(e)}),[]);var Q=(0,l.useState)(n.slice()),F=(0,i.Z)(Q,2),U=F[0],G=F[1];(0,l.useEffect)((function(){G(n.slice())}),[n]);var w,S=function(e){f(W(W({},h),{},(0,p.Z)({},e.target.name,e.target.value)))},E=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,l,g,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),n=[],r=!1,U.forEach((function(e){var t="";e.name||(t=(0,u.t)("publishDialog.errors.required"),r=!0),n.push(W(W({},e),{},{error:t}))})),!r){e.next=9;break}return G(n),v(!1),e.abrupt("return");case 9:return e.next=11,H(U);case 11:i=e.sent,a={type:y.r8.excalidrawLibrary,version:y.Kr.excalidrawLibrary,source:y.pb,libraryItems:U},l=JSON.stringify(a,null,2),g=new Blob([l],{type:"application/json"}),(d=new FormData).append("excalidrawLib",g),d.append("previewImage",i),d.append("previewImageType",i.type),d.append("title",h.name),d.append("authorName",h.authorName),d.append("githubHandle",h.githubHandle),d.append("name",h.name),d.append("description",h.description),d.append("twitterHandle",h.twitterHandle),d.append("website",h.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:d}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;localStorage.removeItem(L),c({url:t,authorName:h.authorName,items:U})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),s(e),v(!1)})).catch((function(e){console.error(e),s(e),v(!1)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=(0,l.useCallback)((function(){g(U),function(e){try{localStorage.setItem(L,JSON.stringify(e))}catch(e){console.error(e)}}(h),t()}),[U,t,g,h]),Z=!!n.length,k=n.some((function(e){return"published"===e.status}));return(0,M.jsx)(m.V,{onCloseRequest:X,title:(0,u.t)("publishDialog.title"),className:"publish-library",children:Z?(0,M.jsxs)("form",{onSubmit:E,children:[(0,M.jsxs)("div",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteDescription.pre"),(0,M.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteDescription.link")})," ",(0,u.t)("publishDialog.noteDescription.post")]}),(0,M.jsxs)("span",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteGuidelines.pre"),(0,M.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteGuidelines.link")}),(0,u.t)("publishDialog.noteGuidelines.post")]}),(0,M.jsx)("div",{className:"publish-library-note",children:(0,u.t)("publishDialog.noteItems")}),k&&(0,M.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,u.t)("publishDialog.republishWarning")}),(w=[],U.forEach((function(e,t){w.push((0,M.jsx)("div",{className:"single-library-item-wrapper",children:(0,M.jsx)(z,{libItem:e,appState:a,index:t,onChange:function(e,t){var n=U.slice();n[t].name=e,G(n)},onRemove:d})},t))})),(0,M.jsx)("div",{className:"selected-library-items",children:w})),(0,M.jsxs)("div",{className:"publish-library__fields",children:[(0,M.jsxs)("label",{children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.libraryName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",name:"name",required:!0,value:h.name,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.libraryName")})]}),(0,M.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.libraryDesc")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("textarea",{name:"description",rows:4,required:!0,value:h.description,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.libraryDesc")})]}),(0,M.jsxs)("label",{children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.authorName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",name:"authorName",required:!0,value:h.authorName,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.authorName")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.githubUsername")}),(0,M.jsx)("input",{type:"text",name:"githubHandle",value:h.githubHandle,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.githubHandle")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.twitterUsername")}),(0,M.jsx)("input",{type:"text",name:"twitterHandle",value:h.twitterHandle,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.twitterHandle")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,u.t)("publishDialog.website")}),(0,M.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,u.t)("publishDialog.errors.website"),value:h.website,onChange:S,placeholder:(0,u.t)("publishDialog.placeholder.website")})]}),(0,M.jsxs)("span",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteLicense.pre"),(0,M.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteLicense.link")}),(0,u.t)("publishDialog.noteLicense.post")]})]}),(0,M.jsxs)("div",{className:"publish-library__buttons",children:[(0,M.jsx)(x.Z,{label:(0,u.t)("buttons.cancel"),onClick:X,"data-testid":"cancel-clear-canvas-button"}),(0,M.jsx)(x.Z,{type:"submit",label:(0,u.t)("buttons.submit"),actionType:"primary",isLoading:A})]})]}):(0,M.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,u.t)("publishDialog.atleastOneLibItem")})})},_=n(9127),J=(0,h.cn)(!1),P=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},K=function(e){var t=e.setAppState,n=e.selectedItems,a=e.library,p=e.onRemoveFromLibrary,B=e.resetLibrary,A=e.onSelectItems,y=e.appState,v=(0,h.KO)(s.rF,f.yE),x=(0,i.Z)(v,1)[0],Q=(0,h.KO)(J,f.yE),F=(0,i.Z)(Q,2),U=F[0],G=F[1],w=(0,l.useCallback)((function(){var e=n.length?(0,u.t)("alerts.removeItemsFromsLibrary",{count:n.length}):(0,u.t)("alerts.resetLibrary"),t=n.length?(0,u.t)("confirmDialog.removeItemsFromLib"):(0,u.t)("confirmDialog.resetLibrary");return(0,M.jsx)(C.Z,{onConfirm:function(){n.length?p():B(),Z(!1)},onCancel:function(){Z(!1)},title:t,children:(0,M.jsx)("p",{children:e})})}),[n,p,B]),S=(0,l.useState)(!1),E=(0,i.Z)(S,2),X=E[0],Z=E[1],k=!!n.length,N=k?x.libraryItems.filter((function(e){return n.includes(e.id)})):x.libraryItems,T=k?(0,u.t)("buttons.remove"):(0,u.t)("buttons.resetLibrary"),D=(0,l.useState)(!1),O=(0,i.Z)(D,2),V=O[0],W=O[1],R=(0,l.useState)(null),Y=(0,i.Z)(R,2),L=Y[0],H=Y[1],z=(0,l.useCallback)((function(){return(0,M.jsxs)(m.V,{onCloseRequest:function(){return H(null)},title:(0,u.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,M.jsxs)("p",{children:[(0,u.t)("publishSuccessDialog.content",{authorName:L.authorName})," ",(0,M.jsx)("a",{href:null==L?void 0:L.url,target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishSuccessDialog.link")})]}),(0,M.jsx)(d.V,{type:"button",title:(0,u.t)("buttons.close"),"aria-label":(0,u.t)("buttons.close"),label:(0,u.t)("buttons.close"),onClick:function(){return H(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[H,L]),K=(0,l.useCallback)((function(e,t){W(!1),H({url:e.url,authorName:e.authorName});var r=t.slice();r.forEach((function(e){n.includes(e.id)&&(e.status="published")})),a.setLibrary(r)}),[W,H,n,a]),q=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.updateLibrary({libraryItems:(0,I.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:t({errorMessage:(0,u.t)("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=4;break}e.t0=N,e.next=7;break;case 4:return e.next=6,a.getLatestLibrary();case 6:e.t0=e.sent;case 7:n=e.t0,(0,c.t1)(n).catch(b.FG).catch((function(e){t({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsxs)(_.Z,{open:U,children:[(0,M.jsx)(_.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return G(!U)},children:g.YA}),(0,M.jsxs)(_.Z.Content,{onClickOutside:function(){return G(!1)},onSelect:function(){return G(!1)},className:"library-menu",children:[!k&&(0,M.jsx)(_.Z.Item,{onSelect:q,icon:g.Tl,"data-testid":"lib-dropdown--load",children:(0,u.t)("buttons.load")}),!!N.length&&(0,M.jsx)(_.Z.Item,{onSelect:$,icon:g.Hy,"data-testid":"lib-dropdown--export",children:(0,u.t)("buttons.export")}),!!N.length&&(0,M.jsx)(_.Z.Item,{onSelect:function(){return Z(!0)},icon:g.XH,children:T}),k&&(0,M.jsx)(_.Z.Item,{icon:g.Nw,onSelect:function(){return W(!0)},"data-testid":"lib-dropdown--remove",children:(0,u.t)("buttons.publishLibrary")})]})]}),n.length>0&&(0,M.jsx)("div",{className:"library-actions-counter",children:n.length}),X&&w(),V&&(0,M.jsx)(j,{onClose:function(){return W(!1)},libraryItems:P(x.libraryItems,n),appState:y,onSuccess:function(e){return K(e,x.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return a.setLibrary(x.libraryItems)},onRemove:function(e){return A(n.filter((function(t){return t!==e})))}}),L&&z()]})}},5440:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(2577),i=n(8211),a=n(9787),o=n(5644),l=n(45),c=n(2335),s=n(4512),u=function(e){var t=e.delay,n=e.theme,u=(0,a.useState)(!!t),g=(0,r.Z)(u,2),d=g[0],I=g[1];return(0,a.useEffect)((function(){if(t){var e=setTimeout((function(){I(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),d?null:(0,s.jsxs)("div",{className:(0,l.Z)("LoadingMessage",{"LoadingMessage--dark":n===c.C6.DARK}),children:[(0,s.jsx)("div",{children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)("div",{className:"LoadingMessage-text",children:(0,i.t)("labels.loadingScene")})]})}},2891:function(e,t,n){"use strict";n.d(t,{J:function(){return y}});var r=n(9787),i=n(487),a=n.n(i),o=n(631),l=n.n(o),c=n(2052),s=n.n(c),u=n(4010),g=n.n(u),d=n(1469),I=n.n(d),b=n(9329),h=n.n(b),f=n(9935),C={};C.styleTagTransform=h(),C.setAttributes=g(),C.insert=s().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=I(),a()(f.Z,C),f.Z&&f.Z.locals&&f.Z.locals;var p=n(5156),B=n(6340),m=n(6066),A=n(4512),y=function(e){var t=e.children,n=e.left,i=e.top,a=e.onCloseRequest,o=e.fitInViewport,l=void 0!==o&&o,c=e.offsetLeft,s=void 0===c?0:c,u=e.offsetTop,g=void 0===u?0:u,d=e.viewportWidth,I=void 0===d?window.innerWidth:d,b=e.viewportHeight,h=void 0===b?window.innerHeight:b,f=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=f.current;if(e){e.contains(document.activeElement)||e.focus();var t=function(t){if(t.key===m.tW.TAB){var n,r=(0,B.xp)(e),i=document.activeElement,a=r.findIndex((function(e){return e===i}));if(i===e)t.shiftKey?null===(n=r[r.length-1])||void 0===n||n.focus():r[0].focus(),t.preventDefault(),t.stopImmediatePropagation();else if(0===a&&t.shiftKey){var o;null===(o=r[r.length-1])||void 0===o||o.focus(),t.preventDefault(),t.stopImmediatePropagation()}else if(a===r.length-1&&!t.shiftKey){var l;null===(l=r[0])||void 0===l||l.focus(),t.preventDefault(),t.stopImmediatePropagation()}}};return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}}}),[]);var C=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){if(l&&f.current&&null!=i&&null!=n){var e,t,r=f.current,a=r.getBoundingClientRect(),o=a.width,c=a.height;if((null===(e=C.current)||void 0===e?void 0:e.top)===i&&(null===(t=C.current)||void 0===t?void 0:t.left)===n)return;C.current={top:i,left:n},o>=I?(r.style.width="".concat(I,"px"),r.style.left="0px",r.style.overflowX="scroll"):r.style.left="".concat(n+o-s>I?I-o-10:n,"px"),c>=h?(r.style.height="".concat(h-20,"px"),r.style.top="10px",r.style.overflowY="scroll"):r.style.top="".concat(i+c-g>h?h-c:i,"px")}}),[i,n,l,I,h,s,g]),(0,r.useEffect)((function(){if(a){var e=function(e){var t;null!==(t=f.current)&&void 0!==t&&t.contains(e.target)||(0,p.unstable_batchedUpdates)((function(){return a(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[a]),(0,A.jsx)("div",{className:"popover",ref:f,tabIndex:-1,children:t})}},9430:function(e,t,n){"use strict";n.d(t,{Y:function(){return O},b:function(){return D}});var r=n(2577),i=n(9787),a=n.n(i),o=n(1881),l=n(4739),c=n(9487),s=a().createContext({}),u=n(45),g=n(8211),d=n(2134),I=n(3646),b=n(7169),h=n(4512);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var C=n(1894),p=function(e){return(0,h.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,h.jsxs)(C.u,{label:(0,g.t)("labels.sidebarLock"),children:[(0,h.jsxs)("label",{className:(0,u.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,h.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:e.onChange,checked:e.checked,"aria-label":(0,g.t)("labels.sidebarLock")})," ",(0,h.jsx)("div",{className:(0,u.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":e.checked}),tabIndex:0,children:I.qQ})," "]})," "]})})},B=function(e){var t=(0,i.createContext)([!1,function(){}]),n=function(e){var n=e.children,a=(0,i.useState)(!1),o=(0,r.Z)(a,2),l=o[0],c=o[1],s=(0,i.useMemo)((function(){return[l,c]}),[l]);return(0,h.jsx)(t.Provider,{value:s,children:n})},a=function(n){var a=(0,i.useContext)(t),o=(0,r.Z)(a,2),l=o[0],c=o[1];return(0,i.useLayoutEffect)((function(){if(!n.__isFallback)return c(!0),function(){return c(!1)}}),[n.__isFallback,c]),n.__isFallback&&l?null:(0,h.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))};return e.name&&(a.displayName="".concat(e.name,"_upstreamOverrideWrapper"),n.displayName="".concat(e.name,"_upstreamOverrideContextWrapper")),[n,a]}((function(e){var t=e.children,n=e.className,r=(0,d.Fy)(),a=(0,i.useContext)(s),o=!(!r.canDeviceFitSidebar||!a.dockable),l=!!a.onClose;return(0,h.jsxs)("div",{className:(0,u.Z)("layer-ui__sidebar__header",n),"data-testid":"sidebar-header",children:[t,(o||l)&&(0,h.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[o&&(0,h.jsx)(p,{checked:!!a.docked,onChange:function(){var e;null===(e=a.onDock)||void 0===e||e.call(a,!a.docked)}}),l&&(0,h.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:a.onClose,"aria-label":(0,g.t)("buttons.close"),children:I.Tw})]})]})})),m=(0,r.Z)(B,2),A={Context:m[0],Component:m[1]},y=n(487),v=n.n(y),x=n(631),Q=n.n(x),F=n(2052),U=n.n(F),G=n(4010),w=n.n(G),S=n(1469),E=n.n(S),X=n(9329),Z=n.n(X),k=n(8208),N={};N.styleTagTransform=Z(),N.setAttributes=w(),N.insert=U().bind(null,"head"),N.domAPI=Q(),N.insertStyleElement=E(),v()(k.Z,N),k.Z&&k.Z.locals&&k.Z.locals;var T=n(6340),D=(0,l.cn)({rendered:0,docked:0}),O=Object.assign((0,i.forwardRef)((function(e,t){var n,a=e.children,g=e.onClose,I=e.onDock,b=e.docked,f=e.initialDockedState,C=void 0===f?b:f,p=e.dockable,B=void 0===p||p,m=e.className,y=e.__isInternal,v=(0,l.KO)(D,c.yE),x=(0,r.Z)(v,2),Q=x[0],F=x[1],U=(0,d.n9)(),G=(0,i.useState)(null!==(n=null!=b?b:C)&&void 0!==n&&n),w=(0,r.Z)(G,2),S=w[0],E=w[1];(0,i.useLayoutEffect)((function(){void 0===b&&U((function(e){return E(e.isSidebarDocked),null}))}),[U,b]),(0,i.useLayoutEffect)((function(){if(!y)return F((function(e){return{rendered:e.rendered+1,docked:S?e.docked+1:e.docked}})),function(){F((function(e){return{rendered:e.rendered-1,docked:S?e.docked-1:e.docked}}))}}),[y,F,S]);var X=(0,i.useRef)(g);X.current=g,(0,i.useEffect)((function(){return function(){var e;null===(e=X.current)||void 0===e||e.call(X)}}),[]);var Z=(0,i.useRef)({});return Z.current.onClose=function(){U({openSidebar:null})},Z.current.onDock=function(e){void 0===b&&(U({isSidebarDocked:e}),E(e)),null==I||I(e)},Z.current=(0,T.v4)(Z.current,{docked:null!=b?b:S,dockable:B}),Q.rendered>0&&y?null:(0,h.jsx)(o.W,{className:(0,u.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":S},m),ref:t,children:(0,h.jsx)(s.Provider,{value:Z.current,children:(0,h.jsxs)(A.Context,{children:[(0,h.jsx)(A.Component,{__isFallback:!0}),a]})})})})),{Header:A.Component})},5644:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(487),i=n.n(r),a=n(631),o=n.n(a),l=n(2052),c=n.n(l),s=n(4010),u=n.n(s),g=n(1469),d=n.n(g),I=n(9329),b=n.n(I),h=n(5892),f={};f.styleTagTransform=b(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),i()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;var C=n(4512),p=function(e){var t=e.size,n=void 0===t?"1em":t,r=e.circleWidth,i=void 0===r?8:r;return(0,C.jsx)("div",{className:"Spinner",children:(0,C.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n},children:(0,C.jsx)("circle",{cx:"50",cy:"50",r:50-i/2,strokeWidth:i,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7169),i=n(487),a=n.n(i),o=n(631),l=n.n(o),c=n(2052),s=n.n(c),u=n(4010),g=n.n(u),d=n(1469),I=n.n(d),b=n(9329),h=n.n(b),f=n(3874),C={};C.styleTagTransform=h(),C.setAttributes=g(),C.insert=s().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=I(),a()(f.Z,C),f.Z&&f.Z.locals&&f.Z.locals;var p=n(45),B=n(4512);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={Row:function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,a=e.className,o=e.style;return(0,B.jsx)("div",{className:(0,p.Z)("Stack Stack_horizontal",a),style:A({"--gap":n,alignItems:r,justifyContent:i},o),children:t})},Col:function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,a=e.className,o=e.style;return(0,B.jsx)("div",{className:(0,p.Z)("Stack Stack_vertical",a),style:A({"--gap":n,justifyItems:r,justifyContent:i},o),children:t})}}},1319:function(e,t,n){"use strict";n.d(t,{V:function(){return b}});var r=n(8950),i=n(2577),a=n(2975),o=n.n(a),l=(n(5422),n(9787)),c=n.n(l),s=n(45),u=n(2134),g=n(6797),d=n(5644),I=n(4512),b=c().forwardRef((function(e,t){var n=(0,u.J0)().id,a=c().useRef(null);c().useImperativeHandle(t,(function(){return a.current}));var b="ToolIcon_size_".concat(e.size),h=(0,l.useState)(!1),f=(0,i.Z)(h,2),C=f[0],p=f[1],B=(0,l.useRef)(!0),m=function(){var t=(0,r.Z)(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i="onClick"in e&&(null===(r=e.onClick)||void 0===r?void 0:r.call(e,n)))||!("then"in i)){t.next=18;break}return t.prev=2,p(!0),t.next=6,i;case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(2),t.t0 instanceof g._){t.next=14;break}throw t.t0;case 14:console.warn(t.t0);case 15:return t.prev=15,B.current&&p(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,8,15,18]])})));return function(e){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){return function(){B.current=!1}}),[]);var A=(0,l.useRef)(null);if("button"===e.type||"icon"===e.type||"submit"===e.type){var y="icon"===e.type?"button":e.type;return(0,I.jsxs)("button",{className:(0,s.Z)("ToolIcon_type_button",b,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:y,onClick:m,ref:a,disabled:C||e.isLoading,children:[(e.icon||e.label)&&(0,I.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,I.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,I.jsx)(d.Z,{})]}),e.showAriaLabel&&(0,I.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",C&&(0,I.jsx)(d.Z,{})]}),e.children]})}return(0,I.jsxs)("label",{className:(0,s.Z)("ToolIcon",e.className),title:e.title,onPointerDown:function(t){var n;A.current=t.pointerType||null,null===(n=e.onPointerDown)||void 0===n||n.call(e,{pointerType:t.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){A.current=null}))},children:[(0,I.jsx)("input",{className:"ToolIcon_type_radio ".concat(b),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{pointerType:A.current})},checked:e.checked,ref:a}),(0,I.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,I.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})}));b.defaultProps={visible:!0,className:"",size:"medium"},b.displayName="ToolButton"},1894:function(e,t,n){"use strict";n.d(t,{u:function(){return A},bK:function(){return B},Js:function(){return m}});var r=n(487),i=n.n(r),a=n(631),o=n.n(a),l=n(2052),c=n.n(l),s=n(4010),u=n.n(s),g=n(1469),d=n.n(g),I=n(9329),b=n.n(I),h=n(6626),f={};f.styleTagTransform=b(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),i()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;var C=n(9787),p=n(4512),B=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},m=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",i=e.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight,l=5,c=t.left+t.width/2-i.width/2;c<0?c=l:c+i.width>=a&&(c=a-i.width-l),"bottom"===r?(n=t.top+t.height+l)+i.height>=o&&(n=t.top-i.height-l):(n=t.top-i.height-l)<0&&(n=t.top+t.height+l),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(c,"px")})},A=function(e){var t=e.children,n=e.label,r=e.long,i=void 0!==r&&r,a=e.style;return(0,C.useEffect)((function(){return function(){return B().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,p.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var i=e.getBoundingClientRect();m(t,i)}(e.currentTarget,B(),n,i)},onPointerLeave:function(){return B().classList.remove("excalidraw-tooltip--visible")},style:a,children:t})}},6773:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(2577),i=n(487),a=n.n(i),o=n(631),l=n.n(o),c=n(2052),s=n.n(c),u=n(4010),g=n.n(u),d=n(1469),I=n.n(d),b=n(9329),h=n.n(b),f=n(6359),C={};C.styleTagTransform=h(),C.setAttributes=g(),C.insert=s().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=I(),a()(f.Z,C),f.Z&&f.Z.locals&&f.Z.locals;var p=n(9787),B=n.n(p),m=n(45),A=n(1894),y=n(2134),v=n(4512),x=function(e){var t=e.className,n=e.mobile,i=e.collaborators,a=(0,y.eh)(),o=new Map;i.forEach((function(e,t){o.set(e.id||t,e)}));var l=o.size>0&&Array.from(o).filter((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1],l=a.renderAction("goToCollaborator",[i,o]);return n?(0,v.jsx)(A.u,{label:o.username||"Unknown user",children:l},i):(0,v.jsx)(B().Fragment,{children:l},i)}));return(0,v.jsx)("div",{className:(0,m.Z)("UserList",t,{UserList_mobile:n}),children:l})}},8888:function(e,t,n){"use strict";n.d(t,{A3:function(){return d},ZC:function(){return b},R6:function(){return I}});var r=n(9787),i=n.n(r),a=function(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(!Object.is(i,t)){var a=t;t=(null!=r?r:"object"!=typeof i)?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),n.clear()}};return t=e(r,i,a),a},o=function(e){return e?a(e):a},c=n(5668).useSyncExternalStoreWithSelector,s=function(e){"function"!=typeof e&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');var t="function"==typeof e?o(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,n=arguments.length>2?arguments[2]:void 0,i=c(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,r.useDebugValue)(i),i}(t,e,n)};return Object.assign(n,t),n},u=function(e){return e?s(e):s};function g(){var e=u((function(e){return{current:new Array,version:0,set:e}}));return{In:function(t){var n=t.children,i=e((function(e){return e.set})),a=e((function(e){return e.version}));return(0,r.useLayoutEffect)((function(){i((function(e){return{version:e.version+1}}))}),[]),(0,r.useLayoutEffect)((function(){return i((function(e){var t=e.current;return{current:[].concat(l(t),[n])}})),function(){return i((function(e){return{current:e.current.filter((function(e){return e!==n}))}}))}}),[n,a]),null},Out:function(){var t=e((function(e){return e.current}));return i().createElement(i().Fragment,null,t)}}}var d=i().createContext(null),I=function(){return i().useContext(d)},b=function(){return i().useMemo((function(){return{mainMenuTunnel:g(),welcomeScreenMenuHintTunnel:g(),welcomeScreenToolbarHintTunnel:g(),welcomeScreenHelpHintTunnel:g(),welcomeScreenCenterTunnel:g(),footerCenterTunnel:g(),jotaiScope:Symbol()}}),[])}},9127:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(45),i=n(2134),a=n(4512),o=function(e){var t=e.className,n=void 0===t?"":t,o=e.children,l=e.onToggle,c=(0,i.gF)(),s=(0,i.Fy)(),u=(0,r.Z)("dropdown-menu-button ".concat(n),"zen-mode-transition",{"transition-left":c.zenModeEnabled,"dropdown-menu-button--mobile":s.isMobile}).trim();return(0,a.jsx)("button",{"data-prevent-outside-click":!0,className:u,onClick:l,type:"button","data-testid":"dropdown-menu-button",children:o})},l=o;o.displayName="DropdownMenuTrigger";var c=n(2739),s=function(){return(0,a.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},u=s;s.displayName="DropdownMenuSeparator";var g=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,i=e.style,o=e.title;return(0,a.jsxs)("div",{className:"dropdown-menu-group ".concat(r),style:i,children:[o&&(0,a.jsx)("p",{className:"dropdown-menu-group-title",children:o}),t]})},d=g;g.displayName="DropdownMenuGroup";var I=n(1930),b=n(9787),h=n.n(b),f=n(1881),C=n(7239),p=n(6772),B=function(e){var t,n,o=e.children,l=e.onClickOutside,c=e.className,s=void 0===c?"":c,u=e.onSelect,g=e.style,d=(0,i.Fy)(),h=(t=function(){null==l||l()},n=(0,b.useRef)(null),(0,b.useEffect)((function(){var e=function(e){var r=n.current;!r||r.contains(e.target)||(0,I.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some((function(t){return t.contains(e.target)}))||t(e)};return document.addEventListener("pointerdown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("pointerdown",e),document.removeEventListener("touchstart",e)}}),[n,t]),n),B=(0,r.Z)("dropdown-menu ".concat(s),{"dropdown-menu--mobile":d.isMobile}).trim();return(0,a.jsx)(p.N7.Provider,{value:{onSelect:u},children:(0,a.jsx)("div",{ref:h,className:B,style:g,"data-testid":"dropdown-menu",children:d.isMobile?(0,a.jsx)(C.Z.Col,{className:"dropdown-menu-container",children:o}):(0,a.jsx)(f.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:o})})})};B.displayName="DropdownMenuContent";var m=B,A=n(4215),y=n(7169),v=n(2726),x=["children","className"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,i=(0,v.Z)(e,x);return(0,a.jsx)("div",F(F({},i),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(r).trim(),children:t}))},G=n(487),w=n.n(G),S=n(631),E=n.n(S),X=n(2052),Z=n.n(X),k=n(4010),N=n.n(k),T=n(1469),D=n.n(T),O=n(9329),M=n.n(O),V=n(7399),W={};W.styleTagTransform=M(),W.setAttributes=N(),W.insert=Z().bind(null,"head"),W.domAPI=E(),W.insertStyleElement=D(),w()(V.Z,W),V.Z&&V.Z.locals&&V.Z.locals;var R=function(e){var t=e.children,n=e.open,r=function(e){return h().Children.toArray(e).find((function(e){return h().isValidElement(e)&&"string"!=typeof e.type&&(null==e?void 0:e.type.displayName)&&"DropdownMenuTrigger"===e.type.displayName}))||null}(t),i=function(e){return h().Children.toArray(e).find((function(e){return h().isValidElement(e)&&"string"!=typeof e.type&&(null==e?void 0:e.type.displayName)&&"DropdownMenuContent"===e.type.displayName}))||null}(t);return(0,a.jsxs)(a.Fragment,{children:[r,n&&i]})};R.Trigger=l,R.Content=m,R.Item=c.Z,R.ItemLink=A.Z,R.ItemCustom=U,R.Group=d,R.Separator=u;var Y=R;R.displayName="DropdownMenu"},2739:function(e,t,n){"use strict";var r=n(7169),i=n(2726),a=n(6772),o=n(4122),l=n(4512),c=["icon","onSelect","children","shortcut","className"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t,n=e.icon,r=e.onSelect,s=e.children,g=e.shortcut,d=e.className,I=(0,i.Z)(e,c),b=(0,a.qZ)(I.onClick,r);return(0,l.jsx)("button",u(u({},I),{},{onClick:b,type:"button",className:(0,a.n)(d),title:null!==(t=I.title)&&void 0!==t?t:I["aria-label"],children:(0,l.jsx)(o.Z,{icon:n,shortcut:g,children:s})}))};t.Z=g,g.displayName="DropdownMenuItem"},4122:function(e,t,n){"use strict";var r=n(2134),i=n(4512);t.Z=function(e){var t=e.icon,n=e.shortcut,a=e.children,o=(0,r.Fy)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"dropdown-menu-item__icon",children:t}),(0,i.jsx)("div",{className:"dropdown-menu-item__text",children:a}),n&&!o.isMobile&&(0,i.jsx)("div",{className:"dropdown-menu-item__shortcut",children:n})]})}},4215:function(e,t,n){"use strict";var r=n(7169),i=n(2726),a=n(4122),o=n(6772),l=n(4512),c=["icon","shortcut","href","children","onSelect","className"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t,n=e.icon,r=e.shortcut,s=e.href,g=e.children,d=e.onSelect,I=e.className,b=void 0===I?"":I,h=(0,i.Z)(e,c),f=(0,o.qZ)(h.onClick,d);return(0,l.jsx)("a",u(u({},h),{},{href:s,target:"_blank",rel:"noreferrer",className:(0,o.n)(b),title:null!==(t=h.title)&&void 0!==t?t:h["aria-label"],onClick:f,children:(0,l.jsx)(a.Z,{icon:n,shortcut:r,children:g})}))};t.Z=g,g.displayName="DropdownMenuItemLink"},6772:function(e,t,n){"use strict";n.d(t,{N7:function(){return l},n:function(){return c},qZ:function(){return s}});var r=n(9787),i=n.n(r),a=n(2335),o=n(6340),l=i().createContext({}),c=function(){return"dropdown-menu-item dropdown-menu-item-base ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim()},s=function(e,t){var n=(0,r.useContext)(l);return(0,o.Mj)(e,(function(e){var r,i=new CustomEvent(a.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});null==t||t(i),i.defaultPrevented||null===(r=n.onSelect)||void 0===r||r.call(n,i)}))}},3646:function(e,t,n){"use strict";n.d(t,{$c:function(){return le},$q:function(){return O},BF:function(){return Fe},BR:function(){return re},Ct:function(){return he},D7:function(){return P},DG:function(){return ie},DJ:function(){return F},DS:function(){return We},EO:function(){return nt},ET:function(){return J},FC:function(){return v},Gc:function(){return de},HL:function(){return fe},Hk:function(){return ot},Hy:function(){return z},IN:function(){return Ie},J8:function(){return ae},Mw:function(){return U},NA:function(){return R},NW:function(){return L},Nw:function(){return at},OA:function(){return Pe},OW:function(){return w},P7:function(){return it},Pm:function(){return N},RJ:function(){return Ue},RY:function(){return H},Re:function(){return E},ST:function(){return Ae},Sd:function(){return M},TP:function(){return oe},Tl:function(){return ne},Tw:function(){return xe},UE:function(){return ce},VL:function(){return T},Vl:function(){return ue},Vq:function(){return p},W2:function(){return Me},W5:function(){return me},Wl:function(){return Ze},X7:function(){return Ee},XB:function(){return D},XH:function(){return W},YA:function(){return m},ZA:function(){return Xe},Zm:function(){return K},_C:function(){return y},_U:function(){return Q},a0:function(){return we},a1:function(){return ee},a5:function(){return Ne},aA:function(){return rt},aT:function(){return Te},bf:function(){return De},by:function(){return j},e0:function(){return X},eQ:function(){return q},fr:function(){return Re},gK:function(){return ye},h0:function(){return _},il:function(){return Ye},j8:function(){return ze},jn:function(){return ve},kL:function(){return Y},kM:function(){return Oe},lF:function(){return Ge},m:function(){return He},m9:function(){return ke},mh:function(){return pe},nb:function(){return S},np:function(){return Se},nq:function(){return _e},o3:function(){return et},oQ:function(){return x},oT:function(){return tt},op:function(){return Qe},pO:function(){return B},po:function(){return te},pw:function(){return be},q0:function(){return je},qQ:function(){return A},rr:function(){return $e},t5:function(){return ge},tW:function(){return Je},tb:function(){return k},tn:function(){return Le},uD:function(){return Be},vo:function(){return Ke},wr:function(){return Ve},xL:function(){return V},xP:function(){return $},xs:function(){return Ce},z6:function(){return qe},zG:function(){return se},zb:function(){return Z},zu:function(){return G}});var r=n(7169),i=n(2726),a=n(9787),o=n.n(a),l=n(5284),c=n(45),s=n(2335),u=n(4512),g=["width","height","mirror","style"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){return e===s.C6.LIGHT?l.white:"#1e1e1e"},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,a=void 0===r?512:r,o=n.height,l=void 0===o?a:o,s=n.mirror,d=n.style,b=(0,i.Z)(n,g);return(0,u.jsx)("svg",I(I({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(l),className:(0,c.Z)({"rtl-mirror":s}),style:d},b),{},{children:"string"==typeof e?(0,u.jsx)("path",{fill:"currentColor",d:e}):e}))},f={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},C={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},p=(h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,u.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,u.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,u.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),f),h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,u.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,u.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,u.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,u.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),f)),B=h((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,u.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f),m=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,u.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,u.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),f),A=h((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,u.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,u.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),f),y=h((0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,u.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,u.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,u.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),C),v=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,u.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,u.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),C),x=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),Q=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),F=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),U=h((0,u.jsxs)("g",{fill:"currentColor",children:[(0,u.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),G=h((0,u.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,u.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),w=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),f),S=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),f),E=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),f),X=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),f),Z=h((0,u.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),C),k=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,u.jsx)("path",{d:"M16 7h4"}),(0,u.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),f),N=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,u.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),C),T=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,u.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,u.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,u.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,u.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),f),D=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M12.5 6.667h.01"}),(0,u.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,u.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,u.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),C),O=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,u.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),f),M=h((0,u.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),C),V=h((0,u.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),C),W=h((0,u.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),C),R=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,u.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),C),Y=h((0,u.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),C),L=h((0,u.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),C),H=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),f),z=h((0,u.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),C),j=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,u.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,u.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),f),_=h((0,u.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),C),J=h((0,u.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),C),P=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,u.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),C),K=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),f),q=h((0,u.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),$=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,u.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),C),ee=h("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),te=h("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),ne=h((0,u.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),C),re=h("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ie=h("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),ae=h((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M15 8h.01"}),(0,u.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,u.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,u.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,u.jsx)("path",{d:"M19 16v6"}),(0,u.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),f),oe=h("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),le=(h("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),h("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),h("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),ce=(h("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),h((0,u.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),C)),se=h((0,u.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),C),ue=h("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),ge=(h((0,u.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),C),h("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,u.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),h((0,u.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C)),de=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,u.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Ie=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),be=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",children:[(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,u.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),he=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),fe=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Ce=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),pe=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Be=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),me=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Ae=h((0,u.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),C),ye=h((0,u.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),C),ve=h((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,u.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,u.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,u.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),f),xe=(h("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),h("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C)),Qe=h("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Fe=(h("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),h("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),h("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),o().memo((function(e){var t=e.theme;return h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsxs)("g",{fill:b(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,u.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}))),Ue=o().memo((function(e){var t=e.theme;return h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsxs)("g",{fill:b(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,u.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Ge=h((0,u.jsx)("g",{strokeWidth:1.25,children:(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),C),we=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,u.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,u.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),C),Se=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",children:[(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,u.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,u.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Ee=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),I(I({},C),{},{fill:"currentColor"})),Xe=h((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),C),Ze=h((0,u.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),C),ke=h((0,u.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),C),Ne=h((0,u.jsxs)("g",{strokeWidth:"2",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M5 12h2"}),(0,u.jsx)("path",{d:"M17 12h2"}),(0,u.jsx)("path",{d:"M11 12h2"})]}),f),Te=h((0,u.jsxs)("g",{strokeWidth:"2",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 12v.01"}),(0,u.jsx)("path",{d:"M8 12v.01"}),(0,u.jsx)("path",{d:"M12 12v.01"}),(0,u.jsx)("path",{d:"M16 12v.01"}),(0,u.jsx)("path",{d:"M20 12v.01"})]}),f),De=h((0,u.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),C),Oe=h((0,u.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),C),Me=h((0,u.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),C),Ve=h((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,u.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,u.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,u.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,u.jsx)("path",{d:"M16.6667 10V10.01"}),(0,u.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,u.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,u.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),C),We=h((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,u.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,u.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,u.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,u.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,u.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,u.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,u.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,u.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,u.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,u.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),f),Re=h((0,u.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Ye=o().memo((function(e){var t=e.flip,n=void 0!==t&&t;return h((0,u.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,u.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,u.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),Le=o().memo((function(e){var t=e.flip,n=void 0!==t&&t;return h((0,u.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,u.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,u.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),He=o().memo((function(e){var t=e.flip,n=void 0!==t&&t;return h((0,u.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,u.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),ze=o().memo((function(e){var t=e.flip,n=void 0!==t&&t;return h((0,u.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,u.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,u.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),je=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),_e=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Je=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),Pe=h((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),C),Ke=h((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),C),qe=h((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),C),$e=h((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,u.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),f),et=h((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,u.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),f),tt=h((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),f),nt=o().memo((function(e){return e.theme,h((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,u.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),f)})),rt=o().memo((function(e){return e.theme,h((0,u.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,u.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),f)})),it=o().memo((function(e){return e.theme,h((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),f)})),at=h((0,u.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),ot=(h((0,u.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),h((0,u.jsxs)("g",{strokeWidth:1.25,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,u.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,u.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,u.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),f))},4709:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r={};n.r(r),n.d(r,{ChangeCanvasBackground:function(){return D},ClearCanvas:function(){return N},Export:function(){return O},Help:function(){return k},LiveCollaborationTrigger:function(){return V},LoadScene:function(){return E},SaveAsImage:function(){return Z},SaveToActiveFile:function(){return X},Socials:function(){return M},ToggleTheme:function(){return T}});var i=n(2134),a=n(9127),o=n(785),l=n(8211),c=n(3646),s=n(2739),u=n(4215),g=n(6710),d=n(487),I=n.n(d),b=n(631),h=n.n(b),f=n(2052),C=n.n(f),p=n(4010),B=n.n(p),m=n(1469),A=n.n(m),y=n(9329),v=n.n(y),x=n(4343),Q={};Q.styleTagTransform=v(),Q.setAttributes=B(),Q.insert=C().bind(null,"head"),Q.domAPI=h(),Q.insertStyleElement=A(),I()(x.Z,Q),x.Z&&x.Z.locals&&x.Z.locals;var F=n(45),U=n(4739),G=n(6798),w=n(9487),S=n(4512),E=function(){var e=(0,l.QT)().t,t=(0,i.eh)();return t.isActionEnabled(g._d)?(0,S.jsx)(s.Z,{icon:c.Tl,onSelect:function(){return t.executeAction(g._d)},"data-testid":"load-button",shortcut:(0,o.C)("loadScene"),"aria-label":e("buttons.load"),children:e("buttons.load")}):null};E.displayName="LoadScene";var X=function(){var e=(0,l.QT)().t,t=(0,i.eh)();return t.isActionEnabled(g.ns)?(0,S.jsx)(s.Z,{shortcut:(0,o.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return t.executeAction(g.ns)},icon:c.a1,"aria-label":"".concat(e("buttons.save")),children:"".concat(e("buttons.save"))}):null};X.displayName="SaveToActiveFile";var Z=function(){var e=(0,i.n9)(),t=(0,l.QT)().t;return(0,S.jsx)(s.Z,{icon:c.J8,"data-testid":"image-export-button",onSelect:function(){return e({openDialog:"imageExport"})},shortcut:(0,o.C)("imageExport"),"aria-label":t("buttons.exportImage"),children:t("buttons.exportImage")})};Z.displayName="SaveAsImage";var k=function(){var e=(0,l.QT)().t,t=(0,i.eh)();return(0,S.jsx)(s.Z,{"data-testid":"help-menu-item",icon:c.by,onSelect:function(){return t.executeAction(g.jY)},shortcut:"?","aria-label":e("helpDialog.title"),children:e("helpDialog.title")})};k.displayName="Help";var N=function(){var e=(0,l.QT)().t,t=(0,U.b9)(G.w,w.yE);return(0,i.eh)().isActionEnabled(g.mo)?(0,S.jsx)(s.Z,{icon:c.XH,onSelect:function(){return t("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":e("buttons.clearReset"),children:e("buttons.clearReset")}):null};N.displayName="ClearCanvas";var T=function(){var e=(0,l.QT)().t,t=(0,i.gF)(),n=(0,i.eh)();return n.isActionEnabled(g.Zp)?(0,S.jsx)(s.Z,{onSelect:function(e){return e.preventDefault(),n.executeAction(g.Zp)},icon:"dark"===t.theme?c.NW:c.kL,"data-testid":"toggle-dark-mode",shortcut:(0,o.C)("toggleTheme"),"aria-label":"dark"===t.theme?e("buttons.lightMode"):e("buttons.darkMode"),children:"dark"===t.theme?e("buttons.lightMode"):e("buttons.darkMode")}):null};T.displayName="ToggleTheme";var D=function(){var e=(0,l.QT)().t,t=(0,i.gF)(),n=(0,i.eh)();return t.viewModeEnabled?null:(0,S.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,S.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:e("labels.canvasBackground")}),(0,S.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})};D.displayName="ChangeCanvasBackground";var O=function(){var e=(0,l.QT)().t,t=(0,i.n9)();return(0,S.jsx)(s.Z,{icon:c.Hy,onSelect:function(){t({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":e("buttons.export"),children:e("buttons.export")})};O.displayName="Export";var M=function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{icon:c.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,S.jsx)(u.Z,{icon:c.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,S.jsx)(u.Z,{icon:c.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};M.displayName="Socials";var V=function(e){var t=e.onSelect,n=e.isCollaborating,r=(0,l.QT)().t;return(0,S.jsx)(s.Z,{"data-testid":"collab-button",icon:c.jn,className:(0,F.Z)({"active-collab":n}),onSelect:t,children:r("labels.liveCollaboration")})};V.displayName="LiveCollaborationTrigger";var W=n(6773),R=n(7169),Y=n(2577),L=n(9787),H=n(8888);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var j,_,J,P,K,q=n(6340),$=Object.assign((j="MainMenu",_=function(e){var t=e.children,n=e.onSelect,r=(0,H.R6)().mainMenuTunnel,o=(0,i.Fy)(),s=(0,i.gF)(),u=(0,i.n9)(),g=o.isMobile?void 0:function(){return u({openMenu:null})};return(0,S.jsx)(r.In,{children:(0,S.jsxs)(a.Z,{open:"canvas"===s.openMenu,children:[(0,S.jsx)(a.Z.Trigger,{onToggle:function(){u({openMenu:"canvas"===s.openMenu?null:"canvas"})},children:c.RY}),(0,S.jsxs)(a.Z.Content,{onClickOutside:g,onSelect:(0,q.Mj)(n,(function(){u({openMenu:null})})),children:[t,o.isMobile&&s.collaborators.size>0&&(0,S.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,S.jsx)("legend",{children:(0,l.t)("labels.collaborators")}),(0,S.jsx)(W.Z,{mobile:!0,collaborators:s.collaborators})]})]})]})})},J=(0,U.cn)(0),P=!1,K=function(e){var t=(0,H.R6)().jotaiScope,n=(0,U.KO)(J,t),r=(0,Y.Z)(n,2),i=r[0],a=r[1];return(0,L.useLayoutEffect)((function(){return a((function(e){return e+1})),function(){a((function(e){return e-1}))}}),[a]),e.__fallback||(P=!0),!i&&e.__fallback&&P||i>1&&e.__fallback?null:(0,S.jsx)(_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},K.displayName=j,K),{Trigger:a.Z.Trigger,Item:a.Z.Item,ItemLink:a.Z.ItemLink,ItemCustom:a.Z.ItemCustom,Group:a.Z.Group,Separator:a.Z.Separator,DefaultItems:r}),ee=$},2335:function(e,t,n){"use strict";n.d(t,{jo:function(){return he},iC:function(){return F},gK:function(){return Be},$C:function(){return T},oc:function(){return Z},_9:function(){return xe},HN:function(){return Ue},qy:function(){return Ie},rk:function(){return W},n5:function(){return V},h6:function(){return be},Rx:function(){return ve},Hg:function(){return R},cW:function(){return ie},hs:function(){return Y},f:function(){return U},xY:function(){return ye},Iw:function(){return w},$e:function(){return S},Vi:function(){return N},Ks:function(){return C},r8:function(){return z},ZB:function(){return de},pb:function(){return j},ut:function(){return D},k:function(){return L},sA:function(){return ee},LL:function(){return _},EE:function(){return ue},qx:function(){return G},$n:function(){return fe},zK:function(){return ge},LO:function(){return H},Zj:function(){return $},Yx:function(){return ce},sS:function(){return le},kV:function(){return oe},sk:function(){return se},eF:function(){return ae},Oh:function(){return k},WR:function(){return Fe},a6:function(){return Qe},HM:function(){return K},ay:function(){return X},hR:function(){return Ce},Gj:function(){return J},I8:function(){return Ae},wZ:function(){return E},C6:function(){return O},ZF:function(){return te},nM:function(){return P},ah:function(){return re},UO:function(){return ne},Kr:function(){return pe},oX:function(){return me},_D:function(){return M},V4:function(){return q},Dt:function(){return y},jP:function(){return Q},Um:function(){return m},vU:function(){return v},G6:function(){return x},ED:function(){return A}});var r=n(487),i=n.n(r),a=n(631),o=n.n(a),l=n(2052),c=n.n(l),s=n(4010),u=n.n(s),g=n(1469),d=n.n(g),I=n(9329),b=n.n(I),h=n(6464),f={};f.styleTagTransform=b(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),i()(h.Z,f);var C,p=h.Z&&h.Z.locals?h.Z.locals:void 0,B=n(5284),m=/Mac|iPod|iPhone|iPad/.test(navigator.platform),A=/^Win/.test(navigator.platform),y=/\b(android)\b/i.test(navigator.userAgent),v="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,x=!(-1!==navigator.userAgent.indexOf("Chrome"))&&-1!==navigator.userAgent.indexOf("Safari"),Q=function(){var e,t;return"isBrave"===(null===(e=navigator.brave)||void 0===e||null===(t=e.isBrave)||void 0===t?void 0:t.name)},F="Excalidraw",U=10,G=8,w=5,S=1,E=30,X=Math.PI/12,Z={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},k={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.EXCALIDRAW_LINK="excalidraw-link",e.MENU_ITEM_SELECT="menu.itemSelect"}(C||(C={}));var N={TEST:"test",DEVELOPMENT:"development"},T={SHAPE_ACTIONS_MENU:"App-menu__left"},D={Virgil:1,Helvetica:2,Cascadia:3},O={LIGHT:"light",DARK:"dark"},M="Segoe UI Emoji",V=20,W=D.Virgil,R="left",Y="top",L=20,H={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},z={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},j=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,_=500,J=300,P=500,K=100,q=.1,$=.1,ee=300,te=p.themeFilter,ne={addLibrary:"addLibrary"},re={addLibrary:"addLibrary"},ie={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},ae=640,oe=730,le=1e3,ce=500,se=1229,ue=parseInt(p.rightSidebarWidth),ge=2,de=[1,2,3],Ie=10,be=1440,he=[H.png,H.jpg,H.svg,H.gif,H.webp,H.bmp,H.ico],fe=2097152,Ce="http://www.w3.org/2000/svg",pe={excalidraw:2,excalidrawLibrary:2},Be=5,me={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Ae={LEFT:"left",CENTER:"center",RIGHT:"right"},ye=20,ve=.25,xe=32,Qe={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Fe="__precedingElement__",Ue={strokeColor:B.black,backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,locked:!1}},434:function(e,t,n){"use strict";n.d(t,{DQ:function(){return x},KG:function(){return k},Pn:function(){return T},Qk:function(){return v},Sf:function(){return Z},Tu:function(){return N},Wr:function(){return F},ZY:function(){return U},_c:function(){return E},bv:function(){return D},cT:function(){return G},g8:function(){return Q},gY:function(){return W},lV:function(){return S},tW:function(){return X},vZ:function(){return R},wf:function(){return w}});var r=n(1930),i=n(2577),a=n(7169),o=n(8950),l=n(2975),c=n.n(l),s=n(5605),u=n(8897),g=n(2335),d=n(1047),I=n(6797),b=n(8211),h=n(75),f=n(6340),C=n(1393),p=n(5523),B=n(679);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){var e=(0,o.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==g.LO.png){e.next=18;break}return e.prev=1,e.next=4,Promise.resolve().then(n.bind(n,673));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new DOMException((0,b.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,b.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:r=e.sent;case 27:if(t.type!==g.LO.svg){e.next=43;break}return e.prev=28,e.next=31,Promise.resolve().then(n.bind(n,673));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:r});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new DOMException((0,b.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,b.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},x=function(e){return"png"===e||"svg"===e},Q=function(e){var t=v(e);return"png"===t||"svg"===t},F=function(e){var t=(e||{}).type;return!!t&&g.jo.includes(t)},U=function(){var e=(0,o.Z)(c().mark((function e(t,n,r,i){var a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:if(a=e.sent,e.prev=3,o=JSON.parse(a),!(0,p.dS)(o)){e.next=9;break}return e.abrupt("return",{type:g.LO.excalidraw,data:(0,B.nu)({elements:(0,d._M)(o.elements||[]),appState:A(A({theme:null==n?void 0:n.theme,fileHandle:i||t.handle||null},(0,u.s)(o.appState||{})),n?(0,h.W)(o.elements||[],n,null):{}),files:o.files},n,r,{repairBindings:!0,refreshDimensions:!0})});case 9:if(!(0,p.HT)(o)){e.next=11;break}return e.abrupt("return",{type:g.LO.excalidrawlib,data:o});case 11:throw new Error((0,b.t)("alerts.couldNotLoadInvalidFile"));case 14:throw e.prev=14,e.t0=e.catch(3),console.error(e.t0.message),new Error((0,b.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),G=function(){var e=(0,o.Z)(c().mark((function e(t,n,r,i){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n,r,i);case 2:if((a=e.sent).type===g.LO.excalidraw){e.next=5;break}throw new Error((0,b.t)("alerts.couldNotLoadInvalidFile"));case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!(0,p.HT)(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return(0,B.wJ)(r,t)},S=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=w,e.next=4,y(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob((function(t){if(!t)return n(new I.l((0,b.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));e(t)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,o.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,R(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",(0,f.G3)(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",(0,s.x0)(40));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),i=e.slice(0,n).split(":")[1].split(";")[0],a=new ArrayBuffer(r.length),o=new Uint8Array(a),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return new File([a],t,{type:i})},N=function(){var e=(0,o.Z)(c().mark((function e(t,r){var a,o,l,s,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==g.LO.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(4736).then(n.t.bind(n,4881,23)).then((function(e){return e.default})),n.e(4736).then(n.bind(n,100)).then((function(e){return e.default}))]);case 4:if(a=e.sent,o=(0,i.Z)(a,2),l=o[0],s=o[1],u=s({pica:l({features:["js","wasm"]})}),r.outputType&&(d=r.outputType,u._create_blob=function(e){return this.pica.toBlob(e.out_canvas,d,.8).then((function(t){return e.out_blob=t,e}))}),F(t)){e.next=12;break}throw new Error((0,b.t)("errors.unsupportedFileType"));case 12:return e.t0=File,e.next=15,u.toBlob(t,{max:r.maxWidthOrHeight});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:g.LO.svg})},D=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,O(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,W(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.kr){e.next=16;break}return e.prev=1,n=t.dataTransfer.items[0],e.next=5,n.getAsFileSystemHandle();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return r=e.t0,e.abrupt("return",r);case 12:return e.prev=12,e.t1=e.catch(1),console.warn(e.t1.name,e.t1.message),e.abrupt("return",null);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=null,n="".concat((0,r.Z)(new Uint8Array(e).slice(0,8)).join(" ")," "),i="255 216 255 ",a="71 73 70 56 57 97 ";return"137 80 78 71 13 10 26 10 "===n?t=g.LO.png:n.startsWith(i)?t=g.LO.jpg:n.startsWith(a)&&(t=g.LO.gif),t},V=function(e,t,n){return new File([e],n||"",{type:t})},W=function(){var e=(0,o.Z)(c().mark((function e(t){var n,r,i,a,o,l,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type){e.next=28;break}if(null===(n=t)||void 0===n||null===(r=n.name)||void 0===r||!r.endsWith(".excalidrawlib")){e.next=11;break}return e.t0=V,e.next=5,R(t);case 5:e.t1=e.sent,e.t2=g.LO.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=26;break;case 11:if(null===(i=t)||void 0===i||null===(a=i.name)||void 0===a||!a.endsWith(".excalidraw")){e.next=21;break}return e.t4=V,e.next=15,R(t);case 15:e.t5=e.sent,e.t6=g.LO.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=26;break;case 21:return e.next=23,R(t);case 23:o=e.sent,(l=M(o))&&(t=V(o,l,t.name));case 26:e.next=34;break;case 28:if(!F(t)){e.next=34;break}return e.next=31,R(t);case 31:s=e.sent,(u=M(s))&&u!==t.type&&(t=V(s,u,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))}},1393:function(e,t,n){"use strict";n.d(t,{I$:function(){return b},NL:function(){return h},kr:function(){return o}});var r=n(1930),i=n(8950),a=n(2975),o=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),l=o?n.e(4736).then(n.bind(n,2254)):n.e(4736).then(n.bind(n,3499));function c(){return c=(0,i.Z)(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}o?n.e(4736).then(n.bind(n,6474)):n.e(4736).then(n.bind(n,9521));var s=o?n.e(4736).then(n.bind(n,9475)):n.e(4736).then(n.bind(n,6281));function u(){return u=(0,i.Z)(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}var g=n(2335),d=n(6797),I=n(6340),b=function(e){var t,n,i,a=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(g.LO[t]),e}),[]),o=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return c.apply(this,arguments)}({description:e.description,extensions:o,mimeTypes:a,multiple:null!==(i=e.multiple)&&void 0!==i&&i,legacySetup:function(t,n,i){var a=(0,I.Ds)(n,500),o=function(){l(),document.addEventListener(g.Ks.KEYUP,a),document.addEventListener(g.Ks.POINTER_UP,a),a()},l=function(){var n;if(null!==(n=i.files)&&void 0!==n&&n.length){var a=e.multiple?(0,r.Z)(i.files):i.files[0];t(a)}};requestAnimationFrame((function(){window.addEventListener(g.Ks.FOCUS,o)}));var c=window.setInterval((function(){l()}),500);return function(e){clearInterval(c),a.cancel(),window.removeEventListener(g.Ks.FOCUS,o),document.removeEventListener(g.Ks.KEYUP,a),document.removeEventListener(g.Ks.POINTER_UP,a),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new d._))}}})},h=function(e,t){return function(){return u.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)}},673:function(e,t,n){"use strict";n.r(t),n.d(t,{decodePngMetadata:function(){return v},decodeSvgMetadata:function(){return Q},encodePngMetadata:function(){return y},encodeSvgMetadata:function(){return x},getTEXtChunk:function(){return A}});var r=n(8950),i=n(2975),a=n.n(i),o=n(2983),l=n.n(o),c=n(1194),s=n(3434),u=n.n(s),g=n(2744),d=n(2335),I=n(434),b=function(e){return new Promise((function(t,n){var r="string"==typeof e?new Blob([(new TextEncoder).encode(e)]):new Blob([e instanceof Uint8Array?e:new Uint8Array(e)]),i=new FileReader;i.onload=function(e){if(!e.target||"string"!=typeof e.target.result)return n(new Error("couldn't convert to byte string"));t(e.target.result)},i.readAsBinaryString(r)}))},h=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t},f=function(e){return new TextDecoder("utf-8").decode(h(e))},C=function(){var e=(0,r.Z)(a().mark((function e(t){var n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=5;break}e.t0=window.btoa(t),e.next=10;break;case 5:return e.t1=window,e.next=8,b(t);case 8:e.t2=e.sent,e.t0=e.t1.btoa.call(e.t1,e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",n?window.atob(t):f(window.atob(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,!1===t.compress){e.next=11;break}return e.prev=2,e.next=5,b((0,g.deflate)(n));case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!r,e.t2=r,e.t2){e.next=17;break}return e.next=16,b(n);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.encoding,e.next="bstring"===e.t0?3:12;break;case 3:if(!t.compressed){e.next=7;break}e.t1=t.encoded,e.next=10;break;case 7:return e.next=9,f(t.encoded);case 9:e.t1=e.sent;case 10:return n=e.t1,e.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(t.encoding,'"'));case 13:if(!t.compressed){e.next=15;break}return e.abrupt("return",(0,g.inflate)(new Uint8Array(h(n)),{to:"string"}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l(),e.t1=Uint8Array,e.next=4,(0,I.vZ)(t);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3),!(r=n.find((function(e){return"tEXt"===e.name})))){e.next=10;break}return e.abrupt("return",c.decode(r.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.metadata,e.t0=l(),e.t1=Uint8Array,e.next=5,(0,I.vZ)(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),i=(0,e.t0)(e.t3),e.t4=c,e.t5=d.LO.excalidraw,e.t6=JSON,e.next=13,B({text:r,compress:!0});case 13:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),o=e.t4.encode.call(e.t4,e.t5,e.t8),i.splice(-1,0,o),e.abrupt("return",new Blob([u()(i)],{type:d.LO.png}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:if((null==(n=e.sent)?void 0:n.keyword)!==d.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(r=JSON.parse(n.text))){e.next=10;break}if(!("type"in r)||r.type!==d.r8.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.next=12,m(r);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,e.t0=C,e.t1=JSON,e.next=5,B({text:n});case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.next=9,(0,e.t0)(e.t3,!0);case 9:return r=e.sent,i="",i+="\x3c!-- payload-type:".concat(d.LO.excalidraw," --\x3e"),i+="\x3c!-- payload-version:2 --\x3e",i+="\x3c!-- payload-start --\x3e",i+=r,i+="\x3c!-- payload-end --\x3e",e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,l,c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.svg).includes("payload-type:".concat(d.LO.excalidraw))){e.next=26;break}if(r=n.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){e.next=5;break}throw new Error("INVALID");case 5:return i=n.match(/<!-- payload-version:(\d+) -->/),o=(null==i?void 0:i[1])||"1",l="1"!==o,e.prev=8,e.next=11,p(r[1],l);case 11:if(c=e.sent,"encoded"in(s=JSON.parse(c))){e.next=17;break}if(!("type"in s)||s.type!==d.r8.excalidraw){e.next=16;break}return e.abrupt("return",c);case 16:throw new Error("FAILED");case 17:return e.next=19,m(s);case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(8),console.error(e.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}()},9485:function(e,t,n){"use strict";n.d(t,{Um:function(){return d.Um},cT:function(){return u.cT},n8:function(){return d.n8},p1:function(){return I}});var r=n(8950),i=n(2975),a=n.n(i),o=n(6665),l=n(2335),c=n(8211),s=n(4162),u=n(434),g=n(1393),d=n(5523),I=function(){var e=(0,r.Z)(a().mark((function e(t,r,i,I,b){var h,f,C,p,B,m,A,y,v,x,Q;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=b.exportBackground,f=b.exportPadding,C=void 0===f?l.qy:f,p=b.viewBackgroundColor,B=b.name,m=b.fileHandle,A=void 0===m?null:m,0!==r.length){e.next=3;break}throw new Error((0,c.t)("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,(0,s.$D)(r,{exportBackground:h,exportWithDarkMode:i.exportWithDarkMode,viewBackgroundColor:p,exportPadding:C,exportScale:i.exportScale,exportEmbedScene:i.exportEmbedScene&&"svg"===t},I);case 6:if(y=e.sent,"svg"!==t){e.next=13;break}return e.next=10,(0,g.NL)(new Blob([y.outerHTML],{type:l.LO.svg}),{description:"Export to SVG",name:B,extension:i.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:A});case 10:return e.abrupt("return",e.sent);case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,(0,o.dd)(y.outerHTML);case 16:return e.abrupt("return");case 17:return e.next=19,(0,s.NL)(r,i,I,{exportBackground:h,viewBackgroundColor:p,exportPadding:C});case 19:if((v=e.sent).style.display="none",document.body.appendChild(v),"png"!==t){e.next=38;break}return e.next=25,(0,u._c)(v);case 25:if(x=e.sent,v.remove(),!i.exportEmbedScene){e.next=33;break}return e.next=30,Promise.resolve().then(n.bind(n,673));case 30:return e.next=32,e.sent.encodePngMetadata({blob:x,metadata:(0,d.I_)(r,i,I,"local")});case 32:x=e.sent;case 33:return e.next=35,(0,g.NL)(x,{description:"Export to PNG",name:B,extension:"png",fileHandle:A});case 35:return e.abrupt("return",e.sent);case 38:if("clipboard"!==t){e.next=60;break}return e.prev=39,Q=(0,u._c)(v),e.next=43,(0,o.uR)(Q);case 43:e.next=55;break;case 45:if(e.prev=45,e.t0=e.catch(39),console.warn(e.t0),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=50;break}throw e.t0;case 50:if(!l.vU||"TypeError"!==e.t0.name){e.next=54;break}throw new Error("".concat((0,c.t)("alerts.couldNotCopyToClipboard"),"\n\n").concat((0,c.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,c.t)("alerts.couldNotCopyToClipboard"));case 55:return e.prev=55,v.remove(),e.finish(55);case 58:e.next=62;break;case 60:throw v.remove(),new Error("Unsupported export type");case 62:case"end":return e.stop()}}),e,null,[[39,45,55,58]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},5523:function(e,t,n){"use strict";n.d(t,{HT:function(){return B},I_:function(){return h},NI:function(){return m},Um:function(){return f},dS:function(){return p},n8:function(){return C},t1:function(){return A}});var r=n(6655),i=n(8950),a=n(2975),o=n.n(a),l=n(1393),c=n(8897),s=n(2335),u=n(1047),g=n(434);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t){var n,r={},i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;!a.isDeleted&&"fileId"in a&&a.fileId&&t[a.fileId]&&(r[a.fileId]=t[a.fileId])}}catch(e){i.e(e)}finally{i.f()}return r},h=function(e,t,n,r){var i={type:s.r8.excalidraw,version:s.Kr.excalidraw,source:s.pb,elements:"local"===r?(0,u._M)(e):(0,u.BQ)(e),appState:"local"===r?(0,c.s)(t):(0,c.eS)(t),files:"local"===r?b(e,n):void 0};return JSON.stringify(i,null,2)},f=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){var i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h(t,n,r,"local"),a=new Blob([i],{type:s.LO.excalidraw}),e.next=4,(0,l.NL)(a,{name:n.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,g.g8)(n.fileHandle)?null:n.fileHandle});case 4:return c=e.sent,e.abrupt("return",{fileHandle:c});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.I$)({description:"Excalidraw files"});case 2:return r=e.sent,e.t0=g.cT,e.next=6,(0,g.gY)(r);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(e){return(null==e?void 0:e.type)===s.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===(0,r.Z)(e.appState)))},B=function(e){return"object"===(0,r.Z)(e)&&e&&e.type===s.r8.excalidrawLibrary&&(1===e.version||2===e.version)},m=function(e){var t={type:s.r8.excalidrawLibrary,version:s.Kr.excalidrawLibrary,source:s.pb,libraryItems:e};return JSON.stringify(t,null,2)},A=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m(t),e.next=3,(0,l.NL)(new Blob([n],{type:s.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7053:function(e,t,n){"use strict";n.d(t,{Di:function(){return w},WV:function(){return G},rF:function(){return v},xS:function(){return S},zh:function(){return F}});var r=n(7169),i=n(8950),a=n(5169),o=n(8821),l=n(1930),c=n(2975),s=n.n(c),u=n(434),g=n(679),d=n(4739),I=n(9487),b=n(8925),h=n(6797),f=n(8211),C=n(9787),p=n(2335);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,d.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),x=function(e){return JSON.parse(JSON.stringify(e))},Q=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},F=function(e,t){var n,r=[],i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;Q(e,a)&&r.push(a)}}catch(e){i.e(e)}finally{i.f()}return[].concat(r,(0,l.Z)(e))},U=(0,a.Z)((function e(t){var n=this;(0,o.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return n.updateQueue[n.updateQueue.length-1]},this.notifyListeners=function(){if(n.updateQueue.length>0)I.e_.set(v,{status:"loading",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});else{n.isInitialized=!0,I.e_.set(v,{status:"loaded",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});try{var e,t;null===(e=(t=n.app.props).onLibraryChange)||void 0===e||e.call(t,x(n.lastLibraryItems))}catch(e){console.error(e)}}},this.resetLibrary=function(){return n.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var e=(0,i.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.lastLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(x(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.lastLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},this.updateLibrary=function(){var e=(0,i.Z)(s().mark((function e(t){var r,a,o,l,c,d,I,b,C;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,a=t.prompt,o=void 0!==a&&a,l=t.merge,c=void 0!==l&&l,d=t.openLibraryMenu,I=void 0!==d&&d,b=t.defaultStatus,C=void 0===b?"unpublished":b,I&&n.app.setState({openSidebar:"library"}),e.abrupt("return",n.setLibrary((function(){return new Promise(function(){var e=(0,i.Z)(s().mark((function e(t,i){var a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"!=typeof r||r instanceof Blob?r:r(n.lastLibraryItems);case 3:if(!((a=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,u.lV)(a,C);case 7:l=e.sent,e.next=11;break;case 10:l=(0,g.wJ)(a,C);case 11:!o||window.confirm((0,f.t)("alerts.confirmAddLibrary",{numShapes:l.length}))?t(c?F(n.lastLibraryItems,l):l):i(new h._),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())})).finally((function(){n.app.focusContainer()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setLibrary=function(e){var t=new Promise(function(){var t=(0,i.Z)(s().mark((function t(r,i){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"==typeof e&&(e=e(n.lastLibraryItems)),t.t0=x,t.next=7,e;case 7:t.t1=t.sent,n.lastLibraryItems=(0,t.t0)(t.t1),r(n.lastLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),i(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.lastLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t},this.app=t}));t.ZP=U;var G=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),r=[],i=0,a=0,o=0,c=0,s=0,u=0,g=0,d=A(e);try{var I=function(){var d=t.value;s&&s%n==0&&(a+=o+50,i=0,u=0,g++),0===u&&(o=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,b.v2)(t.elements).height;return Math.max(e,n)}),0)}(g)),c=function(t){var r,i=0,a=0,o=0,l=A(e);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(i%n==0&&(a=0),a===t){var s=(0,b.v2)(c.elements).width;o=Math.max(o,s)}i++,a++}}catch(e){l.e(e)}finally{l.f()}return o}(u);var I=(0,b.v2)(d.elements),h=I.minX,f=I.minY,C=I.width,p=I.height,B=(c-C)/2,y=(o-p)/2;r.push.apply(r,(0,l.Z)(d.elements.map((function(e){return m(m({},e),{},{x:e.x+i+B-h,y:e.y+a+y-f})})))),i+=c+50,s++,u++};for(d.s();!(t=d.n()).done;)I()}catch(e){d.e(e)}finally{d.f()}return r},w=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(p.ah.addLibrary)||new URLSearchParams(window.location.search).get(p.UO.addLibrary),t=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:t}:null},S=function(e){var t=e.excalidrawAPI,n=e.getInitialLibraryItems,r=(0,C.useRef)(n);(0,C.useEffect)((function(){if(t){var e=function(){var e=(0,i.Z)(s().mark((function e(n){var r,a,o,l,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.libraryUrl,a=n.idToken,o=new Promise(function(){var e=(0,i.Z)(s().mark((function e(t,n){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(decodeURIComponent(r));case 3:return i=e.sent,e.next=6,i.blob();case 6:a=e.sent,t(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),l=a!==t.id,e.next=5,l&&document.hidden?new Promise((function(e){window.addEventListener("focus",(function(){return e()}),{once:!0})})):null;case 5:return e.prev=5,e.next=8,t.updateLibrary({libraryItems:o,prompt:l,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),e.t0;case 13:return e.prev=13,window.location.hash.includes(p.ah.addLibrary)?((c=new URLSearchParams(window.location.hash.slice(1))).delete(p.ah.addLibrary),window.history.replaceState({},p.iC,"#".concat(c.toString()))):window.location.search.includes(p.UO.addLibrary)&&((u=new URLSearchParams(window.location.search)).delete(p.UO.addLibrary),window.history.replaceState({},p.iC,"?".concat(u.toString()))),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),n=function(t){t.preventDefault();var n=w();n&&(t.stopImmediatePropagation(),window.history.replaceState({},"",t.oldURL),e(n))};r.current&&t.updateLibrary({libraryItems:r.current()});var a=w();return a&&e(a),window.addEventListener(p.Ks.HASHCHANGE,n),function(){window.removeEventListener(p.Ks.HASHCHANGE,n)}}}),[t])}},679:function(e,t,n){"use strict";n.d(t,{ET:function(){return x},lY:function(){return U},nu:function(){return G},wJ:function(){return S}});var r=n(2577),i=n(7169),a=n(1047),o=n(1974),l=n(6954),c=n(2335),s=n(8897),u=n(6938),g=n(1935),d=n(6340),I=n(5284),b=n(5710);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},m=function(e){return Object.keys(c.ut).includes(e)?c.ut[e]:c.rk},A=function(e,t){var n,r,i,s,u,g,b,h,f,C,B,m,A,y,v={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||(0,l.kb)(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:"solid",roughness:null!==(s=e.roughness)&&void 0!==s?s:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:null!==(u=null!==(g=t.x)&&void 0!==g?g:e.x)&&void 0!==u?u:0,y:null!==(b=null!==(h=t.y)&&void 0!==h?h:e.y)&&void 0!==b?b:0,strokeColor:e.strokeColor||I.black,backgroundColor:e.backgroundColor||"transparent",width:e.width||0,height:e.height||0,seed:null!==(f=e.seed)&&void 0!==f?f:1,groupIds:null!==(C=e.groupIds)&&void 0!==C?C:[],roundness:e.roundness?e.roundness:"round"===e.strokeSharpness?{type:(0,o.QI)(e.type)?c.a6.LEGACY:c.a6.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(B=e.boundElements)&&void 0!==B?B:[],updated:null!==(m=e.updated)&&void 0!==m?m:(0,d.C3)(),link:null!==(A=e.link)&&void 0!==A?A:null,locked:null!==(y=e.locked)&&void 0!==y&&y};return"customData"in e&&(v.customData=e.customData),c.WR in e&&(v[c.WR]=e[c.WR]),p(p(p({},v),(0,a.Qp)(v)),t)},y=function(e,t){if(e.boundElements){var n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((function(n,i){var a=t.get(i.id);if(a&&!r.has(i.id)){if(r.add(i.id),a.isDeleted)return n;n.push(i),(0,o.iB)(a)&&!a.containerId&&(a.containerId=e.id)}return n}),[])}},v=function(e,t){var n=e.containerId?t.get(e.containerId):null;if(n){if(!e.isDeleted&&n.boundElements&&!n.boundElements.find((function(t){return t.id===e.id}))){var r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}}else e.containerId=null},x=function(e,t,n){var i=new Set,s=t?(0,d.xn)(t):null,I=(e||[]).reduce((function(e,t){if("selection"!==t.type&&!(0,a.QD)(t)){var o=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case"text":var o=e.fontSize,l=e.fontFamily;if("font"in e){var s=e.font.split(" "),g=(0,r.Z)(s,2),I=g[0],h=g[1];o=parseFloat(I),l=m(h)}var f=null!==(t=e.text)&&void 0!==t?t:"",C=e.lineHeight||(e.height?(0,b.$2)(e):(0,b.PT)(e.fontFamily)),B=(0,b.R8)(e.text,(0,d.mO)(e),C);return e=A(e,{fontSize:o,fontFamily:l,text:f,textAlign:e.textAlign||c.Hg,verticalAlign:e.verticalAlign||c.hs,containerId:null!==(n=e.containerId)&&void 0!==n?n:null,originalText:e.originalText||f,lineHeight:C,baseline:B}),i&&(e=p(p({},e),(0,a.JZ)(e))),e;case"freedraw":return A(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return A(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var y=e,v=y.startArrowhead,x=void 0===v?null:v,Q=y.endArrowhead,F=void 0===Q?"arrow"===e.type?"arrow":null:Q,U=e.x,G=e.y,w=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==w[0][0]||0!==w[0][1]){var S=u._.getNormalizedPoints(e);w=S.points,U=S.x,G=S.y}return A(e,{type:"draw"===e.type?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:x,endArrowhead:F,points:w,x:U,y:G});case"ellipse":case"rectangle":case"diamond":return A(e,{})}}(t,null==n?void 0:n.refreshDimensions);if(o){var I=null==s?void 0:s.get(t.id);I&&I.version>o.version&&(o=(0,g.ZP)(o,I.version)),i.has(o.id)&&(o=p(p({},o),{},{id:(0,l.kb)()})),i.add(o.id),e.push(o)}}return e}),[]);if(null==n||!n.repairBindings)return I;var f,C=(0,d.xn)(I),B=h(I);try{for(B.s();!(f=B.n()).done;){var x=f.value;(0,o.iB)(x)&&x.containerId?v(x,C):x.boundElements&&y(x,C)}}catch(e){B.e(e)}finally{B.f()}return I},Q=function(e,t,n){var r=t[e];return void 0!==r?r:n[e]},F={isLibraryOpen:function(e,t){return["openSidebar","isLibraryOpen"in e?e.isLibraryOpen?"library":null:Q("openSidebar",e,t)]},isLibraryMenuDocked:function(e,t){var n;return["isSidebarDocked",null!==(n=e.isLibraryMenuDocked)&&void 0!==n?n:Q("isSidebarDocked",e,t)]}},U=function(e,t){var n,i,a,o;e=e||{};for(var l=(0,s.im)(),c={},u=0,g=Object.keys(F);u<g.length;u++){var I=g[u];if(I in e){var b=F[I](e,l),h=(0,r.Z)(b,2),f=h[0],C=h[1];c[f]=C}}for(var m=0,A=Object.entries(l);m<A.length;m++){var y=(0,r.Z)(A[m],2),v=y[0],x=y[1],Q=e[v],U=t?t[v]:void 0;c[v]=void 0!==Q?Q:void 0!==U?U:x}return p(p({},c),{},{cursorButton:(null==t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null==t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&null!==(i=e.penDetected)&&void 0!==i&&i,activeTool:p(p({},(0,d.Om)(l,c.activeTool.type&&B[c.activeTool.type]?c.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:null!==(a=c.activeTool.locked)&&void 0!==a&&a}),zoom:"number"==typeof e.zoom?{value:e.zoom}:null!==(o=e.zoom)&&void 0!==o&&o.value?e.zoom:l.zoom,openSidebar:"library"===c.openSidebar?c.isSidebarDocked?"library":null:c.openSidebar})},G=function(e,t,n,r){return{elements:x(null==e?void 0:e.elements,n,r),appState:U(null==e?void 0:e.appState,t||null),files:(null==e?void 0:e.files)||{}}},w=function(e){var t=x((0,a.Lm)(e.elements),null);return t.length?p(p({},e),{},{elements:t}):null},S=function(){var e,t=arguments.length>1?arguments[1]:void 0,n=[],r=h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Array.isArray(i)){var a=w({status:t,elements:i,id:(0,l.kb)(),created:Date.now()});a&&n.push(a)}else{var o=i,c=w(p(p({},o),{},{id:o.id||(0,l.kb)(),status:o.status||t,created:o.created||Date.now()}));c&&n.push(c)}}}catch(e){r.e(e)}finally{r.f()}return n}},4929:function(e,t,n){"use strict";n.d(t,{rj:function(){return V},nW:function(){return R},nz:function(){return z},sw:function(){return _},lV:function(){return $},q$:function(){return H},wq:function(){return J},$u:function(){return L},Pp:function(){return K}});var r=n(7169),i=n(2577),a=n(6340),o=n(1935),l=n(7901),c=n(1319),s=n(3646),u=n(8211),g=n(9787),d=n(45),I=n(6066),b=n(3063),h=n(6552),f=n(2335),C=n(1894),p=n(75),B=n(2325),m=n(1047),A=n(487),y=n.n(A),v=n(631),x=n.n(v),Q=n(2052),F=n.n(Q),U=n(4010),G=n.n(U),w=n(1469),S=n.n(w),E=n(9329),X=n.n(E),Z=n(5260),k={};k.styleTagTransform=X(),k.setAttributes=G(),k.insert=F().bind(null,"head"),k.domAPI=x(),k.insertStyleElement=S(),y()(Z.Z,k),Z.Z&&Z.Z.locals&&Z.Z.locals;var N=n(7047),T=n(2134),D=n(4512);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=document.createElement("img");V.src="data:".concat(f.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var W=!1,R=function(e){var t=e.element,n=e.setAppState,r=e.onLinkOpen,l=(0,T.gF)(),b=t.link||"",h=(0,g.useState)(b),C=(0,i.Z)(h,2),p=C[0],B=C[1],m=(0,g.useRef)(null),A="editor"===l.showHyperlinkPopup||!b,y=(0,g.useCallback)((function(){if(m.current){var e=L(m.current.value);!t.link&&e&&(0,N.L)("hyperlink","create"),(0,o.DR)(t,{link:e}),n({showHyperlinkPopup:"info"})}}),[t,n]);(0,g.useLayoutEffect)((function(){return function(){y()}}),[y]),(0,g.useEffect)((function(){var e=null,r=function(r){A||(e&&clearTimeout(e),ee(t,l,[r.clientX,r.clientY])&&(e=window.setTimeout((function(){n({showHyperlinkPopup:!1})}),500)))};return window.addEventListener(f.Ks.POINTER_MOVE,r,!1),function(){window.removeEventListener(f.Ks.POINTER_MOVE,r,!1),e&&clearTimeout(e)}}),[l,t,A,n]);var v=(0,g.useCallback)((function(){(0,N.L)("hyperlink","delete"),(0,o.DR)(t,{link:null}),A&&(m.current.value=""),n({showHyperlinkPopup:!1})}),[n,t,A]),x=Y(t,l),Q=x.x,F=x.y;return l.draggingElement||l.resizingElement||l.isRotating||l.openMenu?null:(0,D.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(F,"px"),left:"".concat(Q,"px"),width:320,padding:5},children:[A?(0,D.jsx)("input",{className:(0,d.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:m,value:p,onChange:function(e){return B(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[I.tW.CTRL_OR_CMD]&&e.key===I.tW.K&&e.preventDefault(),e.key!==I.tW.ENTER&&e.key!==I.tW.ESCAPE||y()}}):(0,D.jsx)("a",{href:t.link||"",className:(0,d.Z)("excalidraw-hyperlinkContainer-link",{"d-none":A}),target:H(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&r){var n=(0,a.ag)(f.Ks.EXCALIDRAW_LINK,e.nativeEvent);r(t,n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}),(0,D.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!A&&(0,D.jsx)(c.V,{type:"button",title:(0,u.t)("buttons.edit"),"aria-label":(0,u.t)("buttons.edit"),label:(0,u.t)("buttons.edit"),onClick:function(){(0,N.L)("hyperlink","edit","popup-ui"),n({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:s.Pm}),b&&(0,D.jsx)(c.V,{type:"button",title:(0,u.t)("buttons.remove"),"aria-label":(0,u.t)("buttons.remove"),label:(0,u.t)("buttons.remove"),onClick:v,className:"excalidraw-hyperlinkContainer--remove",icon:s.XH})]})]})},Y=function(e,t){var n=(0,m.qf)(e),r=(0,i.Z)(n,2),o=r[0],l=r[1],c=(0,a._i)({sceneX:o+e.width/2,sceneY:l},t),s=c.x,u=c.y;return{x:s-t.offsetLeft-160,y:u-t.offsetTop-85}},L=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e},H=function(e){return!!(null!=e&&e.includes(location.origin)||null!=e&&e.startsWith("/"))},z=(0,l.z)({name:"hyperlink",perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:M(M({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[I.tW.CTRL_OR_CMD]&&e.key===I.tW.K},contextItemLabel:function(e,t){return j(e,t)},predicate:function(e,t){return 1===(0,p.eD)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,p.eD)(t,n);return(0,D.jsx)(c.V,{type:"button",icon:s.xP,"aria-label":(0,u.t)(j(t,n)),title:"".concat((0,u.t)("labels.link.label")," - ").concat((0,a.uY)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===i.length&&!!i[0].link})}}),j=function(e,t){return(0,p.eD)(e,t)[0].link?"labels.link.edit":"labels.link.create"},_=function(e,t,n){var r=(0,i.Z)(e,4),a=r[0],o=r[1],l=r[2],c=r[3],s=b.Dn,u=s/n.zoom.value,g=s/n.zoom.value,d=s/n.zoom.value,I=(a+l)/2,f=(o+c)/2,C=(s-8)/(2*n.zoom.value),p=4/n.zoom.value,B=l+p-C,m=o-p-d+C,A=(0,h.U1)(B+u/2,m+g/2,I,f,t),y=(0,i.Z)(A,2);return[y[0]-u/2,y[1]-g/2,u,g]},J=function(e,t,n,r){var a=(0,i.Z)(n,2),o=a[0],l=a[1];if(!e.link||t.selectedElementIds[e.id])return!1;var c=4/t.zoom.value;if(!r&&t.viewModeEnabled&&(0,B.pX)(e,[o,l],c))return!0;var s=(0,m.qf)(e),u=(0,i.Z)(s,4),g=u[0],d=u[1],I=u[2],b=u[3],h=_([g,d,I,b],e.angle,t),f=(0,i.Z)(h,4),C=f[0],p=f[1],A=f[2],y=f[3];return o>C-c&&o<C+c+A&&l>p-c&&l<p+y+c},P=null,K=function(e,t){P&&clearTimeout(P),P=window.setTimeout((function(){return q(e,t)}),f.sA)},q=function(e,t){if(e.link){var n=(0,C.bK)();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=(0,m.qf)(e),o=(0,i.Z)(r,4),l=o[0],c=o[1],s=o[2],u=o[3],g=_([l,c,s,u],e.angle,t),d=(0,i.Z)(g,4),I=d[0],b=d[1],h=d[2],f=d[3],p=(0,a._i)({sceneX:I,sceneY:b},t);(0,C.Js)(n,{left:p.x,top:p.y,width:h,height:f},"top"),(0,N.L)("hyperlink","tooltip","link-icon"),W=!0}},$=function(){P&&clearTimeout(P),W&&(W=!1,(0,C.bK)().classList.remove("excalidraw-tooltip--visible"))},ee=function(e,t,n){var r=(0,i.Z)(n,2),o=r[0],l=r[1],c=(0,a.dE)({clientX:o,clientY:l},t),s=c.x,u=c.y,g=15/t.zoom.value;if((0,B.pX)(e,[s,u],g))return!1;var d=(0,m.qf)(e),I=(0,i.Z)(d,3),b=I[0],h=I[1],f=I[2];if(s>=b&&s<=f&&u>=h-85&&u<=h)return!1;var C=Y(e,t),p=C.x,A=C.y;return!(o>=p-g&&o<=p+320+10+g&&l>=A-g&&l<=A+g+10+42)}},8290:function(e,t,n){"use strict";n.d(t,{$q:function(){return Y},DK:function(){return Q},H:function(){return F},HG:function(){return p},N1:function(){return f},R:function(){return y},Ww:function(){return S},Y9:function(){return G},ZB:function(){return N},cz:function(){return h},ek:function(){return W},el:function(){return m}});var r=n(7169),i=n(2577),a=n(75),o=n(1974),l=n(2325),c=n(1935),s=n(1564),u=n(6938),g=n(6340),d=n(6066),I=n(5710);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e){return!e[d.tW.CTRL_OR_CMD]},f=function(e){return e.isBindingEnabled},C=function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n},p=function(e,t,n){var r=new Set,i=new Set;B(e,t,n,"start",r,i),B(e,n,t,"end",r,i);var a=Array.from(i).filter((function(e){return!r.has(e)}));C(s.Z.getScene(e),a).forEach((function(t){var n;(0,c.DR)(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},B=function(e,t,n,r,i,a){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?x(e,t,r):"start"!==r&&n.id===t.id)||(v(e,t,r),i.add(t.id));else{var o=U(e,r);null!=o&&a.add(o)}},m=function(e){e.forEach((function(e){(0,o.Mn)(e)?p(e,D(e,"start"),D(e,"end")):(0,o.f0)(e)&&A(e)}))},A=function(e){M(e).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return p(r,"end"===a?"keep":e,"start"===a?"keep":e)}))},y=function(e,t,n,r){null!=t.startBoundElement&&v(e,t.startBoundElement,"start");var i=G(r,n);null==i||x(e,i,"end")||v(e,i,"end")},v=function(e,t,n){(0,c.DR)(e,(0,r.Z)({},"start"===n?"startBinding":"endBinding",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elementId:t.id},w(e,t,n)))),(0,g.xn)(t.boundElements||[]).has(e.id)||(0,c.DR)(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},x=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return Q(e,null==r?void 0:r.elementId,t)},Q=function(e,t,n){return t===n.id&&e.points.length<3},F=function(e){e.forEach((function(e){(0,o.Mn)(e)&&p(e,null,null)}))},U=function(e,t){var n="start"===t?"startBinding":"endBinding",i=e[n];return null==i?null:((0,c.DR)(e,(0,r.Z)({},n,null)),i.elementId)},G=function(e,t){return(0,a.QG)(t.getNonDeletedElements(),(function(t){return(0,o.f0)(t,!1)&&(0,l.uu)(t,e)}))},w=function(e,t,n){var r="start"===n?-1:1,i=-1===r?0:e.points.length-1,a=i-r,o=u._.getPointAtIndexGlobalCoordinates(e,i),c=u._.getPointAtIndexGlobalCoordinates(e,a);return{focus:(0,l.T_)(t,c,o),gap:Math.max(1,(0,l.oT)(t,o))}},S=function(e,t){var n,r=(null!==(n=e.boundElements)&&void 0!==n?n:[]).filter((function(e){return"arrow"===e.type}));if(0!==r.length){var i=null!=t?t:{},a=i.newSize,l=i.simultaneouslyUpdated,u=X(l);C(s.Z.getScene(e),r.map((function(e){return e.id}))).forEach((function(t){if((0,o.bt)(t)){var n=e;if(E(t,n)){var r=k(n,t.startBinding,a),i=k(n,t.endBinding,a);u.has(t.id)?(0,c.DR)(t,{startBinding:r,endBinding:i}):(Z(t,"start",r,e),Z(t,"end",i,e),(0,I.WJ)(t)&&(0,I.RB)(t,!1))}}}))}},E=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},X=function(e){return new Set((e||[]).map((function(e){return e.id})))},Z=function(e,t,n,i){if(!(null==n||n.elementId!==i.id&&e.points.length>2)){var a=s.Z.getScene(e).getElement(n.elementId);if(null!=a){var o,c="start"===t?-1:1,g=-1===c?0:e.points.length-1,d=g-c,I=u._.getPointAtIndexGlobalCoordinates(e,d),b=(0,l.j_)(a,n.focus,I);if(0===n.gap)o=b;else{var h=(0,l.MZ)(a,I,b,n.gap);o=0===h.length?b:h[0]}u._.movePoints(e,[{index:g,point:u._.pointFromAbsoluteCoords(e,o)}],(0,r.Z)({},"start"===t?"startBinding":"endBinding",n))}}},k=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,i=t.focus,a=t.elementId,o=n.width,c=n.height,s=e.width,u=e.height;return{elementId:a,gap:Math.max(1,Math.min((0,l.fb)(e,o,c),r*(o<c?o/s:c/u))),focus:i}},N=function(e){var t=new Set(e.map((function(e){return e.id})));return e.flatMap((function(e){return(0,o.Mn)(e,!1)?T(e).filter((function(e){return!t.has(e.id)})):(0,o.f0)(e,!1)?M(e).filter((function(e){return!t.has(e[0].id)})):[]}))},T=function(e){return[D(e,"start"),D(e,"end")].filter((function(e){return null!=e}))},D=function(e,t){return G(O(e,t),s.Z.getScene(e))},O=function(e,t){var n="start"===t?0:-1;return(0,g.AK)(u._.getPointAtIndexGlobalCoordinates(e,n))},M=function(e){return s.Z.getScene(e).getNonDeletedElements().map((function(t){if(!(0,o.Mn)(t,!1))return null;var n=V(t,"start",e),r=V(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},V=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!x(e,n,t)&&(0,l.uu)(n,O(e,t))},W=function(e,t,n,r){var i=new Set,a=new Set,l="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){l&&!n.has(e.id)&&i.add(e.id)})),a.add(n.get(e.id))),(0,o.Mn)(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;l&&!n.has(r)&&a.add(r)}if(null!=e.endBinding){var c=e.endBinding.elementId;l&&!n.has(c)&&a.add(c)}null==e.startBinding&&null==e.endBinding||i.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;(0,c.DR)(e,{startBinding:R(t,n),endBinding:R(r,n)})})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.boundElements;null!=t&&t.length>0&&(0,c.DR)(e,{boundElements:t.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},R=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},Y=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;(0,o.f0)(e)?null===(t=e.boundElements)||void 0===t||t.forEach((function(e){n.has(e.id)||r.add(e.id)})):(0,o.Mn)(e)&&(e.startBinding&&r.add(e.startBinding.elementId),e.endBinding&&r.add(e.endBinding.elementId))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){(0,o.f0)(e)?(0,c.DR)(e,{boundElements:H(e.boundElements,n)}):(0,o.Mn)(e)&&(0,c.DR)(e,{startBinding:L(e.startBinding,n),endBinding:L(e.endBinding,n)})}))},L=function(e,t){return null==e||t.has(e.elementId)?null:e},H=function(e,t){return e?e.filter((function(e){return!t.has(e.id)})):null}},8925:function(e,t,n){"use strict";n.d(t,{CM:function(){return f},IX:function(){return B},KP:function(){return Q},Pi:function(){return x},UC:function(){return h},Ut:function(){return U},Y5:function(){return y},os:function(){return G},qf:function(){return b},v2:function(){return w},wC:function(){return F}});var r=n(2577),i=n(1930),a=n(6552),o=n(8234),l=n(3063),c=n(1974),s=n(5001),u=n(5710),g=n(6938);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,c.F9)(e))return A(e);if((0,c.bt)(e))return g._.getElementAbsoluteCoords(e,t);if((0,c.iB)(e)){var n=(0,u.tl)(e);if((0,c.Yv)(n)){var r=g._.getBoundTextElementPosition(n,e);return[r.x,r.y,r.x+e.width,r.y+e.height,r.x+e.width/2,r.y+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},h=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},f=function(e){var t,n=d(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(e){n.e(e)}finally{n.f()}return e.sets[0].ops},C=function(e,t,n,r,i){var a=1-e;return Math.pow(a,3)*t+3*Math.pow(a,2)*e*n+3*a*Math.pow(e,2)*r+Math.pow(e,3)*i},p=function(e,t,n,r){var i=t-e,a=n-t,o=3*i-6*a+3*(r-n),l=6*a-6*i,c=3*i,s=l*l-4*o*c;if(!(s>=0))return!1;var u=null,g=null,d=1/0,I=1/0;return 0===o?d=I=-c/l:(d=(-l+Math.sqrt(s))/(2*o),I=(-l-Math.sqrt(s))/(2*o)),d>=0&&d<=1&&(u=C(d,e,t,n,r)),I>=0&&I<=1&&(g=C(I,e,t,n,r)),[u,g]},B=function(e,t){var n=[0,0],a=e.reduce((function(e,a){var o=a.op,l=a.data;if("move"===o)n=l;else if("bcurveTo"===o){var c=[l[0],l[1]],s=[l[2],l[3]],u=[l[4],l[5]],g=t?t.apply(void 0,c):c,d=t?t.apply(void 0,s):s,I=t?t.apply(void 0,u):u,b=t?t.apply(void 0,(0,i.Z)(n)):n;n=u;var h=function(e,t,n,r){var a=p(e[0],t[0],n[0],r[0]),o=p(e[1],t[1],n[1],r[1]),l=Math.min(e[0],r[0]),c=Math.max(e[0],r[0]);if(a){var s=a.filter((function(e){return null!==e}));l=Math.min.apply(Math,[l].concat((0,i.Z)(s))),c=Math.max.apply(Math,[c].concat((0,i.Z)(s)))}var u=Math.min(e[1],r[1]),g=Math.max(e[1],r[1]);if(o){var d=o.filter((function(e){return null!==e}));u=Math.min.apply(Math,[u].concat((0,i.Z)(d))),g=Math.max.apply(Math,[g].concat((0,i.Z)(d)))}return[l,u,c,g]}(b,g,d,I),f=(0,r.Z)(h,4),C=f[0],B=f[1],m=f[2],A=f[3];e.minX=Math.min(e.minX,C),e.minY=Math.min(e.minY,B),e.maxX=Math.max(e.maxX,m),e.maxY=Math.max(e.maxY,A)}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]},m=function(e){var t,n=1/0,i=1/0,a=-1/0,o=-1/0,l=d(e);try{for(l.s();!(t=l.n()).done;){var c=(0,r.Z)(t.value,2),s=c[0],u=c[1];n=Math.min(n,s),i=Math.min(i,u),a=Math.max(a,s),o=Math.max(o,u)}}catch(e){l.e(e)}finally{l.f()}return[n,i,a,o]},A=function(e){var t=m(e.points),n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],l=n[3],c=i+e.x,s=a+e.y,u=o+e.x,g=l+e.y;return[c,s,u,g,(c+u)/2,(s+g)/2]},y=function(e,t,n,i){var o=f(t[0]);if(o.length<1)return null;var l="start"===n?1:o.length-1,c=o[l].data,s=[c[4],c[5]],u=[c[2],c[3]],g=[c[0],c[1]],d=o[l-1],I=[0,0];"move"===d.op?I=d.data:"bcurveTo"===d.op&&(I=[d.data[4],d.data[5]]);var b=function(e,t){return Math.pow(1-e,3)*s[t]+3*e*Math.pow(1-e,2)*u[t]+3*Math.pow(e,2)*(1-e)*g[t]+I[t]*Math.pow(e,3)},h="start"===n?I:s,C=(0,r.Z)(h,2),p=C[0],B=C[1],m=[b(.3,0),b(.3,1)],A=m[0],y=m[1],v=Math.hypot(p-A,B-y),x=(p-A)/v,Q=(B-y)/v,F={arrow:30,bar:15,dot:15,triangle:15}[i],U=0;if("arrow"===i){var G=(0,r.Z)(e.points[e.points.length-1],2),w=G[0],S=G[1],E=e.points.length>1?e.points[e.points.length-2]:[0,0],X=(0,r.Z)(E,2),Z=X[0],k=X[1];U=Math.hypot(w-Z,S-k)}else for(var N=0;N<e.points.length;N++){var T=e.points[N-1]||[0,0],D=(0,r.Z)(T,2),O=D[0],M=D[1],V=(0,r.Z)(e.points[N],2),W=V[0],R=V[1];U+=Math.hypot(W-O,R-M)}var Y=Math.min(F,U/2),L=p-x*Y,H=B-Q*Y;if("dot"===i)return[p,B,Math.hypot(H-B,L-p)+e.strokeWidth];var z={arrow:20,bar:90,triangle:25}[i],j=(0,a.U1)(L,H,p,B,-z*Math.PI/180),_=(0,r.Z)(j,2),J=_[0],P=_[1],K=(0,a.U1)(L,H,p,B,z*Math.PI/180),q=(0,r.Z)(K,2);return[p,B,J,P,q[0],q[1]]},v=function(e,t,n){var i;if(e.points.length<2){var c=(0,r.Z)(e.points[0],2),s=c[0],d=c[1],I=(0,a.U1)(e.x+s,e.y+d,t,n,e.angle),b=(0,r.Z)(I,2),h=b[0],C=b[1],p=[h,C,h,C],m=(0,u.WJ)(e);if(m){var A=g._.getMinMaxXYWithBoundText(e,[h,C,h,C],m);p=[A[0],A[1],A[2],A[3]]}return p}var y=null===(i=(0,l.R2)(e))||void 0===i?void 0:i[0],v=null!=y?y:function(e){var t=o.Z.generator(),n=(0,l.i)(e);return t[e.roundness?"curve":n.fill?"polygon":"linearPath"](e.points,n)}(e),x=f(v),Q=B(x,(function(r,i){return(0,a.U1)(e.x+r,e.y+i,t,n,e.angle)})),F=[Q[0],Q[1],Q[2],Q[3]],U=(0,u.WJ)(e);if(U){var G=g._.getMinMaxXYWithBoundText(e,F,U);F=[G[0],G[1],G[2],G[3]]}return F},x=function(e){var t,n=b(e),i=(0,r.Z)(n,6),o=i[0],l=i[1],s=i[2],u=i[3],g=i[4],d=i[5];if((0,c.F9)(e)){var I=m(e.points.map((function(t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,a.U1)(i,o,g-e.x,d-e.y,e.angle)}))),h=(0,r.Z)(I,4),f=h[0],C=h[1],p=h[2],B=h[3];return[f+e.x,C+e.y,p+e.x,B+e.y]}if((0,c.bt)(e))t=v(e,g,d);else if("diamond"===e.type){var A=(0,a.U1)(g,l,g,d,e.angle),y=(0,r.Z)(A,2),x=y[0],Q=y[1],F=(0,a.U1)(g,u,g,d,e.angle),U=(0,r.Z)(F,2),G=U[0],w=U[1],S=(0,a.U1)(o,d,g,d,e.angle),E=(0,r.Z)(S,2),X=E[0],Z=E[1],k=(0,a.U1)(s,d,g,d,e.angle),N=(0,r.Z)(k,2),T=N[0],D=N[1];t=[Math.min(x,G,X,T),Math.min(Q,w,Z,D),Math.max(x,G,X,T),Math.max(Q,w,Z,D)]}else if("ellipse"===e.type){var O=(s-o)/2,M=(u-l)/2,V=Math.cos(e.angle),W=Math.sin(e.angle),R=Math.hypot(O*V,M*W),Y=Math.hypot(M*V,O*W);t=[g-R,d-Y,g+R,d+Y]}else{var L=(0,a.U1)(o,l,g,d,e.angle),H=(0,r.Z)(L,2),z=H[0],j=H[1],_=(0,a.U1)(o,u,g,d,e.angle),J=(0,r.Z)(_,2),P=J[0],K=J[1],q=(0,a.U1)(s,u,g,d,e.angle),$=(0,r.Z)(q,2),ee=$[0],te=$[1],ne=(0,a.U1)(s,l,g,d,e.angle),re=(0,r.Z)(ne,2),ie=re[0],ae=re[1];t=[Math.min(z,P,ee,ie),Math.min(j,K,te,ae),Math.max(z,P,ee,ie),Math.max(j,K,te,ae)]}return t},Q=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,i=1/0,a=-1/0;return e.forEach((function(e){var o=x(e),l=(0,r.Z)(o,4),c=l[0],s=l[1],u=l[2],g=l[3];t=Math.min(t,c),i=Math.min(i,s),n=Math.max(n,u),a=Math.max(a,g)})),[t,i,n,a]},F=function(e,t,n,i){if(!(0,c.bt)(e)&&!(0,c.F9)(e))return[e.x,e.y,e.x+t,e.y+n];var a,u=(0,s.z)(0,t,(0,s.z)(1,n,e.points,i),i);if((0,c.F9)(e))a=m(u);else{var g=o.Z.generator(),d=e.roundness?g.curve(u,(0,l.i)(e)):g.linearPath(u,(0,l.i)(e)),I=f(d);a=B(I)}var b=a,h=(0,r.Z)(b,4),C=h[0],p=h[1],A=h[2],y=h[3];return[C+e.x,p+e.y,A+e.x,y+e.y]},U=function(e,t){var n=o.Z.generator(),i=null==e.roundness?n.linearPath(t,(0,l.i)(e)):n.curve(t,(0,l.i)(e)),a=f(i),c=B(a),s=(0,r.Z)(c,4),u=s[0],g=s[1],d=s[2],I=s[3];return[u+e.x,g+e.y,d+e.x,I+e.y]},G=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,i=e[0];return e.forEach((function(e){var o=x(e),l=(0,r.Z)(o,4),c=l[0],s=l[1],u=l[2],g=l[3],d=(0,a.LW)((c+u)/2,(s+g)/2,t.x,t.y);d<n&&(n=d,i=e)})),x(i)},w=function(e){var t=Q(e),n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],l=n[3];return{minX:i,minY:a,maxX:o,maxY:l,width:o-i,height:l-a,midX:(i+o)/2,midY:(a+l)/2}}},2325:function(e,t,n){"use strict";n.d(t,{uu:function(){return Y},T_:function(){return oe},j_:function(){return le},oT:function(){return z},wX:function(){return O},MZ:function(){return ce},wB:function(){return M},Qu:function(){return V},pX:function(){return R},fb:function(){return L}});var r=n(2577),i=function(e,t){return[0,0,0,0,t,e,1,0]},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` between 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},o=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},l=function(e,t){return h(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},c=function(e,t){return h(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[s(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},s=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},u=function(e,t){return[g(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},g=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},d=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},I=function(e){var t=d(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return c(e,n/t)},b=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:c(e,1/t)},h=function(e){return"number"==typeof e},f=(a(1,1),a(1,2),a(1,3),a(1,4),a(1,5),a(1,6),a(1,7),function(e,t,n){return I([0,n,e,t,0,0,0,0])}),C=function(e,t){return I(u(t,e))},p=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},B=function(e){var t=(0,r.Z)(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},m=function(e){return[e[5],e[4]]},A=function(e,t){return I((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},y=function(e,t){return d(u(e,t))},v=function(e,t){return g(e,t)},x=function(e){return[0,0,0,0,e[4],e[5],0,0]},Q=function(e,t){return n=c(e,Math.sin(t/2)),r=Math.cos(t/2),h(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},F=function(e,t){return I(c(c(e,t),o(e)))},U=n(6552),G=n(1493),w=n(8925),S=n(3063),E=n(1974),X=n(1047),Z=n(6340),k=n(267),N=n(5710);function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function e(t,n,r,i){var a=10/n.zoom.value,o=[r,i];if(W(n,t)&&(0,k.oY)([t],n))return R(t,o,a);var l=(0,N.WJ)(t);return!(!l||!e(l,n,r,i))||V(t,n,o)},M=function(e,t,n,r){var i=10/t.zoom.value,a=(0,N.WJ)(e);return(!a||!O(a,t,n,r))&&!V(e,t,[n,r])&&R(e,[n,r],i)},V=function(e,t,n){var r=10/t.zoom.value,i=(0,X.iB)(e)?j:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t=!(0,Z.Qm)(e.backgroundColor)||(0,E.Xo)(e);return"line"===e.type?t&&(0,U.g6)(e.points):t||(0,E.pC)(e)}(e)?_:J;return H({element:e,point:n,threshold:r,check:i})},W=function(e,t){return e.selectedElementIds[t.id]},R=function(e,t,n){var i=(0,r.Z)(t,2),a=i[0],o=i[1],l=(0,w.qf)(e),c=(0,r.Z)(l,4),s=c[0],u=c[1],g=c[2],d=c[3],I=(s+g)/2,b=(u+d)/2,h=(0,U.U1)(a,o,I,b,-e.angle),f=(0,r.Z)(h,2),C=f[0],p=f[1];return C>s-n&&C<g+n&&p>u-n&&p<d+n},Y=function(e,t){var n=t.x,r=t.y,i=L(e,e.width,e.height);return H({element:e,point:[n,r],threshold:i,check:P})},L=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},H=function(e){switch(e.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var t=z(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(K(e.element,e.point),e.threshold)&&te(e.element,e.point,e.threshold);case"arrow":case"line":return ne(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},z=function(e,t){switch(e.type){case"rectangle":case"image":case"text":return K(e,t);case"diamond":return q(e,t);case"ellipse":return $(e,t)}},j=function(e,t){return e<0},_=function(e,t){return e<t},J=function(e,t){return Math.abs(e)<t},P=function(e,t){return 0<=e&&e<t},K=function(e,t){var n=re(e,t),i=(0,r.Z)(n,4),a=i[1],o=i[2],l=i[3];return Math.max(v(a,f(0,1,-l)),v(a,f(1,0,-o)))},q=function(e,t){var n=re(e,t),i=(0,r.Z)(n,4),a=i[1],o=i[2],l=i[3],c=f(l,o,-l*o);return v(a,c)},$=function(e,t){var n,i=ee(e,t),a=(0,r.Z)(i,2),o=a[0],l=a[1];return n=l,-Math.sign(n[1])*v(o,l)},ee=function(e,t){var n=re(e,t),a=(0,r.Z)(n,4),o=a[1],l=a[2],c=a[3],s=m(o),u=(0,r.Z)(s,2),g=u[0],d=u[1],I=.707,b=.707,h=l,f=c;[0,1,2,3].forEach((function(e){var t=h*I,n=f*b,r=(h*h-f*f)*Math.pow(I,3)/h,i=(f*f-h*h)*Math.pow(b,3)/f,a=t-r,o=n-i,l=g-r,c=d-i,s=Math.hypot(o,a),u=Math.hypot(c,l);I=Math.min(1,Math.max(0,(l*s/u+r)/h)),b=Math.min(1,Math.max(0,(c*s/u+i)/f));var C=Math.hypot(b,I);I/=C,b/=C}));var B,A=i(h*I,f*b);return[o,p(C(o,B=A),B)]},te=function(e,t,n){var i,a;if(0===e.angle)i=t[0]-e.x,a=t[1]-e.y;else{var o=(0,w.qf)(e),l=(0,r.Z)(o,4),c=l[0],s=l[1],u=l[2],g=l[3],d=(0,U.xj)(t,[c+(u-c)/2,s+(g-s)/2],-e.angle);i=d[0]-e.x,a=d[1]-e.y}var I,b=(0,r.Z)(e.points,2),h=b[0],f=b[1];if((0,U.LW)(h[0],h[1],i,a)<n||(0,U.LW)(f[0],f[1],i,a)<n)return!0;for(var C=0;C<e.points.length;C++){var p=[f[0]-h[0],f[1]-h[1]],B=Math.hypot(p[1],p[0]),m=[p[0]/B,p[1]/B],A=[i-h[0],a-h[1]],y=(A[0]*m[0]+A[1]*m[1])/Math.hypot(m[1],m[0]);I=[h[0]+m[0]*y,h[1]+m[1]*y];var v=(0,U.LW)(I[0],I[1],h[0],h[1]),x=(0,U.LW)(I[0],I[1],f[0],f[1]);if(I=x<v&&v>B?f:v<x&&x>B?h:I,Math.hypot(a-I[1],i-I[0])<n)return!0;h=f,f=e.points[C+1]}var Q=(0,S.R2)(e);return!(!Q||!Q.sets.length)&&pe(Q,i,a,n)},ne=function(e){var t=e.element,n=e.threshold;if(!(0,S.R2)(t))return!1;var i=re(e.element,e.point),a=(0,r.Z)(i,4),o=a[0],l=a[1],c=a[2],s=a[3],u=f(0,1,-s),g=f(1,0,-c);if(!_(v(l,u),n)||!_(v(l,g),n))return!1;var d=m(o),I=(0,r.Z)(d,2),b=I[0],h=I[1],C=(0,S.R2)(t);return!!C&&(!(e.check!==_||!C.some((function(e){return Ce(e,b,h,t.roundness?"round":"sharp")})))||C.some((function(e){return pe(e,b,h,n)})))},re=function(e,t){var n,i=B(t),a=(0,w.qf)(e),o=(0,r.Z)(a,4),c=o[0],s=o[1],u=o[2],g=o[3],d=(0,w.qf)(e),I=ae([c,s,u,g]),b=Q(I,e.angle),h=F(b,i),f=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]}(l(h,x(I))),C=(n=e.x,[0,0,0,0,e.y,n,0,0]),p=l(h,C),m=(0,r.Z)(d,4),A=m[0],y=m[1];return[p,f,(m[2]-A)/2,(m[3]-y)/2]},ie=function(e){var t=(0,w.qf)(e),n=(0,r.Z)(t,4),i=n[0],a=n[1],l=n[2],s=n[3],u=ae([i,a,l,s]),g=Q(u,e.angle),d=o(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(x(u)));return c(d,g)},ae=function(e){var t=(0,r.Z)(e,4),n=t[0],a=t[1],o=t[2],l=t[3];return i((n+o)/2,(a+l)/2)},oe=function(e,t,n){var r=ie(e),i=F(r,B(t)),a=F(r,B(n)),o=C(i,a),l=e.height/e.width,c=e.width/2,s=e.height/2,u=o[2],g=o[3],d=o[1],I=Math.abs(g),b=Math.abs(u);switch(e.type){case"rectangle":case"image":case"text":return d/(c*(b+l*I));case"diamond":return I<b?d/(b*c):d/(I*s);case"ellipse":return d/(c*Math.sqrt(Math.pow(u,2)+Math.pow(l,2)*Math.pow(g,2)))}},le=function(e,t,n){if(0===t){var i=(0,w.qf)(e),a=(0,r.Z)(i,4),l=a[0],c=a[1],s=a[2],u=a[3],g=ae([l,c,s,u]);return m(g)}var d,I=ie(e),b=F(I,B(n)),h=o(I);switch(e.type){case"rectangle":case"image":case"text":case"diamond":d=fe(e,t,b);break;case"ellipse":d=he(e,t,b)}return m(F(h,d))},ce=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=ie(e),a=F(i,B(t)),l=F(i,B(n)),c=C(a,l),s=o(i);return se(e,c,a,r).map((function(e){return m(F(s,e))}))},se=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":var a=ue(e);r=a.flatMap((function(e,n){var r=[e,a[(n+1)%4]];return ge(t,de(r,i))})).concat(a.flatMap((function(e){return be(e,i,t)})));break;case"ellipse":r=Ie(e,i,t)}if(r.length<2)return[];var o=r.sort((function(e,t){return y(e,n)-y(t,n)}));return[o[0],o[o.length-1]]},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":return[i(n,r),i(n,-r),i(-n,-r),i(-n,r)];case"diamond":return[i(0,r),i(n,0),i(0,-r),i(-n,0)]}},ge=function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];return v(i,e)*v(a,e)>=0?[]:[A(e,C(i,a))]},de=function(e,t){var n=(0,r.Z)(e,2),i=n[0],a=n[1],o=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return b([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(i,a),t);return[F(o,i),F(o,a)]},Ie=function(e,t,n){var r=e.width/2+t,a=e.height/2+t,o=n[2],l=n[3],c=n[1],s=r*r*o*o+a*a*l*l,u=s-c*c;if(0===s||u<=0)return[];var g=Math.sqrt(u),d=-r*r*o*c,I=-a*a*l*c;return[i((d+r*a*l*g)/s,(I-r*a*o*g)/s),i((d-r*a*l*g)/s,(I+r*a*o*g)/s)]},be=function(e,t,n){if(0===t)return 0===v(n,e)?[e]:[];var a=n[2],o=n[3],l=n[1],c=m(e),s=(0,r.Z)(c,2),u=s[0],g=s[1],d=a*a+o*o,I=t*t*d-Math.pow(a*u+o*g+l,2);if(0===d||I<=0)return[];var b=Math.sqrt(I),h=u*o*o-g*a*o-a*l,f=g*a*a-u*a*o-o*l;return[i((h+o*b)/d,(f-a*b)/d),i((h-o*b)/d,(f+a*b)/d)]},he=function(e,t,n){var a=Math.abs(t),o=e.width*a/2,l=e.height*a/2,c=Math.sign(t),s=m(n),u=(0,r.Z)(s,2),g=u[0],d=u[1],I=0===d?1e-4:d,b=Math.pow(g,2)*Math.pow(l,2)+Math.pow(I,2)*Math.pow(o,2),h=(-g*Math.pow(l,2)+c*I*Math.sqrt(Math.max(0,b-Math.pow(o,2)*Math.pow(l,2))))/b,f=(-h*g-1)/I;0===f&&(f=.01*(Object.is(f,-0)?-1:1));var C=-Math.pow(o,2)*h/(Math.pow(f,2)*Math.pow(l,2)+Math.pow(h,2)*Math.pow(o,2));return i(C,(-h*C-1)/f)},fe=function(e,t,n){var r=Math.abs(t),i=Math.sign(t),a=ue(e,r),o=0,l=null;return a.forEach((function(e){var t=i*C(n,e)[1];t>o&&(o=t,l=e)})),l},Ce=function(e,t,n,r){var i,a=[],o=!1,l=T((0,w.CM)(e));try{for(l.s();!(i=l.n()).done;){var c=i.value;"move"===c.op?(o=!o)&&a.push([c.data[0],c.data[1]]):"bcurveTo"===c.op?o&&(a.push([c.data[0],c.data[1]]),a.push([c.data[2],c.data[3]]),a.push([c.data[4],c.data[5]])):"lineTo"===c.op&&o&&a.push([c.data[0],c.data[1]])}}catch(e){l.e(e)}finally{l.f()}if(a.length>=4){if("sharp"===r)return(0,U.c9)(a,t,n);var s=(0,G.s)(a,10,5);return(0,U.c9)(s,t,n)}return!1},pe=function(e,t,n,i){var a=(0,w.CM)(e),o=[0,0];return a.some((function(a,l){var c=a.op,s=a.data;if("move"===c)o=s;else{if("bcurveTo"===c){var u=[s[0],s[1]],g=[s[2],s[3]],d=[s[4],s[5]],I=o;o=d;var b=function(e,t,n,i,a,o){for(var l=(0,r.Z)(a,2),c=l[0],s=l[1],u=function(r,a){return Math.pow(1-r,3)*i[a]+3*r*Math.pow(1-r,2)*n[a]+3*Math.pow(r,2)*(1-r)*t[a]+e[a]*Math.pow(r,3)},g=0;g<=1;){var d=u(g,0),I=u(g,1);if(Math.sqrt(Math.pow(d-c,2)+Math.pow(I-s,2))<o)return!0;g+=.01}return!1}(I,u,g,d,[t,n],i);return b}if("lineTo"===c)return Ce(e,t,n,"sharp");"qcurveTo"===c&&console.warn("qcurveTo is not implemented yet")}return!1}))}},5637:function(e,t,n){"use strict";n.d(t,{PK:function(){return I},Xx:function(){return b},bp:function(){return f},oA:function(){return h}});var r=n(2577),i=n(7169),a=n(8950),o=n(2975),l=n.n(o),c=n(2335),s=n(8211),u=n(1974);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},b=function(){var e=(0,a.Z)(l().mark((function e(t){var n,r,i,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,i=t.imageCache,o=new Map,s=new Map,e.next=5,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!o.has(t)?(o.set(t,!0),e.concat((0,a.Z)(l().mark((function e(){var r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==c.LO.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=I(n.dataURL),a={image:r,mimeType:n.mimeType},i.set(t,a),e.next=8,r;case 8:o=e.sent,i.set(t,d(d({},a),{},{image:o})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s.set(t,!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))())):e}),[]));case 5:return e.abrupt("return",{imageCache:i,updatedFiles:o,erroredFiles:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return e.filter((function(e){return(0,u.wi)(e)}))},f=function(){var e=(0,a.Z)(l().mark((function e(t){var n,i,a,o,u,g,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new DOMParser).parseFromString(t,c.LO.svg),i=n.querySelector("svg"),!n.querySelector("parsererror")&&"svg"===(null==(l=i)?void 0:l.nodeName.toLowerCase())){e.next=7;break}throw new Error((0,s.t)("errors.invalidSVGString"));case 7:return i.hasAttribute("xmlns")||i.setAttribute("xmlns",c.hR),i.hasAttribute("width")&&i.hasAttribute("height")||(a=i.getAttribute("viewBox"),o=i.getAttribute("width")||"50",u=i.getAttribute("height")||"50",a&&(g=a.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(d=(0,r.Z)(g,3),o=d[1],u=d[2]),i.setAttribute("width",o),i.setAttribute("height",u)),e.abrupt("return",i.outerHTML);case 10:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}()},1047:function(e,t,n){"use strict";n.d(t,{ox:function(){return I.ox},BQ:function(){return W},_M:function(){return R},EJ:function(){return S},o8:function(){return U},Sy:function(){return g.Sy},os:function(){return d.os},KP:function(){return d.KP},Un:function(){return y},$V:function(){return w},qf:function(){return d.qf},Pi:function(){return d.Pi},jt:function(){return B},o4:function(){return s},Lm:function(){return O},Qp:function(){return u},T:function(){return v.T},xx:function(){return v.xx},Uo:function(){return T},n2:function(){return m},PC:function(){return I.PC},kK:function(){return I.kK},n_:function(){return D},wX:function(){return b.wX},r2:function(){return a.r2},wB:function(){return b.wB},QD:function(){return l},qP:function(){return M},iB:function(){return a.iB},Up:function(){return g.Up},vw:function(){return g.vw},y8:function(){return g.y8},VL:function(){return g.VL},oN:function(){return Q.oN},JZ:function(){return g.JZ},RT:function(){return Z},b_:function(){return E.b_},vY:function(){return v.vY},N_:function(){return g.N_}});var r=n(7169),i=n(1935),a=n(1974),o=n(2335),l=function(e){return(0,a.bt)(e)||(0,a.F9)(e)?e.points.length<2:0===e.width&&0===e.height},c=function(e,t,n){var r=Math.abs(t),i=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var a=Math.round(Math.atan(i/r)/o.ay)*o.ay;0===a?n=0:a===Math.PI/2?t=0:n=r*Math.tan(a)*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},s=function(e,t,n,r){var i=n-e,a=r-t,l=Math.round(Math.atan(a/i)/o.ay)*o.ay;if(0===l)a=0;else if(l===Math.PI/2)i=0;else{var c=Math.tan(l),s=t-c*e,u=-1/c,g=r-u*n;i=(-1*g- -1*s)/(-1*c- -1*u)-e,a=(s*u-g*c)/(-1*c- -1*u)-t}return{width:i,height:a}},u=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t},g=n(2791),d=n(8925),I=n(267),b=n(2325),h=n(2577),f=n(2726),C=["rotation"],p=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},B=function(e,t,n,r,i,a){return e.reduce((function(e,o){if(e)return e;var l=function(e,t,n,r,i,a){if(!t.selectedElementIds[e.id])return!1;var o=(0,I.PC)(e,i,a),l=o.rotation,c=(0,f.Z)(o,C);if(l&&p(l,n,r))return"rotation";var s=Object.keys(c).filter((function(e){var t=c[e];return!!t&&p(t,n,r)}));return s.length>0&&s[0]}(o,t,n,r,i,a);return l?{element:o,transformHandleType:l}:null}),null)},m=function(e,t,n,r,i){var a=(0,h.Z)(e,4),o=a[0],l=a[1],c=a[2],s=a[3],u=(0,I.kK)([o,l,c,s,(o+c)/2,(l+s)/2],0,r,i,I.ox);return Object.keys(u).find((function(e){var r=u[e];return r&&p(r,t,n)}))||!1},A=["ns","nesw","ew","nwse"],y=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,i=null;switch(n){case"n":case"s":i="ns";break;case"w":case"e":i="ew";break;case"nw":case"se":i=r?"nesw":"nwse";break;case"ne":case"sw":i=r?"nwse":"nesw";break;case"rotation":return"grab"}return i&&t&&(i=function(e,t){var n=A.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=A[(n+r)%A.length]}return e}(i,t.angle)),i?"".concat(i,"-resize"):""},v=n(8634),x=n(8290),Q=n(5710),F=n(242),U=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7?arguments[7]:void 0,c=(0,d.KP)(t),s=(0,h.Z)(c,2),u={x:n-s[0],y:r-s[1]};t.forEach((function(n){if(G(i,a,o,e,n,u),!n.groupIds.length||l.editingGroupId&&!(0,F.zq)(l,n)){var r=(0,Q.WJ)(n);r&&G(i,a,o,e,r,u)}(0,x.Ww)(n,{simultaneouslyUpdated:t})}))},G=function(e,t,n,r,a,o){var l,c;if(e){var s=e&&t<n,u=e&&t>n,g=r.originalElements.get(a.id);l=s&&g?g.x:a.x+o.x,c=u&&g?g.y:a.y+o.y}else l=a.x+o.x,c=a.y+o.y;(0,i.DR)(a,{x:l,y:c})},w=function(e,t,n){var r=(0,d.KP)(e),i=(0,h.Z)(r,2);return[t-i[0],n-i[1]]},S=function(e,t,n,r,a,o,l,s,u,g,d){if(u&&"selection"!==e.type)if(d)s=l/d;else{if(Math.abs(o-r)>Math.abs(a-n)){var I=c(t,s,a<n?-l:l);l=I.width,s=I.height}else{var b=c(t,l,o<r?-s:s);l=b.width,s=b.height}s<0&&(s=-s)}var h=a<n?n-l:n,f=o<r?r-s:r;g&&(h=n-(l+=l)/2,f=r-(s+=s)/2),0!==l&&0!==s&&(0,i.DR)(e,{x:h,y:f,width:l,height:s})},E=n(6906),X=n(75),Z=function(e,t){return Boolean(!e.viewModeEnabled&&"custom"!==e.activeTool.type&&(e.editingElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type&&"hand"!==e.activeTool.type)||(0,X.eD)(t,e).length)};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){return e.reduce((function(e,t){return e+t.version}),0)},D=function(e){return e.filter((function(e){return!e.isDeleted&&!l(e)}))},O=function(e){return e.filter((function(e){return!e.isDeleted}))},M=function(e){return!e.isDeleted},V=function(e){return O(e).map((function(e){return(0,a.dt)(e.type)?N(N({},e),{},{lastCommittedPoint:null}):e}))},W=function(e){return V(e)},R=function(e){return V(e)}},6938:function(e,t,n){"use strict";n.d(t,{_:function(){return Q}});var r=n(1930),i=n(7169),a=n(2577),o=n(8821),l=n(5169),c=n(6552),s=n(1047),u=n(8925),g=n(1935),d=n(1564),I=n(8290),b=n(6340),h=n(1974),f=n(6066),C=n(5710),p=n(3063),B=n(2335);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={version:null,points:[],zoom:null},Q=function(){function e(t,n){(0,o.Z)(this,e),this.elementId=t.id,d.Z.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,l.Z)(e,null,[{key:"getElement",value:function(e){var t;return(null===(t=d.Z.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e))||null}},{key:"handleBoxSelection",value:function(t,n,r){var i;if(!n.editingLinearElement||"selection"!==(null===(i=n.draggingElement)||void 0===i?void 0:i.type))return!1;var o=n.editingLinearElement,l=o.selectedPointsIndices,c=o.elementId,u=e.getElement(c);if(!u)return!1;var g=(0,s.qf)(n.draggingElement),d=(0,a.Z)(g,4),I=d[0],b=d[1],h=d[2],f=d[3],C=e.getPointsGlobalCoordinates(u).reduce((function(e,n,r){return(n[0]>=I&&n[0]<=h&&n[1]>=b&&n[1]<=f||t.shiftKey&&null!=l&&l.includes(r))&&e.push(r),e}),[]);r({editingLinearElement:v(v({},o),{},{selectedPointsIndices:C.length?C:null})})}},{key:"handlePointDragging",value:function(t,n,r,i,o,l){if(!l)return!1;var c=l.selectedPointsIndices,s=l.elementId,u=e.getElement(s);if(!u)return!1;var g=u.points[l.pointerDownState.lastClickedPoint];if(c&&g){if((0,f.Ge)(t)&&1===c.length&&u.points.length>1){var d=c[0],I=u.points[0===d?1:d-1],p=e._getShiftLockedDelta(u,I,[r,i],n.gridSize),B=(0,a.Z)(p,2),m=B[0],A=B[1];e.movePoints(u,[{index:d,point:[m+I[0],A+I[1]],isDragging:d===l.pointerDownState.lastClickedPoint}])}else{var y=e.createPointAt(u,r-l.pointerOffset.x,i-l.pointerOffset.y,n.gridSize),v=y[0]-g[0],x=y[1]-g[1];e.movePoints(u,c.map((function(t){return{index:t,point:t===l.pointerDownState.lastClickedPoint?e.createPointAt(u,r-l.pointerOffset.x,i-l.pointerOffset.y,n.gridSize):[u.points[t][0]+v,u.points[t][1]+x],isDragging:t===l.pointerDownState.lastClickedPoint}}))),(0,C.WJ)(u)&&(0,C.RB)(u,!1)}if((0,h.Mn)(u,!1)){var Q=[];0===c[0]&&Q.push((0,b.AK)(e.getPointGlobalCoordinates(u,u.points[0])));var F=c[c.length-1];F===u.points.length-1&&Q.push((0,b.AK)(e.getPointGlobalCoordinates(u,u.points[F]))),Q.length&&o(u,Q)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var i,a=n.elementId,o=n.selectedPointsIndices,l=n.isDragging,s=n.pointerDownState,u=e.getElement(a);if(!u)return n;var g={};if(l&&o){var h,f=m(o);try{for(f.s();!(h=f.n()).done;){var C=h.value;if(0===C||C===u.points.length-1){(0,c.g6)(u.points,r.zoom.value)&&e.movePoints(u,[{index:C,point:0===C?u.points[u.points.length-1]:u.points[0]}]);var p=(0,I.N1)(r)?(0,I.Y9)((0,b.AK)(e.getPointAtIndexGlobalCoordinates(u,C)),d.Z.getScene(u)):null;g[0===C?"startBindingElement":"endBindingElement"]=p}}}catch(e){f.e(e)}finally{f.f()}}return v(v(v({},n),g),{},{selectedPointsIndices:l||t.shiftKey?!l&&t.shiftKey&&null!==(i=s.prevSelectedPointsIndices)&&void 0!==i&&i.includes(s.lastClickedPoint)?o&&o.filter((function(e){return e!==s.lastClickedPoint})):o:null!=o&&o.includes(s.lastClickedPoint)?[s.lastClickedPoint]:o,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(t,n,r,i){var a=(0,c.LW)(n[0],n[1],r[0],r[1]);return t.points.length>2&&t.roundness&&(a=(0,c.eH)(t,r)),a*i.value<4*e.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(t,n,r,i){var o=(0,c.H5)(n,r);if(t.points.length>2&&t.roundness){var l=(0,c.yB)(t,t.points[i]);if(l){var s=(0,c.lk)(t,t.points[i],.5),u=(0,c.N_)(l[0],l[1],l[2],l[3],s),g=(0,a.Z)(u,2),d=g[0],I=g[1];o=e.getPointGlobalCoordinates(t,[d,I])}}return o}},{key:"getSegmentMidPointIndex",value:function(t,n,r){var i=e.getElement(t.elementId);if(!i)return-1;for(var a=e.getEditorMidPoints(i,n),o=0;o<a.length;){if(e.arePointsEqual(r,a[o]))return o+1;o++}return-1}},{key:"handlePointerDown",value:function(t,n,i,o,l){var u,b={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!l)return b;var f=l.elementId,C=e.getElement(f);if(!C)return b;var p=e.getSegmentMidpointHitCoords(l,o,n),B=null;if(p&&(B=e.getSegmentMidPointIndex(l,n,p)),t.altKey&&n.editingLinearElement)return null==l.lastUncommittedPoint&&((0,g.DR)(C,{points:[].concat((0,r.Z)(C.points),[e.createPointAt(C,o.x,o.y,n.gridSize)])}),b.didAddPoint=!0),i.resumeRecording(),b.linearElementEditor=v(v({},l),{},{pointerDownState:{prevSelectedPointsIndices:l.selectedPointsIndices,lastClickedPoint:-1,origin:{x:o.x,y:o.y},segmentMidpoint:{value:p,index:B,added:!1}},selectedPointsIndices:[C.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,I.Y9)(o,d.Z.getScene(C))}),b.didAddPoint=!0,b;var m=e.getPointIndexUnderCursor(C,n.zoom,o.x,o.y);if(m>=0||p)b.hitElement=C;else{var A=l.startBindingElement,y=l.endBindingElement;(0,I.N1)(n)&&(0,h.Mn)(C)&&(0,I.HG)(C,A,y)}var x=(0,s.qf)(C),Q=(0,a.Z)(x,4),U=Q[0],G=Q[1],w=(U+Q[2])/2,S=(G+Q[3])/2,E=m>-1&&(0,c.U1)(C.x+C.points[m][0],C.y+C.points[m][1],w,S,C.angle),X=m>-1||t.shiftKey?t.shiftKey||null!==(u=l.selectedPointsIndices)&&void 0!==u&&u.includes(m)?F([].concat((0,r.Z)(l.selectedPointsIndices||[]),[m])):[m]:null;return b.linearElementEditor=v(v({},l),{},{pointerDownState:{prevSelectedPointsIndices:l.selectedPointsIndices,lastClickedPoint:m,origin:{x:o.x,y:o.y},segmentMidpoint:{value:p,index:B,added:!1}},selectedPointsIndices:X,pointerOffset:E?{x:o.x-E[0],y:o.y-E[1]}:{x:0,y:0}}),b}},{key:"arePointsEqual",value:function(e,t){return!e&&!t||!(!e||!t)&&(0,c.Jj)(e,t)}},{key:"handlePointerMove",value:function(t,n,r,i){if(!i.editingLinearElement)return null;var o=i.editingLinearElement,l=o.elementId,c=o.lastUncommittedPoint,s=e.getElement(l);if(!s)return i.editingLinearElement;var u,g=s.points,d=g[g.length-1];if(!t.altKey)return d===c&&e.deletePoints(s,[g.length-1]),v(v({},i.editingLinearElement),{},{lastUncommittedPoint:null});if((0,f.Ge)(t)&&g.length>=2){var I=g[g.length-2],b=e._getShiftLockedDelta(s,I,[n,r],i.gridSize),h=(0,a.Z)(b,2),C=h[0],p=h[1];u=[C+I[0],p+I[1]]}else u=e.createPointAt(s,n-i.editingLinearElement.pointerOffset.x,r-i.editingLinearElement.pointerOffset.y,i.gridSize);return d===c?e.movePoints(s,[{index:s.points.length-1,point:u}]):e.addPoints(s,i,[{point:u}]),v(v({},i.editingLinearElement),{},{lastUncommittedPoint:s.points[s.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t){var n=(0,s.qf)(e),r=(0,a.Z)(n,4),i=r[0],o=r[1],l=(i+r[2])/2,u=(o+r[3])/2,g=e.x,d=e.y,I=(0,c.U1)(g+t[0],d+t[1],l,u,e.angle),b=(0,a.Z)(I,2);return[g=b[0],d=b[1]]}},{key:"getPointsGlobalCoordinates",value:function(e){var t=(0,s.qf)(e),n=(0,a.Z)(t,4),r=n[0],i=n[1],o=n[2],l=n[3],u=(r+o)/2,g=(i+l)/2;return e.points.map((function(t){var n=e.x,r=e.y,i=(0,c.U1)(n+t[0],r+t[1],u,g,e.angle),o=(0,a.Z)(i,2);return[n=o[0],r=o[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=(0,s.qf)(e),i=(0,a.Z)(r,4),o=i[0],l=i[1],u=(o+i[2])/2,g=(l+i[3])/2,d=e.points[n],I=e.x,b=e.y;return d?(0,c.U1)(I+d[0],b+d[1],u,g,e.angle):(0,c.U1)(I,b,u,g,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=(0,s.qf)(e),r=(0,a.Z)(n,4),i=r[0],o=r[1],l=(i+r[2])/2,u=(o+r[3])/2,g=(0,c.U1)(t[0],t[1],l,u,-e.angle),d=(0,a.Z)(g,2),I=d[0],b=d[1];return[I-e.x,b-e.y]}},{key:"getPointIndexUnderCursor",value:function(t,n,r,i){for(var a=e.getPointsGlobalCoordinates(t),o=a.length;--o>-1;){var l=a[o];if((0,c.LW)(r,i,l[0],l[1])*n.value<e.POINT_HANDLE_SIZE+1)return o}return-1}},{key:"createPointAt",value:function(e,t,n,r){var i=(0,c.wC)(t,n,r),o=(0,s.qf)(e),l=(0,a.Z)(o,4),u=l[0],g=l[1],d=(u+l[2])/2,I=(g+l[3])/2,b=(0,c.U1)(i[0],i[1],d,I,-e.angle),h=(0,a.Z)(b,2),f=h[0],C=h[1];return[f-e.x,C-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){(0,g.DR)(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,i=n.elementId,a=e.getElement(i);if(!a||null===r)return!1;var o=a.points,l=[],c=!1,s=-1,u=o.reduce((function(e,t,n){if(++s,e.push(t),r.includes(n)){var i=o[n+1];i||(c=!0),e.push(i?[(t[0]+i[0])/2,(t[1]+i[1])/2]:[t[0],t[1]]),l.push(s+1),++s}return e}),[]);if((0,g.DR)(a,{points:u}),c){var d=a.points[a.points.length-1];e.movePoints(a,[{index:a.points.length-1,point:[d[0]+30,d[1]+30]}])}return{appState:v(v({},t),{},{editingLinearElement:v(v({},t.editingLinearElement),{},{selectedPointsIndices:l})})}}},{key:"deletePoints",value:function(t,n){var r=0,i=0;if(n.includes(0)){var a=t.points.find((function(e,t){return!n.includes(t)}));a&&(r=a[0],i=a[1])}var o=t.points.reduce((function(e,t,a){return n.includes(a)||e.push(e.length?[t[0]-r,t[1]-i]:[0,0]),e}),[]);e._updatePoints(t,o,r,i)}},{key:"addPoints",value:function(t,n,i){var a=[].concat((0,r.Z)(t.points),(0,r.Z)(i.map((function(e){return e.point}))));e._updatePoints(t,a,0,0)}},{key:"movePoints",value:function(t,n,r){var i=t.points,a=0,o=0,l=n.find((function(e){return 0===e.index}));l&&(a=l.point[0]+i[l.index][0],o=l.point[1]+i[l.index][1]);var c=i.map((function(e,t){var r=n.find((function(e){return e.index===t}));if(r){if(l)return e;var c=r.point[0]-i[r.index][0],s=r.point[1]-i[r.index][1];return[e[0]+c,e[1]+s]}return a||o?[e[0]-a,e[1]-o]:e}));e._updatePoints(t,c,a,o,r)}},{key:"shouldAddMidpoint",value:function(t,n,r){if(!e.getElement(t.elementId))return!1;var i=t.pointerDownState.segmentMidpoint;if(i.added||null===i.value||null===i.index||null===t.pointerDownState.origin)return!1;var a=t.pointerDownState.origin,o=(0,c.LW)(a.x,a.y,n.x,n.y);return!(!r.editingLinearElement&&o<B.f/r.zoom.value)}},{key:"addMidpoint",value:function(t,n,i){var a=e.getElement(t.elementId);if(a){var o=t.pointerDownState.segmentMidpoint,l={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},c=e.createPointAt(a,n.x,n.y,i.gridSize),s=[].concat((0,r.Z)(a.points.slice(0,o.index)),[c],(0,r.Z)(a.points.slice(o.index)));return(0,g.DR)(a,{points:s}),l.pointerDownState=v(v({},t.pointerDownState),{},{segmentMidpoint:v(v({},t.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:o.index}),l.selectedPointsIndices=[o.index],l}}},{key:"_updatePoints",value:function(e,t,n,r,i){var a=(0,u.Ut)(e,t),o=(0,u.Ut)(e,e.points),l=(a[0]+a[2])/2,s=(a[1]+a[3])/2,d=(o[0]+o[2])/2-l,I=(o[1]+o[3])/2-s,b=(0,c.U1)(n,r,d,I,e.angle);(0,g.DR)(e,v(v({},i),{},{points:t,x:e.x+b[0],y:e.y+b[1]}))}},{key:"_getShiftLockedDelta",value:function(t,n,r,i){var o=e.getPointGlobalCoordinates(t,n),l=(0,c.wC)(r[0],r[1],i),u=(0,a.Z)(l,2),g=u[0],d=u[1],I=(0,s.o4)(o[0],o[1],g,d),b=I.width,h=I.height;return(0,c.xj)([b,h],[0,0],-t.angle)}}]),e}();Q.POINT_HANDLE_SIZE=10,Q.getEditorMidPoints=function(e,t){var n=(0,C.WJ)(e);return!t.editingLinearElement&&e.points.length>2&&!n?[]:(x.version===e.version&&x.zoom===t.zoom.value||Q.updateEditorMidPointsCache(e,t),x.points)},Q.updateEditorMidPointsCache=function(e,t){for(var n=Q.getPointsGlobalCoordinates(e),r=0,i=[];r<n.length-1;)if(Q.isSegmentTooShort(e,e.points[r],e.points[r+1],t.zoom))i.push(null),r++;else{var a=Q.getSegmentMidPoint(e,n[r],n[r+1],r+1);i.push(a),r++}x.points=i,x.version=e.version,x.zoom=t.zoom.value},Q.getSegmentMidpointHitCoords=function(e,t,n){var r=e.elementId,i=Q.getElement(r);if(!i)return null;if(Q.getPointIndexUnderCursor(i,n.zoom,t.x,t.y)>=0)return null;if(Q.getPointsGlobalCoordinates(i).length>=3&&!n.editingLinearElement)return null;var a=Q.POINT_HANDLE_SIZE/n.zoom.value,o=e.segmentMidPointHoveredCoords;if(o&&(0,c.LW)(o[0],o[1],t.x,t.y)<=a)return o;for(var l=0,s=Q.getEditorMidPoints(i,n);l<s.length;){if(null!==s[l]&&(0,c.LW)(s[l][0],s[l][1],t.x,t.y)<=a)return s[l];l++}return null},Q.getBoundTextElementPosition=function(e,t){var n=Q.getPointsGlobalCoordinates(e);n.length<2&&(0,g.DR)(t,{isDeleted:!0});var r=0,i=0;if(e.points.length%2==1){var a=Math.floor(e.points.length/2),o=Q.getPointGlobalCoordinates(e,e.points[a]);r=o[0]-t.width/2,i=o[1]-t.height/2}else{var l=e.points.length/2-1,s=x.points[l];2===e.points.length&&(s=(0,c.H5)(n[0],n[1])),s&&x.version===e.version||(s=Q.getSegmentMidPoint(e,n[l],n[l+1],l+1)),r=s[0]-t.width/2,i=s[1]-t.height/2}return{x:r,y:i}},Q.getMinMaxXYWithBoundText=function(e,t,n){var r=(0,a.Z)(t,4),i=r[0],o=r[1],l=r[2],s=r[3],u=(i+l)/2,g=(o+s)/2,d=Q.getBoundTextElementPosition(e,n),I=d.x,b=d.y,h=I+n.width,f=b+n.height,C=(0,c.xj)([i,o],[u,g],e.angle),p=(0,c.xj)([l,o],[u,g],e.angle),B=(0,c.xj)([I,b],[u,g],-e.angle),m=(0,c.xj)([h,b],[u,g],-e.angle),A=(0,c.xj)([I,f],[u,g],-e.angle),y=(0,c.xj)([h,f],[u,g],-e.angle);return C[0]<p[0]&&C[1]>=p[1]?(i=Math.min(i,A[0]),l=Math.max(l,Math.max(m[0],y[0])),o=Math.min(o,B[1]),s=Math.max(s,y[1])):C[0]>=p[0]&&C[1]>p[1]?(i=Math.min(i,y[0]),l=Math.max(l,Math.max(B[0],m[0])),o=Math.min(o,A[1]),s=Math.max(s,m[1])):C[0]>=p[0]?(i=Math.min(i,m[0]),l=Math.max(l,A[0]),o=Math.min(o,y[1]),s=Math.max(s,B[1])):C[1]<=p[1]&&(i=Math.min(i,Math.min(m[0],B[0])),l=Math.max(l,y[0]),o=Math.min(o,m[1]),s=Math.max(s,A[1])),[i,o,l,s,u,g]},Q.getElementAbsoluteCoords=function(e){var t,n,r,i,o,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.points.length<2||!(0,p.R2)(e)){var c=e.points.reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return e.minY=Math.min(e.minY,i),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,i),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),s=c.minX,g=c.minY,d=c.maxX,I=c.maxY;n=s+e.x,r=g+e.y,i=d+e.x,o=I+e.y}else{var b=(0,p.R2)(e),h=(0,u.CM)(b[0]),f=(0,u.IX)(h),B=(0,a.Z)(f,4),m=B[0],A=B[1],y=B[2],v=B[3];n=m+e.x,r=A+e.y,i=y+e.x,o=v+e.y}if(t=[n,r,i,o,(n+i)/2,(r+o)/2],!l)return t;var x=(0,C.WJ)(e);return x&&(t=Q.getMinMaxXYWithBoundText(e,[n,r,i,o],x)),t};var F=function(e){var t=(0,r.Z)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return(t=t.sort((function(e,t){return e-t}))).length?t:null}},1935:function(e,t,n){"use strict";n.d(t,{BE:function(){return I},DR:function(){return d},ZP:function(){return b}});var r=n(6655),i=n(7169),a=n(3063),o=n(1564),l=n(5001),c=n(6954),s=n(6340);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=!1,d=t,I=d.points,b=d.fileId;for(var h in void 0!==I&&(t=g(g({},(0,l.k)(I)),t)),t){var f=t[h];if(void 0!==f){if(e[h]===f&&("object"!==(0,r.Z)(f)||null===f||"groupIds"===h||"scale"===h))continue;if("scale"===h){var C=e[h],p=f;if(C[0]===p[0]&&C[1]===p[1])continue}else if("points"===h){var B=e[h],m=f;if(B.length===m.length){for(var A=!1,y=B.length;--y;){var v=B[y],x=m[y];if(v[0]!==x[0]||v[1]!==x[1]){A=!0;break}}if(!A)continue}}e[h]=f,u=!0}}return u?(void 0===t.height&&void 0===t.width&&void 0===b&&void 0===I||(0,a.bI)(e),e.version++,e.versionNonce=(0,c.LU)(),e.updated=(0,s.C3)(),i&&(null===(n=o.Z.getScene(e))||void 0===n||n.informMutation()),e):e},I=function(e,t){var n=!1;for(var i in t){var a=t[i];if(void 0!==a){if(e[i]===a&&("object"!==(0,r.Z)(a)||null===a))continue;n=!0}}return n?g(g(g({},e),t),{},{updated:(0,s.C3)(),version:e.version+1,versionNonce:(0,c.LU)()}):e},b=function(e,t){return e.version=(null!=t?t:e.version)+1,e.versionNonce=(0,c.LU)(),e.updated=(0,s.C3)(),e}},2791:function(e,t,n){"use strict";n.d(t,{JZ:function(){return U},KE:function(){return w},N_:function(){return G},OL:function(){return Z},Sy:function(){return N},Up:function(){return v},VL:function(){return Q},_N:function(){return T},vw:function(){return E},y8:function(){return S}});var r=n(6655),i=n(2577),a=n(7169),o=n(2726),l=n(6340),c=n(6954),s=n(1935),u=n(242),g=n(1047),d=n(6552),I=n(8925),b=n(5710),h=n(2335),f=n(1974),C=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){var n,r,i=t.x,a=t.y,s=t.strokeColor,u=void 0===s?h.HN.strokeColor:s,g=t.backgroundColor,d=void 0===g?h.HN.backgroundColor:g,I=t.fillStyle,b=void 0===I?h.HN.fillStyle:I,f=t.strokeWidth,p=void 0===f?h.HN.strokeWidth:f,B=t.strokeStyle,m=void 0===B?h.HN.strokeStyle:B,A=t.roughness,y=void 0===A?h.HN.roughness:A,v=t.opacity,x=void 0===v?h.HN.opacity:v,Q=t.width,F=void 0===Q?0:Q,U=t.height,G=void 0===U?0:U,w=t.angle,S=void 0===w?0:w,E=t.groupIds,X=void 0===E?[]:E,Z=t.roundness,k=void 0===Z?null:Z,N=t.boundElements,T=void 0===N?null:N,D=t.link,O=void 0===D?null:D,M=t.locked,V=void 0===M?h.HN.locked:M,W=(0,o.Z)(t,C);return{id:W.id||(0,c.kb)(),type:e,x:i,y:a,width:F,height:G,angle:S,strokeColor:u,backgroundColor:d,fillStyle:b,strokeWidth:p,strokeStyle:m,roughness:y,opacity:x,groupIds:X,roundness:k,seed:null!==(n=W.seed)&&void 0!==n?n:(0,c.LU)(),version:W.version||1,versionNonce:null!==(r=W.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:T,updated:(0,l.C3)(),link:O,locked:V}},v=function(e){return y(e.type,e)},x=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},Q=function(e){var t=e.fontFamily||h.rk,n=e.fontSize||h.n5,r=e.lineHeight||(0,b.PT)(t),i=(0,b.bG)(e.text),a=(0,b.X1)(i,(0,l.mO)({fontFamily:t,fontSize:n}),r),o=e.textAlign||h.Hg,c=e.verticalAlign||h.hs,u=x({textAlign:o,verticalAlign:c},a);return(0,s.BE)(A(A({},y("text",e)),{},{text:i,fontSize:n,fontFamily:t,textAlign:o,verticalAlign:c,x:e.x-u.x,y:e.y-u.y,width:a.width,height:a.height,baseline:a.baseline,containerId:e.containerId||null,originalText:i,lineHeight:r}),{})},F=function(e,t){var n,r,a=(0,b.tl)(e),o=(0,b.X1)(t,(0,l.mO)(e),e.lineHeight),c=o.width,u=o.height,C=o.baseline,p=e.textAlign,B=e.verticalAlign;if("center"!==p||B!==h.oX.MIDDLE||e.containerId){var m=(0,g.qf)(e),A=(0,i.Z)(m,4),y=A[0],v=A[1],Q=A[2],F=A[3],U=(0,I.wC)(e,c,u,!1),G=(0,i.Z)(U,4),w=(y-G[0])/2,S=(v-G[1])/2,E=(Q-G[2])/2,X=(F-G[3])/2,Z=(0,d.yq)({s:!0,e:"center"===p||"left"===p,w:"center"===p||"right"===p},e.x,e.y,e.angle,w,S,E,X),k=(0,i.Z)(Z,2);n=k[0],r=k[1]}else{var N=(0,b.X1)(e.text,(0,l.mO)(e),e.lineHeight),T=x(e,{width:c-N.width,height:u-N.height});n=e.x-T.x,r=e.y-T.y}if(a){var D=(0,b.S)(e),O=(0,b.HE)(a),M=O.height,V=O.width;u>M-2*D&&(M=u+2*D),c>V-2*D&&(V=c+2*D),(0,f.Yv)(a)||M===O.height&&V===O.width||(0,s.DR)(a,{height:M,width:V})}return{width:c,height:u,baseline:C,x:Number.isFinite(n)?n:e.x,y:Number.isFinite(r)?r:e.y}},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.text;if(!e.isDeleted){var n=(0,b.tl)(e);return n&&(t=(0,b.lD)(t,(0,l.mO)(e),(0,b.jd)(n))),A({text:t},F(e,t))}},G=function(e,t){t.text;var n=t.isDeleted,r=t.originalText;return(0,s.BE)(e,A({originalText:r,isDeleted:null!=n?n:e.isDeleted},U(e,r)))},w=function(e){return A(A({},y(e.type,e)),{},{points:e.points||[],pressures:[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},S=function(e){return A(A({},y(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},E=function(e){var t,n,r;return A(A({},y("image",e)),{},{strokeColor:"transparent",status:null!==(t=e.status)&&void 0!==t?t:"pending",fileId:null!==(n=e.fileId)&&void 0!==n?n:null,scale:null!==(r=e.scale)&&void 0!==r?r:[1,1]})},X=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==(0,r.Z)(t))return t;if("[object Object]"===Object.prototype.toString.call(t)){var i="function"==typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var a in t)if(t.hasOwnProperty(a)){if(0===n&&("shape"===a||"canvas"===a))continue;i[a]=e(t[a],n+1)}return i}if(Array.isArray(t)){for(var o=t.length,l=new Array(o);o--;)l[o]=e(t[o],n+1);return l}return t},Z=function(e){return X(e)},k=function(e){if((0,l.h2)()&&e){var t,n,r="".concat(e,"_copy");return null!==(t=window.h)&&void 0!==t&&null!==(n=t.app)&&void 0!==n&&n.getSceneElementsIncludingDeleted().find((function(e){return e.id===r}))&&(r+="_copy"),r}return(0,c.kb)()},N=function(e,t,n,r){var i=Z(n);return i.id=k(i.id),i.boundElements=null,i.updated=(0,l.C3)(),i.seed=(0,c.LU)(),i.groupIds=(0,u.Qy)(i.groupIds,e,(function(e){return t.has(e)||t.set(e,k(e)),t.get(e)})),r&&(i=Object.assign(i,r)),i},T=function(e){var t,n=[],r=(0,l.xn)(e),i=new Map,a=function(e){if(i.has(e))return i.get(e);if(r.has(e)){var t=k(e);return i.set(e,t),t}return null},o=new Map,c=p(e);try{for(c.s();!(t=c.n()).done;){var s=t.value,u=X(s);if(u.id=a(s.id),u.groupIds&&(u.groupIds=u.groupIds.map((function(e){return o.has(e)||o.set(e,k(e)),o.get(e)}))),"containerId"in u&&u.containerId){var g=a(u.containerId);u.containerId=g}if("boundElements"in u&&u.boundElements&&(u.boundElements=u.boundElements.reduce((function(e,t){var n=a(t.id);return n&&e.push(A(A({},t),{},{id:n})),e}),[])),"endBinding"in u&&u.endBinding){var d=a(u.endBinding.elementId);u.endBinding=d?A(A({},u.endBinding),{},{elementId:d}):null}if("startBinding"in u&&u.startBinding){var I=a(u.startBinding.elementId);u.startBinding=I?A(A({},u.startBinding),{},{elementId:I}):null}n.push(u)}}catch(e){c.e(e)}finally{c.f()}return n}},8634:function(e,t,n){"use strict";n.d(t,{LW:function(){return p},T:function(){return U},l2:function(){return v},vY:function(){return B},xx:function(){return F}});var r=n(1930),i=n(7169),a=n(2577),o=n(2335),l=n(5001),c=n(6552),s=n(8925),u=n(1974),g=n(1935),d=n(6340),I=n(8290),b=n(1564),h=n(5710);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return e>=2*Math.PI?e-2*Math.PI:e},B=function(e,t,n,r,i,o,l,c,s,g,d){if(1===n.length){var b=(0,a.Z)(n,1)[0];return"rotation"===t?(m(b,c,s,i,e.originalElements),(0,I.Ww)(b)):!(0,u.iB)(b)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&v(e.originalElements,l,b,t,o,c,s):(y(b,t,o,c,s),(0,I.Ww)(b)),!0}if(n.length>1){if("rotation"===t)return Q(e,n,c,s,i,g,d),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return x(e,n,t,o,c,s),!0}return!1},m=function(e,t,n,r,i){var l=(0,s.qf)(e),c=(0,a.Z)(l,4),d=c[0],I=c[1],f=(d+c[2])/2,C=(I+c[3])/2,B=5*Math.PI/2+Math.atan2(n-C,t-f);r&&(B+=o.ay/2,B-=B%o.ay),B=p(B);var m=(0,h.xB)(e);if((0,g.DR)(e,{angle:B}),m){var A,y=null===(A=b.Z.getScene(e))||void 0===A?void 0:A.getElement(m);y&&!(0,u.Yv)(e)&&(0,g.DR)(y,{angle:B})}},A=function(e,t,n){var r=e.width;if((0,u.Xh)(e)){var i=(0,h.tl)(e);i&&(r=(0,h.jd)(i))}var a=e.fontSize*(t/r);if(a<1)return null;var o=(0,h.X1)(e.text,(0,d.mO)({fontSize:a,fontFamily:e.fontFamily}),e.lineHeight);return{size:a,baseline:o.baseline+(n-o.height)}},y=function(e,t,n,r,i){var o,l=(0,s.qf)(e),u=(0,a.Z)(l,4),d=u[0],I=u[1],b=u[2],h=u[3],f=(d+b)/2,C=(I+h)/2,p=(0,c.U1)(r,i,f,C,-e.angle),B=(0,a.Z)(p,2),m=B[0],y=B[1];switch(t){case"se":o=Math.max((m-d)/(b-d),(y-I)/(h-I));break;case"nw":o=Math.max((b-m)/(b-d),(h-y)/(h-I));break;case"ne":o=Math.max((m-d)/(b-d),(h-y)/(h-I));break;case"sw":o=Math.max((b-m)/(b-d),(y-I)/(h-I))}if(o>0){var v=e.width*o,x=e.height*o,Q=A(e,v,x);if(null===Q)return;var F=(0,s.wC)(e,v,x,!1),U=(0,a.Z)(F,4),G=(d-U[0])/2,w=(I-U[1])/2,S=(b-U[2])/2,E=(h-U[3])/2,X=(0,c.yq)(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,G,w,S,E),Z=(0,a.Z)(X,2),k=Z[0],N=Z[1];(0,g.DR)(e,{fontSize:Q.size,width:v,height:x,baseline:Q.baseline,x:k,y:N})}},v=function(e,t,n,i,o,b,f){var p=e.get(n.id),B=(0,s.wC)(p,p.width,p.height,!0),m=(0,a.Z)(B,4),y=[m[0],m[1]],v=[m[2],m[3]],x=(0,c.H5)(y,v),Q=(0,c.xj)([b,f],x,-p.angle),F=(0,s.wC)(n,n.width,n.height,!0),U=(0,a.Z)(F,4),G=U[0],w=U[1],S=U[2]-G,E=U[3]-w,X=(v[0]-y[0])/S,Z=(v[1]-y[1])/E,k={},N=(0,h.WJ)(n);i.includes("e")&&(X=(Q[0]-y[0])/S),i.includes("s")&&(Z=(Q[1]-y[1])/E),i.includes("w")&&(X=(v[0]-Q[0])/S),i.includes("n")&&(Z=(v[1]-Q[1])/E);var T=p.width,D=p.height,O=n.width*X,M=n.height*Z;if(o&&(O=2*O-T,M=2*M-D),t){var V=Math.abs(O)/T,W=Math.abs(M)/D;if(1===i.length&&(M*=V,O*=W),2===i.length){var R=Math.max(V,W);O=T*R*Math.sign(O),M=D*R*Math.sign(M)}}if(N){var Y=e.get(N.id);if(Y&&(k={fontSize:Y.fontSize,baseline:Y.baseline}),t){var L=C(C({},n),{},{width:O,height:M}),H=A(N,(0,h.jd)(L),(0,h.N2)(L));if(null===H)return;k={fontSize:H.size,baseline:H.baseline}}else{var z=(0,h.AT)((0,d.mO)(N),N.lineHeight),j=(0,h.w_)(N.fontSize,N.lineHeight);O=Math.ceil(Math.max(O,z)),M=Math.ceil(Math.max(M,j))}}var _=(0,s.wC)(p,O,M,!0),J=(0,a.Z)(_,4),P=J[0],K=J[1],q=J[2],$=J[3],ee=q-P,te=$-K,ne=[].concat(y);if(["n","w","nw"].includes(i)&&(ne=[v[0]-Math.abs(ee),v[1]-Math.abs(te)]),"ne"===i){var re=[y[0],v[1]];ne=[re[0],re[1]-Math.abs(te)]}if("sw"===i){var ie=[v[0],y[1]];ne=[ie[0]-Math.abs(ee),ie[1]]}t&&(["s","n"].includes(i)&&(ne[0]=x[0]-ee/2),["e","w"].includes(i)&&(ne[1]=x[1]-te/2)),O<0&&(i.includes("e")&&(ne[0]-=Math.abs(ee)),i.includes("w")&&(ne[0]+=Math.abs(ee))),M<0&&(i.includes("s")&&(ne[1]-=Math.abs(te)),i.includes("n")&&(ne[1]+=Math.abs(te))),o&&(ne[0]=x[0]-Math.abs(ee)/2,ne[1]=x[1]-Math.abs(te)/2);var ae,oe,le=p.angle,ce=(0,c.xj)(ne,x,le),se=[ne[0]+Math.abs(ee)/2,ne[1]+Math.abs(te)/2],ue=(0,c.xj)(se,x,le);ne=(0,c.xj)(ce,ue,-le),((0,u.bt)(n)||(0,u.F9)(n))&&(ae=(0,l.z)(1,M,p.points,!0),oe=(0,l.z)(0,O,ae,!0));var ge=(0,r.Z)(ne);ge[0]+=p.x-P,ge[1]+=p.y-K;var de={width:Math.abs(O),height:Math.abs(M),x:ge[0],y:ge[1],points:oe};"scale"in n&&"scale"in p&&(0,g.DR)(n,{scale:[(Math.sign(q-p.x)||p.scale[0])*p.scale[0],(Math.sign($-p.y)||p.scale[1])*p.scale[1]]}),0!==de.width&&0!==de.height&&Number.isFinite(de.x)&&Number.isFinite(de.y)&&((0,I.Ww)(n,{newSize:{width:de.width,height:de.height}}),(0,g.DR)(n,de),N&&null!=k&&(0,g.DR)(N,{fontSize:k.fontSize,baseline:k.baseline}),(0,h.RB)(n,i))},x=function(e,t,n,r,i,o){var c=t.reduce((function(t,n){var r=e.originalElements.get(n.id);return r&&t.push({orig:r,latest:n}),t}),[]),d=(0,s.v2)(c.map((function(e){return e.orig}))),b=d.minX,f=d.minY,p=d.maxX,B=d.maxY,m=d.midX,y=d.midY,v=n,x=r?[m,y]:{ne:[b,B],se:[b,f],sw:[p,f],nw:[p,B]}[v],Q=(0,a.Z)(x,2),F=Q[0],U=Q[1],G={ne:[i>=F,o<=U],se:[i>=F,o>=U],sw:[i<=F,o>=U],nw:[i<=F,o<=U]}[v].map((function(e){return e?1:-1})),w=(0,a.Z)(G,2),S=w[0],E=w[1];if(!(S<0&&E<0)){var X=Math.max(S*Math.abs(i-F)/(p-b),E*Math.abs(o-U)/(B-f))*(r?2:1);0!==X&&c.forEach((function(e){var t=e.orig.width*X,r=e.orig.height*X,i=F+(e.orig.x-F)*X,a=U+(e.orig.y-U)*X,o=function(e,t,n,r){return(0,u.bt)(e)||(0,u.F9)(e)?{points:(0,l.z)(0,t,(0,l.z)(1,n,e.points,r),r)}:{}}(e.orig,t,r,!1),c=C({width:t,height:r,x:i,y:a},o),s=null,d=(0,h.WJ)(e.latest);if(d||(0,u.iB)(e.orig)){var b=C(C({},e.latest),{},{width:t,height:r}),f=A(null!=d?d:e.orig,d?(0,h.jd)(b):b.width,d?(0,h.N2)(b):b.height);if(!f)return;(0,u.iB)(e.orig)&&(c.fontSize=f.size,c.baseline=f.baseline),d&&(s={fontSize:f.size,baseline:f.baseline})}(0,I.Ww)(e.latest,{newSize:{width:t,height:r}}),(0,g.DR)(e.latest,c),d&&s&&((0,g.DR)(d,s),(0,h.RB)(e.latest,n))}))}},Q=function(e,t,n,r,i,l,d){var I=5*Math.PI/2+Math.atan2(r-d,n-l);i&&(I+=o.ay/2,I-=I%o.ay),t.forEach((function(t){var n,r,i=(0,s.qf)(t),o=(0,a.Z)(i,4),f=o[0],C=o[1],B=(f+o[2])/2,m=(C+o[3])/2,A=null!==(n=null===(r=e.originalElements.get(t.id))||void 0===r?void 0:r.angle)&&void 0!==n?n:t.angle,y=(0,c.U1)(B,m,l,d,I+A-t.angle),v=(0,a.Z)(y,2),x=v[0],Q=v[1];(0,g.DR)(t,{x:t.x+(x-B),y:t.y+(Q-m),angle:p(I+A)});var F=(0,h.xB)(t);if(F){var U,G=null===(U=b.Z.getScene(t))||void 0===U?void 0:U.getElement(F);G&&!(0,u.Yv)(t)&&(0,g.DR)(G,{x:G.x+(x-B),y:G.y+(Q-m),angle:p(I+A)})}}))},F=function(e,t,n,r){var i=1===t.length?(0,s.qf)(t[0]):(0,s.KP)(t),o=(0,a.Z)(i,4),l=o[0],u=o[1],g=o[2],d=o[3],I=(l+g)/2,b=(u+d)/2,h=1===t.length?t[0].angle:0,f=(0,c.U1)(n,r,I,b,-h),C=(0,a.Z)(f,2);switch(n=C[0],r=C[1],e){case"n":return(0,c.U1)(n-(l+g)/2,r-u,0,0,h);case"s":return(0,c.U1)(n-(l+g)/2,r-d,0,0,h);case"w":return(0,c.U1)(n-l,r-(u+d)/2,0,0,h);case"e":return(0,c.U1)(n-g,r-(u+d)/2,0,0,h);case"nw":return(0,c.U1)(n-l,r-u,0,0,h);case"ne":return(0,c.U1)(n-g,r-u,0,0,h);case"sw":return(0,c.U1)(n-l,r-d,0,0,h);case"se":return(0,c.U1)(n-g,r-d,0,0,h);default:return[0,0]}},U=function(e,t){var n=(0,a.Z)(t.points,2),r=(0,a.Z)(n[1],2),i=r[0],o=r[1];return"nw"===e&&(i<0||o<0)||"ne"===e&&i>=0||"sw"===e&&i<=0||"se"===e&&(i>0||o>0)?"end":"origin"}},5710:function(e,t,n){"use strict";n.d(t,{$2:function(){return w},AT:function(){return O},FE:function(){return F},HE:function(){return Y},H_:function(){return z},N2:function(){return te},NS:function(){return $},OW:function(){return P},P7:function(){return x},PT:function(){return ie},R8:function(){return G},RB:function(){return Q},Rg:function(){return S},S:function(){return j},TP:function(){return L},WJ:function(){return W},X1:function(){return U},Zr:function(){return q},aV:function(){return J},bG:function(){return A},cn:function(){return _},cw:function(){return H},eB:function(){return ne},jd:function(){return ee},lD:function(){return N},mY:function(){return Z},oN:function(){return v},tl:function(){return R},w_:function(){return E},xB:function(){return V}});var r,i=n(2577),a=n(1930),o=n(7169),l=n(6340),c=n(1935),s=n(2335),u=n(1564),g=n(1047),d=n(1974),I=n(6938),b=n(75),h=n(2325),f=n(6906);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B,m,A=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},y=function(e){return A(e).split("\n")},v=function(e,t){var n=void 0,r={x:e.x,y:e.y,text:e.text,width:e.width,height:e.height,baseline:e.baseline};r.text=e.text,t&&(n=ee(t),r.text=N(e.originalText,(0,l.mO)(e),n));var i=U(r.text,(0,l.mO)(e),e.lineHeight);if(r.width=i.width,r.height=i.height,r.baseline=i.baseline,t)if((0,d.Yv)(t)){var a=e.x+e.width/2,o=e.y+e.height/2,s=i.width-e.width,u=i.height-e.height;r.x=o-(e.height+u)/2,r.y=a-(e.width+s)/2}else{var g=Y(t),I=te(t),b=g.height;i.height>I&&(b=$(i.height,t.type),(0,c.DR)(t,{height:b}),I=te(t),(0,f.h_)(t.id,b));var h=p(p({},e),r),C=F(t,h),B=C.x,m=C.y;r.x=B,r.y=m}(0,c.DR)(e,r)},x=function(e,t,n){var r=(0,l.xn)(e);t.forEach((function(e){var t=n.get(e.id),i=V(e);if(i){var a=n.get(i);if(a){var o=r.get(t);o&&(0,c.DR)(o,{boundElements:(e.boundElements||[]).filter((function(e){return e.id!==a&&e.id!==i})).concat({type:"text",id:a})});var l=r.get(a);l&&(0,g.iB)(l)&&(0,c.DR)(l,{containerId:o?t:null})}}}))},Q=function(e,t){var n=V(e);if(n){(0,f.kT)(e.id);var r=u.Z.getScene(e).getElement(n);if(r&&r.text){if(!e)return;var i=(r=u.Z.getScene(e).getElement(n)).text,a=r.height,o=r.width,s=Y(e),g=ee(e),I=te(e),b=s.height,h=r.baseline;if("n"!==t&&"s"!==t){i&&(i=N(r.originalText,(0,l.mO)(r),g));var C=U(i,(0,l.mO)(r),r.lineHeight);a=C.height,o=C.width,h=C.baseline}if(a>I){var p=(b=$(a,e.type))-s.height,B=(0,d.Yv)(e)||"ne"!==t&&"nw"!==t&&"n"!==t?e.y:e.y-p;(0,c.DR)(e,{height:b,y:B})}(0,c.DR)(r,{text:i,width:o,height:a,baseline:h}),(0,d.Yv)(e)||(0,c.DR)(r,F(e,r))}}},F=function(e,t){if((0,d.Yv)(e))return I._.getBoundTextElementPosition(e,t);var n,r=H(e),i=te(e),a=ee(e);return n=t.verticalAlign===s.oX.TOP?r.y:t.verticalAlign===s.oX.BOTTOM?r.y+(i-t.height):r.y+(i/2-t.height/2),{x:t.textAlign===s.I8.LEFT?r.x:t.textAlign===s.I8.RIGHT?r.x+(a-t.width):r.x+(a/2-t.width/2),y:n}},U=function(e,t,n){e=e.split("\n").map((function(e){return e||" "})).join("\n");var r=parseFloat(t),i=k(e,r,n);return{width:Z(e,t),height:i,baseline:G(e,t,n)}},G=function(e,t,n,r){var i=document.createElement("div");i.style.position="absolute",i.style.whiteSpace="pre",i.style.font=t,i.style.minHeight="1em",r&&(i.style.overflow="hidden",i.style.wordBreak="break-word",i.style.whiteSpace="pre-wrap"),i.style.lineHeight=String(n),i.innerText=e,document.body.appendChild(i);var a=document.createElement("span");a.style.display="inline-block",a.style.overflow="hidden",a.style.width="1px",a.style.height="1px",i.appendChild(a);var o=a.offsetTop+a.offsetHeight,l=i.offsetHeight;if(s.G6){var c=k(e,parseFloat(t),n),u=parseFloat(t),g=k(e,Math.round(u),n);c>l&&(o+=c-g),l>c&&(o-=g-c)}return document.body.removeChild(i),o},w=function(e){var t=y(e.text).length;return e.height/t/e.fontSize},S=function(e,t){return e*t},E=function(e,t){return S(e,t)+2*s.gK},X=function(e,t){B||(B=document.createElement("canvas"));var n=B.getContext("2d");n.font=t;var r=n.measureText(e).width;return(0,l.h2)()?10*r:r},Z=function(e,t){var n=y(e),r=0;return n.forEach((function(e){r=Math.max(r,X(e,t))})),r},k=function(e,t,n){var r=y(e).length;return S(t,n)*r},N=function(e,t,n){if(!Number.isFinite(n)||n<0)return e;var r=[],i=e.split("\n"),a=X(" ",t),o="",l=0,c=function(e){e.trim()&&r.push(e)},s=function(){o="",l=0};return i.forEach((function(e){if(Z(e,t)<=n)r.push(e);else{var i=function(e){var t=e.split("-");return t.length>1&&t.forEach((function(e,n){n!==t.length-1&&(t[n]=e+="-")})),t.join(" ").split(" ")}(e);s();for(var u=0;u<i.length;){var g=X(i[u],t);if(g===n)c(i[u]),u++;else if(g>n){for(c(o),s();i[u].length>0;){var d=String.fromCodePoint(i[u].codePointAt(0)),I=T.calculate(d,t);l+=I,i[u]=i[u].slice(d.length),l>=n?(c(o),o=d,l=I):o+=d}l+a>=n?(c(o),s()):o.endsWith("-")||(o+=" ",l+=a),u++}else for(;l<n&&u<i.length;){var b=i[u];if((l=X(o+b,t))>n){c(o),s();break}u++;var h=!b.endsWith("-");if(o+=b,h&&(o+=" "),l+a>=n){h?r.push(o.slice(0,-1)):r.push(o),s();break}}}" "===o.slice(-1)&&(o=o.slice(0,-1),c(o))}})),r.join("\n")},T=(m={},{calculate:function(e,t){var n=e.charCodeAt(0);if(m[t]||(m[t]=[]),!m[t][n]){var r=X(e,t);m[t][n]=r}return m[t][n]},getCache:function(e){return m[e]}}),D="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),O=function(e,t){var n=M(e);return 0===n?U(D.split("").join("\n"),e,t).width+2*s.gK:n+2*s.gK},M=function(e){var t=T.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,a.Z)(n))},V=function(e){var t,n,r;return null!=e&&null!==(t=e.boundElements)&&void 0!==t&&t.length&&(null==e||null===(n=e.boundElements)||void 0===n||null===(r=n.filter((function(e){return"text"===e.type}))[0])||void 0===r?void 0:r.id)||null},W=function(e){if(!e)return null;var t,n=V(e);return n&&(null===(t=u.Z.getScene(e))||void 0===t?void 0:t.getElement(n))||null},R=function(e){return e&&e.containerId&&(null===(t=u.Z.getScene(e))||void 0===t?void 0:t.getElement(e.containerId))||null;var t},Y=function(e){return(0,d.Yv)(e)?{width:Math.max(e.width,300),height:e.height}:{width:e.width,height:e.height}},L=function(e,t){if(!(0,d.Yv)(e))return{x:e.x+e.width/2,y:e.y+e.height/2};var n=I._.getPointsGlobalCoordinates(e);if(n.length%2==1){var r=Math.floor(e.points.length/2),i=I._.getPointGlobalCoordinates(e,e.points[r]);return{x:i[0],y:i[1]}}var a=e.points.length/2-1,o=I._.getEditorMidPoints(e,t)[a];return o||(o=I._.getSegmentMidPoint(e,n[a],n[a+1],a+1)),{x:o[0],y:o[1]}},H=function(e){var t=s.gK,n=s.gK;return"ellipse"===e.type&&(t+=e.width/2*(1-Math.sqrt(2)/2),n+=e.height/2*(1-Math.sqrt(2)/2)),"diamond"===e.type&&(t+=e.width/4,n+=e.height/4),{x:e.x+t,y:e.y+n}},z=function(e){var t=R(e);return!t||(0,d.Yv)(t)?e.angle:t.angle},j=function(e){var t=R(e);return t&&e?(0,d.Yv)(t)?8*s.gK:s.gK:0},_=function(e){return e.some((function(e){if((0,d.Xh)(e)){var t=R(e);return!(0,g.iB)(e)||!(0,d.Yv)(t)}return!1}))},J=function(e){return e.some((function(e){if((0,d.Xh)(e)){var t=R(e);return!(0,g.iB)(e)||!(0,d.Yv)(t)}return(0,g.iB)(e)}))},P=function(e,t,n,r){var a=(0,b.eD)(e,t);if(1===a.length)return(0,d.mG)(a[0],!1)?a[0]:null;for(var o=null,l=e.length-1;l>=0;--l)if(!e[l].isDeleted){var c=(0,g.qf)(e[l]),s=(0,i.Z)(c,4),u=s[0],I=s[1],f=s[2],C=s[3];if((0,d.Yv)(e[l])&&(0,h.Qu)(e[l],t,[n,r])){o=e[l];break}if(u<n&&n<f&&I<r&&r<C){o=e[l];break}}return(0,d.mG)(o,!1)?o:null},K=new Set(["rectangle","ellipse","diamond","image","arrow"]),q=function(e){return K.has(e.type)},$=function(e,t){e=Math.ceil(e);var n=2*s.gK;return"ellipse"===t?Math.round((e+n)/Math.sqrt(2)*2):"arrow"===t?e+8*n:"diamond"===t?2*(e+n):e+n},ee=function(e){var t=Y(e).width;if((0,d.Yv)(e)){var n=t-8*s.gK*2;if(n<=0){var r=W(e);return r?r.width:8*s.gK*2}return n}return"ellipse"===e.type?Math.round(t/2*Math.sqrt(2))-2*s.gK:"diamond"===e.type?Math.round(t/2)-2*s.gK:t-2*s.gK},te=function(e){var t=Y(e).height;if((0,d.Yv)(e)){if(t-8*s.gK*2<=0){var n=W(e);return n?n.height:8*s.gK*2}return t}return"ellipse"===e.type?Math.round(t/2*Math.sqrt(2))-2*s.gK:"diamond"===e.type?Math.round(t/2)-2*s.gK:t-2*s.gK},ne=function(){return Z(D,(0,l.mO)({fontSize:s.n5,fontFamily:s.rk}))>0},re=(r={},(0,o.Z)(r,s.ut.Virgil,1.25),(0,o.Z)(r,s.ut.Helvetica,1.15),(0,o.Z)(r,s.ut.Cascadia,1.2),r),ie=function(e){return e in re?re[e]:re[s.rk]}},6906:function(e,t,n){"use strict";n.d(t,{b_:function(){return F},eR:function(){return Q},h_:function(){return v},kT:function(){return x}});var r=n(8950),i=n(7169),a=n(2577),o=n(2975),l=n.n(o),c=n(6066),s=n(6340),u=n(1564),g=n(1974),d=n(2335),I=n(1935),b=n(5710),h=n(6208),f=n(2416),C=n(6938),p=n(6665);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e,t,n,r,i,a){var o=r.zoom,l=180*n/Math.PI,c=e*(o.value-1)/2,s=t*(o.value-1)/2;return e>i&&1!==o.value&&(c=i*(o.value-1)/2),t>a&&1!==o.value&&(s=a*(o.value-1)/2),"translate(".concat(c,"px, ").concat(s,"px) scale(").concat(o.value,") rotate(").concat(l,"deg)")},y={},v=function(e,t){var n=y[e]||(y[e]={height:t});return n.height=t,n},x=function(e){y[e]&&delete y[e]},Q=function(e){var t,n;return null!==(t=null===(n=y[e])||void 0===n?void 0:n.height)&&void 0!==t?t:null},F=function(e){var t=e.id,n=e.onChange,i=e.onSubmit,o=e.getViewportCoords,B=e.element,x=e.canvas,Q=e.excalidrawContainer,F=e.app,U=function(){var e,n=F.state,r=null===(e=u.Z.getScene(B))||void 0===e?void 0:e.getElement(t);if(r){var i=r.textAlign,l=r.verticalAlign;if(r&&(0,g.iB)(r)){var c=r.x,h=r.y,f=(0,b.tl)(r),p=r.width,x=r.height,Q=r.width,U=r.height;if(f&&r.containerId){if((0,g.Yv)(f)){var w=C._.getBoundTextElementPosition(f,r);c=w.x,h=w.y}var S,E=function(e,t){if(!t.style.fontFamily||!t.style.fontSize)return!1;var n=t.style.fontFamily.replace(/"/g,"");return(0,s.$g)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(r,G),X=(0,b.HE)(f),Z=Number(G.style.height.slice(0,-2));if(Z>0&&(U=Z),E&&(U=r.height),E?S=v(f.id,X.height):(S=y[f.id])||(S=v(f.id,X.height)),p=(0,b.jd)(f),x=(0,b.N2)(f),!(0,g.Yv)(f)&&U>x){var k=(0,b.NS)(U,f.type);return void(0,I.DR)(f,{height:k})}if(!(0,g.Yv)(f)&&X.height>S.height&&U<x){var N=(0,b.NS)(U,f.type);(0,I.DR)(f,{height:N})}else{var T=(0,b.cw)(f);l===d.oX.MIDDLE&&((0,g.Yv)(f)||(h=T.y+x/2-U/2)),l===d.oX.BOTTOM&&(h=T.y+(x-U))}}var D=o(c,h),O=(0,a.Z)(D,2),M=O[0],V=O[1],W=G.selectionStart,R=G.selectionEnd,Y=G.value.length;if(G.value=r.originalText,W===R&&R!==Y){var L=Y-R;G.selectionStart=G.value.length-L,G.selectionEnd=G.value.length-L}f?Q+=.5:(p=(n.width-8-M)/n.zoom.value,Q=Math.min(Q,p));var H=r.lineHeight;d.G6&&(H=(0,b.$2)(m(m({},r),{},{fontSize:Math.round(r.fontSize)})));var z=(n.height-V)/n.zoom.value;Object.assign(G.style,{font:(0,s.mO)(r),lineHeight:H,width:"".concat(Q,"px"),height:"".concat(U,"px"),left:"".concat(M,"px"),top:"".concat(V,"px"),transform:A(Q,U,(0,b.H_)(r),n,p,z),textAlign:i,verticalAlign:l,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(z,"px")}),G.scrollTop=0,(0,s.h2)()&&(G.style.fontFamily=(0,s.$g)(r)),(0,I.DR)(r,{x:c,y:h})}}},G=document.createElement("textarea");G.dir="auto",G.tabIndex=0,G.dataset.type="wysiwyg",G.wrap="off",G.classList.add("excalidraw-wysiwyg");var w="pre",S="normal";(0,g.Xh)(B)&&(w="pre-wrap",S="break-word"),Object.assign(G.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:S,whiteSpace:w,overflowWrap:"break-word",boxSizing:"content-box"}),U(),n&&(G.onpaste=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,i,a,o,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.mQ)(t,!0);case 2:if((n=e.sent).text){e.next=5;break}return e.abrupt("return");case 5:if(r=(0,b.bG)(n.text)){e.next=8;break}return e.abrupt("return");case 8:i=(0,b.tl)(B),a=(0,s.mO)({fontSize:F.state.currentItemFontSize,fontFamily:F.state.currentItemFontFamily}),i&&(o=(0,b.lD)("".concat(G.value).concat(r),a,(0,b.jd)(i)),c=(0,b.mY)(o,a),G.style.width="".concat(c,"px"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G.oninput=function(){var e,r=null===(e=u.Z.getScene(B))||void 0===e?void 0:e.getElement(t),i=(0,s.mO)(r);if((0,g.Xh)(B)){var a=(0,b.tl)(B),o=(0,b.lD)((0,b.bG)(G.value),i,(0,b.jd)(a)),l=(0,b.X1)(o,i,r.lineHeight),c=l.width,d=l.height;G.style.width="".concat(c,"px"),G.style.height="".concat(d,"px")}n((0,b.bG)(G.value))}),G.onkeydown=function(e){if(!e.shiftKey&&f.Lo.keyTest(e))e.preventDefault(),F.actionManager.executeAction(f.Lo),U();else if(!e.shiftKey&&f.CZ.keyTest(e))e.preventDefault(),F.actionManager.executeAction(f.CZ),U();else if(h.Tu.keyTest(e))F.actionManager.executeAction(h.Tu);else if(h.Zq.keyTest(e))F.actionManager.executeAction(h.Zq);else if(e.key===c.tW.ESCAPE)e.preventDefault(),D=!0,O();else if(e.key===c.tW.ENTER&&e[c.tW.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;D=!0,O()}else if(e.key===c.tW.TAB||e[c.tW.CTRL_OR_CMD]&&(e.code===c.aU.BRACKET_LEFT||e.code===c.aU.BRACKET_RIGHT)){if(e.preventDefault(),e.isComposing)return;e.shiftKey||e.code===c.aU.BRACKET_LEFT?k():Z(),G.dispatchEvent(new Event("input"))}};var E=" ".repeat(4),X=new RegExp("^ {1,".concat(4,"}")),Z=function(){var e=G.selectionStart,t=G.selectionEnd,n=N(),r=G.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(E).concat(n)})),G.value=r,G.selectionStart=e+4,G.selectionEnd=t+4*n.length},k=function(){var e=G.selectionStart,t=G.selectionEnd,n=N(),r=[],i=G.value;n.forEach((function(e){var t=i.slice(e,e+4).match(X);if(t){var n=i.slice(0,e),a=i.slice(e+t[0].length);i="".concat(n).concat(a),r.push(e)}})),G.value=i,r.length&&(e>r[r.length-1]?G.selectionStart=Math.max(e-4,r[r.length-1]):G.selectionStart=e,G.selectionEnd=Math.max(G.selectionStart,t-4*r.length))},N=function(){var e=G.selectionStart,t=G.selectionEnd,n=G.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,i){return t.concat(r?t[r-1]+i[r-1].length+1:e)}),[]).reverse()},T=function(e){e.preventDefault(),e.stopPropagation()},D=!1,O=function(){var e;M();var t=null===(e=u.Z.getScene(B))||void 0===e?void 0:e.getElement(B.id);if(t){var n=G.value,r=(0,b.tl)(t);if(r){if(n=t.text,G.value.trim()){var a=(0,b.xB)(r);a&&a===B.id||(0,I.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:B.id})})}else{var o;(0,I.DR)(r,{boundElements:null===(o=r.boundElements)||void 0===o?void 0:o.filter((function(e){return!(0,g.iB)(e)}))})}(0,b.oN)(t,r)}i({text:n,viaKeyboard:D,originalText:G.value})}},M=function(){Y||(Y=!0,G.onblur=null,G.oninput=null,G.onkeydown=null,L&&L.disconnect(),window.removeEventListener("resize",U),window.removeEventListener("wheel",T,!0),window.removeEventListener("pointerdown",W),window.removeEventListener("pointerup",V),window.removeEventListener("blur",O),R(),G.remove())},V=function e(t){window.removeEventListener("pointerup",e);var n=null==t?void 0:t.target,r=n instanceof HTMLInputElement&&n.closest(".color-picker-input")&&(0,s.s)(n);setTimeout((function(){G.onblur=O,n&&r&&(n.onblur=function(){G.focus()}),r||G.focus()}))},W=function(e){var t=e.target instanceof HTMLInputElement&&e.target.closest(".color-picker-input")&&(0,s.s)(e.target);((e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(d.$C.SHAPE_ACTIONS_MENU))&&!(0,s.s)(e.target)||t)&&(G.onblur=null,window.addEventListener("pointerup",V),window.addEventListener("blur",O))},R=u.Z.getScene(B).addCallback((function(){var e;U(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".color-picker-input")||G.focus()})),Y=!1;G.select(),V();var L=null;x&&"ResizeObserver"in window?(L=new window.ResizeObserver((function(){U()}))).observe(x):window.addEventListener("resize",U),window.addEventListener("pointerdown",W),window.addEventListener("wheel",T,{passive:!1,capture:!0}),null==Q||Q.querySelector(".excalidraw-textEditorContainer").appendChild(G)}},267:function(e,t,n){"use strict";n.d(t,{PC:function(){return f},kK:function(){return h},oY:function(){return C},ox:function(){return u}});var r=n(2577),i=n(8925),a=n(6552),o=n(1047),l=n(1974),c=n(3547),s={mouse:8,pen:16,touch:28},u={e:!0,s:!0,n:!0,w:!0},g={e:!0,s:!0,n:!0,w:!0},d={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},I={e:!0,s:!0,n:!0,w:!0},b=function(e,t,n,i,o,l,c){var s=(0,a.U1)(e+n/2,t+i/2,o,l,c),u=(0,r.Z)(s,2);return[u[0]-n/2,u[1]-i/2,n,i]},h=function(e,t,n,i){var a=(0,r.Z)(e,6),o=a[0],l=a[1],u=a[2],g=a[3],d=a[4],I=a[5],h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,C=s[i],p=C/n.value,B=C/n.value,m=C/n.value,A=C/n.value,y=u-o,v=g-l,x=f/n.value,Q=(C-2*c.Lu)/(2*n.value),F={nw:h.nw?void 0:b(o-x-m+Q,l-x-A+Q,p,B,d,I,t),ne:h.ne?void 0:b(u+x-Q,l-x-A+Q,p,B,d,I,t),sw:h.sw?void 0:b(o-x-m+Q,g+x-Q,p,B,d,I,t),se:h.se?void 0:b(u+x-Q,g+x-Q,p,B,d,I,t),rotation:h.rotation?void 0:b(o+y/2-p/2,l-x-A+Q-16/n.value,p,B,d,I,t)},U=5*s.mouse/n.value;return Math.abs(y)>U&&(h.n||(F.n=b(o+y/2-p/2,l-x-A+Q,p,B,d,I,t)),h.s||(F.s=b(o+y/2-p/2,g+x-Q,p,B,d,I,t))),Math.abs(v)>U&&(h.w||(F.w=b(o-x-m+Q,l+v/2-B/2,p,B,d,I,t)),h.e||(F.e=b(u+x-Q,l+v/2-B/2,p,B,d,I,t))),F},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";if(e.locked)return{};var a={};if("freedraw"===e.type||(0,l.bt)(e)){if(2===e.points.length){var s=(0,r.Z)(e.points,2)[1];0===s[0]||0===s[1]?a=I:s[0]>0&&s[1]<0?a=d:s[0]>0&&s[1]>0?a=I:s[0]<0&&s[1]>0?a=d:s[0]<0&&s[1]<0&&(a=I)}}else(0,o.iB)(e)&&(a=g);var u=(0,l.bt)(e)?c.Lu+8:c.Lu;return h((0,i.qf)(e,!0),e.angle,t,n,a,u)},C=function(e,t){if(t.editingLinearElement)return!1;if(e.length>1)return!0;var n=e[0];return!(0,l.bt)(n)||n.points.length>2}},1974:function(e,t,n){"use strict";n.d(t,{F9:function(){return l},Lx:function(){return I},Mn:function(){return d},QI:function(){return B},UQ:function(){return A},Xh:function(){return p},Xo:function(){return C},Yv:function(){return u},bt:function(){return s},dt:function(){return g},eK:function(){return m},f0:function(){return b},iB:function(){return o},mG:function(){return h},pC:function(){return a},r2:function(){return f},wi:function(){return i}});var r=n(2335),i=function(e){return!!e&&"image"===e.type&&!!e.fileId},a=function(e){return!!e&&"image"===e.type},o=function(e){return null!=e&&"text"===e.type},l=function(e){return null!=e&&c(e.type)},c=function(e){return"freedraw"===e},s=function(e){return null!=e&&g(e.type)},u=function(e){return null!=e&&"arrow"===e.type},g=function(e){return"arrow"===e||"line"===e},d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&I(e.type)},I=function(e){return"arrow"===e},b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(null==e||e.locked&&!0!==t||"rectangle"!==e.type&&"diamond"!==e.type&&"ellipse"!==e.type&&"image"!==e.type&&("text"!==e.type||e.containerId))},h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||u(e))},f=function(e){return"text"===(null==e?void 0:e.type)||"diamond"===(null==e?void 0:e.type)||"rectangle"===(null==e?void 0:e.type)||"ellipse"===(null==e?void 0:e.type)||"arrow"===(null==e?void 0:e.type)||"freedraw"===(null==e?void 0:e.type)||"line"===(null==e?void 0:e.type)},C=function(e){var t;return h(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},p=function(e){return null!==e&&"containerId"in e&&null!==e.containerId&&o(e)},B=function(e){return"rectangle"===e},m=function(e,t){return!(e!==r.a6.ADAPTIVE_RADIUS&&e!==r.a6.LEGACY||!B(t.type))||e===r.a6.PROPORTIONAL_RADIUS&&("line"===(n=t.type)||"arrow"===n||"diamond"===n);var n},A=function(e){return"arrow"===e.type||"line"===e.type||"diamond"===e.type?{type:r.a6.PROPORTIONAL_RADIUS}:"rectangle"===e.type?{type:r.a6.ADAPTIVE_RADIUS}:null}},6797:function(e,t,n){"use strict";n.d(t,{_:function(){return b},l:function(){return I}});var r=n(5169),i=n(8821),a=n(2248),o=n(7245),l=n(2312),c=n(5901);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=s()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,c.Z)(i,n.prototype),i},u.apply(null,arguments)}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,(0,l.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,c.Z)(r,e)},g(e)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var I=function(e){(0,a.Z)(n,e);var t=d(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,i.Z)(this,n),(e=t.call(this)).name=a,e.message=r,e}return(0,r.Z)(n)}(g(Error)),b=function(e){(0,a.Z)(n,e);var t=d(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,i.Z)(this,n),t.call(this,e,"AbortError")}return(0,r.Z)(n)}(g(DOMException))},242:function(e,t,n){"use strict";n.d(t,{AI:function(){return x},F$:function(){return d},Fb:function(){return B},Nd:function(){return p},Qy:function(){return A},S_:function(){return y},YS:function(){return m},bO:function(){return f},h6:function(){return v},iE:function(){return C},iJ:function(){return h},yO:function(){return b},zq:function(){return I}});var r=n(1930),i=n(2577),a=n(7169),o=n(75),l=n(5710);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n){var r=n.filter((function(t){return t.groupIds.includes(e)}));return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?g(g({},t),{},{selectedGroupIds:g(g({},t.selectedGroupIds),{},(0,a.Z)({},e,!1)),editingGroupId:null}):t:g(g({},t),{},{selectedGroupIds:g(g({},t.selectedGroupIds),{},(0,a.Z)({},e,!0)),selectedElementIds:g(g({},t.selectedElementIds),Object.fromEntries(r.map((function(e){return[e.id,!0]}))))})},I=function(e,t){return null!=b(e,t)},b=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},h=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,i.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return t[1],n}))},f=function(e,t){var n=g(g({},e),{},{selectedGroupIds:{}}),r=(0,o.eD)(t,e);if(!r.length)return g(g({},n),{},{editingGroupId:null});var i,a=c(r);try{for(a.s();!(i=a.n()).done;){var l=i.value.groupIds;if(e.editingGroupId){var s=l.indexOf(e.editingGroupId);s>-1&&(l=l.slice(0,s))}if(l.length>0){var u=l[l.length-1];n=d(u,n,t)}}}catch(e){a.e(e)}finally{a.f()}return n},C=function(e,t){return g(g({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,a.Z)({},t.id,!0)})},p=function(e,t){return e.groupIds.includes(t)},B=function(e,t){return e.filter((function(e){return p(e,t)}))},m=function(e,t){return e.groupIds.find((function(e){return t[e]}))},A=function(e,t,n){for(var i=(0,r.Z)(e),a=t?e.indexOf(t):-1,o=a>-1?a:e.length,l=0;l<o;l++)i[l]=n(i[l]);return i},y=function(e,t,n){var i=(0,r.Z)(e),a=n?i.indexOf(n):-1,o=a>-1?a:i.length;return i.splice(o,0,t),i},v=function(e,t){return e.filter((function(e){return!t[e]}))},x=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],i=t.get(n)||[],a=(0,l.WJ)(e);a&&i.push(a),t.set(n,[].concat((0,r.Z)(i),[e]))})),Array.from(t.values())}},8211:function(e,t,n){"use strict";n.d(t,{Fp:function(){return g},G3:function(){return C},Mj:function(){return d},QT:function(){return A},m0:function(){return f},t:function(){return B}});var r=n(8950),i=n(2975),a=n.n(i),o=n(1463),l=n(4451),c=n(2335),s=n(9487),u=n(4739),g={code:"en",label:"English"},d=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"ku-TR",label:"Kurd\xee"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010dina"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"vi-VN",label:"Ti\u1ebfng Vi\u1ec7t"},{code:"mr-IN",label:"\u092e\u0930\u093e\u0920\u0940"}].concat([g]).sort((function(e,t){return e.label>t.label?1:-1})).filter((function(e){return l[e.code]>=85})),I="__test__";"production"===c.Vi.DEVELOPMENT&&d.unshift({code:I,label:"test language"},{code:"".concat(I,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var b=g,h={},f=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=t,document.documentElement.dir=b.rtl?"rtl":"ltr",document.documentElement.lang=b.code,!t.code.startsWith(I)){e.next=7;break}h={},e.next=17;break;case 7:return e.prev=7,e.next=10,n(940)("./".concat(b.code,".json"));case 10:h=e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.error("Failed to load language ".concat(t.code,":"),e.t0.message),h=o;case 17:s.e_.set(m,t.code);case 18:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){return b},p=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},B=function(e,t){if(b.code.startsWith(I)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(n,"]]\u202c")}var r=e.split("."),i=p(h,r)||p(o,r);if(void 0===i)throw new Error("Can't find translation for ".concat(e));if(t)for(var a in t)i=i.replace("{{".concat(a,"}}"),String(t[a]));return i},m=(0,u.cn)(g.code),A=function(){var e=(0,u.Dv)(m,s.yE);return{t:B,langCode:e}}},9487:function(e,t,n){"use strict";n.d(t,{e_:function(){return a},yE:function(){return i}});var r=n(4739),i=(n(9787),Symbol()),a=(0,r.Vv)()},6066:function(e,t,n){"use strict";n.d(t,{E0:function(){return c},Ge:function(){return s},OA:function(){return l},Wl:function(){return o},aU:function(){return i},tW:function(){return a}});var r=n(2335),i={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},a={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},o=function(e){return e===a.ARROW_LEFT||e===a.ARROW_RIGHT||e===a.ARROW_DOWN||e===a.ARROW_UP},l=function(e){return e.altKey},c=function(e){return e.shiftKey},s=function(e){return e.shiftKey}},6552:function(e,t,n){"use strict";n.d(t,{EK:function(){return x},H5:function(){return u},Jj:function(){return v},LW:function(){return s},N_:function(){return B},U1:function(){return o},c9:function(){return d},eH:function(){return A},g6:function(){return g},lk:function(){return y},wC:function(){return f},xj:function(){return l},yB:function(){return p},yW:function(){return C},yq:function(){return c}});var r=n(2335),i=n(3063),a=n(8925),o=function(e,t,n,r,i){return[(e-n)*Math.cos(i)-(t-r)*Math.sin(i)+n,(e-n)*Math.sin(i)+(t-r)*Math.cos(i)+r]},l=function(e,t,n){return o(e[0],e[1],t[0],t[1],n)},c=function(e,t,n,r,i,a,o,l){var c=Math.cos(r),s=Math.sin(r);return e.e&&e.w?t+=i+o:e.e?(t+=i*(1+c),n+=i*s,t+=o*(1-c),n+=o*-s):e.w&&(t+=i*(1-c),n+=i*-s,t+=o*(1+c),n+=o*s),e.n&&e.s?n+=a+l:e.n?(t+=a*s,n+=a*(1-c),t+=l*-s,n+=l*(1+c)):e.s&&(t+=a*-s,n+=a*(1+c),t+=l*s,n+=l*(1-c)),[t,n]},s=function(e,t,n,r){var i=n-e,a=r-t;return Math.hypot(i,a)},u=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],i=n[0],a=n[1];return s(i[0],i[1],a[0],a[1])<=r.qx/t}return!1},d=function(e,t,n){var r=e.length;if(r<3)return!1;for(var i=[Number.MAX_SAFE_INTEGER,n],a=[t,n],o=0,l=0;l<r;l++){var c=e[l],s=e[(l+1)%r];if(h(c,s,a,i)){if(0===b(c,a,s))return I(c,a,s);o++}}return o%2==1},I=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},b=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},h=function(e,t,n,r){var i=b(e,t,n),a=b(e,t,r),o=b(n,r,e),l=b(n,r,t);return i!==a&&o!==l||!(0!==i||!I(e,n,t))||!(0!==a||!I(e,r,t))||!(0!==o||!I(n,e,r))||!(0!==l||!I(n,t,r))},f=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},C=function(e,t){var n,i,a;if((null===(n=t.roundness)||void 0===n?void 0:n.type)===r.a6.PROPORTIONAL_RADIUS||(null===(i=t.roundness)||void 0===i?void 0:i.type)===r.a6.LEGACY)return e*r.Rx;if((null===(a=t.roundness)||void 0===a?void 0:a.type)===r.a6.ADAPTIVE_RADIUS){var o,l,c=null!==(o=null===(l=t.roundness)||void 0===l?void 0:l.value)&&void 0!==o?o:r._9;return e<=c/r.Rx?e*r.Rx:c}return 0},p=function(e,t){var n=(0,i.R2)(e);if(!n)return null;for(var r=(0,a.CM)(n[0]),o=[0,0],l=0,c=1/0,u=null;l<r.length;){var g=r[l],d=g.op,I=g.data;if("move"===d&&(o=I),"bcurveTo"===d){var b=o,h=[I[0],I[1]],f=[I[2],I[3]],C=[I[4],I[5]],p=s(C[0],C[1],t[0],t[1]);p<c&&(c=p,u=[b,h,f,C]),o=C}l++}return u},B=function(e,t,n,r,i){var a=function(i,a){return Math.pow(1-i,3)*r[a]+3*i*Math.pow(1-i,2)*n[a]+3*Math.pow(i,2)*(1-i)*t[a]+e[a]*Math.pow(i,3)};return[a(i,0),a(i,1)]},m=function(e,t){var n=[];n[0]=0;for(var r=function(e,t){var n=p(e,t);if(!n)return[];for(var r=[],i=1;i>0;){var a=B(n[0],n[1],n[2],n[3],i);r.push([a[0],a[1]]),i-=.05}return r.length&&v(r.at(-1),t)&&r.push([t[0],t[1]]),r}(e,t),i=0,a=0;i<r.length-1;)a+=s(r[i][0],r[i][1],r[i+1][0],r[i+1][1]),n.push(a),i++;return n},A=function(e,t){return m(e,t).at(-1)},y=function(e,t,n){for(var r=m(e,t),i=r.length-1,a=n*r.at(-1),o=0,l=i,c=0;o<l;)r[c=Math.floor(o+(l-o)/2)]<a?o=c+1:l=c;return r[c]>a&&c--,r[c]===a?c/i:1-(c+(a-r[c])/(r[c+1]-r[c]))/i},v=function(e,t){return e[0]===t[0]&&e[1]===t[1]},x=function(e){return Math.round(e/Math.PI*1e4)%5e3==0}},3024:function(e,t,n){"use strict";n.d(t,{$D:function(){return x},Fl:function(){return v},I_:function(){return d.I_},N7:function(){return C.N7},NI:function(){return d.NI},NL:function(){return y},ZY:function(){return f.ZY},cT:function(){return f.cT},i1:function(){return Q},lV:function(){return f.lV},zh:function(){return p.zh}});var r=n(8950),i=n(7169),a=n(2975),o=n.n(a),l=n(4162),c=n(8897),s=n(679),u=n(2335),g=n(673),d=n(5523),I=n(6665),b=n(1564),h=n(2791),f=n(434),C=n(3063),p=n(7053);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=new b.Z;return t.replaceAllElements((0,h._N)(e)),t.getNonDeletedElements()},y=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.maxWidthOrHeight,a=e.getDimensions,o=e.exportPadding,c=(0,s.nu)({elements:t,appState:n},null,null),u=c.elements,g=c.appState,d=g.exportBackground,I=g.viewBackgroundColor;return(0,l.NL)(A(u),m(m({},g),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:d,exportPadding:o,viewBackgroundColor:I},(function(e,t){var r,o=document.createElement("canvas");if(i){var l;"function"==typeof a&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var c=Math.max(e,t),s=i<c?i/c:null!==(l=null==n?void 0:n.exportScale)&&void 0!==l?l:1;return o.width=e*s,o.height=t*s,{canvas:o,scale:s}}var u=(null==a?void 0:a(e,t))||{width:e,height:t};return o.width=u.width,o.height=u.height,{canvas:o,scale:null!==(r=u.scale)&&void 0!==r?r:1}}))},v=function(){var e=(0,r.Z)(o().mark((function e(t){var n,i,a,l,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(i=t).mimeType,l=void 0===a?u.LO.png:a,c=i.quality,l===u.LO.png&&"number"==typeof c&&console.warn('"quality" will be ignored for "'.concat(u.LO.png,'" mimeType')),"image/jpg"===l&&(l=u.LO.jpg),l!==u.LO.jpg||null!==(n=t.appState)&&void 0!==n&&n.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(u.LO.jpg,'" mimeType')),t=m(m({},t),{},{appState:m(m({},t.appState),{},{exportBackground:!0})})),e.next=6,y(m(m({},t),{},{elements:A(t.elements)}));case 6:return s=e.sent,c=c||(/image\/jpe?g/.test(l)?.92:.8),e.abrupt("return",new Promise((function(e,n){s.toBlob(function(){var i=(0,r.Z)(o().mark((function r(i){var a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",n(new Error("couldn't export to blob")));case 2:if(!i||l!==u.LO.png||null===(a=t.appState)||void 0===a||!a.exportEmbedScene){r.next=6;break}return r.next=5,(0,g.encodePngMetadata)({blob:i,metadata:(0,d.I_)(t.elements,t.appState,t.files||{},"local")});case 5:i=r.sent;case 6:e(i);case 7:case"end":return r.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}(),l,c)})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,u,g,I,b,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,i=void 0===r?(0,c.im)():r,a=t.files,u=void 0===a?{}:a,g=t.exportPadding,I=(0,s.nu)({elements:n,appState:i},null,null),b=I.elements,h=I.appState,f=m(m({},h),{},{exportPadding:g}),e.abrupt("return",(0,l.$D)(A(b),f,u,{serializeAsJSON:function(){return(0,d.I_)(b,f,u||{},"local")}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("svg"!==t.type){e.next=8;break}return e.next=3,x(t);case 3:return n=e.sent,e.next=6,(0,I.dd)(n.outerHTML);case 6:case 11:case 17:e.next=20;break;case 8:if("png"!==t.type){e.next=13;break}return e.next=11,(0,I.uR)(v(t));case 13:if("json"!==t.type){e.next=19;break}return r=m(m({offsetTop:0,offsetLeft:0,width:0,height:0},(0,c.im)()),t.appState),e.next=17,(0,I.vQ)(t.elements,r,t.files);case 19:throw new Error("Invalid export type");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5001:function(e,t,n){"use strict";n.d(t,{k:function(){return i},z:function(){return a}});var r=n(1930),i=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,r.Z)(t))-Math.min.apply(Math,(0,r.Z)(t)),height:Math.max.apply(Math,(0,r.Z)(n))-Math.min.apply(Math,(0,r.Z)(n))}},a=function(e,t,n,i){var a=n.map((function(t){return t[e]})),o=Math.max.apply(Math,(0,r.Z)(a)),l=Math.min.apply(Math,(0,r.Z)(a)),c=o-l,s=0===c?1:t/c,u=1/0,g=n.map((function(t){var n=t[e]*s,i=(0,r.Z)(t);return i[e]=n,n<u&&(u=n),i}));if(!i)return g;if(2===g.length)return g;var d=l-u;return g.map((function(t){return t.map((function(t,n){return n===e?t+d:t}))}))}},6954:function(e,t,n){"use strict";n.d(t,{LU:function(){return c},kb:function(){return s}});var r=n(8152),i=n(5605),a=n(6340),o=new r.k(Date.now()),l=0,c=function(){return Math.floor(o.next()*Math.pow(2,31))},s=function(){return(0,a.h2)()?"id".concat(l++):(0,i.x0)()}},3063:function(e,t,n){"use strict";n.d(t,{Dn:function(){return R},i:function(){return K},N7:function(){return oe},R2:function(){return _},bI:function(){return P},lw:function(){return te},Rg:function(){return re}});var r=n(1930),i=n(7169),a=n(2577),o=n(1974),c=n(8925),s=n(6340),u=n(6552),g=n(8234),d=n(8897),I=n(2335);function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e*r(.5-t*(.5-n))}function h(e,t){return[e[0]+t[0],e[1]+t[1]]}function f(e,t){return[e[0]-t[0],e[1]-t[1]]}function C(e,t){return[e[0]*t,e[1]*t]}function p(e){return[e[1],-e[0]]}function B(e,t){return e[0]*t[0]+e[1]*t[1]}function m(e,t){return e[0]===t[0]&&e[1]===t[1]}function A(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(f(e,t))}function y(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function v(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function x(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=e[0]-t[0],o=e[1]-t[1],l=a*r+o*i;return[a*i-o*r+t[0],l+t[1]]}function Q(e,t,n){return h(e,C(f(t,e),n))}function F(e,t,n){return h(e,C(t,n))}var U=Math.min,G=Math.PI+1e-4;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,i=t.smoothing,a=void 0===i?.5:i,o=t.thinning,l=void 0===o?.5:o,c=t.simulatePressure,s=void 0===c||c,u=t.easing,g=void 0===u?function(e){return e}:u,d=t.start,I=void 0===d?{}:d,m=t.end,v=void 0===m?{}:m,w=t.last,S=void 0!==w&&w,E=I.cap,X=void 0===E||E,Z=I.easing,k=void 0===Z?function(e){return e*(2-e)}:Z,N=v.cap,T=void 0===N||N,D=v.easing,O=void 0===D?function(e){return--e*e*e+1}:D;if(0===e.length||r<=0)return[];for(var M,V=e[e.length-1].runningLength,W=!1===I.taper?0:!0===I.taper?Math.max(r,V):I.taper,R=!1===v.taper?0:!0===v.taper?Math.max(r,V):v.taper,Y=Math.pow(r*a,2),L=[],H=[],z=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(s){var i=U(1,t.distance/r),a=U(1,1-i);n=U(1,e+.275*i*(a-e))}return(e+n)/2}),e[0].pressure),j=b(r,l,e[e.length-1].pressure,g),_=e[0].vector,J=e[0].point,P=J,K=J,q=P,$=!1,ee=0;ee<e.length;ee++){var te=e[ee].pressure,ne=e[ee],re=ne.point,ie=ne.vector,ae=ne.distance,oe=ne.runningLength;if(!(ee<e.length-1&&V-oe<3)){if(l){if(s){var le=U(1,ae/r),ce=U(1,1-le);te=U(1,z+.275*le*(ce-z))}j=b(r,l,te,g)}else j=r/2;void 0===M&&(M=j);var se=oe<W?k(oe/W):1,ue=V-oe<R?O((V-oe)/R):1;j=Math.max(.01,j*Math.min(se,ue));var ge=(ee<e.length-1?e[ee+1]:e[ee]).vector,de=ee<e.length-1?B(ie,ge):1,Ie=null!==de&&de<0;if(B(ie,_)<0&&!$||Ie){for(var be=C(p(_),j),he=1/13,fe=0;fe<=1;fe+=he)K=x(f(re,be),re,G*fe),L.push(K),q=x(h(re,be),re,G*-fe),H.push(q);J=K,P=q,Ie&&($=!0)}else if($=!1,ee!==e.length-1){var Ce=C(p(Q(ge,ie,de)),j);K=f(re,Ce),(ee<=1||A(J,K)>Y)&&(L.push(K),J=K),q=h(re,Ce),(ee<=1||A(P,q)>Y)&&(H.push(q),P=q),z=te,_=ie}else{var pe=C(p(ie),j);L.push(f(re,pe)),H.push(h(re,pe))}}}var Be=e[0].point.slice(0,2),me=e.length>1?e[e.length-1].point.slice(0,2):h(e[0].point,[1,1]),Ae=[],ye=[];if(1===e.length){if(!W&&!R||S){for(var ve=F(Be,y(p(f(Be,me))),-(M||j)),xe=[],Qe=1/13,Fe=Qe;Fe<=1;Fe+=Qe)xe.push(x(ve,Be,2*G*Fe));return xe}}else{if(!(W||R&&1===e.length))if(X)for(var Ue=1/13,Ge=Ue;Ge<=1;Ge+=Ue){var we=x(H[0],Be,G*Ge);Ae.push(we)}else{var Se=f(L[0],H[0]),Ee=C(Se,.5),Xe=C(Se,.51);Ae.push(f(Be,Ee),f(Be,Xe),h(Be,Xe),h(Be,Ee))}var Ze=p(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(R||W&&1===e.length)ye.push(me);else if(T)for(var ke=F(me,Ze,j),Ne=1/29,Te=Ne;Te<1;Te+=Ne)ye.push(x(ke,me,3*G*Te));else ye.push(h(me,C(Ze,j)),h(me,C(Ze,.99*j)),f(me,C(Ze,.99*j)),f(me,C(Ze,j)))}return L.concat(ye,H.reverse(),Ae)}(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,i=void 0===r?.5:r,a=n.size,o=void 0===a?16:a,c=n.last,s=void 0!==c&&c;if(0===e.length)return[];var u=.15+.85*(1-i),g=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===g.length){var d=g[1];g=g.slice(0,-1);for(var I=1;I<5;I++)g.push(Q(g[0],d,I/4))}1===g.length&&(g=[].concat(l(g),[[].concat(l(h(g[0],[1,1])),l(g[0].slice(2)))]));for(var b=[{point:[g[0][0],g[0][1]],pressure:g[0][2]>=0?g[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],C=!1,p=0,B=b[0],A=g.length-1,x=1;x<g.length;x++){var F=s&&x===A?g[x].slice(0,2):Q(B.point,g[x],u);if(!m(B.point,F)){var U=v(F,B.point);if(p+=U,x<A&&!C){if(p<o)continue;C=!0}B={point:F,pressure:g[x][2]>=0?g[x][2]:.5,vector:y(f(B.point,F)),distance:U,runningLength:p},b.push(B)}}return b[0].vector=(null==(t=b[1])?void 0:t.vector)||[0,0],b}(e,t),t)}var S=n(5710),E=n(6938);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="invert(100%) hue-rotate(180deg) saturate(1.25)",N=(0,d.im)(),T=function(e,t){return(0,o.wi)(e)&&!t.imageCache.has(e.fileId)},D=function(e,t){var n;return"dark"===t.theme&&(0,o.wi)(e)&&!T(e,t)&&(null===(n=t.imageCache.get(e.fileId))||void 0===n?void 0:n.mimeType)!==I.LO.svg},O=function(e){return[8,8+e]},M=function(e){return[1.5,6+e]},V=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},W=function(e,t,n){var r,i=document.createElement("canvas"),l=i.getContext("2d"),u=V(e),d=function(e,t){var n=16777216,r=32767,i=V(e),l=(0,c.qf)(e),u=(0,a.Z)(l,4),g=u[0],d=u[1],I=u[2],b=u[3],h=(0,o.bt)(e)||(0,o.F9)(e)?(0,s.TE)(g,I):e.width,f=(0,o.bt)(e)||(0,o.F9)(e)?(0,s.TE)(d,b):e.height,C=h*window.devicePixelRatio+2*i,p=f*window.devicePixelRatio+2*i,B=t.value;return(C*B>r||p*B>r)&&(B=Math.min(r/C,r/p)),C*p*B*B>n&&(B=Math.sqrt(n/(C*p))),{width:C=Math.floor(C*B),height:p=Math.floor(p*B),scale:B}}(e,t),I=d.width,b=d.height,h=d.scale;i.width=I,i.height=b;var f=0,C=0;if((0,o.bt)(e)||(0,o.F9)(e)){var p=(0,c.qf)(e),B=(0,a.Z)(p,2),m=B[0],A=B[1];f=e.x>m?(0,s.TE)(e.x,m)*window.devicePixelRatio*h:0,C=e.y>A?(0,s.TE)(e.y,A)*window.devicePixelRatio*h:0,l.translate(f,C)}l.save(),l.translate(u*h,u*h),l.scale(window.devicePixelRatio*h,window.devicePixelRatio*h);var y=g.Z.canvas(i);return D(e,n)&&(l.filter=k),H(e,y,l,n),l.restore(),{element:e,canvas:i,theme:n.theme,scale:h,zoomValue:t.value,canvasOffsetX:f,canvasOffsetY:C,boundTextElementVersion:(null===(r=(0,S.WJ)(e))||void 0===r?void 0:r.version)||null}},R=14,Y=document.createElement("img");Y.src="data:".concat(I.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var L=document.createElement("img");L.src="data:".concat(I.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var H=function(e,t,n,r){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(_(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",_(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return ie.get(e)}(e),a=_(e);a&&t.draw(a),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var l,c=(0,o.wi)(e)?null===(l=r.imageCache.get(e.fileId))||void 0===l?void 0:l.image:void 0;null==c||c instanceof Promise?function(e,t,n){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var r=Math.min(e.width,e.height),i=Math.min(r,Math.min(.4*r,100));t.drawImage("error"===e.status?L:Y,e.width/2-i/2,e.height/2-i/2,i,i)}(e,n,r.zoom.value):n.drawImage(c,0,0,e.width,e.height);break;default:if(!(0,o.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var u=(0,s.dZ)(e.text),g=u&&!n.canvas.isConnected;g&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",u?"rtl":"ltr"),n.save(),n.font=(0,s.mO)(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var d=e.text.replace(/\r\n?/g,"\n").split("\n"),I="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,b=(0,S.Rg)(e.fontSize,e.lineHeight),h=e.height-e.baseline,f=0;f<d.length;f++)n.fillText(d[f],I,(f+1)*b-h);n.restore(),g&&n.canvas.remove()}n.globalAlpha=1},z=new WeakMap,j=new WeakMap,_=function(e){return j.get(e)},J=function(e,t){return j.set(e,t)},P=function(e){return j.delete(e)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?O(e.strokeWidth):"dotted"===e.strokeStyle?M(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return(0,u.g6)(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},q=function(e,t){var n=j.get(e);if(void 0===n)switch(z.delete(e),e.type){case"rectangle":if(e.roundness){var i=e.width,o=e.height,l=(0,u.yW)(Math.min(i,o),e);n=t.path("M ".concat(l," 0 L ").concat(i-l," 0 Q ").concat(i," 0, ").concat(i," ").concat(l," L ").concat(i," ").concat(o-l," Q ").concat(i," ").concat(o,", ").concat(i-l," ").concat(o," L ").concat(l," ").concat(o," Q 0 ").concat(o,", 0 ").concat(o-l," L 0 ").concat(l," Q 0 0, ").concat(l," 0"),K(e,!0))}else n=t.rectangle(0,0,e.width,e.height,K(e));J(e,n);break;case"diamond":var s=(0,c.UC)(e),g=(0,a.Z)(s,8),d=g[0],I=g[1],b=g[2],h=g[3],f=g[4],C=g[5],p=g[6],B=g[7];if(e.roundness){var m=(0,u.yW)(Math.abs(d-p),e),A=(0,u.yW)(Math.abs(h-I),e);n=t.path("M ".concat(d+m," ").concat(I+A," L ").concat(b-m," ").concat(h-A,"\n            C ").concat(b," ").concat(h,", ").concat(b," ").concat(h,", ").concat(b-m," ").concat(h+A,"\n            L ").concat(f+m," ").concat(C-A,"\n            C ").concat(f," ").concat(C,", ").concat(f," ").concat(C,", ").concat(f-m," ").concat(C-A,"\n            L ").concat(p+m," ").concat(B+A,"\n            C ").concat(p," ").concat(B,", ").concat(p," ").concat(B,", ").concat(p+m," ").concat(B-A,"\n            L ").concat(d-m," ").concat(I+A,"\n            C ").concat(d," ").concat(I,", ").concat(d," ").concat(I,", ").concat(d+m," ").concat(I+A),K(e,!0))}else n=t.polygon([[d,I],[b,h],[f,C],[p,B]],K(e));J(e,n);break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,K(e)),J(e,n);break;case"line":case"arrow":var y=K(e),v=e.points.length?e.points:[[0,0]];if(n=e.roundness?[t.curve(v,y)]:y.fill?[t.polygon(v,y)]:[t.linearPath(v,y)],"arrow"===e.type){var x=e.startArrowhead,Q=void 0===x?null:x,F=e.endArrowhead,U=void 0===F?"arrow":F,G=function(e,n,r,i){var o=(0,c.Y5)(e,n,r,i);if(null===o)return[];if("dot"===i){var l=(0,a.Z)(o,3),s=l[0],u=l[1],g=l[2];return[t.circle(s,u,g,Z(Z({},y),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}if("triangle"===i){var d=(0,a.Z)(o,6),I=d[0],b=d[1],h=d[2],f=d[3],C=d[4],p=d[5];return delete y.strokeLineDash,[t.polygon([[I,b],[h,f],[C,p],[I,b]],Z(Z({},y),{},{fill:e.strokeColor,fillStyle:"solid"}))]}var B=(0,a.Z)(o,6),m=B[0],A=B[1],v=B[2],x=B[3],Q=B[4],F=B[5];if("dotted"===e.strokeStyle){var U=M(e.strokeWidth-1);y.strokeLineDash=[U[0],U[1]-1]}else delete y.strokeLineDash;return[t.line(v,x,m,A,y),t.line(Q,F,m,A,y)]};if(null!==Q){var w,S=G(e,n,"start",Q);(w=n).push.apply(w,(0,r.Z)(S))}if(null!==U){var E,X=G(e,n,"end",U);(E=n).push.apply(E,(0,r.Z)(X))}}J(e,n);break;case"freedraw":ae(e),n=(0,u.g6)(e.points)?t.polygon(e.points,Z(Z({},K(e)),{},{stroke:"none"})):null,J(e,n);break;case"text":case"image":J(e,null)}},$=function(e,t){var n,r=t?t.zoom:N.zoom,i=z.get(e),a=i&&i.zoomValue!==r.value&&!(null!=t&&t.shouldCacheIgnoreZoom),o=(null===(n=(0,S.WJ)(e))||void 0===n?void 0:n.version)||null;if(!i||a||i.theme!==t.theme||i.boundTextElementVersion!==o){var l=W(e,r,t);return z.set(e,l),l}return i},ee=function(e,t,n,r){var i=e.element,l=V(i),u=e.scale,g=(0,c.qf)(i),d=(0,a.Z)(g,4),b=d[0],h=d[1],f=d[2],C=d[3];(0,o.F9)(i)&&(b=Math.floor(b),f=Math.ceil(f),h=Math.floor(h),C=Math.ceil(C));var p=((b+f)/2+r.scrollX)*window.devicePixelRatio,B=((h+C)/2+r.scrollY)*window.devicePixelRatio;n.save(),n.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var m=(0,S.WJ)(i);if((0,o.Yv)(i)&&m){var A=document.createElement("canvas"),y=A.getContext("2d"),v=Math.max((0,s.TE)(b,f),(0,s.TE)(h,C));A.width=v*window.devicePixelRatio*u+l*e.scale*10,A.height=v*window.devicePixelRatio*u+l*e.scale*10;var x=(A.width-e.canvas.width)/2,Q=(A.height-e.canvas.height)/2;y.translate(A.width/2,A.height/2),y.rotate(i.angle),y.drawImage(e.canvas,-e.canvas.width/2,-e.canvas.height/2,e.canvas.width,e.canvas.height);var F=(0,c.qf)(m),U=(0,a.Z)(F,6),G=U[4],w=U[5];y.rotate(-i.angle);var E=A.width/2-(G-b)*window.devicePixelRatio*u-x-l*u,X=A.height/2-(w-h)*window.devicePixelRatio*u-Q-l*u;y.translate(-E,-X),y.clearRect(-(m.width/2+I.gK)*window.devicePixelRatio*u,-(m.height/2+I.gK)*window.devicePixelRatio*u,(m.width+2*I.gK)*window.devicePixelRatio*u,(m.height+2*I.gK)*window.devicePixelRatio*u),n.translate(p,B),n.drawImage(A,-(f-b)/2*window.devicePixelRatio-x/u-l,-(C-h)/2*window.devicePixelRatio-Q/u-l,A.width/u,A.height/u)}else if(n.translate(p,B),n.rotate(i.angle),"scale"in e.element&&!T(i,r)&&n.scale(e.element.scale[0],e.element.scale[1]),n.translate(-p,-B),n.drawImage(e.canvas,(b+r.scrollX)*window.devicePixelRatio-l*e.scale/e.scale,(h+r.scrollY)*window.devicePixelRatio-l*e.scale/e.scale,e.canvas.width/e.scale,e.canvas.height/e.scale),"true"==={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.REACT_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX&&(0,o.Xo)(i)){var Z=(0,S.cw)(i);n.strokeStyle="#c92a2a",n.lineWidth=3,n.strokeRect((Z.x+r.scrollX)*window.devicePixelRatio,(Z.y+r.scrollY)*window.devicePixelRatio,(0,S.jd)(i)*window.devicePixelRatio,(0,S.N2)(i)*window.devicePixelRatio)}n.restore()},te=function(e,t,n,r,i){var l=t.generator;switch(e.type){case"selection":n.save(),n.translate(e.x+r.scrollX,e.y+r.scrollY),n.fillStyle="rgba(0, 0, 200, 0.04)";var d=.5/r.zoom.value;n.fillRect(d,d,e.width,e.height),n.lineWidth=1/r.zoom.value,n.strokeStyle="rgb(105, 101, 219)",n.strokeRect(d,d,e.width,e.height),n.restore();break;case"freedraw":if(q(e,l),r.isExporting){var I=(0,c.qf)(e),b=(0,a.Z)(I,4),h=b[0],f=b[1],C=b[2],p=b[3],B=(h+C)/2+r.scrollX,m=(f+p)/2+r.scrollY,A=(C-h)/2-(e.x-h),y=(p-f)/2-(e.y-f);n.save(),n.translate(B,m),n.rotate(e.angle),n.translate(-A,-y),H(e,t,n,r),n.restore()}else{var v=$(e,r);ee(v,0,n,r)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(q(e,l),r.isExporting){var x=(0,c.qf)(e),Q=(0,a.Z)(x,4),F=Q[0],U=Q[1],G=Q[2],w=Q[3],X=(F+G)/2+r.scrollX,Z=(U+w)/2+r.scrollY,k=(G-F)/2-(e.x-F),N=(w-U)/2-(e.y-U);if((0,o.iB)(e)){var T=(0,S.tl)(e);if((0,o.Yv)(T)){var O=E._.getBoundTextElementPosition(T,e);k=(G-F)/2-(O.x-F),N=(w-U)/2-(O.y-U)}}n.save(),n.translate(X,Z),D(e,r)&&(n.filter="none");var M=(0,S.WJ)(e);if((0,o.Yv)(e)&&M){var W=document.createElement("canvas"),R=W.getContext("2d"),Y=Math.max((0,s.TE)(F,G),(0,s.TE)(U,w)),L=V(e);W.width=Y*i.exportScale+10*L*i.exportScale,W.height=Y*i.exportScale+10*L*i.exportScale,R.translate(W.width/2,W.height/2),R.scale(i.exportScale,i.exportScale),k=e.width/2-(e.x-F),N=e.height/2-(e.y-U),R.rotate(e.angle);var z=g.Z.canvas(W);R.translate(-k,-N),H(e,z,R,r),R.translate(k,N),R.rotate(-e.angle);var j=(0,c.qf)(M),_=(0,a.Z)(j,6),J=(F+G)/2-_[4],P=(U+w)/2-_[5];R.translate(-J,-P),R.clearRect(-M.width/2,-M.height/2,M.width,M.height),n.scale(1/i.exportScale,1/i.exportScale),n.drawImage(W,-W.width/2,-W.height/2,W.width,W.height)}else n.rotate(e.angle),"image"===e.type&&n.scale(e.scale[0],e.scale[1]),n.translate(-k,-N),H(e,t,n,r);n.restore()}else{var K=$(e,r),te=n.imageSmoothingEnabled;null!=r&&r.shouldCacheIgnoreZoom||e.angle&&!(0,u.EK)(e.angle)||(n.imageSmoothingEnabled=!1),ee(K,0,n,r),n.imageSmoothingEnabled=te}break;default:throw new Error("Unimplemented type ".concat(e.type))}},ne=function(e,t,n){if(void 0===n)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:Z(Z({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},re=function(e,t,n,r,i,l,g){var d=(0,c.qf)(e),b=(0,a.Z)(d,4),h=b[0],f=b[1],C=b[2],p=b[3],B=(C-h)/2-(e.x-h),m=(p-f)/2-(e.y-f);if((0,o.iB)(e)){var A=(0,S.tl)(e);if((0,o.Yv)(A)){var y=(0,c.qf)(A),v=(0,a.Z)(y,4),x=v[0],Q=v[1],F=v[2],U=v[3],G=E._.getBoundTextElementPosition(A,e);B=(F-x)/2-(G.x-x),m=(U-Q)/2-(G.y-Q),i=i+G.x-e.x,l=l+G.y-e.y}}var w=180*e.angle/Math.PI,X=t.generator,Z=n;if(e.link){var N=n.ownerDocument.createElementNS(I.hR,"a");N.setAttribute("href",e.link),Z.appendChild(N),Z=N}switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":q(e,X);var T=ne(t,_(e),I.zK),D=e.opacity/100;1!==D&&(T.setAttribute("stroke-opacity","".concat(D)),T.setAttribute("fill-opacity","".concat(D))),T.setAttribute("stroke-linecap","round"),T.setAttribute("transform","translate(".concat(i||0," ").concat(l||0,") rotate(").concat(w," ").concat(B," ").concat(m,")")),Z.appendChild(T);break;case"line":case"arrow":var O=(0,S.WJ)(e),M=n.ownerDocument.createElementNS(I.hR,"mask");if(O){M.setAttribute("id","mask-".concat(e.id));var V=n.ownerDocument.createElementNS(I.hR,"rect");i=i||0,l=l||0,V.setAttribute("x","0"),V.setAttribute("y","0"),V.setAttribute("fill","#fff"),V.setAttribute("width","".concat(e.width+100+i)),V.setAttribute("height","".concat(e.height+100+l)),M.appendChild(V);var W=n.ownerDocument.createElementNS(I.hR,"rect"),R=E._.getBoundTextElementPosition(e,O),Y=i+R.x-e.x,L=l+R.y-e.y;W.setAttribute("x",Y.toString()),W.setAttribute("y",L.toString()),W.setAttribute("fill","#000"),W.setAttribute("width","".concat(O.width)),W.setAttribute("height","".concat(O.height)),W.setAttribute("opacity","1"),M.appendChild(W)}q(e,X);var H=n.ownerDocument.createElementNS(I.hR,"g");O&&H.setAttribute("mask","url(#mask-".concat(e.id,")"));var z=e.opacity/100;H.setAttribute("stroke-linecap","round"),_(e).forEach((function(n){var r=ne(t,n,I.zK);1!==z&&(r.setAttribute("stroke-opacity","".concat(z)),r.setAttribute("fill-opacity","".concat(z))),r.setAttribute("transform","translate(".concat(i||0," ").concat(l||0,") rotate(").concat(w," ").concat(B," ").concat(m,")")),"line"===e.type&&(0,u.g6)(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),H.appendChild(r)})),Z.appendChild(H),Z.append(M);break;case"freedraw":q(e,X),ae(e);var j=e.opacity/100,J=_(e),P=J?ne(t,J,I.zK):n.ownerDocument.createElementNS(I.hR,"g");1!==j&&(P.setAttribute("stroke-opacity","".concat(j)),P.setAttribute("fill-opacity","".concat(j))),P.setAttribute("transform","translate(".concat(i||0," ").concat(l||0,") rotate(").concat(w," ").concat(B," ").concat(m,")")),P.setAttribute("stroke","none");var K=n.ownerDocument.createElementNS(I.hR,"path");K.setAttribute("fill",e.strokeColor),K.setAttribute("d",oe(e)),P.appendChild(K),Z.appendChild(P);break;case"image":var $=Math.round(e.width),ee=Math.round(e.height),te=(0,o.wi)(e)&&r[e.fileId];if(te){var re="image-".concat(te.id),ie=n.querySelector("#".concat(re));if(!ie){(ie=n.ownerDocument.createElementNS(I.hR,"symbol")).id=re;var le=n.ownerDocument.createElementNS(I.hR,"image");le.setAttribute("width","100%"),le.setAttribute("height","100%"),le.setAttribute("href",te.dataURL),ie.appendChild(le),Z.prepend(ie)}var ce=n.ownerDocument.createElementNS(I.hR,"use");if(ce.setAttribute("href","#".concat(re)),g&&te.mimeType!==I.LO.svg&&ce.setAttribute("filter",k),ce.setAttribute("width","".concat($)),ce.setAttribute("height","".concat(ee)),1!==e.scale[0]||1!==e.scale[1]){var se=1!==e.scale[0]?-$:0,ue=1!==e.scale[1]?-ee:0;ce.setAttribute("transform","scale(".concat(e.scale[0],", ").concat(e.scale[1],") translate(").concat(se," ").concat(ue,")"))}var ge=n.ownerDocument.createElementNS(I.hR,"g");ge.appendChild(ce),ge.setAttribute("transform","translate(".concat(i||0," ").concat(l||0,") rotate(").concat(w," ").concat(B," ").concat(m,")")),Z.appendChild(ge)}break;default:if(!(0,o.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var de=e.opacity/100,Ie=n.ownerDocument.createElementNS(I.hR,"g");1!==de&&(Ie.setAttribute("stroke-opacity","".concat(de)),Ie.setAttribute("fill-opacity","".concat(de))),Ie.setAttribute("transform","translate(".concat(i||0," ").concat(l||0,") rotate(").concat(w," ").concat(B," ").concat(m,")"));for(var be=e.text.replace(/\r\n?/g,"\n").split("\n"),he=(0,S.Rg)(e.fontSize,e.lineHeight),fe="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,Ce=(0,s.dZ)(e.text)?"rtl":"ltr",pe="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===Ce?"end":"start",Be=0;Be<be.length;Be++){var me=n.ownerDocument.createElementNS(I.hR,"text");me.textContent=be[Be],me.setAttribute("x","".concat(fe)),me.setAttribute("y","".concat(Be*he)),me.setAttribute("font-family",(0,s.$g)(e)),me.setAttribute("font-size","".concat(e.fontSize,"px")),me.setAttribute("fill",e.strokeColor),me.setAttribute("text-anchor",pe),me.setAttribute("style","white-space: pre;"),me.setAttribute("direction",Ce),me.setAttribute("dominant-baseline","text-before-edge"),Ie.appendChild(me)}Z.appendChild(Ie)}},ie=new WeakMap([]);function ae(e){var t=oe(e),n=new Path2D(t);return ie.set(e,n),n}function oe(e){return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,i){return r===t?e.push(n,le(n,i[0]),"L",i[0],"Z"):e.push(n,le(n,i[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(ce,"$1")}(w(e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,a.Z)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],{simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint}))}function le(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var ce=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(e,t,n){"use strict";n.d(t,{Lu:function(){return Q},Eu:function(){return Z},M_:function(){return W}});var r,i=n(2577),a=n(1930),o=n(5284),l=n(1047),c=n(756),s=n(1868),u=n(3063),g=n(8982),d=n(6938),I=n(242),b=n(2325),h=n(8290),f=n(267),C=n(6340);!function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"}(r||(r={}));var p=n(2335),B=n(4929),m=n(1974);function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v,x=(0,C.Q5)(),Q=2,F=function(e,t,n,r,i,a,o,l){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.save(),e.translate(a,o),e.rotate(l),c&&e.fillRect(t-a,n-o,r,i),e.strokeRect(t-a,n-o,r,i),e.restore()},U=function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.stroke()},G=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",a?e.fillStyle="rgba(134, 131, 226, 0.9)":o&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),U(e,r[0],r[1],i/n.zoom.value,!o)},w=function(e,t,n,r){if(t.selectedLinearElement){e.save(),e.translate(n.scrollX,n.scrollY),e.lineWidth=1/n.zoom.value;var i=d._.getPointsGlobalCoordinates(r),a=d._.POINT_HANDLE_SIZE,o=t.editingLinearElement?a:a/2;i.forEach((function(r,i){var a,l,c=!(null===(a=t.editingLinearElement)||void 0===a||null===(l=a.selectedPointsIndices)||void 0===l||!l.includes(i));G(e,t,n,r,o,c)})),d._.getEditorMidPoints(r,t).filter((function(e){return null!==e})).forEach((function(r){var l;null!=t&&null!==(l=t.selectedLinearElement)&&void 0!==l&&l.segmentMidPointHoveredCoords&&d._.arePointsEqual(r,t.selectedLinearElement.segmentMidPointHoveredCoords)?t.editingLinearElement?(G(e,t,n,r,o,!1),S(r,e,n)):(S(r,e,n),G(e,t,n,r,o,!1)):(t.editingLinearElement||2===i.length)&&G(e,t,n,r,a/2,!1,!0)})),e.restore()}},S=function(e,t,n){t.fillStyle="rgba(105, 101, 219, 0.4)",U(t,e[0],e[1],d._.POINT_HANDLE_SIZE/n.zoom.value,!1)},E=function(e){var t,n=e.elements,b=e.appState,C=e.scale,B=e.rc,y=e.canvas,v=e.renderConfig;if(null===y)return{atLeastOneVisibleElement:!1};var U=v.renderScrollbars,G=void 0===U||U,E=v.renderSelection,X=void 0===E||E,Z=v.renderGrid,D=void 0===Z||Z,O=v.isExporting,W=v.selectionColor||o.black,R=y.getContext("2d");R.setTransform(1,0,0,1,0,0),R.save(),R.scale(C,C);var Y=y.width/C,L=y.height/C;O&&"dark"===v.theme&&(R.filter=p.ZF),"string"==typeof v.viewBackgroundColor?(("transparent"===v.viewBackgroundColor||5===v.viewBackgroundColor.length||9===v.viewBackgroundColor.length||/(hsla|rgba)\(/.test(v.viewBackgroundColor))&&R.clearRect(0,0,Y,L),R.save(),R.fillStyle=v.viewBackgroundColor,R.fillRect(0,0,Y,L),R.restore()):R.clearRect(0,0,Y,L),R.save(),R.scale(v.zoom.value,v.zoom.value),D&&b.gridSize&&function(e,t,n,r,i,a){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.beginPath();for(var o=n;o<n+i+2*t;o+=t)e.moveTo(o,r-t),e.lineTo(o,r+a+2*t);for(var l=r;l<r+a+2*t;l+=t)e.moveTo(n-t,l),e.lineTo(n+i+2*t,l);e.stroke(),e.restore()}(R,b.gridSize,-Math.ceil(v.zoom.value/b.gridSize)*b.gridSize+v.scrollX%b.gridSize,-Math.ceil(v.zoom.value/b.gridSize)*b.gridSize+v.scrollY%b.gridSize,Y/v.zoom.value,L/v.zoom.value);var H=n.filter((function(e){return V(e,Y,L,{zoom:v.zoom,offsetLeft:b.offsetLeft,offsetTop:b.offsetTop,scrollX:v.scrollX,scrollY:v.scrollY})})),z=void 0;if(H.forEach((function(e){try{var t;(0,u.lw)(e,B,R,v,b),(null===(t=b.editingLinearElement)||void 0===t?void 0:t.elementId)===e.id&&e&&(z=e),O||M(e,R,b)}catch(e){console.error(e)}})),z&&w(R,b,v,z),b.selectionElement)try{(0,u.lw)(b.selectionElement,B,R,v,b)}catch(e){console.error(e)}(0,h.N1)(b)&&b.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){T(R,v,e)}));var j,_=(0,s.eD)(n,b);if(1===_.length&&(null===(t=b.editingLinearElement)||void 0===t?void 0:t.elementId)===_[0].id&&w(R,b,v,_[0]),b.selectedLinearElement&&b.selectedLinearElement.hoverPointIndex>=0&&function(e,t,n){var r,i,a=t.selectedLinearElement,o=a.elementId,l=a.hoverPointIndex;if(null===(r=t.editingLinearElement)||void 0===r||null===(i=r.selectedPointsIndices)||void 0===i||!i.includes(l)){var c=d._.getElement(o);if(c){var s=d._.getPointAtIndexGlobalCoordinates(c,l);e.save(),e.translate(n.scrollX,n.scrollY),S(s,e,n),e.restore()}}}(R,b,v),X&&!b.multiElement&&!b.editingLinearElement){var J,P=(0,f.oY)(_,b),K=_.map((function(e){return e.id}));if(1===_.length&&(0,m.bt)(_[0])&&(null===(J=b.selectedLinearElement)||void 0===J?void 0:J.elementId)===_[0].id&&!_[0].locked&&w(R,b,v,_[0]),P){var q,$=n.reduce((function(e,t){var n=[];if(K.includes(t.id)&&!(0,I.zq)(b,t)&&n.push(W),v.remoteSelectedElementIds[t.id]&&n.push.apply(n,(0,a.Z)(v.remoteSelectedElementIds[t.id].map((function(e){return(0,g.X)(e,b).background})))),n.length){var r=(0,l.qf)(t,!0),o=(0,i.Z)(r,6),c=o[0],s=o[1],u=o[2],d=o[3],h=o[4],f=o[5];e.push({angle:t.angle,elementX1:c,elementY1:s,elementX2:u,elementY2:d,selectionColors:n,dashed:!!v.remoteSelectedElementIds[t.id],cx:h,cy:f})}return e}),[]),ee=function(e){var t=(0,I.Fb)(n,e),r=(0,l.KP)(t),a=(0,i.Z)(r,4),c=a[0],s=a[1],u=a[2],g=a[3];$.push({angle:0,elementX1:c,elementX2:u,elementY1:s,elementY2:g,selectionColors:[o.black],dashed:!0,cx:c+(u-c)/2,cy:s+(g-s)/2})},te=A((0,I.iJ)(b));try{for(te.s();!(q=te.n()).done;)ee(q.value)}catch(e){te.e(e)}finally{te.f()}b.editingGroupId&&ee(b.editingGroupId),$.forEach((function(e){return N(R,v,e)}))}if(R.save(),R.translate(v.scrollX,v.scrollY),1===_.length){R.fillStyle=o.white;var ne=(0,l.PC)(_[0],v.zoom,"mouse");!b.viewModeEnabled&&P&&k(R,v,ne,_[0].angle)}else if(_.length>1&&!b.isRotating){var re=2*Q/v.zoom.value;R.fillStyle=o.white;var ie=(0,l.KP)(_),ae=(0,i.Z)(ie,4),oe=ae[0],le=ae[1],ce=ae[2],se=ae[3],ue=R.getLineDash();R.setLineDash([2/v.zoom.value]);var ge=R.lineWidth;R.lineWidth=1/v.zoom.value,R.strokeStyle=W,F(R,oe-re,le-re,ce-oe+2*re,se-le+2*re,(oe+ce)/2,(le+se)/2,0),R.lineWidth=ge,R.setLineDash(ue);var de=(0,l.kK)([oe,le,ce,se,(oe+ce)/2,(le+se)/2],0,v.zoom,"mouse",l.ox);_.some((function(e){return!e.locked}))&&k(R,v,de,0)}R.restore()}for(var Ie in R.restore(),v.remotePointerViewportCoords){var be=v.remotePointerViewportCoords[Ie],he=be.x,fe=be.y;he-=b.offsetLeft,fe-=b.offsetTop;var Ce=he<0||he>Y-9||fe<0||fe>L-14;he=Math.max(he,0),he=Math.min(he,Y-9),fe=Math.max(fe,0),fe=Math.min(fe,L-14);var pe=(0,g.X)(Ie,b),Be=pe.background,me=pe.stroke;R.save(),R.strokeStyle=me,R.fillStyle=Be;var Ae=v.remotePointerUserStates[Ie];(Ce||Ae===r.AWAY)&&(R.globalAlpha=.48),v.remotePointerButton&&"down"===v.remotePointerButton[Ie]&&(R.beginPath(),R.arc(he,fe,15,0,2*Math.PI,!1),R.lineWidth=3,R.strokeStyle="#ffffff88",R.stroke(),R.closePath(),R.beginPath(),R.arc(he,fe,15,0,2*Math.PI,!1),R.lineWidth=1,R.strokeStyle=me,R.stroke(),R.closePath()),R.beginPath(),R.moveTo(he,fe),R.lineTo(he+1,fe+14),R.lineTo(he+4,fe+9),R.lineTo(he+9,fe+10),R.lineTo(he,fe),R.fill(),R.stroke();var ye=v.remotePointerUsernames[Ie],ve="";Ae===r.AWAY?ve=x?"\u26ab\ufe0f":" (".concat(r.AWAY,")"):Ae===r.IDLE&&(ve=x?"\ud83d\udca4":" (".concat(r.IDLE,")"));var xe="".concat(ye||"").concat(ve?" ".concat(ve):"");if(!Ce&&xe){var Qe=he+9,Fe=fe+14,Ue=R.measureText(xe),Ge=Ue.actualBoundingBoxDescent+Ue.actualBoundingBoxAscent,we=Qe-1,Se=Fe-1,Ee=Ue.width+8+2,Xe=Ge+8+2;R.roundRect?(R.beginPath(),R.roundRect(we,Se,Ee,Xe,4/v.zoom.value),R.fillStyle=Be,R.fill(),R.fillStyle=me,R.stroke()):(R.fillStyle=me,R.fillRect(we,Se,Ee,Xe),R.fillStyle=Be,R.fillRect(Qe,Fe,Ee-2,Xe-2)),R.fillStyle=o.white,R.fillText(xe,Qe+4,Fe+4+Ue.actualBoundingBoxAscent)}R.restore(),R.closePath()}return G&&(j=(0,c.tJ)(n,Y,L,v),R.save(),R.fillStyle=c.w1,R.strokeStyle="rgba(255,255,255,0.8)",[j.horizontal,j.vertical].forEach((function(e){e&&function(e,t,n,r,i,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill(),e.stroke()}(R,e.x,e.y,e.width,e.height,c.nn/2)})),R.restore()),R.restore(),{atLeastOneVisibleElement:H.length>0,scrollBars:j}},X=(0,C.hR)((function(e){var t,n=E(e);null===(t=e.callback)||void 0===t||t.call(e,n)}),{trailing:!0}),Z=function(e,t){var n;if(!t){var r=E(e);return null===(n=e.callback)||void 0===n||n.call(e,r),r}X(e)},k=function(e,t,n,r){Object.keys(n).forEach((function(a){var o=n[a];if(void 0!==o){var l=(0,i.Z)(o,4),c=l[0],s=l[1],u=l[2],g=l[3];e.save(),e.lineWidth=1/t.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),"rotation"===a?U(e,c+u/2,s+g/2,u/2):e.roundRect?(e.beginPath(),e.roundRect(c,s,u,g,2/t.zoom.value),e.fill(),e.stroke()):F(e,c,s,u,g,c+u/2,s+g/2,r,!0),e.restore()}}))},N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Q,i=n.angle,a=n.elementX1,o=n.elementY1,l=n.elementX2,c=n.elementY2,s=n.selectionColors,u=n.cx,g=n.cy,d=n.dashed,I=l-a,b=c-o,h=r/t.zoom.value,f=8/t.zoom.value,C=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;for(var p=s.length,B=0;B<p;++B)e.strokeStyle=s[B],d&&e.setLineDash([f,C+(f+C)*(p-1)]),e.lineDashOffset=(f+C)*B,F(e,a-h,o-h,I+2*h,b+2*h,u,g,i);e.restore()},T=function(e,t,n){var r=Array.isArray(n)?O:D;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},D=function(e,t){var n=(0,l.qf)(t),r=(0,i.Z)(n,4),a=r[0],o=r[1],c=r[2]-a,s=r[3]-o,u=(0,b.fb)(t,c,s);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=u-4;var g=2+u/2;switch(t.type){case"rectangle":case"text":case"image":F(e,a-g,o-g,c+2*g,s+2*g,a+c/2,o+s/2,t.angle);break;case"diamond":var d=Math.hypot(c,s);!function(e,t,n,r,i,a){e.save(),e.translate(r,i),e.rotate(a),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,c+g*d/s*2,s+g*d/c*2,a+c/2,o+s/2,t.angle);break;case"ellipse":!function(e,t,n,r,i,a){e.beginPath(),e.ellipse(r,i,t/2,n/2,a,0,2*Math.PI),e.stroke()}(e,c+2*g,s+2*g,a+c/2,o+s/2,t.angle)}},O=function(e,t){var n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2],l=(0,b.fb)(o,o.width,o.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===a?[0,-1]:"start"===a?[0]:[-1]).forEach((function(t){var n=d._.getPointAtIndexGlobalCoordinates(r,t),a=(0,i.Z)(n,2),o=a[0],c=a[1];U(e,o,c,l)}))},M=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var r=(0,l.qf)(e),a=(0,i.Z)(r,4),o=a[0],c=a[1],s=a[2],u=a[3],g=(0,B.sw)([o,c,s,u],e.angle,n),d=(0,i.Z)(g,4),I=d[0],b=d[1],h=d[2],f=d[3],C=I+h/2,p=b+f/2;if(t.save(),t.translate(n.scrollX+C,n.scrollY+p),t.rotate(e.angle),v&&v.zoom===n.zoom.value)t.drawImage(v,I-C,b-p,h,f);else{(v=document.createElement("canvas")).zoom=n.zoom.value,v.width=h*window.devicePixelRatio*n.zoom.value,v.height=f*window.devicePixelRatio*n.zoom.value;var m=v.getContext("2d");m.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),m.fillStyle="#fff",m.fillRect(0,0,h,f),m.drawImage(B.rj,0,0,h,f),m.restore(),t.drawImage(v,I-C,b-p,h,f)}t.restore()}},V=function(e,t,n,r){var a=(0,l.Pi)(e),o=(0,i.Z)(a,4),c=o[0],s=o[1],u=o[2],g=o[3],d=(0,C.dE)({clientX:r.offsetLeft,clientY:r.offsetTop},r),I=(0,C.dE)({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return d.x<=u&&d.y<=g&&I.x>=c&&I.y>=s},W=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.offsetX,o=void 0===a?0:a,l=i.offsetY,c=void 0===l?0:l,s=i.exportWithDarkMode,g=void 0!==s&&s;n&&e.forEach((function(e,i){if(!e.isDeleted)try{(0,u.Rg)(e,t,n,r,e.x+o,e.y+c,g)}catch(e){console.error(e)}}))}},1564:function(e,t,n){"use strict";var r=n(1930),i=n(8821),a=n(5169),o=n(1047),l=function(e){return"string"==typeof e},c=function(){function e(){(0,i.Z)(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,a.Z)(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&(0,o.qP)(t)?t:null}},{key:"mapElements",value:function(e){var t=!1,n=this.elements.map((function(n){var r=e(n);return r!==n&&(t=!0),r}));return t&&this.replaceAllElements(n),t}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach((function(t){n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=(0,o.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++)(0,t[e])()}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,r.Z)(this.elements.slice(0,t)),[e],(0,r.Z)(this.elements.slice(t)));this.replaceAllElements(n)}},{key:"getElementIndex",value:function(e){return this.elements.findIndex((function(t){return t.id===e}))}}],[{key:"mapElementToScene",value:function(e,t){l(e)?this.sceneMapById.set(e,t):(this.sceneMapByElement.set(e,t),this.sceneMapById.set(e.id,t))}},{key:"getScene",value:function(e){return l(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();c.sceneMapByElement=new WeakMap,c.sceneMapById=new Map,t.Z=c},8120:function(e,t,n){"use strict";n.d(t,{$b:function(){return r},CJ:function(){return g},M9:function(){return o},PD:function(){return i},QG:function(){return u},Un:function(){return s},Zd:function(){return a},bZ:function(){return c},sh:function(){return l}});var r=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},i=function(e){return"image"!==e},a=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},o=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},l=function(e){return"rectangle"===e||"arrow"===e||"line"===e||"diamond"===e},c=function(e){return"text"===e},s=function(e){return"arrow"===e},u=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var i=e[r];if(!i.isDeleted&&t(i)){n=i;break}}return n},g=function(e,t){return e.filter((function(e){return!e.isDeleted&&t(e)}))}},4162:function(e,t,n){"use strict";n.d(t,{$D:function(){return C},Cg:function(){return B},NL:function(){return f},oj:function(){return h}});var r=n(2577),i=n(8950),a=n(2975),o=n.n(a),l=n(8234),c=n(8925),s=n(3547),u=n(6340),g=n(2335),d=n(8897),I=n(5523),b=n(5637),h="\x3c!-- svg-source:excalidraw --\x3e",f=function(){var e=(0,i.Z)(o().mark((function e(t,n,i,a){var c,u,I,h,f,C,B,m,A,y,v,x,Q,F,U,G,w,S,E=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.exportBackground,u=a.exportPadding,I=void 0===u?g.qy:u,h=a.viewBackgroundColor,f=E.length>4&&void 0!==E[4]?E[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},C=p(t,I),B=(0,r.Z)(C,4),m=B[0],A=B[1],y=B[2],v=B[3],x=f(y,v),Q=x.canvas,F=x.scale,U=void 0===F?1:F,G=(0,d.im)(),e.next=7,(0,b.Xx)({imageCache:new Map,fileIds:(0,b.oA)(t).map((function(e){return e.fileId})),files:i});case 7:return w=e.sent,S=w.imageCache,(0,s.Eu)({elements:t,appState:n,scale:U,rc:l.Z.canvas(Q),canvas:Q,renderConfig:{viewBackgroundColor:c?h:null,scrollX:-m+I,scrollY:-A+I,zoom:G.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:n.exportWithDarkMode?"dark":"light",imageCache:S,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),e.abrupt("return",Q);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)(o().mark((function e(t,i,a,c){var u,d,b,f,C,B,m,A,y,v,x,Q,F,U,G,w,S,E,X;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i.exportPadding,d=void 0===u?g.qy:u,b=i.viewBackgroundColor,f=i.exportScale,C=void 0===f?1:f,B=i.exportEmbedScene,m="",!B){e.next=14;break}return e.prev=3,e.next=6,Promise.resolve().then(n.bind(n,673));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:null!=c&&c.serializeAsJSON?null==c||null===(A=c.serializeAsJSON)||void 0===A?void 0:A.call(c):(0,I.I_)(t,i,a||{},"local")});case 8:m=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return y=p(t,d),v=(0,r.Z)(y,4),x=v[0],Q=v[1],F=v[2],U=v[3],(G=document.createElementNS(g.hR,"svg")).setAttribute("version","1.1"),G.setAttribute("xmlns",g.hR),G.setAttribute("viewBox","0 0 ".concat(F," ").concat(U)),G.setAttribute("width","".concat(F*C)),G.setAttribute("height","".concat(U*C)),i.exportWithDarkMode&&G.setAttribute("filter",g.ZF),w="https://excalidraw.com/",w=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2"),null!==(S=w)&&void 0!==S&&S.startsWith("/")&&(w=w.replace("/","".concat(window.location.origin,"/"))),w="".concat(w,"/dist/excalidraw-assets/"),G.innerHTML="\n  ".concat(h,"\n  ").concat(m,'\n  <defs>\n    <style class="style-fonts">\n      @font-face {\n        font-family: "Virgil";\n        src: url("').concat(w,'Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("').concat(w,'Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),i.exportBackground&&b&&((E=G.ownerDocument.createElementNS(g.hR,"rect")).setAttribute("x","0"),E.setAttribute("y","0"),E.setAttribute("width","".concat(F)),E.setAttribute("height","".concat(U)),E.setAttribute("fill",b),G.appendChild(E)),X=l.Z.svg(G),(0,s.M_)(t,X,G,a||{},{offsetX:-x+d,offsetY:-Q+d,exportWithDarkMode:i.exportWithDarkMode}),e.abrupt("return",G);case 29:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),p=function(e,t){var n=(0,c.KP)(e),i=(0,r.Z)(n,4),a=i[0],o=i[1],l=i[2],s=i[3];return[a,o,(0,u.TE)(a,l)+2*t,(0,u.TE)(o,s)+t+t]},B=function(e,t,n){var i=p(e,t).map((function(e){return Math.trunc(e*n)})),a=(0,r.Z)(i,4);return[a[2],a[3]]}},75:function(e,t,n){"use strict";n.d(t,{$b:function(){return o.$b},CJ:function(){return o.CJ},M9:function(){return o.M9},N:function(){return i.N},PR:function(){return i.PR},QG:function(){return o.QG},Un:function(){return o.Un},W:function(){return a.W},Yp:function(){return i.Yp},Zd:function(){return o.Zd},Zs:function(){return i.Zs},_4:function(){return r._4},bZ:function(){return o.bZ},eD:function(){return i.eD},j:function(){return l.j},sh:function(){return o.sh}});var r=n(756),i=n(1868),a=n(2264),o=n(8120),l=n(746)},2264:function(e,t,n){"use strict";n.d(t,{W:function(){return l},s:function(){return o}});var r=n(2577),i=n(1047),a=n(6340),o=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2/r.value-t.x,scrollY:n.height/2/r.value-t.y}},l=function(e,t,n){if(!(e=(0,i.n_)(e)).length)return{scrollX:0,scrollY:0};var l=(0,i.KP)(e),c=(0,r.Z)(l,4),s=c[0],u=c[1],g=c[2],d=c[3];if(function(e,t,n){var i=(0,r.Z)(n,4),o=i[0],l=i[1],c=i[2],s=i[3],u=(0,a._i)({sceneX:o,sceneY:l},e),g=u.x,d=u.y,I=(0,a._i)({sceneX:c,sceneY:s},e),b=I.x,h=I.y;return b-g>e.width||h-d>e.height}(t,0,[s,u,g,d])){var I=(0,i.os)(e,(0,a.dE)({clientX:t.scrollX,clientY:t.scrollY},t)),b=(0,r.Z)(I,4);s=b[0],u=b[1],g=b[2],d=b[3]}return o({scenePoint:{x:(s+g)/2,y:(u+d)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})}},756:function(e,t,n){"use strict";n.d(t,{WM:function(){return l},_4:function(){return g},nn:function(){return c},tJ:function(){return u},w1:function(){return s}});var r=n(2577),i=n(1047),a=n(6340),o=n(8211),l=4,c=6,s="rgba(0,0,0,0.3)",u=function(e,t,n,s){var u=s.scrollX,g=s.scrollY,d=s.zoom;if(0===e.length)return{horizontal:null,vertical:null};var I=(0,i.KP)(e),b=(0,r.Z)(I,4),h=b[0],f=b[1],C=b[2],p=b[3],B=t/d.value,m=n/d.value,A=t-B,y=n-m,v={top:parseInt((0,a.IH)("sat")),bottom:parseInt((0,a.IH)("sab")),left:parseInt((0,a.IH)("sal")),right:parseInt((0,a.IH)("sar"))},x=(0,o.G3)().rtl,Q=A/2-u+v.left,F=y/2-g+v.top,U=Q+B-v.right,G=F+m-v.bottom,w=Math.min(h,Q),S=Math.min(f,F),E=Math.max(C,U),X=Math.max(p,G);return{horizontal:Q===w&&U===E?null:{x:Math.max(v.left,l)+(Q-w)/(E-w)*t,y:n-c-Math.max(l,v.bottom),width:(U-Q)/(E-w)*t-Math.max(2*l,v.left+v.right),height:c},vertical:F===S&&G===X?null:{x:x?Math.max(v.left,l):t-c-Math.max(v.right,l),y:(F-S)/(X-S)*n+Math.max(v.top,l),width:c,height:(G-F)/(X-S)*n-Math.max(2*l,v.top+v.bottom)}}},g=function(e,t,n){var i=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),a=(0,r.Z)(i,2),o=a[0],l=a[1];return{isOverEither:o||l,isOverHorizontal:o,isOverVertical:l}}},1868:function(e,t,n){"use strict";n.d(t,{N:function(){return l},PR:function(){return c},Yp:function(){return o},Zs:function(){return u},eD:function(){return s}});var r=n(2577),i=n(1047),a=n(1974),o=function(e,t){var n=(0,i.qf)(t),o=(0,r.Z)(n,4),l=o[0],c=o[1],s=o[2],u=o[3];return e.filter((function(e){var t=(0,i.Pi)(e),n=(0,r.Z)(t,4),o=n[0],g=n[1],d=n[2],I=n[3];return!1===e.locked&&"selection"!==e.type&&!(0,a.Xh)(e)&&l<=o&&c<=g&&s>=d&&u>=I}))},l=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},c=function(e,t,n){var r=Array.from(new Set(s(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((function(e){return t.selectedElementIds[e.id]||n&&(0,a.Xh)(e)&&t.selectedElementIds[null==e?void 0:e.containerId]?e:null}))},u=function(e,t){return t.editingElement?[t.editingElement]:s(e,t,!0)}},746:function(e,t,n){"use strict";n.d(t,{E:function(){return a},j:function(){return i}});var r=n(2335),i=function(e){return Math.max(r.Zj,Math.min(e,30))},a=function(e,t){var n=e.viewportX,r=e.viewportY,i=e.nextZoom,a=n-t.offsetLeft,o=r-t.offsetTop,l=t.zoom.value;return{scrollX:t.scrollX+(a-a/l)+-(a-a/i),scrollY:t.scrollY+(o-o/l)+-(o-o/i),zoom:{value:i}}}},6340:function(e,t,n){"use strict";n.d(t,{$9:function(){return K},$g:function(){return m},$h:function(){return ce},AK:function(){return L},B4:function(){return U},C3:function(){return ne},Ds:function(){return y},FG:function(){return H},Fc:function(){return h},G3:function(){return te},I4:function(){return ie},IH:function(){return W},Ip:function(){return $},KJ:function(){return X},Mj:function(){return de},OF:function(){return Z},Om:function(){return S},Oo:function(){return f},PI:function(){return J},Pr:function(){return D},Q5:function(){return q},Qm:function(){return _},TE:function(){return w},Uk:function(){return k},_Z:function(){return p},_i:function(){return V},ag:function(){return oe},cx:function(){return z},dE:function(){return M},dZ:function(){return Y},h2:function(){return ae},hR:function(){return v},mO:function(){return A},qr:function(){return j},qz:function(){return ee},rB:function(){return N},s:function(){return B},tH:function(){return P},uY:function(){return O},v4:function(){return le},w8:function(){return ge},wO:function(){return C},wo:function(){return T},xn:function(){return re},xp:function(){return ue},y8:function(){return se},yo:function(){return G},z8:function(){return E}});var r=n(6655),i=n(7169),a=n(1930),o=n(2577),l=n(5284),c=n(56),s=n(2335),u=n(5156),g=n(8897);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=null,h=function(){if(b)return b;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),a="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(a)},f=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},C=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},p=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},B=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},m=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(s.ut);n<r.length;n++){var i=(0,o.Z)(r[n],2),a=i[0];if(i[1]===t)return"".concat(a,", ").concat(s._D)}return s._D},A=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(m({fontFamily:n}))},y=function(e,t){var n=0,r=null,i=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r=a,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,a)}),t)};return i.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,a.Z)(t))}},i.cancel=function(){r=null,clearTimeout(n)},i},v=function(e,t){var n=null,r=null,i=null,o=function t(o){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,a.Z)(o)),r=null,i&&(r=i,i=null,t(r))}))},l=function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];r=a,null===n?o(r):null!=t&&t.trailing&&(i=a)};return l.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,a.Z)(i||r)),r=i=null)},l.cancel=function(){r=i=null,null!==n&&(cancelAnimationFrame(n),n=null)},l};function x(e){return 1-Math.pow(1-e,4)}var Q,F,U=function(e,t,n,r){var i,o=!1,l=0,c=(null==r?void 0:r.duration)||250,s=(null==r?void 0:r.easeFn)||x;return l=window.requestAnimationFrame((function r(u){if(!o){void 0===i&&(i=u);var g=u-i;if(g<c){var d=s(g/c),I=e.map((function(e,n){return(t[n]-e)*d+e}));n.apply(void 0,(0,a.Z)(I)),l=window.requestAnimationFrame(r)}else n.apply(void 0,(0,a.Z)(t))}})),function(){o=!0,window.cancelAnimationFrame(l)}},G=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,i=Array(Math.ceil(e.length/t));n<e.length;)i[r++]=e.slice(n,n+=t);return i},w=function(e,t){return Math.abs(e-t)},S=function(e,t){return"custom"===t.type?I(I({},e.activeTool),{},{type:"custom",customType:t.customType}):I(I({},e.activeTool),{},{lastActiveTool:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveTool:t.lastActiveToolBeforeEraser,type:t.type,customType:null})},E=function(e){e&&(e.style.cursor="")},X=function(e,t){e&&(e.style.cursor=t)},Z=function(e,t){Q&&Q.theme===t||function(){var e=t===s.C6.DARK;(Q=document.createElement("canvas")).theme=t,Q.height=20,Q.width=20;var n=Q.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(Q.width/2,Q.height/2,5,0,2*Math.PI),n.fillStyle=e?l.black:l.white,n.fill(),n.strokeStyle=e?l.white:l.black,n.stroke(),F=Q.toDataURL(s.LO.svg)}(),X(e,"url(".concat(F,") ").concat(10," ").concat(10,", auto"))},k=function(e,t){e&&("selection"===t.activeTool.type?E(e):(0,g.l$)(t)?e.style.cursor=s.oc.GRAB:(0,g.EN)(t)?Z(e,t.theme):["image","custom"].includes(t.activeTool.type)||(e.style.cursor=s.oc.CROSSHAIR))},N=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},T=function(){return document.documentElement.requestFullscreen()},D=function(){return document.exitFullscreen()},O=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),s.Um?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},M=function(e,t){var n=e.clientX,r=e.clientY,i=t.zoom,a=t.offsetLeft,o=t.offsetTop,l=t.scrollX,c=t.scrollY;return{x:(n-a)/i.value-l,y:(r-o)/i.value-c}},V=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,a=t.offsetLeft,o=t.offsetTop,l=t.scrollX,c=t.scrollY;return{x:(n+l)*i.value+a,y:(r+c)*i.value+o}},W=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},R=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),Y=function(e){return R.test(e)},L=function(e){var t=(0,o.Z)(e,2);return{x:t[0],y:t[1]}},H=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;console.warn(e)},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},_=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===c.Z.elementBackground[0]},J=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},P=function(e){return function(t){(0,u.unstable_batchedUpdates)(e,t)}},K=function(e){return v((function(t){(0,u.unstable_batchedUpdates)(e,t)}))},q=function(){var e=document.createElement("canvas").getContext("2d");return!!e&&(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\ude00",0,0),0!==e.getImageData(12,12,1,1).data[0])},$=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},ee=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},te=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},ne=function(){return ae()?1:Date.now()},re=function(e){return e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},ie=function(e){return e.reduce((function(e,t,n){return e.set(t.id,[t,n]),e}),new Map)},ae=function(){return!1},oe=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},le=function(e,t){var n=!1;for(var i in t){var a=t[i];if(void 0!==a){if(e[i]===a&&("object"!==(0,r.Z)(a)||null===a))continue;n=!0}}return n?I(I({},e),t):e},ce=function(){try{return window.self===window.top?"top":"iframe"}catch(e){return"iframe"}},se=function(e){return!!e&&"object"===(0,r.Z)(e)&&"then"in e&&"catch"in e&&"finally"in e},ue=function(e){var t=null==e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},ge=function(e,t){var n=Object.keys(e),r=Object.keys(e);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))},de=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null==e||e(n),!r||!n.defaultPrevented)return null==t?void 0:t(n)}}},9669:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Cascadia.woff2"},3940:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Virgil.woff2"},9787:function(e){"use strict";e.exports=r},5156:function(e){"use strict";e.exports=i},9649:function(e,t,n){var r=n(8114).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{g({},"")}catch(e){g=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),l=new G(r||[]);return o(a,"_invoke",{value:x(e,n,l)}),a}function I(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var b={};function h(){}function f(){}function C(){}var p={};g(p,c,(function(){return this}));var B=Object.getPrototypeOf,m=B&&B(B(w([])));m&&m!==n&&a.call(m,c)&&(p=m);var A=C.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){g(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function n(i,o,l,c){var s=I(e[i],e,o);if("throw"!==s.type){var u=s.arg,g=u.value;return g&&"object"==r(g)&&a.call(g,"__await")?t.resolve(g.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(g).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=Q(o,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=I(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function Q(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,Q(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var r=I(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,b;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,b):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function w(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=C,o(A,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:f,configurable:!0}),f.displayName=g(C,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,g(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},y(v.prototype),g(v.prototype,s,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new v(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(A),g(A,u,"Generator"),g(A,c,(function(){return this})),g(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=w,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(U),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),U(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;U(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),b}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8114:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2975:function(e,t,n){var r=n(9649)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},7017:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3173:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},8950:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function l(e){r(o,i,a,l,c,"next",e)}function c(e){r(o,i,a,l,c,"throw",e)}l(void 0)}))}}n.d(t,{Z:function(){return i}})},8821:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5169:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7169:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},2312:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},2248:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5901);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},2726:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},7245:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6655),i=n(3173);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},5901:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},2577:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9139);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7017),i=n(9139);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6655:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7017);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},5605:function(e,t,n){"use strict";n.d(t,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}},5284:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(e){"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn\'t insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn\'t insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn\'t connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn\'t load library","collabSaveFailed":"Couldn\'t save to the backend database. If problems persist, you should save your file locally to ensure you don\'t lose your work.","collabSaveFailed_sizeExceeded":"Couldn\'t save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don\'t lose your work.","brave_measure_text_error":{"start":"Looks like you are using Brave browser with the","aggressive_block_fingerprint":"Aggressively Block Fingerprinting","setting_enabled":"setting enabled","break":"This could result in breaking the","text_elements":"Text Elements","in_your_drawings":"in your drawings","strongly_recommend":"We strongly recommend disabling this setting. You can follow","steps":"these steps","how":"on how to do so","disable_setting":" If disabling this setting doesn\'t fix the display of text elements, please open an","issue":"issue","write":"on our GitHub, or write us on","discord":"Discord"}},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it\'s filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}')},4451:function(e){"use strict";e.exports=JSON.parse('{"ar-SA":89,"bg-BG":52,"bn-BD":57,"ca-ES":96,"cs-CZ":72,"da-DK":31,"de-DE":100,"el-GR":98,"en":100,"es-ES":99,"eu-ES":99,"fa-IR":91,"fi-FI":96,"fr-FR":99,"gl-ES":99,"he-IL":99,"hi-IN":73,"hu-HU":85,"id-ID":98,"it-IT":99,"ja-JP":97,"kab-KAB":93,"kk-KZ":19,"ko-KR":99,"ku-TR":91,"lt-LT":61,"lv-LV":93,"mr-IN":100,"my-MM":40,"nb-NO":100,"nl-NL":92,"nn-NO":86,"oc-FR":94,"pa-IN":79,"pl-PL":87,"pt-BR":96,"pt-PT":99,"ro-RO":100,"ru-RU":96,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":99,"ta-IN":90,"th-TH":39,"tr-TR":98,"uk-UA":93,"vi-VN":52,"zh-CN":99,"zh-HK":25,"zh-TW":100}')}},h={};function f(e){var t=h[e];if(void 0!==t)return t.exports;var n=h[e]={id:e,exports:{}};return b[e](n,n.exports,f),n.exports}f.m=b,f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},f.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);f.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},f.d(i,a),i},f.d=function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.f={},f.e=function(e){return Promise.all(Object.keys(f.f).reduce((function(t,n){return f.f[n](e,t),t}),[]))},f.u=function(e){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[e]+"-"+{22:"1f9df2b51e34996bad30",537:"3a152569bbebfec7c6c0",1204:"ef6ec5abb0c3c53c7a51",1302:"db1222db995d9425e281",1477:"1a05d5c242c822079dca",1513:"79f7d66730b39df84f8e",1628:"72ac7b7548d7fefdcd2a",1690:"e90ca79174b6e1eccb72",1790:"ed85a6f48e1df51b1b46",2091:"06d4bd2f3a164162f2b8",2312:"3280be0edae615c7685f",2359:"7ea7ab2356e76889af8d",2404:"4063d11b19f24794564a",2943:"2117445509ba7c479ee0",3024:"5805f36f33a3f8e53adc",3031:"d10a4bb9ede3c08a08e1",3082:"f70dfb7201a16dc3f9fc",3162:"1854ecccf3c6f8ea9c46",3397:"c922a007bb00d3e4f3b1",3421:"c39caba2da3f001066a8",3512:"d43636fb51002f55e2a4",3674:"b4be83b26070e4cf70ca",3682:"b5ea877625968f748b7f",3721:"2e7a1690edc8d46e8842",3808:"6031eb8be253b20c28e9",3885:"8209f0f674435b52293d",4e3:"2f5b95c0011820e16f4b",4680:"2cb13b38b6615ada3097",4736:"53d1c69ef585b6dd219b",4977:"9002b1505b0931924d42",5089:"3397acad1a98b5093c8b",5130:"6108f4ae0be3d1e369a6",5330:"586a1324f942d89620b6",5395:"aba1622a80e32e465a3d",6071:"68eba9ac00ae57bae3f4",6239:"446b14f993000d0f572f",6265:"1ae99f296c9febb99f72",6768:"1e3a5e87e39d2d90274c",6844:"cf33ecf52ab95055544b",7368:"6ccf0d8a164ecec52187",7429:"759924ef13bd9e602cb3",7759:"4e345c790342b7672248",7920:"4bcbf71743fda1544a84",8081:"1cc77079b354b962615f",8124:"8ab49e8d0473e92a8ab9",8340:"08c7fc343ef2f533ec5f",8534:"36b97455521e61312a47",8750:"50dcb09552f93c2de3a4",8759:"682b92427b8b27bb0aa8",9551:"69853849c71eff277ba0",9828:"dad8ce15f9b7a435a926"}[e]+".js"},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},I="ExcalidrawLib:",f.l=function(e,t,r,i){if(n[e])n[e].push(t);else{var a,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var s=l[c];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")==I+r){a=s;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,f.nc&&a.setAttribute("nonce",f.nc),a.setAttribute("data-webpack",I+r),a.src=e),n[e]=[t];var u=function(t,r){a.onerror=a.onload=null,clearTimeout(g);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),o&&document.head.appendChild(a)}},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.p="",function(){f.b=document.baseURI||self.location.href;var e={1388:0};f.f.j=function(t,n){var r=f.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=f.p+f.u(t),o=new Error;f.l(a,(function(n){if(f.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)f.o(o,r)&&(f.m[r]=o[r]);l&&l(f)}for(t&&t(n);c<a.length;c++)i=a[c],f.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),f.nc=void 0;var C={};return function(){"use strict";f.r(C),f.d(C,{Button:function(){return xe},Excalidraw:function(){return ze},FONT_FAMILY:function(){return e.ut},Footer:function(){return H},LiveCollaborationTrigger:function(){return Ee},MIME_TYPES:function(){return e.LO},MainMenu:function(){return z.Z},Sidebar:function(){return Oe.Y},THEME:function(){return e.C6},WelcomeScreen:function(){return pe},bumpVersion:function(){return Te.ZP},defaultLang:function(){return w.Fp},exportToBlob:function(){return ke.Fl},exportToCanvas:function(){return ke.NL},exportToClipboard:function(){return ke.i1},exportToSvg:function(){return ke.$D},getFreeDrawSvgPath:function(){return ke.N7},getNonDeletedElements:function(){return Xe.Lm},getSceneVersion:function(){return Xe.Uo},isInvisiblySmallElement:function(){return Xe.QD},isLinearElement:function(){return Ne.bt},languages:function(){return w.Mj},loadFromBlob:function(){return ke.cT},loadLibraryFromBlob:function(){return ke.lV},loadSceneOrLibraryFromBlob:function(){return ke.ZY},mergeLibraryItems:function(){return ke.zh},mutateElement:function(){return Te.DR},newElementWith:function(){return Te.BE},parseLibraryTokensFromUrl:function(){return De.Di},restore:function(){return Ze.nu},restoreAppState:function(){return Ze.lY},restoreElements:function(){return Ze.ET},restoreLibraryItems:function(){return Ze.wJ},sceneCoordsToViewportCoords:function(){return Z._i},serializeAsJSON:function(){return ke.I_},serializeLibraryAsJSON:function(){return ke.NI},useDevice:function(){return X.Fy},useHandleLibrary:function(){return De.xS},useI18n:function(){return w.QT},viewportCoordsToSceneCoords:function(){return Z.dE}});var e=f(2335);"production"!==e.Vi.TEST&&(f.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2","/dist/"));var t=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0})},n=f(487),r=f.n(n),i=f(631),a=f.n(i),o=f(2052),l=f.n(o),c=f(4010),s=f.n(c),u=f(1469),g=f.n(u),d=f(9329),I=f.n(d),b=f(4295),h={};h.styleTagTransform=I(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=g(),r()(b.Z,h),b.Z&&b.Z.locals&&b.Z.locals;var p=f(6479),B=f.n(p),m=f(9713),A=f.n(m),y=f(9787),v=f.n(y),x=f(8950),Q=f(2577),F=f(2975),U=f.n(F),G=f(5440),w=f(8211),S=f(4512),E=function(e){var t=(0,y.useState)(!0),n=(0,Q.Z)(t,2),r=n[0],i=n[1];return(0,y.useEffect)((function(){var t=function(){var e=(0,x.Z)(U().mark((function e(){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.m0)(n);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=w.Mj.find((function(t){return t.code===e.langCode}))||w.Fp;t()}),[e.langCode]),r?(0,S.jsx)(G.z,{theme:e.theme}):e.children},X=f(2134),Z=f(6340),k=f(9915),N={};N.styleTagTransform=I(),N.setAttributes=s(),N.insert=l().bind(null,"head"),N.domAPI=a(),N.insertStyleElement=g(),r()(k.Z,N),k.Z&&k.Z.locals&&k.Z.locals;var T=f(9310),D={};D.styleTagTransform=I(),D.setAttributes=s(),D.insert=l().bind(null,"head"),D.domAPI=a(),D.insertStyleElement=g(),r()(T.Z,D),T.Z&&T.Z.locals&&T.Z.locals;var O=f(4739),M=f(9487),V=f(45),W=f(8888),R=f(8793),Y={};Y.styleTagTransform=I(),Y.setAttributes=s(),Y.insert=l().bind(null,"head"),Y.domAPI=a(),Y.insertStyleElement=g(),r()(R.Z,Y),R.Z&&R.Z.locals&&R.Z.locals;var L=function(e){var t=e.children,n=(0,W.R6)().footerCenterTunnel,r=(0,X.gF)();return(0,S.jsx)(n.In,{children:(0,S.jsx)("div",{className:(0,V.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":r.zenModeEnabled}),children:t})})},H=L;L.displayName="FooterCenter";var z=f(4709),j=f(7169),_=f(2726),J=f(6710),P=f(785),K=f(3646),q=["onSelect","children","icon","shortcut","className"],$=["children","href","icon","shortcut","className"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.icon,n=e.shortcut,r=e.children,i=(0,X.Fy)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"welcome-screen-menu-item__icon",children:t}),(0,S.jsx)("div",{className:"welcome-screen-menu-item__text",children:r}),n&&!i.isMobile&&(0,S.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:n})]})};ne.displayName="WelcomeScreenMenuItemContent";var re=function(e){var t=e.onSelect,n=e.children,r=e.icon,i=e.shortcut,a=e.className,o=void 0===a?"":a,l=(0,_.Z)(e,q);return(0,S.jsx)("button",te(te({},l),{},{type:"button",className:"welcome-screen-menu-item ".concat(o),onClick:t,children:(0,S.jsx)(ne,{icon:r,shortcut:i,children:n})}))};re.displayName="WelcomeScreenMenuItem";var ie=function(e){var t=e.children,n=e.href,r=e.icon,i=e.shortcut,a=e.className,o=void 0===a?"":a,l=(0,_.Z)(e,$);return(0,S.jsx)("a",te(te({},l),{},{className:"welcome-screen-menu-item ".concat(o),href:n,target:"_blank",rel:"noreferrer",children:(0,S.jsx)(ne,{icon:r,shortcut:i,children:t})}))};ie.displayName="WelcomeScreenMenuItemLink";var ae=function(e){var t=e.children,n=(0,W.R6)().welcomeScreenCenterTunnel;return(0,S.jsx)(n.In,{children:(0,S.jsx)("div",{className:"welcome-screen-center",children:t||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(oe,{}),(0,S.jsx)(le,{children:(0,w.t)("welcomeScreen.defaults.center_heading")}),(0,S.jsxs)(ce,{children:[(0,S.jsx)(ue,{}),(0,S.jsx)(se,{})]})]})})})};ae.displayName="Center";var oe=function(e){var t=e.children;return(0,S.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:t||(0,S.jsxs)(S.Fragment,{children:[K.Mw," Excalidraw"]})})};oe.displayName="Logo";var le=function(e){var t=e.children;return(0,S.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:t})};le.displayName="Heading";var ce=function(e){var t=e.children;return(0,S.jsx)("div",{className:"welcome-screen-menu",children:t})};ce.displayName="Menu";var se=function(){var e=(0,X.eh)();return(0,S.jsx)(re,{onSelect:function(){return e.executeAction(J.jY)},shortcut:"?",icon:K.by,children:(0,w.t)("helpDialog.title")})};se.displayName="MenuItemHelp";var ue=function(){var e=(0,X.gF)(),t=(0,X.eh)();return e.viewModeEnabled?null:(0,S.jsx)(re,{onSelect:function(){return t.executeAction(J._d)},shortcut:(0,P.C)("loadScene"),icon:K.Tl,children:(0,w.t)("buttons.load")})};ue.displayName="MenuItemLoadScene";var ge=function(e){var t=e.onSelect,n=(0,w.QT)().t;return(0,S.jsx)(re,{shortcut:null,onSelect:t,icon:K.jn,children:n("labels.liveCollaboration")})};ge.displayName="MenuItemLiveCollaborationTrigger",ae.Logo=oe,ae.Heading=le,ae.Menu=ce,ae.MenuItem=re,ae.MenuItemLink=ie,ae.MenuItemHelp=se,ae.MenuItemLoadScene=ue,ae.MenuItemLiveCollaborationTrigger=ge;var de=function(e){var t=e.children,n=(0,W.R6)().welcomeScreenMenuHintTunnel;return(0,S.jsx)(n.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[K.oQ,(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||(0,w.t)("welcomeScreen.defaults.menuHint")})]})})};de.displayName="MenuHint";var Ie=function(e){var t=e.children,n=(0,W.R6)().welcomeScreenToolbarHintTunnel;return(0,S.jsx)(n.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||(0,w.t)("welcomeScreen.defaults.toolbarHint")}),K.DJ]})})};Ie.displayName="ToolbarHint";var be=function(e){var t=e.children,n=(0,W.R6)().welcomeScreenHelpHintTunnel;return(0,S.jsx)(n.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,S.jsx)("div",{children:t||(0,w.t)("welcomeScreen.defaults.helpHint")}),K._U]})})};be.displayName="HelpHint";var he=f(1569),fe={};fe.styleTagTransform=I(),fe.setAttributes=s(),fe.insert=l().bind(null,"head"),fe.domAPI=a(),fe.insertStyleElement=g(),r()(he.Z,fe),he.Z&&he.Z.locals&&he.Z.locals;var Ce=function(e){return(0,S.jsx)(S.Fragment,{children:e.children||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ae,{}),(0,S.jsx)(de,{}),(0,S.jsx)(Ie,{}),(0,S.jsx)(be,{})]})})};Ce.displayName="WelcomeScreen",Ce.Center=ae,Ce.Hints={MenuHint:de,ToolbarHint:Ie,HelpHint:be};var pe=Ce,Be=f(3137),me={};me.styleTagTransform=I(),me.setAttributes=s(),me.insert=l().bind(null,"head"),me.domAPI=a(),me.insertStyleElement=g(),r()(Be.Z,me),Be.Z&&Be.Z.locals&&Be.Z.locals;var Ae=["type","onSelect","children","className"];function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.type,n=void 0===t?"button":t,r=e.onSelect,i=e.children,a=e.className,o=void 0===a?"":a,l=(0,_.Z)(e,Ae);return(0,S.jsx)("button",ve(ve({onClick:function(e){var t;r(),null===(t=l.onClick)||void 0===t||t.call(l,e)},type:n,className:"excalidraw-button ".concat(o)},l),{},{children:i}))},Qe=f(3397),Fe={};Fe.styleTagTransform=I(),Fe.setAttributes=s(),Fe.insert=l().bind(null,"head"),Fe.domAPI=a(),Fe.insertStyleElement=g(),r()(Qe.Z,Fe),Qe.Z&&Qe.Z.locals&&Qe.Z.locals;var Ue=["isCollaborating","onSelect"];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.isCollaborating,n=e.onSelect,r=(0,_.Z)(e,Ue),i=(0,X.gF)();return(0,S.jsxs)(xe,we(we({},r),{},{className:(0,V.Z)("collab-button",{active:t}),type:"button",onSelect:n,style:{position:"relative"},title:(0,w.t)("labels.liveCollaboration"),children:[K.jn,i.collaborators.size>0&&(0,S.jsx)("div",{className:"CollabButton-collaborators",children:i.collaborators.size})]}))},Ee=Se;Se.displayName="LiveCollaborationTrigger";var Xe=f(1047),Ze=f(679),ke=f(3024),Ne=f(1974),Te=f(1935),De=f(7053),Oe=f(9430),Me=["initialData","UIOptions"],Ve=["initialData","UIOptions"];function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(t){var n,r,i,a=t.onChange,o=t.initialData,l=t.excalidrawRef,c=t.isCollaborating,s=void 0!==c&&c,u=t.onPointerUpdate,g=t.renderTopRightUI,d=t.renderSidebar,I=t.langCode,b=void 0===I?w.Fp.code:I,h=t.viewModeEnabled,f=t.zenModeEnabled,C=t.gridModeEnabled,p=t.libraryReturnUrl,B=t.theme,m=t.name,A=t.renderCustomStats,v=t.onPaste,x=t.detectScroll,Q=void 0===x||x,F=t.handleKeyboardGlobally,U=void 0!==F&&F,G=t.onLibraryChange,Z=t.autoFocus,k=void 0!==Z&&Z,N=t.generateIdForFile,T=t.onLinkOpen,D=t.onPointerDown,V=t.onScrollChange,W=t.children,R=null===(n=t.UIOptions)||void 0===n?void 0:n.canvasActions,Y=Re(Re({},t.UIOptions),{},{canvasActions:Re(Re({},e.cW.canvasActions),R)});return null!=R&&R.export&&(Y.canvasActions.export.saveFileToDisk=null!==(r=null===(i=R.export)||void 0===i?void 0:i.saveFileToDisk)&&void 0!==r?r:e.cW.canvasActions.export.saveFileToDisk),null===Y.canvasActions.toggleTheme&&void 0===B&&(Y.canvasActions.toggleTheme=!0),(0,y.useEffect)((function(){var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,S.jsx)(O.zt,{unstable_createStore:function(){return M.e_},scope:M.yE,children:(0,S.jsx)(E,{langCode:b,theme:B,children:(0,S.jsx)(X.ZP,{onChange:a,initialData:o,excalidrawRef:l,isCollaborating:s,onPointerUpdate:u,renderTopRightUI:g,langCode:b,viewModeEnabled:h,zenModeEnabled:f,gridModeEnabled:C,libraryReturnUrl:p,theme:B,name:m,renderCustomStats:A,UIOptions:Y,onPaste:v,detectScroll:Q,handleKeyboardGlobally:U,onLibraryChange:G,autoFocus:k,generateIdForFile:N,onLinkOpen:T,onPointerDown:D,onScrollChange:V,renderSidebar:d,children:W})})})},Le=function(e,t){if(e.children!==t.children)return!1;e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,i=B()(e,Me),a=(t.initialData,t.UIOptions),o=void 0===a?{}:a,l=B()(t,Ve),c=Object.keys(r),s=Object.keys(o);return c.length===s.length&&c.every((function(e){return"canvasActions"===e?Object.keys(r.canvasActions).every((function(e){var t,n,i,a;return"export"===e&&null!=r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!=o&&null!==(n=o.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===o.canvasActions.export.saveFileToDisk:(null==r||null===(i=r.canvasActions)||void 0===i?void 0:i[e])===(null==o||null===(a=o.canvasActions)||void 0===a?void 0:a[e])})):r[e]===o[e]}))&&(0,Z.w8)(i,l)},He=(0,y.forwardRef)((function(e,t){return(0,S.jsx)(Ye,Re(Re({},e),{},{excalidrawRef:t}))})),ze=v().memo(He,Le);ze.displayName="Excalidraw",t()}(),C}())},1046:function(e,t,n){e.exports=n(2973)},5168:function(e){e.exports=function e(t,n,r){function i(o,l){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[o]={exports:{}};t[o][0].call(s.exports,(function(e){var n=t[o][1][e];return i(n||e)}),s,s.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"===typeof e}function a(e){return"number"===typeof e}function o(e){return"object"===typeof e&&null!==e}function l(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,a,c,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(l(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,c=0;c<r;c++)s[c].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,l;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(l=a;l-- >0;)if(n[l]===t||n[l].listener&&n[l].listener===t){r=l;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r,i,a,o,l;l=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),a="ie"===(r=l.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(i={name:"version"===r[1]?r[3]:r[1],version:a||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:l.match(/ip(?:ad|od|hone)/)?"ios":(l.match(/(?:webos|android)/)||o.match(/mac|win|linux/)||["other"])[0]}})[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,t.exports=i},{}],3:[function(e,t,n){var r,i,a,o=function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=[].slice;r=e("events").EventEmitter,a=e("./browser.coffee"),i=function(e){var t,n;function r(e){var n,r,i;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)i=t[r],null==(n=this.options)[r]&&(n[r]=i)}return o(r,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},r.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)l.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},r.prototype.addFrame=function(e,t){var r,i;for(i in null==t&&(t={}),(r={}).transparent=this.options.transparent,n)r[i]=t[i]||n[i];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!==typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!==typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!==typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},r.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var e,t,n,r;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(e){var t;return r.log("spawning worker "+e),(t=new Worker(r.options.workerScript)).onmessage=function(e){return r.activeWorkers.splice(r.activeWorkers.indexOf(t),1),r.freeWorkers.push(t),r.frameFinished(e.data)},r.freeWorkers.push(t)})),e},r.prototype.frameFinished=function(e){var t,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,n=this.freeWorkers.length;1<=n?t<n:t>n;1<=n?++t:--t)this.renderNextFrame();return c.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var e,t,n,r,i,a,o,l,c,s,u,g,d,I,b,h;for(l=0,i=0,c=(I=this.imageParts).length;i<c;i++)l+=((t=I[i]).data.length-1)*t.pageSize+t.cursor;for(l+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(l/1e3)+"kb"),e=new Uint8Array(l),g=0,a=0,s=(b=this.imageParts).length;a<s;a++)for(n=o=0,u=(h=(t=b[a]).data).length;o<u;n=++o)d=h[n],e.set(d,g),n===t.data.length-1?g+=t.cursor:g+=t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},r.prototype.renderNextFrame=function(){var e,t,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(t)},r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},r.prototype.getTask=function(e){var t,n;if(n={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===a.name},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},r.prototype.log=function(){var e;if(e=1<=arguments.length?s.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},r}(r),t.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),l=n(7728);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),l=n(7109);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),l=n(3739);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),l=n(8832),c=n(5077);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=l,s.prototype.set=c,e.exports=s},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),l=n(6800),c=n(9102),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),g=!n&&!u&&o(e),d=!n&&!u&&!g&&c(e),I=n||u||g||d,b=I?r(e.length,String):[],h=b.length;for(var f in e)!t&&!s.call(e,f)||I&&("length"==f||g&&("offset"==f||"parent"==f)||d&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||l(f,h))||b.push(f);return b}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,l){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,l))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),l=n(8383),c=n(3629),s=n(5174),u=n(9102),g="[object Arguments]",d="[object Array]",I="[object Object]",b=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,f,C){var p=c(e),B=c(t),m=p?d:l(e),A=B?d:l(t),y=(m=m==g?I:m)==I,v=(A=A==g?I:A)==I,x=m==A;if(x&&s(e)){if(!s(t))return!1;p=!0,y=!1}if(x&&!y)return C||(C=new r),p||u(e)?i(e,t,n,h,f,C):a(e,t,m,n,h,f,C);if(!(1&n)){var Q=y&&b.call(e,"__wrapped__"),F=v&&b.call(t,"__wrapped__");if(Q||F){var U=Q?e.value():e,G=F?t.value():t;return C||(C=new r),f(U,G,n,h,C)}}return!!x&&(C||(C=new r),o(e,t,n,h,f,C))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),l=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,u=c.toString,g=s.hasOwnProperty,d=RegExp("^"+u.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:l).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,l,c){var s=1&n,u=e.length,g=t.length;if(u!=g&&!(s&&g>u))return!1;var d=c.get(e),I=c.get(t);if(d&&I)return d==t&&I==e;var b=-1,h=!0,f=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++b<u;){var C=e[b],p=t[b];if(o)var B=s?o(p,C,b,t,e,c):o(C,p,b,e,t,c);if(void 0!==B){if(B)continue;h=!1;break}if(f){if(!i(t,(function(e,t){if(!a(f,t)&&(C===e||l(C,e,n,o,c)))return f.push(t)}))){h=!1;break}}else if(C!==p&&!l(C,p,n,o,c)){h=!1;break}}return c.delete(e),c.delete(t),h}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),l=n(234),c=n(2230),s=r?r.prototype:void 0,u=s?s.valueOf:void 0;e.exports=function(e,t,n,r,s,g,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!g(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var I=l;case"[object Set]":var b=1&r;if(I||(I=c),e.size!=t.size&&!b)return!1;var h=d.get(e);if(h)return h==t;r|=2,d.set(e,t);var f=o(I(e),I(t),r,s,g,d);return d.delete(e),f;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,l){var c=1&n,s=r(e),u=s.length;if(u!=r(t).length&&!c)return!1;for(var g=u;g--;){var d=s[g];if(!(c?d in t:i.call(t,d)))return!1}var I=l.get(e),b=l.get(t);if(I&&b)return I==t&&b==e;var h=!0;l.set(e,t),l.set(t,e);for(var f=c;++g<u;){var C=e[d=s[g]],p=t[d];if(a)var B=c?a(p,C,d,t,e,l):a(C,p,d,e,t,l);if(!(void 0===B?C===p||o(C,p,n,a,l):B)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var m=e.constructor,A=t.constructor;m==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof A&&A instanceof A||(h=!1)}return l.delete(e),l.delete(t),h}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(c){}var i=o.call(e);return r&&(t?e[l]=n:delete e[l]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=l},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),l=n(7091),c=n(9066),s=n(7907),u="[object Map]",g="[object Promise]",d="[object Set]",I="[object WeakMap]",b="[object DataView]",h=s(r),f=s(i),C=s(a),p=s(o),B=s(l),m=c;(r&&m(new r(new ArrayBuffer(1)))!=b||i&&m(new i)!=u||a&&m(a.resolve())!=g||o&&m(new o)!=d||l&&m(new l)!=I)&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return b;case f:return u;case C:return g;case p:return d;case B:return I}return t}),e.exports=m},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=l},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,l=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!l.call(e,"callee")};e.exports=c},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,l=o&&o.exports===a?r.Buffer:void 0,c=(l?l.isBuffer:void 0)||i;e.exports=c},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,l=o?i(o):r;e.exports=l},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",l="__lodash_placeholder__",c=16,s=32,u=64,g=128,d=256,I=1/0,b=9007199254740991,h=NaN,f=4294967295,C=[["ary",g],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",s],["partialRight",u],["rearg",d]],p="[object Arguments]",B="[object Array]",m="[object Boolean]",A="[object Date]",y="[object Error]",v="[object Function]",x="[object GeneratorFunction]",Q="[object Map]",F="[object Number]",U="[object Object]",G="[object Promise]",w="[object RegExp]",S="[object Set]",E="[object String]",X="[object Symbol]",Z="[object WeakMap]",k="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",D="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",V="[object Int32Array]",W="[object Uint8Array]",R="[object Uint8ClampedArray]",Y="[object Uint16Array]",L="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,P=RegExp(_.source),K=RegExp(J.source),q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,le=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,Ie=/\\(\\)?/g,be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,Be=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Fe="\\u2700-\\u27bf",Ue="a-z\\xdf-\\xf6\\xf8-\\xff",Ge="A-Z\\xc0-\\xd6\\xd8-\\xde",we="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="['\u2019]",Xe="["+xe+"]",Ze="["+Se+"]",ke="["+Qe+"]",Ne="\\d+",Te="["+Fe+"]",De="["+Ue+"]",Oe="[^"+xe+Se+Ne+Fe+Ue+Ge+"]",Me="\\ud83c[\\udffb-\\udfff]",Ve="[^"+xe+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",Ye="["+Ge+"]",Le="\\u200d",He="(?:"+De+"|"+Oe+")",ze="(?:"+Ye+"|"+Oe+")",je="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_e="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+ke+"|"+Me+")"+"?",Pe="["+we+"]?",Ke=Pe+Je+("(?:"+Le+"(?:"+[Ve,We,Re].join("|")+")"+Pe+Je+")*"),qe="(?:"+[Te,We,Re].join("|")+")"+Ke,$e="(?:"+[Ve+ke+"?",ke,We,Re,Xe].join("|")+")",et=RegExp(Ee,"g"),tt=RegExp(ke,"g"),nt=RegExp(Me+"(?="+Me+")|"+$e+Ke,"g"),rt=RegExp([Ye+"?"+De+"+"+je+"(?="+[Ze,Ye,"$"].join("|")+")",ze+"+"+_e+"(?="+[Ze,Ye+He,"$"].join("|")+")",Ye+"?"+He+"+"+je,Ye+"+"+_e,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,qe].join("|"),"g"),it=RegExp("["+Le+xe+Qe+we+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lt=-1,ct={};ct[T]=ct[D]=ct[O]=ct[M]=ct[V]=ct[W]=ct[R]=ct[Y]=ct[L]=!0,ct[p]=ct[B]=ct[k]=ct[m]=ct[N]=ct[A]=ct[y]=ct[v]=ct[Q]=ct[F]=ct[U]=ct[w]=ct[S]=ct[E]=ct[Z]=!1;var st={};st[p]=st[B]=st[k]=st[N]=st[m]=st[A]=st[T]=st[D]=st[O]=st[M]=st[V]=st[Q]=st[F]=st[U]=st[w]=st[S]=st[E]=st[X]=st[W]=st[R]=st[Y]=st[L]=!0,st[y]=st[v]=st[Z]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gt=parseFloat,dt=parseInt,It="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,bt="object"==typeof self&&self&&self.Object===Object&&self,ht=It||bt||Function("return this")(),ft=t&&!t.nodeType&&t,Ct=ft&&e&&!e.nodeType&&e,pt=Ct&&Ct.exports===ft,Bt=pt&&It.process,mt=function(){try{var e=Ct&&Ct.require&&Ct.require("util").types;return e||Bt&&Bt.binding&&Bt.binding("util")}catch(t){}}(),At=mt&&mt.isArrayBuffer,yt=mt&&mt.isDate,vt=mt&&mt.isMap,xt=mt&&mt.isRegExp,Qt=mt&&mt.isSet,Ft=mt&&mt.isTypedArray;function Ut(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Gt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Zt(e,t){return!!(null==e?0:e.length)&&Yt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Tt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ot(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=jt("length");function Wt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Rt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Yt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Rt(e,Ht,n)}function Lt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function zt(e,t){var n=null==e?0:e.length;return n?Pt(e,t)/n:h}function jt(e){return function(t){return null==t?i:t[e]}}function _t(e){return function(t){return null==e?i:e[t]}}function Jt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Pt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,fn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Nt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Yt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Yt(t,e[n],0)>-1;);return n}var an=_t({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=_t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ln(e){return"\\"+ut[e]}function cn(e){return it.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function gn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==l||(e[n]=l,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function In(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function bn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function hn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&le.test(e.charAt(t)););return t}var Cn=_t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pn=function e(t){var n=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,ot))).Array,r=t.Date,le=t.Error,xe=t.Function,Qe=t.Math,Fe=t.Object,Ue=t.RegExp,Ge=t.String,we=t.TypeError,Se=n.prototype,Ee=xe.prototype,Xe=Fe.prototype,Ze=t["__core-js_shared__"],ke=Ee.toString,Ne=Xe.hasOwnProperty,Te=0,De=function(){var e=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Oe=Xe.toString,Me=ke.call(Fe),Ve=ht._,We=Ue("^"+ke.call(Ne).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=pt?t.Buffer:i,Ye=t.Symbol,Le=t.Uint8Array,He=Re?Re.allocUnsafe:i,ze=un(Fe.getPrototypeOf,Fe),je=Fe.create,_e=Xe.propertyIsEnumerable,Je=Se.splice,Pe=Ye?Ye.isConcatSpreadable:i,Ke=Ye?Ye.iterator:i,qe=Ye?Ye.toStringTag:i,$e=function(){try{var e=ga(Fe,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,it=r&&r.now!==ht.Date.now&&r.now,ut=t.setTimeout!==ht.setTimeout&&t.setTimeout,It=Qe.ceil,bt=Qe.floor,ft=Fe.getOwnPropertySymbols,Ct=Re?Re.isBuffer:i,Bt=t.isFinite,mt=Se.join,Vt=un(Fe.keys,Fe),_t=Qe.max,Bn=Qe.min,mn=r.now,An=t.parseInt,yn=Qe.random,vn=Se.reverse,xn=ga(t,"DataView"),Qn=ga(t,"Map"),Fn=ga(t,"Promise"),Un=ga(t,"Set"),Gn=ga(t,"WeakMap"),wn=ga(Fe,"create"),Sn=Gn&&new Gn,En={},Xn=Da(xn),Zn=Da(Qn),kn=Da(Fn),Nn=Da(Un),Tn=Da(Gn),Dn=Ye?Ye.prototype:i,On=Dn?Dn.valueOf:i,Mn=Dn?Dn.toString:i;function Vn(e){if(tl(e)&&!Lo(e)&&!(e instanceof Ln)){if(e instanceof Yn)return e;if(Ne.call(e,"__wrapped__"))return Oa(e)}return new Yn(e)}var Wn=function(){function e(){}return function(t){if(!el(t))return{};if(je)return je(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Rn(){}function Yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new zn(e);this.size=t.size}function Pn(e,t){var n=Lo(e),r=!n&&Yo(e),i=!n&&!r&&_o(e),a=!n&&!r&&!i&&sl(e),o=n||r||i||a,l=o?Kt(e.length,Ge):[],c=l.length;for(var s in e)!t&&!Ne.call(e,s)||o&&("length"==s||i&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pa(s,c))||l.push(s);return l}function Kn(e){var t=e.length;return t?e[_r(0,t-1)]:i}function qn(e,t){return ka(wi(e),lr(t,0,e.length))}function $n(e){return ka(wi(e))}function er(e,t,n){(n!==i&&!Vo(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];Ne.call(e,t)&&Vo(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Si(t,El(t),e)}function ar(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,a=t.length,o=n(a),l=null==e;++r<a;)o[r]=l?i:Fl(e,t[r]);return o}function lr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var l,c=1&t,s=2&t,u=4&t;if(n&&(l=a?n(e,r,a,o):n(e)),l!==i)return l;if(!el(e))return e;var g=Lo(e);if(g){if(l=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return wi(e,l)}else{var d=ba(e),I=d==v||d==x;if(_o(e))return vi(e,c);if(d==U||d==p||I&&!a){if(l=s||I?{}:fa(e),!c)return s?function(e,t){return Si(e,Ia(e),t)}(e,function(e,t){return e&&Si(t,Xl(t),e)}(l,e)):function(e,t){return Si(e,da(e),t)}(e,ir(l,e))}else{if(!st[d])return a?e:{};l=function(e,t,n){var r=e.constructor;switch(t){case k:return xi(e);case m:case A:return new r(+e);case N:return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case T:case D:case O:case M:case V:case W:case R:case Y:case L:return Qi(e,n);case Q:return new r;case F:case E:return new r(e);case w:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new r;case X:return i=e,On?Fe(On.call(i)):{}}var i}(e,d,c)}}o||(o=new Jn);var b=o.get(e);if(b)return b;o.set(e,l),ol(e)?e.forEach((function(r){l.add(cr(r,t,n,r,e,o))})):nl(e)&&e.forEach((function(r,i){l.set(i,cr(r,t,n,i,e,o))}));var h=g?i:(u?s?ia:ra:s?Xl:El)(e);return wt(h||e,(function(r,i){h&&(r=e[i=r]),tr(l,i,cr(r,t,n,i,e,o))})),l}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Fe(e);r--;){var a=n[r],o=t[a],l=e[a];if(l===i&&!(a in e)||!o(l))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new we(a);return Sa((function(){e.apply(i,n)}),t)}function gr(e,t,n,r){var i=-1,a=Zt,o=!0,l=e.length,c=[],s=t.length;if(!l)return c;n&&(t=Nt(t,$t(n))),r?(a=kt,o=!1):t.length>=200&&(a=tn,o=!1,t=new _n(t));e:for(;++i<l;){var u=e[i],g=null==n?u:n(u);if(u=r||0!==u?u:0,o&&g===g){for(var d=s;d--;)if(t[d]===g)continue e;c.push(u)}else a(t,g,r)||c.push(u)}return c}Vn.templateSettings={escape:q,evaluate:$,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Rn.prototype,Vn.prototype.constructor=Vn,Yn.prototype=Wn(Rn.prototype),Yn.prototype.constructor=Yn,Ln.prototype=Wn(Rn.prototype),Ln.prototype.constructor=Ln,Hn.prototype.clear=function(){this.__data__=wn?wn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(wn){var n=t[e];return n===o?i:n}return Ne.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return wn?t[e]!==i:Ne.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wn&&t===i?o:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},zn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},zn.prototype.has=function(e){return nr(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Qn||zn),string:new Hn}},jn.prototype.delete=function(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t},jn.prototype.get=function(e){return sa(this,e).get(e)},jn.prototype.has=function(e){return sa(this,e).has(e)},jn.prototype.set=function(e,t){var n=sa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_n.prototype.add=_n.prototype.push=function(e){return this.__data__.set(e,o),this},_n.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new zn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!Qn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(e,t),this.size=n.size,this};var dr=Zi(mr),Ir=Zi(Ar,!0);function br(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function hr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],l=t(o);if(null!=l&&(c===i?l===l&&!cl(l):n(l,c)))var c=l,s=o}return s}function fr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Cr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Ca),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?Cr(l,t-1,n,r,i):Tt(i,l):r||(i[i.length]=l)}return i}var pr=ki(),Br=ki(!0);function mr(e,t){return e&&pr(e,t,El)}function Ar(e,t){return e&&Br(e,t,El)}function yr(e,t){return Xt(t,(function(t){return Ko(e[t])}))}function vr(e,t){for(var n=0,r=(t=Bi(t,e)).length;null!=e&&n<r;)e=e[Ta(t[n++])];return n&&n==r?e:i}function xr(e,t,n){var r=t(e);return Lo(e)?r:Tt(r,n(e))}function Qr(e){return null==e?e===i?"[object Undefined]":"[object Null]":qe&&qe in Fe(e)?function(e){var t=Ne.call(e,qe),n=e[qe];try{e[qe]=i;var r=!0}catch(o){}var a=Oe.call(e);r&&(t?e[qe]=n:delete e[qe]);return a}(e):function(e){return Oe.call(e)}(e)}function Fr(e,t){return e>t}function Ur(e,t){return null!=e&&Ne.call(e,t)}function Gr(e,t){return null!=e&&t in Fe(e)}function wr(e,t,r){for(var a=r?kt:Zt,o=e[0].length,l=e.length,c=l,s=n(l),u=1/0,g=[];c--;){var d=e[c];c&&t&&(d=Nt(d,$t(t))),u=Bn(d.length,u),s[c]=!r&&(t||o>=120&&d.length>=120)?new _n(c&&d):i}d=e[0];var I=-1,b=s[0];e:for(;++I<o&&g.length<u;){var h=d[I],f=t?t(h):h;if(h=r||0!==h?h:0,!(b?tn(b,f):a(g,f,r))){for(c=l;--c;){var C=s[c];if(!(C?tn(C,f):a(e[c],f,r)))continue e}b&&b.push(f),g.push(h)}}return g}function Sr(e,t,n){var r=null==(e=Ua(e,t=Bi(t,e)))?e:e[Ta(Ja(t))];return null==r?i:Ut(r,e,n)}function Er(e){return tl(e)&&Qr(e)==p}function Xr(e,t,n,r,a){return e===t||(null==e||null==t||!tl(e)&&!tl(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var l=Lo(e),c=Lo(t),s=l?B:ba(e),u=c?B:ba(t),g=(s=s==p?U:s)==U,d=(u=u==p?U:u)==U,I=s==u;if(I&&_o(e)){if(!_o(t))return!1;l=!0,g=!1}if(I&&!g)return o||(o=new Jn),l||sl(e)?ta(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new Le(e),new Le(t)));case m:case A:case F:return Vo(+e,+t);case y:return e.name==t.name&&e.message==t.message;case w:case E:return e==t+"";case Q:var l=sn;case S:var c=1&r;if(l||(l=dn),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;r|=2,o.set(e,t);var u=ta(l(e),l(t),r,i,a,o);return o.delete(e),u;case X:if(On)return On.call(e)==On.call(t)}return!1}(e,t,s,n,r,a,o);if(!(1&n)){var b=g&&Ne.call(e,"__wrapped__"),h=d&&Ne.call(t,"__wrapped__");if(b||h){var f=b?e.value():e,C=h?t.value():t;return o||(o=new Jn),a(f,C,n,r,o)}}if(!I)return!1;return o||(o=new Jn),function(e,t,n,r,a,o){var l=1&n,c=ra(e),s=c.length,u=ra(t),g=u.length;if(s!=g&&!l)return!1;var d=s;for(;d--;){var I=c[d];if(!(l?I in t:Ne.call(t,I)))return!1}var b=o.get(e),h=o.get(t);if(b&&h)return b==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);var C=l;for(;++d<s;){var p=e[I=c[d]],B=t[I];if(r)var m=l?r(B,p,I,t,e,o):r(p,B,I,e,t,o);if(!(m===i?p===B||a(p,B,n,r,o):m)){f=!1;break}C||(C="constructor"==I)}if(f&&!C){var A=e.constructor,y=t.constructor;A==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,o)}(e,t,n,r,Xr,a))}function Zr(e,t,n,r){var a=n.length,o=a,l=!r;if(null==e)return!o;for(e=Fe(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var s=(c=n[a])[0],u=e[s],g=c[1];if(l&&c[2]){if(u===i&&!(s in e))return!1}else{var d=new Jn;if(r)var I=r(u,g,s,e,t,d);if(!(I===i?Xr(g,u,3,r,d):I))return!1}}return!0}function kr(e){return!(!el(e)||(t=e,De&&De in t))&&(Ko(e)?We:pe).test(Da(e));var t}function Nr(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Lo(e)?Wr(e[0],e[1]):Vr(e):dc(e)}function Tr(e){if(!va(e))return Vt(e);var t=[];for(var n in Fe(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!el(e))return function(e){var t=[];if(null!=e)for(var n in Fe(e))t.push(n);return t}(e);var t=va(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}function Or(e,t){return e<t}function Mr(e,t){var r=-1,i=zo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Vr(e){var t=ua(e);return 1==t.length&&t[0][2]?Qa(t[0][0],t[0][1]):function(n){return n===e||Zr(n,e,t)}}function Wr(e,t){return ma(e)&&xa(t)?Qa(Ta(e),t):function(n){var r=Fl(n,e);return r===i&&r===t?Ul(n,e):Xr(t,r,3)}}function Rr(e,t,n,r,a){e!==t&&pr(t,(function(o,l){if(a||(a=new Jn),el(o))!function(e,t,n,r,a,o,l){var c=Ga(e,n),s=Ga(t,n),u=l.get(s);if(u)return void er(e,n,u);var g=o?o(c,s,n+"",e,t,l):i,d=g===i;if(d){var I=Lo(s),b=!I&&_o(s),h=!I&&!b&&sl(s);g=s,I||b||h?Lo(c)?g=c:jo(c)?g=wi(c):b?(d=!1,g=vi(s,!0)):h?(d=!1,g=Qi(s,!0)):g=[]:il(s)||Yo(s)?(g=c,Yo(c)?g=Cl(c):el(c)&&!Ko(c)||(g=fa(s))):d=!1}d&&(l.set(s,g),a(g,s,r,o,l),l.delete(s));er(e,n,g)}(e,t,l,n,Rr,r,a);else{var c=r?r(Ga(e,l),o,l+"",e,t,a):i;c===i&&(c=o),er(e,l,c)}}),Xl)}function Yr(e,t){var n=e.length;if(n)return pa(t+=t<0?n:0,n)?e[t]:i}function Lr(e,t,n){t=t.length?Nt(t,(function(e){return Lo(e)?function(t){return vr(t,1===e.length?e[0]:e)}:e})):[rc];var r=-1;t=Nt(t,$t(ca()));var i=Mr(e,(function(e,n,i){var a=Nt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;for(;++r<o;){var c=Fi(i[r],a[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],l=vr(e,o);n(l,o)&&$r(a,Bi(o,e),l)}return a}function zr(e,t,n,r){var i=r?Lt:Yt,a=-1,o=t.length,l=e;for(e===t&&(t=wi(t)),n&&(l=Nt(e,$t(n)));++a<o;)for(var c=0,s=t[a],u=n?n(s):s;(c=i(l,u,c,r))>-1;)l!==e&&Je.call(l,c,1),Je.call(e,c,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;pa(i)?Je.call(e,i,1):gi(e,i)}}return e}function _r(e,t){return e+bt(yn()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>b)return n;do{t%2&&(n+=e),(t=bt(t/2))&&(e+=e)}while(t);return n}function Pr(e,t){return Ea(Fa(e,t,rc),e+"")}function Kr(e){return Kn(Vl(e))}function qr(e,t){var n=Vl(e);return ka(n,lr(t,0,n.length))}function $r(e,t,n,r){if(!el(e))return e;for(var a=-1,o=(t=Bi(t,e)).length,l=o-1,c=e;null!=c&&++a<o;){var s=Ta(t[a]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(a!=l){var g=c[s];(u=r?r(g,s,c):i)===i&&(u=el(g)?g:pa(t[a+1])?[]:{})}tr(c,s,u),c=c[s]}return e}var ei=Sn?function(e,t){return Sn.set(e,t),e}:rc,ti=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:ec(t),writable:!0})}:rc;function ni(e){return ka(Vl(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!cl(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,rc,n)}function oi(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var l=(t=n(t))!==t,c=null===t,s=cl(t),u=t===i;a<o;){var g=bt((a+o)/2),d=n(e[g]),I=d!==i,b=null===d,h=d===d,f=cl(d);if(l)var C=r||h;else C=u?h&&(r||I):c?h&&I&&(r||!b):s?h&&I&&!b&&(r||!f):!b&&!f&&(r?d<=t:d<t);C?a=g+1:o=g}return Bn(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],l=t?t(o):o;if(!n||!Vo(l,c)){var c=l;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:cl(e)?h:+e}function si(e){if("string"==typeof e)return e;if(Lo(e))return Nt(e,si)+"";if(cl(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Zt,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=kt;else if(a>=200){var s=t?null:Ji(e);if(s)return dn(s);o=!1,i=tn,c=new _n}else c=t?[]:l;e:for(;++r<a;){var u=e[r],g=t?t(u):u;if(u=n||0!==u?u:0,o&&g===g){for(var d=c.length;d--;)if(c[d]===g)continue e;t&&c.push(g),l.push(u)}else i(c,g,n)||(c!==l&&c.push(g),l.push(u))}return l}function gi(e,t){return null==(e=Ua(e,t=Bi(t,e)))||delete e[Ta(Ja(t))]}function di(e,t,n,r){return $r(e,t,n(vr(e,t)),r)}function Ii(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function bi(e,t){var n=e;return n instanceof Ln&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),n)}function hi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var l=e[a],c=-1;++c<i;)c!=a&&(o[a]=gr(o[a]||l,e[c],t,r));return ui(Cr(o,1),t,r)}function fi(e,t,n){for(var r=-1,a=e.length,o=t.length,l={};++r<a;){var c=r<o?t[r]:i;n(l,e[r],c)}return l}function Ci(e){return jo(e)?e:[]}function pi(e){return"function"==typeof e?e:rc}function Bi(e,t){return Lo(e)?e:ma(e,t)?[e]:Na(pl(e))}var mi=Pr;function Ai(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var yi=nt||function(e){return ht.clearTimeout(e)};function vi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function xi(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function Qi(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fi(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=cl(e),l=t!==i,c=null===t,s=t===t,u=cl(t);if(!c&&!u&&!o&&e>t||o&&l&&s&&!c&&!u||r&&l&&s||!n&&s||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||c&&n&&a||!l&&a||!s)return-1}return 0}function Ui(e,t,r,i){for(var a=-1,o=e.length,l=r.length,c=-1,s=t.length,u=_t(o-l,0),g=n(s+u),d=!i;++c<s;)g[c]=t[c];for(;++a<l;)(d||a<o)&&(g[r[a]]=e[a]);for(;u--;)g[c++]=e[a++];return g}function Gi(e,t,r,i){for(var a=-1,o=e.length,l=-1,c=r.length,s=-1,u=t.length,g=_t(o-c,0),d=n(g+u),I=!i;++a<g;)d[a]=e[a];for(var b=a;++s<u;)d[b+s]=t[s];for(;++l<c;)(I||a<o)&&(d[b+r[l]]=e[a++]);return d}function wi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Si(e,t,n,r){var a=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var c=t[o],s=r?r(n[c],e[c],c,n,e):i;s===i&&(s=e[c]),a?ar(n,c,s):tr(n,c,s)}return n}function Ei(e,t){return function(n,r){var i=Lo(n)?Gt:rr,a=t?t():{};return i(n,e,ca(r,2),a)}}function Xi(e){return Pr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,l=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,l&&Ba(n[0],n[1],l)&&(o=a<3?i:o,a=1),t=Fe(t);++r<a;){var c=n[r];c&&e(t,c,r,o)}return t}))}function Zi(e,t){return function(n,r){if(null==n)return n;if(!zo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Fe(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function ki(e){return function(t,n,r){for(var i=-1,a=Fe(t),o=r(t),l=o.length;l--;){var c=o[e?l:++i];if(!1===n(a[c],c,a))break}return t}}function Ni(e){return function(t){var n=cn(t=pl(t))?hn(t):i,r=n?n[0]:t.charAt(0),a=n?Ai(n,1).join(""):t.slice(1);return r[e]()+a}}function Ti(e){return function(t){return Dt(Kl(Yl(t).replace(et,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return el(r)?r:n}}function Oi(e){return function(t,n,r){var a=Fe(t);if(!zo(t)){var o=ca(n,3);t=El(t),n=function(e){return o(a[e],e,a)}}var l=e(t,n,r);return l>-1?a[o?t[l]:l]:i}}function Mi(e){return na((function(t){var n=t.length,r=n,o=Yn.prototype.thru;for(e&&t.reverse();r--;){var l=t[r];if("function"!=typeof l)throw new we(a);if(o&&!c&&"wrapper"==oa(l))var c=new Yn([],!0)}for(r=c?r:n;++r<n;){var s=oa(l=t[r]),u="wrapper"==s?aa(l):i;c=u&&Aa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[oa(u[0])].apply(c,u[3]):1==l.length&&Aa(l)?c[s]():c.thru(l)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Lo(r))return c.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Vi(e,t,r,a,o,l,c,s,u,d){var I=t&g,b=1&t,h=2&t,f=24&t,C=512&t,p=h?i:Di(e);return function g(){for(var B=arguments.length,m=n(B),A=B;A--;)m[A]=arguments[A];if(f)var y=la(g),v=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(m,y);if(a&&(m=Ui(m,a,o,f)),l&&(m=Gi(m,l,c,f)),B-=v,f&&B<d){var x=gn(m,y);return ji(e,t,Vi,g.placeholder,r,m,x,s,u,d-B)}var Q=b?r:this,F=h?Q[e]:e;return B=m.length,s?m=function(e,t){var n=e.length,r=Bn(t.length,n),a=wi(e);for(;r--;){var o=t[r];e[r]=pa(o,n)?a[o]:i}return e}(m,s):C&&B>1&&m.reverse(),I&&u<B&&(m.length=u),this&&this!==ht&&this instanceof g&&(F=p||Di(F)),F.apply(Q,m)}}function Wi(e,t){return function(n,r){return function(e,t,n,r){return mr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ri(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Yi(e){return na((function(t){return t=Nt(t,$t(ca())),Pr((function(n){var r=this;return e(t,(function(e){return Ut(e,r,n)}))}))}))}function Li(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,It(e/bn(t)));return cn(t)?Ai(hn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,a){return a&&"number"!=typeof a&&Ba(t,r,a)&&(r=a=i),t=Il(t),r===i?(r=t,t=0):r=Il(r),function(e,t,r,i){for(var a=-1,o=_t(It((t-e)/(r||1)),0),l=n(o);o--;)l[i?o:++a]=e,e+=r;return l}(t,r,a=a===i?t<r?1:-1:Il(a),e)}}function zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fl(t),n=fl(n)),e(t,n)}}function ji(e,t,n,r,a,o,l,c,g,d){var I=8&t;t|=I?s:u,4&(t&=~(I?u:s))||(t&=-4);var b=[e,t,a,I?o:i,I?l:i,I?i:o,I?i:l,c,g,d],h=n.apply(i,b);return Aa(e)&&wa(h,b),h.placeholder=r,Xa(h,e,t)}function _i(e){var t=Qe[e];return function(e,n){if(e=fl(e),(n=null==n?0:Bn(bl(n),292))&&Bt(e)){var r=(pl(e)+"e").split("e");return+((r=(pl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ji=Un&&1/dn(new Un([,-0]))[1]==I?function(e){return new Un(e)}:cc;function Pi(e){return function(t){var n=ba(t);return n==Q?sn(t):n==S?In(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,r,o,I,b,h,f){var C=2&t;if(!C&&"function"!=typeof e)throw new we(a);var p=o?o.length:0;if(p||(t&=-97,o=I=i),h=h===i?h:_t(bl(h),0),f=f===i?f:bl(f),p-=I?I.length:0,t&u){var B=o,m=I;o=I=i}var A=C?i:aa(e),y=[e,t,r,o,I,B,m,b,h,f];if(A&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==g&&8==n||r==g&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var s=e[3];e[3]=s?Ui(s,c,t[4]):c,e[4]=s?gn(e[3],l):t[4]}(c=t[5])&&(s=e[5],e[5]=s?Gi(s,c,t[6]):c,e[6]=s?gn(e[5],l):t[6]);(c=t[7])&&(e[7]=c);r&g&&(e[8]=null==e[8]?t[8]:Bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(y,A),e=y[0],t=y[1],r=y[2],o=y[3],I=y[4],!(f=y[9]=y[9]===i?C?0:e.length:_t(y[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||t==c?function(e,t,r){var a=Di(e);return function o(){for(var l=arguments.length,c=n(l),s=l,u=la(o);s--;)c[s]=arguments[s];var g=l<3&&c[0]!==u&&c[l-1]!==u?[]:gn(c,u);return(l-=g.length)<r?ji(e,t,Vi,o.placeholder,i,c,g,i,i,r-l):Ut(this&&this!==ht&&this instanceof o?a:e,this,c)}}(e,t,f):t!=s&&33!=t||I.length?Vi.apply(i,y):function(e,t,r,i){var a=1&t,o=Di(e);return function t(){for(var l=-1,c=arguments.length,s=-1,u=i.length,g=n(u+c),d=this&&this!==ht&&this instanceof t?o:e;++s<u;)g[s]=i[s];for(;c--;)g[s++]=arguments[++l];return Ut(d,a?r:this,g)}}(e,t,r,o);else var v=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Xa((A?ei:wa)(v,y),e,t)}function qi(e,t,n,r){return e===i||Vo(e,Xe[n])&&!Ne.call(r,n)?t:e}function $i(e,t,n,r,a,o){return el(e)&&el(t)&&(o.set(t,e),Rr(e,t,i,$i,o),o.delete(t)),e}function ea(e){return il(e)?i:e}function ta(e,t,n,r,a,o){var l=1&n,c=e.length,s=t.length;if(c!=s&&!(l&&s>c))return!1;var u=o.get(e),g=o.get(t);if(u&&g)return u==t&&g==e;var d=-1,I=!0,b=2&n?new _n:i;for(o.set(e,t),o.set(t,e);++d<c;){var h=e[d],f=t[d];if(r)var C=l?r(f,h,d,t,e,o):r(h,f,d,e,t,o);if(C!==i){if(C)continue;I=!1;break}if(b){if(!Mt(t,(function(e,t){if(!tn(b,t)&&(h===e||a(h,e,n,r,o)))return b.push(t)}))){I=!1;break}}else if(h!==f&&!a(h,f,n,r,o)){I=!1;break}}return o.delete(e),o.delete(t),I}function na(e){return Ea(Fa(e,i,La),e+"")}function ra(e){return xr(e,El,da)}function ia(e){return xr(e,Xl,Ia)}var aa=Sn?function(e){return Sn.get(e)}:cc;function oa(e){for(var t=e.name+"",n=En[t],r=Ne.call(En,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Ne.call(Vn,"placeholder")?Vn:e).placeholder}function ca(){var e=Vn.iteratee||ic;return e=e===ic?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function sa(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ua(e){for(var t=El(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,xa(i)]}return t}function ga(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return kr(n)?n:i}var da=ft?function(e){return null==e?[]:(e=Fe(e),Xt(ft(e),(function(t){return _e.call(e,t)})))}:hc,Ia=ft?function(e){for(var t=[];e;)Tt(t,da(e)),e=ze(e);return t}:hc,ba=Qr;function ha(e,t,n){for(var r=-1,i=(t=Bi(t,e)).length,a=!1;++r<i;){var o=Ta(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&$o(i)&&pa(o,i)&&(Lo(e)||Yo(e))}function fa(e){return"function"!=typeof e.constructor||va(e)?{}:Wn(ze(e))}function Ca(e){return Lo(e)||Yo(e)||!!(Pe&&e&&e[Pe])}function pa(e,t){var n=typeof e;return!!(t=null==t?b:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function Ba(e,t,n){if(!el(n))return!1;var r=typeof t;return!!("number"==r?zo(n)&&pa(t,n.length):"string"==r&&t in n)&&Vo(n[t],e)}function ma(e,t){if(Lo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cl(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Fe(t))}function Aa(e){var t=oa(e),n=Vn[t];if("function"!=typeof n||!(t in Ln.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(xn&&ba(new xn(new ArrayBuffer(1)))!=N||Qn&&ba(new Qn)!=Q||Fn&&ba(Fn.resolve())!=G||Un&&ba(new Un)!=S||Gn&&ba(new Gn)!=Z)&&(ba=function(e){var t=Qr(e),n=t==U?e.constructor:i,r=n?Da(n):"";if(r)switch(r){case Xn:return N;case Zn:return Q;case kn:return G;case Nn:return S;case Tn:return Z}return t});var ya=Ze?Ko:fc;function va(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xe)}function xa(e){return e===e&&!el(e)}function Qa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Fe(n)))}}function Fa(e,t,r){return t=_t(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=_t(i.length-t,0),l=n(o);++a<o;)l[a]=i[t+a];a=-1;for(var c=n(t+1);++a<t;)c[a]=i[a];return c[t]=r(l),Ut(e,this,c)}}function Ua(e,t){return t.length<2?e:vr(e,ri(t,0,-1))}function Ga(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var wa=Za(ei),Sa=ut||function(e,t){return ht.setTimeout(e,t)},Ea=Za(ti);function Xa(e,t,n){var r=t+"";return Ea(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(C,(function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(r),n)))}function Za(e){var t=0,n=0;return function(){var r=mn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ka(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=_r(n,a),l=e[o];e[o]=e[n],e[n]=l}return e.length=t,e}var Na=function(e){var t=ko(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(Ie,"$1"):n||e)})),t}));function Ta(e){if("string"==typeof e||cl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Da(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Oa(e){if(e instanceof Ln)return e.clone();var t=new Yn(e.__wrapped__,e.__chain__);return t.__actions__=wi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ma=Pr((function(e,t){return jo(e)?gr(e,Cr(t,1,jo,!0)):[]})),Va=Pr((function(e,t){var n=Ja(t);return jo(n)&&(n=i),jo(e)?gr(e,Cr(t,1,jo,!0),ca(n,2)):[]})),Wa=Pr((function(e,t){var n=Ja(t);return jo(n)&&(n=i),jo(e)?gr(e,Cr(t,1,jo,!0),i,n):[]}));function Ra(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bl(n);return i<0&&(i=_t(r+i,0)),Rt(e,ca(t,3),i)}function Ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=bl(n),a=n<0?_t(r+a,0):Bn(a,r-1)),Rt(e,ca(t,3),a,!0)}function La(e){return(null==e?0:e.length)?Cr(e,1):[]}function Ha(e){return e&&e.length?e[0]:i}var za=Pr((function(e){var t=Nt(e,Ci);return t.length&&t[0]===e[0]?wr(t):[]})),ja=Pr((function(e){var t=Ja(e),n=Nt(e,Ci);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?wr(n,ca(t,2)):[]})),_a=Pr((function(e){var t=Ja(e),n=Nt(e,Ci);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?wr(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Pa=Pr(Ka);function Ka(e,t){return e&&e.length&&t&&t.length?zr(e,t):e}var qa=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return jr(e,Nt(t,(function(e){return pa(e,n)?+e:e})).sort(Fi)),r}));function $a(e){return null==e?e:vn.call(e)}var eo=Pr((function(e){return ui(Cr(e,1,jo,!0))})),to=Pr((function(e){var t=Ja(e);return jo(t)&&(t=i),ui(Cr(e,1,jo,!0),ca(t,2))})),no=Pr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,ui(Cr(e,1,jo,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,(function(e){if(jo(e))return t=_t(e.length,t),!0})),Kt(t,(function(t){return Nt(e,jt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Nt(n,(function(e){return Ut(t,i,e)}))}var ao=Pr((function(e,t){return jo(e)?gr(e,t):[]})),oo=Pr((function(e){return hi(Xt(e,jo))})),lo=Pr((function(e){var t=Ja(e);return jo(t)&&(t=i),hi(Xt(e,jo),ca(t,2))})),co=Pr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,hi(Xt(e,jo),i,t)})),so=Pr(ro);var uo=Pr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function go(e){var t=Vn(e);return t.__chain__=!0,t}function Io(e,t){return t(e)}var bo=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ln&&pa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Io,args:[a],thisArg:i}),new Yn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var ho=Ei((function(e,t,n){Ne.call(e,n)?++e[n]:ar(e,n,1)}));var fo=Oi(Ra),Co=Oi(Ya);function po(e,t){return(Lo(e)?wt:dr)(e,ca(t,3))}function Bo(e,t){return(Lo(e)?St:Ir)(e,ca(t,3))}var mo=Ei((function(e,t,n){Ne.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ao=Pr((function(e,t,r){var i=-1,a="function"==typeof t,o=zo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Ut(t,e,r):Sr(e,t,r)})),o})),yo=Ei((function(e,t,n){ar(e,n,t)}));function vo(e,t){return(Lo(e)?Nt:Mr)(e,ca(t,3))}var xo=Ei((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Qo=Pr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ba(e,t[0],t[1])?t=[]:n>2&&Ba(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,Cr(t,1),[])})),Fo=it||function(){return ht.Date.now()};function Uo(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,g,i,i,i,i,t)}function Go(e,t){var n;if("function"!=typeof t)throw new we(a);return e=bl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var wo=Pr((function(e,t,n){var r=1;if(n.length){var i=gn(n,la(wo));r|=s}return Ki(e,r,t,n,i)})),So=Pr((function(e,t,n){var r=3;if(n.length){var i=gn(n,la(So));r|=s}return Ki(t,r,e,n,i)}));function Eo(e,t,n){var r,o,l,c,s,u,g=0,d=!1,I=!1,b=!0;if("function"!=typeof e)throw new we(a);function h(t){var n=r,a=o;return r=o=i,g=t,c=e.apply(a,n)}function f(e){var n=e-u;return u===i||n>=t||n<0||I&&e-g>=l}function C(){var e=Fo();if(f(e))return p(e);s=Sa(C,function(e){var n=t-(e-u);return I?Bn(n,l-(e-g)):n}(e))}function p(e){return s=i,b&&r?h(e):(r=o=i,c)}function B(){var e=Fo(),n=f(e);if(r=arguments,o=this,u=e,n){if(s===i)return function(e){return g=e,s=Sa(C,t),d?h(e):c}(u);if(I)return yi(s),s=Sa(C,t),h(u)}return s===i&&(s=Sa(C,t)),c}return t=fl(t)||0,el(n)&&(d=!!n.leading,l=(I="maxWait"in n)?_t(fl(n.maxWait)||0,t):l,b="trailing"in n?!!n.trailing:b),B.cancel=function(){s!==i&&yi(s),g=0,r=u=o=s=i},B.flush=function(){return s===i?c:p(Fo())},B}var Xo=Pr((function(e,t){return ur(e,1,t)})),Zo=Pr((function(e,t,n){return ur(e,fl(t)||0,n)}));function ko(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new we(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ko.Cache||jn),n}function No(e){if("function"!=typeof e)throw new we(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ko.Cache=jn;var To=mi((function(e,t){var n=(t=1==t.length&&Lo(t[0])?Nt(t[0],$t(ca())):Nt(Cr(t,1),$t(ca()))).length;return Pr((function(r){for(var i=-1,a=Bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Ut(e,this,r)}))})),Do=Pr((function(e,t){var n=gn(t,la(Do));return Ki(e,s,i,t,n)})),Oo=Pr((function(e,t){var n=gn(t,la(Oo));return Ki(e,u,i,t,n)})),Mo=na((function(e,t){return Ki(e,d,i,i,i,t)}));function Vo(e,t){return e===t||e!==e&&t!==t}var Wo=zi(Fr),Ro=zi((function(e,t){return e>=t})),Yo=Er(function(){return arguments}())?Er:function(e){return tl(e)&&Ne.call(e,"callee")&&!_e.call(e,"callee")},Lo=n.isArray,Ho=At?$t(At):function(e){return tl(e)&&Qr(e)==k};function zo(e){return null!=e&&$o(e.length)&&!Ko(e)}function jo(e){return tl(e)&&zo(e)}var _o=Ct||fc,Jo=yt?$t(yt):function(e){return tl(e)&&Qr(e)==A};function Po(e){if(!tl(e))return!1;var t=Qr(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!il(e)}function Ko(e){if(!el(e))return!1;var t=Qr(e);return t==v||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qo(e){return"number"==typeof e&&e==bl(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=b}function el(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tl(e){return null!=e&&"object"==typeof e}var nl=vt?$t(vt):function(e){return tl(e)&&ba(e)==Q};function rl(e){return"number"==typeof e||tl(e)&&Qr(e)==F}function il(e){if(!tl(e)||Qr(e)!=U)return!1;var t=ze(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Me}var al=xt?$t(xt):function(e){return tl(e)&&Qr(e)==w};var ol=Qt?$t(Qt):function(e){return tl(e)&&ba(e)==S};function ll(e){return"string"==typeof e||!Lo(e)&&tl(e)&&Qr(e)==E}function cl(e){return"symbol"==typeof e||tl(e)&&Qr(e)==X}var sl=Ft?$t(Ft):function(e){return tl(e)&&$o(e.length)&&!!ct[Qr(e)]};var ul=zi(Or),gl=zi((function(e,t){return e<=t}));function dl(e){if(!e)return[];if(zo(e))return ll(e)?hn(e):wi(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=ba(e);return(t==Q?sn:t==S?dn:Vl)(e)}function Il(e){return e?(e=fl(e))===I||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function bl(e){var t=Il(e),n=t%1;return t===t?n?t-n:t:0}function hl(e){return e?lr(bl(e),0,f):0}function fl(e){if("number"==typeof e)return e;if(cl(e))return h;if(el(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=el(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=Ce.test(e);return n||Be.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?h:+e}function Cl(e){return Si(e,Xl(e))}function pl(e){return null==e?"":si(e)}var Bl=Xi((function(e,t){if(va(t)||zo(t))Si(t,El(t),e);else for(var n in t)Ne.call(t,n)&&tr(e,n,t[n])})),ml=Xi((function(e,t){Si(t,Xl(t),e)})),Al=Xi((function(e,t,n,r){Si(t,Xl(t),e,r)})),yl=Xi((function(e,t,n,r){Si(t,El(t),e,r)})),vl=na(or);var xl=Pr((function(e,t){e=Fe(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&Ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],l=Xl(o),c=-1,s=l.length;++c<s;){var u=l[c],g=e[u];(g===i||Vo(g,Xe[u])&&!Ne.call(e,u))&&(e[u]=o[u])}return e})),Ql=Pr((function(e){return e.push(i,$i),Ut(kl,i,e)}));function Fl(e,t,n){var r=null==e?i:vr(e,t);return r===i?n:r}function Ul(e,t){return null!=e&&ha(e,t,Gr)}var Gl=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=n}),ec(rc)),wl=Wi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Sl=Pr(Sr);function El(e){return zo(e)?Pn(e):Tr(e)}function Xl(e){return zo(e)?Pn(e,!0):Dr(e)}var Zl=Xi((function(e,t,n){Rr(e,t,n)})),kl=Xi((function(e,t,n,r){Rr(e,t,n,r)})),Nl=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=Bi(t,e),r||(r=t.length>1),t})),Si(e,ia(e),n),r&&(n=cr(n,7,ea));for(var i=t.length;i--;)gi(n,t[i]);return n}));var Tl=na((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ul(e,n)}))}(e,t)}));function Dl(e,t){if(null==e)return{};var n=Nt(ia(e),(function(e){return[e]}));return t=ca(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Ol=Pi(El),Ml=Pi(Xl);function Vl(e){return null==e?[]:en(e,El(e))}var Wl=Ti((function(e,t,n){return t=t.toLowerCase(),e+(n?Rl(t):t)}));function Rl(e){return Pl(pl(e).toLowerCase())}function Yl(e){return(e=pl(e))&&e.replace(Ae,an).replace(tt,"")}var Ll=Ti((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hl=Ti((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),zl=Ni("toLowerCase");var jl=Ti((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var _l=Ti((function(e,t,n){return e+(n?" ":"")+Pl(t)}));var Jl=Ti((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Pl=Ni("toUpperCase");function Kl(e,t,n){return e=pl(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(ge)||[]}(e):e.match(t)||[]}var ql=Pr((function(e,t){try{return Ut(e,i,t)}catch(n){return Po(n)?n:new le(n)}})),$l=na((function(e,t){return wt(t,(function(t){t=Ta(t),ar(e,t,wo(e[t],e))})),e}));function ec(e){return function(){return e}}var tc=Mi(),nc=Mi(!0);function rc(e){return e}function ic(e){return Nr("function"==typeof e?e:cr(e,1))}var ac=Pr((function(e,t){return function(n){return Sr(n,e,t)}})),oc=Pr((function(e,t){return function(n){return Sr(e,n,t)}}));function lc(e,t,n){var r=El(t),i=yr(t,r);null!=n||el(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=yr(t,El(t)));var a=!(el(n)&&"chain"in n)||!!n.chain,o=Ko(e);return wt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=wi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})})),e}function cc(){}var sc=Yi(Nt),uc=Yi(Et),gc=Yi(Mt);function dc(e){return ma(e)?jt(Ta(e)):function(e){return function(t){return vr(t,e)}}(e)}var Ic=Hi(),bc=Hi(!0);function hc(){return[]}function fc(){return!1}var Cc=Ri((function(e,t){return e+t}),0),pc=_i("ceil"),Bc=Ri((function(e,t){return e/t}),1),mc=_i("floor");var Ac=Ri((function(e,t){return e*t}),1),yc=_i("round"),vc=Ri((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new we(a);return e=bl(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Uo,Vn.assign=Bl,Vn.assignIn=ml,Vn.assignInWith=Al,Vn.assignWith=yl,Vn.at=vl,Vn.before=Go,Vn.bind=wo,Vn.bindAll=$l,Vn.bindKey=So,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Lo(e)?e:[e]},Vn.chain=go,Vn.chunk=function(e,t,r){t=(r?Ba(e,t,r):t===i)?1:_t(bl(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,l=0,c=n(It(a/t));o<a;)c[l++]=ri(e,o,o+=t);return c},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(Lo(r)?wi(r):[r],Cr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new we(a);return[n(e[0]),e[1]]})):[],Pr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ut(i[0],this,n))return Ut(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=El(e);return function(n){return sr(n,e,t)}}(cr(e,1))},Vn.constant=ec,Vn.countBy=ho,Vn.create=function(e,t){var n=Wn(e);return null==t?n:ir(n,t)},Vn.curry=function e(t,n,r){var a=Ki(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Vn.curryRight=function e(t,n,r){var a=Ki(t,c,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Vn.debounce=Eo,Vn.defaults=xl,Vn.defaultsDeep=Ql,Vn.defer=Xo,Vn.delay=Zo,Vn.difference=Ma,Vn.differenceBy=Va,Vn.differenceWith=Wa,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:bl(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:bl(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?Ii(e,ca(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?Ii(e,ca(t,3),!0):[]},Vn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=bl(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:bl(r))<0&&(r+=a),r=n>r?0:hl(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(Lo(e)?Xt:fr)(e,ca(t,3))},Vn.flatMap=function(e,t){return Cr(vo(e,t),1)},Vn.flatMapDeep=function(e,t){return Cr(vo(e,t),I)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:bl(n),Cr(vo(e,t),n)},Vn.flatten=La,Vn.flattenDeep=function(e){return(null==e?0:e.length)?Cr(e,I):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?Cr(e,t=t===i?1:bl(t)):[]},Vn.flip=function(e){return Ki(e,512)},Vn.flow=tc,Vn.flowRight=nc,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:yr(e,El(e))},Vn.functionsIn=function(e){return null==e?[]:yr(e,Xl(e))},Vn.groupBy=mo,Vn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Vn.intersection=za,Vn.intersectionBy=ja,Vn.intersectionWith=_a,Vn.invert=Gl,Vn.invertBy=wl,Vn.invokeMap=Ao,Vn.iteratee=ic,Vn.keyBy=yo,Vn.keys=El,Vn.keysIn=Xl,Vn.map=vo,Vn.mapKeys=function(e,t){var n={};return t=ca(t,3),mr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ca(t,3),mr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(cr(e,1))},Vn.matchesProperty=function(e,t){return Wr(e,cr(t,1))},Vn.memoize=ko,Vn.merge=Zl,Vn.mergeWith=kl,Vn.method=ac,Vn.methodOf=oc,Vn.mixin=lc,Vn.negate=No,Vn.nthArg=function(e){return e=bl(e),Pr((function(t){return Yr(t,e)}))},Vn.omit=Nl,Vn.omitBy=function(e,t){return Dl(e,No(ca(t)))},Vn.once=function(e){return Go(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(Lo(t)||(t=null==t?[]:[t]),Lo(n=r?i:n)||(n=null==n?[]:[n]),Lr(e,t,n))},Vn.over=sc,Vn.overArgs=To,Vn.overEvery=uc,Vn.overSome=gc,Vn.partial=Do,Vn.partialRight=Oo,Vn.partition=xo,Vn.pick=Tl,Vn.pickBy=Dl,Vn.property=dc,Vn.propertyOf=function(e){return function(t){return null==e?i:vr(e,t)}},Vn.pull=Pa,Vn.pullAll=Ka,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,ca(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,i,n):e},Vn.pullAt=qa,Vn.range=Ic,Vn.rangeRight=bc,Vn.rearg=Mo,Vn.reject=function(e,t){return(Lo(e)?Xt:fr)(e,No(ca(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return jr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new we(a);return Pr(e,t=t===i?t:bl(t))},Vn.reverse=$a,Vn.sampleSize=function(e,t,n){return t=(n?Ba(e,t,n):t===i)?1:bl(t),(Lo(e)?qn:qr)(e,t)},Vn.set=function(e,t,n){return null==e?e:$r(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$r(e,t,n,r)},Vn.shuffle=function(e){return(Lo(e)?$n:ni)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ba(e,t,n)?(t=0,n=r):(t=null==t?0:bl(t),n=n===i?r:bl(n)),ri(e,t,n)):[]},Vn.sortBy=Qo,Vn.sortedUniq=function(e){return e&&e.length?li(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ca(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&Ba(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=pl(e))&&("string"==typeof t||null!=t&&!al(t))&&!(t=si(t))&&cn(e)?Ai(hn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new we(a);return t=null==t?0:_t(bl(t),0),Pr((function(n){var r=n[t],i=Ai(n,0,t);return r&&Tt(i,r),Ut(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:bl(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:bl(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?Ii(e,ca(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?Ii(e,ca(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new we(a);return el(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Eo(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=Io,Vn.toArray=dl,Vn.toPairs=Ol,Vn.toPairsIn=Ml,Vn.toPath=function(e){return Lo(e)?Nt(e,Ta):cl(e)?[e]:wi(Na(pl(e)))},Vn.toPlainObject=Cl,Vn.transform=function(e,t,n){var r=Lo(e),i=r||_o(e)||sl(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:el(e)&&Ko(a)?Wn(ze(e)):{}}return(i?wt:mr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Uo(e,1)},Vn.union=eo,Vn.unionBy=to,Vn.unionWith=no,Vn.uniq=function(e){return e&&e.length?ui(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?ui(e,ca(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Vn.unset=function(e,t){return null==e||gi(e,t)},Vn.unzip=ro,Vn.unzipWith=io,Vn.update=function(e,t,n){return null==e?e:di(e,t,pi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,pi(n),r)},Vn.values=Vl,Vn.valuesIn=function(e){return null==e?[]:en(e,Xl(e))},Vn.without=ao,Vn.words=Kl,Vn.wrap=function(e,t){return Do(pi(t),e)},Vn.xor=oo,Vn.xorBy=lo,Vn.xorWith=co,Vn.zip=so,Vn.zipObject=function(e,t){return fi(e||[],t||[],tr)},Vn.zipObjectDeep=function(e,t){return fi(e||[],t||[],$r)},Vn.zipWith=uo,Vn.entries=Ol,Vn.entriesIn=Ml,Vn.extend=ml,Vn.extendWith=Al,lc(Vn,Vn),Vn.add=Cc,Vn.attempt=ql,Vn.camelCase=Wl,Vn.capitalize=Rl,Vn.ceil=pc,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=fl(n))===n?n:0),t!==i&&(t=(t=fl(t))===t?t:0),lr(fl(e),t,n)},Vn.clone=function(e){return cr(e,4)},Vn.cloneDeep=function(e){return cr(e,5)},Vn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||sr(e,t,El(t))},Vn.deburr=Yl,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=Bc,Vn.endsWith=function(e,t,n){e=pl(e),t=si(t);var r=e.length,a=n=n===i?r:lr(bl(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Vn.eq=Vo,Vn.escape=function(e){return(e=pl(e))&&K.test(e)?e.replace(J,on):e},Vn.escapeRegExp=function(e){return(e=pl(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var r=Lo(e)?Et:br;return n&&Ba(e,t,n)&&(t=i),r(e,ca(t,3))},Vn.find=fo,Vn.findIndex=Ra,Vn.findKey=function(e,t){return Wt(e,ca(t,3),mr)},Vn.findLast=Co,Vn.findLastIndex=Ya,Vn.findLastKey=function(e,t){return Wt(e,ca(t,3),Ar)},Vn.floor=mc,Vn.forEach=po,Vn.forEachRight=Bo,Vn.forIn=function(e,t){return null==e?e:pr(e,ca(t,3),Xl)},Vn.forInRight=function(e,t){return null==e?e:Br(e,ca(t,3),Xl)},Vn.forOwn=function(e,t){return e&&mr(e,ca(t,3))},Vn.forOwnRight=function(e,t){return e&&Ar(e,ca(t,3))},Vn.get=Fl,Vn.gt=Wo,Vn.gte=Ro,Vn.has=function(e,t){return null!=e&&ha(e,t,Ur)},Vn.hasIn=Ul,Vn.head=Ha,Vn.identity=rc,Vn.includes=function(e,t,n,r){e=zo(e)?e:Vl(e),n=n&&!r?bl(n):0;var i=e.length;return n<0&&(n=_t(i+n,0)),ll(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Yt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bl(n);return i<0&&(i=_t(r+i,0)),Yt(e,t,i)},Vn.inRange=function(e,t,n){return t=Il(t),n===i?(n=t,t=0):n=Il(n),function(e,t,n){return e>=Bn(t,n)&&e<_t(t,n)}(e=fl(e),t,n)},Vn.invoke=Sl,Vn.isArguments=Yo,Vn.isArray=Lo,Vn.isArrayBuffer=Ho,Vn.isArrayLike=zo,Vn.isArrayLikeObject=jo,Vn.isBoolean=function(e){return!0===e||!1===e||tl(e)&&Qr(e)==m},Vn.isBuffer=_o,Vn.isDate=Jo,Vn.isElement=function(e){return tl(e)&&1===e.nodeType&&!il(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(zo(e)&&(Lo(e)||"string"==typeof e||"function"==typeof e.splice||_o(e)||sl(e)||Yo(e)))return!e.length;var t=ba(e);if(t==Q||t==S)return!e.size;if(va(e))return!Tr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Xr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Xr(e,t,i,n):!!r},Vn.isError=Po,Vn.isFinite=function(e){return"number"==typeof e&&Bt(e)},Vn.isFunction=Ko,Vn.isInteger=qo,Vn.isLength=$o,Vn.isMap=nl,Vn.isMatch=function(e,t){return e===t||Zr(e,t,ua(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Zr(e,t,ua(t),n)},Vn.isNaN=function(e){return rl(e)&&e!=+e},Vn.isNative=function(e){if(ya(e))throw new le("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=rl,Vn.isObject=el,Vn.isObjectLike=tl,Vn.isPlainObject=il,Vn.isRegExp=al,Vn.isSafeInteger=function(e){return qo(e)&&e>=-9007199254740991&&e<=b},Vn.isSet=ol,Vn.isString=ll,Vn.isSymbol=cl,Vn.isTypedArray=sl,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return tl(e)&&ba(e)==Z},Vn.isWeakSet=function(e){return tl(e)&&"[object WeakSet]"==Qr(e)},Vn.join=function(e,t){return null==e?"":mt.call(e,t)},Vn.kebabCase=Ll,Vn.last=Ja,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=bl(n))<0?_t(r+a,0):Bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Rt(e,Ht,a,!0)},Vn.lowerCase=Hl,Vn.lowerFirst=zl,Vn.lt=ul,Vn.lte=gl,Vn.max=function(e){return e&&e.length?hr(e,rc,Fr):i},Vn.maxBy=function(e,t){return e&&e.length?hr(e,ca(t,2),Fr):i},Vn.mean=function(e){return zt(e,rc)},Vn.meanBy=function(e,t){return zt(e,ca(t,2))},Vn.min=function(e){return e&&e.length?hr(e,rc,Or):i},Vn.minBy=function(e,t){return e&&e.length?hr(e,ca(t,2),Or):i},Vn.stubArray=hc,Vn.stubFalse=fc,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Ac,Vn.nth=function(e,t){return e&&e.length?Yr(e,bl(t)):i},Vn.noConflict=function(){return ht._===this&&(ht._=Ve),this},Vn.noop=cc,Vn.now=Fo,Vn.pad=function(e,t,n){e=pl(e);var r=(t=bl(t))?bn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Li(bt(i),n)+e+Li(It(i),n)},Vn.padEnd=function(e,t,n){e=pl(e);var r=(t=bl(t))?bn(e):0;return t&&r<t?e+Li(t-r,n):e},Vn.padStart=function(e,t,n){e=pl(e);var r=(t=bl(t))?bn(e):0;return t&&r<t?Li(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),An(pl(e).replace(oe,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Il(e),t===i?(t=e,e=0):t=Il(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=yn();return Bn(e+a*(t-e+gt("1e-"+((a+"").length-1))),t)}return _r(e,t)},Vn.reduce=function(e,t,n){var r=Lo(e)?Dt:Jt,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},Vn.reduceRight=function(e,t,n){var r=Lo(e)?Ot:Jt,i=arguments.length<3;return r(e,ca(t,4),n,i,Ir)},Vn.repeat=function(e,t,n){return t=(n?Ba(e,t,n):t===i)?1:bl(t),Jr(pl(e),t)},Vn.replace=function(){var e=arguments,t=pl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,a=(t=Bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ta(t[r])];o===i&&(r=a,o=n),e=Ko(o)?o.call(e):o}return e},Vn.round=yc,Vn.runInContext=e,Vn.sample=function(e){return(Lo(e)?Kn:Kr)(e)},Vn.size=function(e){if(null==e)return 0;if(zo(e))return ll(e)?bn(e):e.length;var t=ba(e);return t==Q||t==S?e.size:Tr(e).length},Vn.snakeCase=jl,Vn.some=function(e,t,n){var r=Lo(e)?Mt:ii;return n&&Ba(e,t,n)&&(t=i),r(e,ca(t,3))},Vn.sortedIndex=function(e,t){return ai(e,t)},Vn.sortedIndexBy=function(e,t,n){return oi(e,t,ca(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Vo(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return oi(e,t,ca(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Vo(e[n],t))return n}return-1},Vn.startCase=_l,Vn.startsWith=function(e,t,n){return e=pl(e),n=null==n?0:lr(bl(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Vn.subtract=vc,Vn.sum=function(e){return e&&e.length?Pt(e,rc):0},Vn.sumBy=function(e,t){return e&&e.length?Pt(e,ca(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&Ba(e,t,n)&&(t=i),e=pl(e),t=Al({},t,r,qi);var a,o,l=Al({},t.imports,r.imports,qi),c=El(l),s=en(l,c),u=0,g=t.interpolate||ye,d="__p += '",I=Ue((t.escape||ye).source+"|"+g.source+"|"+(g===ee?be:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),b="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lt+"]")+"\n";e.replace(I,(function(t,n,r,i,l,c){return r||(r=i),d+=e.slice(u,c).replace(ve,ln),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),l&&(o=!0,d+="';\n"+l+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var h=Ne.call(t,"variable")&&t.variable;if(h){if(de.test(h))throw new le("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(z,"$1").replace(j,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var f=ql((function(){return xe(c,b+"return "+d).apply(i,s)}));if(f.source=d,Po(f))throw f;return f},Vn.times=function(e,t){if((e=bl(e))<1||e>b)return[];var n=f,r=Bn(e,f);t=ca(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Vn.toFinite=Il,Vn.toInteger=bl,Vn.toLength=hl,Vn.toLower=function(e){return pl(e).toLowerCase()},Vn.toNumber=fl,Vn.toSafeInteger=function(e){return e?lr(bl(e),-9007199254740991,b):0===e?e:0},Vn.toString=pl,Vn.toUpper=function(e){return pl(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=pl(e))&&(n||t===i))return qt(e);if(!e||!(t=si(t)))return e;var r=hn(e),a=hn(t);return Ai(r,nn(r,a),rn(r,a)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=pl(e))&&(n||t===i))return e.slice(0,fn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return Ai(r,0,rn(r,hn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=pl(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=si(t)))return e;var r=hn(e);return Ai(r,nn(r,hn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(el(t)){var a="separator"in t?t.separator:a;n="length"in t?bl(t.length):n,r="omission"in t?si(t.omission):r}var o=(e=pl(e)).length;if(cn(e)){var l=hn(e);o=l.length}if(n>=o)return e;var c=n-bn(r);if(c<1)return r;var s=l?Ai(l,0,c).join(""):e.slice(0,c);if(a===i)return s+r;if(l&&(c+=s.length-c),al(a)){if(e.slice(c).search(a)){var u,g=s;for(a.global||(a=Ue(a.source,pl(he.exec(a))+"g")),a.lastIndex=0;u=a.exec(g);)var d=u.index;s=s.slice(0,d===i?c:d)}}else if(e.indexOf(si(a),c)!=c){var I=s.lastIndexOf(a);I>-1&&(s=s.slice(0,I))}return s+r},Vn.unescape=function(e){return(e=pl(e))&&P.test(e)?e.replace(_,Cn):e},Vn.uniqueId=function(e){var t=++Te;return pl(e)+t},Vn.upperCase=Jl,Vn.upperFirst=Pl,Vn.each=po,Vn.eachRight=Bo,Vn.first=Ha,lc(Vn,function(){var e={};return mr(Vn,(function(t,n){Ne.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),wt(["drop","take"],(function(e,t){Ln.prototype[e]=function(n){n=n===i?1:_t(bl(n),0);var r=this.__filtered__&&!t?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=Bn(n,r.__takeCount__):r.__views__.push({size:Bn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(rc)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=Pr((function(e,t){return"function"==typeof e?new Ln(this):this.map((function(n){return Sr(n,e,t)}))})),Ln.prototype.reject=function(e){return this.filter(No(ca(e)))},Ln.prototype.slice=function(e,t){e=bl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=bl(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(f)},mr(Ln.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Vn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Vn.prototype[t]=function(){var t=this.__wrapped__,l=r?[1]:arguments,c=t instanceof Ln,s=l[0],u=c||Lo(t),g=function(e){var t=a.apply(Vn,Tt([e],l));return r&&d?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(c=u=!1);var d=this.__chain__,I=!!this.__actions__.length,b=o&&!d,h=c&&!I;if(!o&&u){t=h?t:new Ln(this);var f=e.apply(t,l);return f.__actions__.push({func:Io,args:[g],thisArg:i}),new Yn(f,d)}return b&&h?e.apply(this,l):(f=this.thru(g),b?r?f.value()[0]:f.value():f)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Se[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Lo(i)?i:[],e)}return this[n]((function(n){return t.apply(Lo(n)?n:[],e)}))}})),mr(Ln.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Ne.call(En,r)||(En[r]=[]),En[r].push({name:t,func:n})}})),En[Vi(i,2).name]=[{name:"wrapper",func:i}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=wi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=wi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=wi(this.__views__),e},Ln.prototype.reverse=function(){if(this.__filtered__){var e=new Ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Lo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Bn(t,e+o);break;case"takeRight":e=_t(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,l=a.end,c=l-o,s=r?l:o-1,u=this.__iteratees__,g=u.length,d=0,I=Bn(c,this.__takeCount__);if(!n||!r&&i==c&&I==c)return bi(e,this.__actions__);var b=[];e:for(;c--&&d<I;){for(var h=-1,f=e[s+=t];++h<g;){var C=u[h],p=C.iteratee,B=C.type,m=p(f);if(2==B)f=m;else if(!m){if(1==B)continue e;break e}}b[d++]=f}return b},Vn.prototype.at=bo,Vn.prototype.chain=function(){return go(this)},Vn.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=dl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var r=Oa(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ln){var t=e;return this.__actions__.length&&(t=new Ln(this)),(t=t.reverse()).__actions__.push({func:Io,args:[$a],thisArg:i}),new Yn(t,this.__chain__)}return this.thru($a)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return bi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Ke&&(Vn.prototype[Ke]=function(){return this}),Vn}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),g=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},b={};function h(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var C=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}function B(e,t,n,r){var i=f.hasOwnProperty(t)?f[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!g.call(b,e)||!g.call(I,e)&&(d.test(e)?b[e]=!0:(I[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(C,p);f[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(C,p);f[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(C,p);f[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),X=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var T,D=Object.assign;function O(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return"\n"+T+e}var M=!1;function V(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(1!==o||1!==l)do{if(o--,0>--l||i[o]!==a[l]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=l);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function W(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function R(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Portal";case Q:return"Profiler";case x:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case G:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function L(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function _(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function P(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=L(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&B(e,"checked",t,!1)}function q(e,t){K(e,t);var n=L(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,L(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&_(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+L(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:L(n)}}function ae(e,t){var n=L(t.value),r=L(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ue,ge=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ie.hasOwnProperty(e)&&Ie[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ie).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ie[t]=Ie[e]}))}));var Ce=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var me=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,ve=null,xe=null;function Qe(e){if(e=Bi(e)){if("function"!==typeof ye)throw Error(a(280));var t=e.stateNode;t&&(t=Ai(t),ye(e.stateNode,e.type,t))}}function Fe(e){ve?xe?xe.push(e):xe=[e]:ve=e}function Ue(){if(ve){var e=ve,t=xe;if(xe=ve=null,Qe(e),t)for(e=0;e<t.length;e++)Qe(t[e])}}function Ge(e,t){return e(t)}function we(){}var Se=!1;function Ee(e,t,n){if(Se)return e(t,n);Se=!0;try{return Ge(e,t,n)}finally{Se=!1,(null!==ve||null!==xe)&&(we(),Ue())}}function Xe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ze=!1;if(u)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(ue){Ze=!1}function Ne(e,t,n,r,i,a,o,l,c){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(u){this.onError(u)}}var Te=!1,De=null,Oe=!1,Me=null,Ve={onError:function(e){Te=!0,De=e}};function We(e,t,n,r,i,a,o,l,c){Te=!1,De=null,Ne.apply(Ve,arguments)}function Re(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Le(e){if(Re(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Re(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Le(i),e;if(o===r)return Le(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=o;break}if(c===r){l=!0,r=i,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=i;break}if(c===r){l=!0,r=o,n=i;break}c=c.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var je=i.unstable_scheduleCallback,_e=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Pe=i.unstable_requestPaint,Ke=i.unstable_now,qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var st=64,ut=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~i;0!==l?r=gt(l):0!==(a&=o)&&(r=gt(a))}else 0!==(o=n&~i)?r=gt(o):0!==a&&(r=gt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function It(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=st;return 0===(4194240&(st<<=1))&&(st=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Bt=0;function mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,yt,vt,xt,Qt,Ft=!1,Ut=[],Gt=null,wt=null,St=null,Et=new Map,Xt=new Map,Zt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function Tt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Bi(t))&&yt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=pi(e.target);if(null!==t){var n=Re(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void Qt(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Bi(n))&&yt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);me=r,n.target.dispatchEvent(r),me=null,t.shift()}return!0}function Mt(e,t,n){Ot(e)&&n.delete(t)}function Vt(){Ft=!1,null!==Gt&&Ot(Gt)&&(Gt=null),null!==wt&&Ot(wt)&&(wt=null),null!==St&&Ot(St)&&(St=null),Et.forEach(Mt),Xt.forEach(Mt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Rt(e){function t(t){return Wt(t,e)}if(0<Ut.length){Wt(Ut[0],e);for(var n=1;n<Ut.length;n++){var r=Ut[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Gt&&Wt(Gt,e),null!==wt&&Wt(wt,e),null!==St&&Wt(St,e),Et.forEach(t),Xt.forEach(t),n=0;n<Zt.length;n++)(r=Zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&null===(n=Zt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Zt.shift()}var Yt=m.ReactCurrentBatchConfig,Lt=!0;function Ht(e,t,n,r){var i=Bt,a=Yt.transition;Yt.transition=null;try{Bt=1,jt(e,t,n,r)}finally{Bt=i,Yt.transition=a}}function zt(e,t,n,r){var i=Bt,a=Yt.transition;Yt.transition=null;try{Bt=4,jt(e,t,n,r)}finally{Bt=i,Yt.transition=a}}function jt(e,t,n,r){if(Lt){var i=Jt(e,t,n,r);if(null===i)Lr(e,t,r,_t,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Gt=Tt(Gt,e,t,n,r,i),!0;case"dragenter":return wt=Tt(wt,e,t,n,r,i),!0;case"mouseover":return St=Tt(St,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Et.set(a,Tt(Et.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Xt.set(a,Tt(Xt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<kt.indexOf(e)){for(;null!==i;){var a=Bi(i);if(null!==a&&At(a),null===(a=Jt(e,t,n,r))&&Lr(e,t,r,_t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Lr(e,t,r,null,n)}}var _t=null;function Jt(e,t,n,r){if(_t=null,null!==(e=pi(e=Ae(r))))if(null===(t=Re(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _t=e,null}function Pt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,cn,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(sn),gn=D({},sn,{view:0,detail:0}),dn=an(gn),In=D({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),bn=an(In),hn=an(D({},In,{dataTransfer:0})),fn=an(D({},gn,{relatedTarget:0})),Cn=an(D({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=D({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bn=an(pn),mn=an(D({},sn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function Qn(){return xn}var Fn=D({},gn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Un=an(Fn),Gn=an(D({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=an(D({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn})),Sn=an(D({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=D({},In,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=an(En),Zn=[9,13,27,32],kn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Tn=u&&"TextEvent"in window&&!Nn,Dn=u&&(!kn||Nn&&8<Nn&&11>=Nn),On=String.fromCharCode(32),Mn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Hn(e,t,n,r){Fe(r),0<(t=zr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,jn=null;function _n(e){Or(e,0)}function Jn(e){if(j(mi(e)))return e}function Pn(e,t){if("change"===e)return t}var Kn=!1;if(u){var qn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}qn=$n}else qn=!1;Kn=qn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),jn=zn=null)}function nr(e){if("value"===e.propertyName&&Jn(jn)){var t=[];Hn(t,jn,e,Ae(e)),Ee(_n,t)}}function rr(e,t,n){"focusin"===e?(tr(),jn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(jn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=_();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=_((e=t.contentWindow).document)}return t}function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function br(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gr(n.ownerDocument.documentElement,n)){if(null!==r&&Ir(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,fr=null,Cr=null,pr=null,Br=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Br||null==fr||fr!==_(r)||("selectionStart"in(r=fr)&&Ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&cr(pr,r)||(pr=r,0<(r=zr(Cr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},vr={},xr={};function Qr(e){if(vr[e])return vr[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return vr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Fr=Qr("animationend"),Ur=Qr("animationiteration"),Gr=Qr("animationstart"),wr=Qr("transitionend"),Sr=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){Sr.set(e,t),c(t,[e])}for(var Zr=0;Zr<Er.length;Zr++){var kr=Er[Zr];Xr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}Xr(Fr,"onAnimationEnd"),Xr(Ur,"onAnimationIteration"),Xr(Gr,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(wr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,l,c,s){if(We.apply(this,arguments),Te){if(!Te)throw Error(a(198));var u=De;Te=!1,De=null,Oe||(Oe=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,s=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Dr(i,l,s),a=c}else for(o=0;o<r.length;o++){if(c=(l=r[o]).instance,s=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Dr(i,l,s),a=c}}}if(Oe)throw e=Me,Oe=!1,Me=null,e}function Mr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Yr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Yr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Tr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Vr("selectionchange",!1,t))}}function Yr(e,t,n,r){switch(Pt(t)){case 1:var i=Ht;break;case 4:i=zt;break;default:i=jt}n=i.bind(null,t,n,e),i=void 0,!Ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==l;){if(null===(o=pi(l)))return;if(5===(c=o.tag)||6===c){r=a=o;continue e}l=l.parentNode}}r=r.return}Ee((function(){var r=a,i=Ae(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=un,s=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Un;break;case"focusin":s="focus",c=fn;break;case"focusout":s="blur",c=fn;break;case"beforeblur":case"afterblur":c=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case Fr:case Ur:case Gr:c=Cn;break;case wr:c=Sn;break;case"scroll":c=dn;break;case"wheel":c=Xn;break;case"copy":case"cut":case"paste":c=Bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Gn}var u=0!==(4&t),g=!u&&"scroll"===e,d=u?null!==l?l+"Capture":null:l;u=[];for(var I,b=r;null!==b;){var h=(I=b).stateNode;if(5===I.tag&&null!==h&&(I=h,null!==d&&(null!=(h=Xe(b,d))&&u.push(Hr(b,h,I)))),g)break;b=b.return}0<u.length&&(l=new c(l,s,null,n,i),o.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===me||!(s=n.relatedTarget||n.fromElement)||!pi(s)&&!s[bi])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(s=(s=n.relatedTarget||n.toElement)?pi(s):null)&&(s!==(g=Re(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(c=null,s=r),c!==s)){if(u=bn,h="onMouseLeave",d="onMouseEnter",b="mouse","pointerout"!==e&&"pointerover"!==e||(u=Gn,h="onPointerLeave",d="onPointerEnter",b="pointer"),g=null==c?l:mi(c),I=null==s?l:mi(s),(l=new u(h,b+"leave",c,n,i)).target=g,l.relatedTarget=I,h=null,pi(i)===r&&((u=new u(d,b+"enter",s,n,i)).target=I,u.relatedTarget=g,h=u),g=h,c&&s)e:{for(d=s,b=0,I=u=c;I;I=jr(I))b++;for(I=0,h=d;h;h=jr(h))I++;for(;0<b-I;)u=jr(u),b--;for(;0<I-b;)d=jr(d),I--;for(;b--;){if(u===d||null!==d&&u===d.alternate)break e;u=jr(u),d=jr(d)}u=null}else u=null;null!==c&&_r(o,l,c,u,!1),null!==s&&null!==g&&_r(o,g,s,u,!0)}if("select"===(c=(l=r?mi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var f=Pn;else if(Ln(l))if(Kn)f=or;else{f=ir;var C=rr}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(f=ar);switch(f&&(f=f(e,r))?Hn(o,f,n,i):(C&&C(e,l,r),"focusout"===e&&(C=l._wrapperState)&&C.controlled&&"number"===l.type&&ee(l,"number",l.value)),C=r?mi(r):window,e){case"focusin":(Ln(C)||"true"===C.contentEditable)&&(fr=C,Cr=r,pr=null);break;case"focusout":pr=Cr=fr=null;break;case"mousedown":Br=!0;break;case"contextmenu":case"mouseup":case"dragend":Br=!1,mr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":mr(o,n,i)}var p;if(kn)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Rn?Vn(e,n)&&(B="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(B="onCompositionStart");B&&(Dn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==B?"onCompositionEnd"===B&&Rn&&(p=en()):(qt="value"in(Kt=i)?Kt.value:Kt.textContent,Rn=!0)),0<(C=zr(r,B)).length&&(B=new mn(B,e,null,n,i),o.push({event:B,listeners:C}),p?B.data=p:null!==(p=Wn(n))&&(B.data=p))),(p=Tn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Mn=!0,On);case"textInput":return(e=t.data)===On&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!kn&&Vn(e,t)?(e=en(),$t=qt=Kt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(i=new mn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=p))}Or(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Xe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Xe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var l=n,c=l.alternate,s=l.stateNode;if(null!==c&&c===r)break;5===l.tag&&null!==s&&(l=s,i?null!=(c=Xe(n,a))&&o.unshift(Hr(n,c,l)):i||null!=(c=Xe(n,a))&&o.push(Hr(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Pr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Pr,"")}function qr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Rt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Rt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),di="__reactFiber$"+gi,Ii="__reactProps$"+gi,bi="__reactContainer$"+gi,hi="__reactEvents$"+gi,fi="__reactListeners$"+gi,Ci="__reactHandles$"+gi;function pi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function Bi(e){return!(e=e[di]||e[bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ai(e){return e[Ii]||null}var yi=[],vi=-1;function xi(e){return{current:e}}function Qi(e){0>vi||(e.current=yi[vi],yi[vi]=null,vi--)}function Fi(e,t){vi++,yi[vi]=e.current,e.current=t}var Ui={},Gi=xi(Ui),wi=xi(!1),Si=Ui;function Ei(e,t){var n=e.type.contextTypes;if(!n)return Ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Zi(){Qi(wi),Qi(Gi)}function ki(e,t,n){if(Gi.current!==Ui)throw Error(a(168));Fi(Gi,t),Fi(wi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,Y(e)||"Unknown",i));return D({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ui,Si=Gi.current,Fi(Gi,e),Fi(wi,wi.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Si),r.__reactInternalMemoizedMergedChildContext=e,Qi(wi),Qi(Gi),Fi(Gi,e)):Qi(wi),Fi(wi,n)}var Oi=null,Mi=!1,Vi=!1;function Wi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ri(){if(!Vi&&null!==Oi){Vi=!0;var e=0,t=Bt;try{var n=Oi;for(Bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Mi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),je($e,Ri),i}finally{Bt=t,Vi=!1}}return null}var Yi=[],Li=0,Hi=null,zi=0,ji=[],_i=0,Ji=null,Pi=1,Ki="";function qi(e,t){Yi[Li++]=zi,Yi[Li++]=Hi,Hi=e,zi=t}function $i(e,t,n){ji[_i++]=Pi,ji[_i++]=Ki,ji[_i++]=Ji,Ji=e;var r=Pi;e=Ki;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-ot(t)+i|n<<i|r,Ki=a+e}else Pi=1<<a|n<<i|r,Ki=e}function ea(e){null!==e.return&&(qi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=Yi[--Li],Yi[Li]=null,zi=Yi[--Li],Yi[Li]=null;for(;e===Ji;)Ji=ji[--_i],ji[_i]=null,Ki=ji[--_i],ji[_i]=null,Pi=ji[--_i],ji[_i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Xs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Pi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xs(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sa(e){if(ia){var t=ra;if(t){var n=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=si(n.nextSibling);var r=na;t&&la(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ga(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ca(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=si(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?si(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=si(e.nextSibling)}function Ia(){ra=na=null,ia=!1}function ba(e){null===aa?aa=[e]:aa.push(e)}var ha=m.ReactCurrentBatchConfig;function fa(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ca=xi(null),pa=null,Ba=null,ma=null;function Aa(){ma=Ba=pa=null}function ya(e){var t=Ca.current;Qi(Ca),e._currentValue=t}function va(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){pa=e,ma=Ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ml=!0),e.firstContext=null)}function Qa(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},null===Ba){if(null===pa)throw Error(a(308));Ba=e,pa.dependencies={lanes:0,firstContext:e}}else Ba=Ba.next=e;return t}var Fa=null;function Ua(e){null===Fa?Fa=[e]:Fa.push(e)}function Ga(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ua(t)):(n.next=i.next,i.next=n),t.interleaved=n,wa(e,r)}function wa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Sa=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&wc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ua(r)):(t.next=i.next,i.next=t),r.interleaved=t,wa(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;Sa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,s=c.next;c.next=null,null===o?a=s:o.next=s,o=c;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=s:l.next=s,u.lastBaseUpdate=c))}if(null!==a){var g=i.baseState;for(o=0,u=s=c=null,l=a;;){var d=l.lane,I=l.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,h=l;switch(d=t,I=n,h.tag){case 1:if("function"===typeof(b=h.payload)){g=b.call(I,g,d);break e}g=b;break e;case 3:b.flags=-65537&b.flags|128;case 0:if(null===(d="function"===typeof(b=h.payload)?b.call(I,g,d):b)||void 0===d)break e;g=D({},g,d);break e;case 2:Sa=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[l]:d.push(l))}else I={eventTime:I,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(s=u=I,c=g):u=u.next=I,o|=d;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(d=l).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=g),i.baseState=c,i.firstBaseUpdate=s,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dc|=o,e.lanes=o,e.memoizedState=g}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ma=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Re(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ts(),i=ns(e),a=Za(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ka(e,a,i))&&(rs(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ts(),i=ns(e),a=Za(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ka(e,a,i))&&(rs(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ts(),r=ns(e),i=Za(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ka(e,i,r))&&(rs(t,e,r,n),Na(t,e,r))}};function Ra(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,a))}function Ya(e,t,n){var r=!1,i=Ui,a=t.contextType;return"object"===typeof a&&null!==a?a=Qa(a):(i=Xi(t)?Si:Gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ei(e,i):Ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function La(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ma,Ea(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Qa(a):(a=Xi(t)?Si:Gi.current,i.context=Ei(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ma&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _a(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ks(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Os(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){var a=n.type;return a===v?g(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===X&&_a(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Ns(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ms(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function g(e,t,n,r,a){return null===t||7!==t.tag?((t=Ts(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Os(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Ns(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case y:return(t=Ms(t,e.mode,n)).return=e,t;case X:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Ts(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function I(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?s(e,t,n,r):null;case y:return n.key===i?u(e,t,n,r):null;case X:return I(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:g(e,t,n,r,null);ja(e,n)}return null}function b(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case X:return b(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return g(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function h(i,a,l,c){for(var s=null,u=null,g=a,h=a=0,f=null;null!==g&&h<l.length;h++){g.index>h?(f=g,g=null):f=g.sibling;var C=I(i,g,l[h],c);if(null===C){null===g&&(g=f);break}e&&g&&null===C.alternate&&t(i,g),a=o(C,a,h),null===u?s=C:u.sibling=C,u=C,g=f}if(h===l.length)return n(i,g),ia&&qi(i,h),s;if(null===g){for(;h<l.length;h++)null!==(g=d(i,l[h],c))&&(a=o(g,a,h),null===u?s=g:u.sibling=g,u=g);return ia&&qi(i,h),s}for(g=r(i,g);h<l.length;h++)null!==(f=b(g,i,h,l[h],c))&&(e&&null!==f.alternate&&g.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?s=f:u.sibling=f,u=f);return e&&g.forEach((function(e){return t(i,e)})),ia&&qi(i,h),s}function f(i,l,c,s){var u=N(c);if("function"!==typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var g=u=null,h=l,f=l=0,C=null,p=c.next();null!==h&&!p.done;f++,p=c.next()){h.index>f?(C=h,h=null):C=h.sibling;var B=I(i,h,p.value,s);if(null===B){null===h&&(h=C);break}e&&h&&null===B.alternate&&t(i,h),l=o(B,l,f),null===g?u=B:g.sibling=B,g=B,h=C}if(p.done)return n(i,h),ia&&qi(i,f),u;if(null===h){for(;!p.done;f++,p=c.next())null!==(p=d(i,p.value,s))&&(l=o(p,l,f),null===g?u=p:g.sibling=p,g=p);return ia&&qi(i,f),u}for(h=r(i,h);!p.done;f++,p=c.next())null!==(p=b(h,i,f,p.value,s))&&(e&&null!==p.alternate&&h.delete(null===p.key?f:p.key),l=o(p,l,f),null===g?u=p:g.sibling=p,g=p);return e&&h.forEach((function(e){return t(i,e)})),ia&&qi(i,f),u}return function e(r,a,o,c){if("object"===typeof o&&null!==o&&o.type===v&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case A:e:{for(var s=o.key,u=a;null!==u;){if(u.key===s){if((s=o.type)===v){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===X&&_a(s)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=za(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===v?((a=Ts(o.props.children,r.mode,c,o.key)).return=r,r=a):((c=Ns(o.type,o.key,o.props,null,r.mode,c)).ref=za(r,a,o),c.return=r,r=c)}return l(r);case y:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ms(o,r.mode,c)).return=r,r=a}return l(r);case X:return e(r,a,(u=o._init)(o._payload),c)}if(te(o))return h(r,a,o,c);if(N(o))return f(r,a,o,c);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Os(o,r.mode,c)).return=r,r=a),l(r)):n(r,a)}}var Pa=Ja(!0),Ka=Ja(!1),qa={},$a=xi(qa),eo=xi(qa),to=xi(qa);function no(e){if(e===qa)throw Error(a(174));return e}function ro(e,t){switch(Fi(to,t),Fi(eo,e),Fi($a,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Qi($a),Fi($a,t)}function io(){Qi($a),Qi(eo),Qi(to)}function ao(e){no(to.current);var t=no($a.current),n=ce(t,e.type);t!==n&&(Fi(eo,e),Fi($a,n))}function oo(e){eo.current===e&&(Qi($a),Qi(eo))}var lo=xi(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function uo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var go=m.ReactCurrentDispatcher,Io=m.ReactCurrentBatchConfig,bo=0,ho=null,fo=null,Co=null,po=!1,Bo=!1,mo=0,Ao=0;function yo(){throw Error(a(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(bo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?ll:cl,e=n(r,i),Bo){o=0;do{if(Bo=!1,mo=0,25<=o)throw Error(a(301));o+=1,Co=fo=null,t.updateQueue=null,go.current=sl,e=n(r,i)}while(Bo)}if(go.current=ol,t=null!==fo&&null!==fo.next,bo=0,Co=fo=ho=null,po=!1,t)throw Error(a(300));return e}function Qo(){var e=0!==mo;return mo=0,e}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Co?ho.memoizedState=Co=e:Co=Co.next=e,Co}function Uo(){if(null===fo){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===Co?ho.memoizedState:Co.next;if(null!==t)Co=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===Co?ho.memoizedState=Co=e:Co=Co.next=e}return Co}function Go(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=Uo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=l=null,s=null,u=o;do{var g=u.lane;if((bo&g)===g)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(c=s=d,l=r):s=s.next=d,ho.lanes|=g,Dc|=g}u=u.next}while(null!==u&&u!==o);null===s?l=r:s.next=c,lr(r,t.memoizedState)||(ml=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ho.lanes|=o,Dc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=Uo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);lr(o,t.memoizedState)||(ml=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function Xo(e,t){var n=ho,r=Uo(),i=t(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,ml=!0),r=r.queue,Lo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Co&&1&Co.memoizedState.tag){if(n.flags|=2048,Mo(9,ko.bind(null,n,r,i,t),void 0,null),null===Sc)throw Error(a(349));0!==(30&bo)||Zo(n,t,i)}return i}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&Do(e)}function No(e,t,n){return n((function(){To(t)&&Do(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Do(e){var t=wa(e,1);null!==t&&rs(t,e,1,-1)}function Oo(e){var t=Fo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ho,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Uo().memoizedState}function Wo(e,t,n,r){var i=Fo();ho.flags|=e,i.memoizedState=Mo(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=Uo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&vo(r,o.deps))return void(i.memoizedState=Mo(t,n,a,r))}ho.flags|=e,i.memoizedState=Mo(1|t,n,a,r)}function Yo(e,t){return Wo(8390656,8,e,t)}function Lo(e,t){return Ro(2048,8,e,t)}function Ho(e,t){return Ro(4,2,e,t)}function zo(e,t){return Ro(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,jo.bind(null,t,e),n)}function Jo(){}function Po(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&bo)?(e.baseState&&(e.baseState=!1,ml=!0),e.memoizedState=n):(lr(n,t)||(n=ht(),ho.lanes|=n,Dc|=n,e.baseState=!0),t)}function $o(e,t){var n=Bt;Bt=0!==n&&4>n?n:4,e(!0);var r=Io.transition;Io.transition={};try{e(!1),t()}finally{Bt=n,Io.transition=r}}function el(){return Uo().memoizedState}function tl(e,t,n){var r=ns(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Ga(e,t,n,r))){rs(n,e,r,ts()),al(n,t,r)}}function nl(e,t,n){var r=ns(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,o)){var c=t.interleaved;return null===c?(i.next=i,Ua(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(s){}null!==(n=Ga(e,t,i,r))&&(rs(n,e,r,i=ts()),al(n,t,r))}}function rl(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function il(e,t){Bo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}var ol={readContext:Qa,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},ll={readContext:Qa,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Qa,useEffect:Yo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=Fo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:Oo,useDebugValue:Jo,useDeferredValue:function(e){return Fo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=$o.bind(null,e[1]),Fo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ho,i=Fo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Sc)throw Error(a(349));0!==(30&bo)||Zo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Yo(No.bind(null,r,o,e),[e]),r.flags|=2048,Mo(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Fo(),t=Sc.identifierPrefix;if(ia){var n=Ki;t=":"+t+"R"+(n=(Pi&~(1<<32-ot(Pi)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ao++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cl={readContext:Qa,useCallback:Po,useContext:Qa,useEffect:Lo,useImperativeHandle:_o,useInsertionEffect:Ho,useLayoutEffect:zo,useMemo:Ko,useReducer:wo,useRef:Vo,useState:function(){return wo(Go)},useDebugValue:Jo,useDeferredValue:function(e){return qo(Uo(),fo.memoizedState,e)},useTransition:function(){return[wo(Go)[0],Uo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:Xo,useId:el,unstable_isNewReconciler:!1},sl={readContext:Qa,useCallback:Po,useContext:Qa,useEffect:Lo,useImperativeHandle:_o,useInsertionEffect:Ho,useLayoutEffect:zo,useMemo:Ko,useReducer:So,useRef:Vo,useState:function(){return So(Go)},useDebugValue:Jo,useDeferredValue:function(e){var t=Uo();return null===fo?t.memoizedState=e:qo(t,fo.memoizedState,e)},useTransition:function(){return[So(Go)[0],Uo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:Xo,useId:el,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function gl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Il="function"===typeof WeakMap?WeakMap:Map;function bl(e,t,n){(n=Za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,zc=r),dl(0,t)},n}function hl(e,t,n){(n=Za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof r&&(null===jc?jc=new Set([this]):jc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Il;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Fs.bind(null,e,t,n),t.then(e,e))}function Cl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Za(-1,1)).tag=2,ka(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Bl=m.ReactCurrentOwner,ml=!1;function Al(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Pa(t,e.child,n,r)}function yl(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Qo(),null===e||ml?(ia&&n&&ea(t),t.flags|=1,Al(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function vl(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Zs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ns(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xl(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=ks(a,r)).ref=t.ref,e.return=t,t.child=e}function xl(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(ml=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);0!==(131072&e.flags)&&(ml=!0)}}return Ul(e,t,n,r,i)}function Ql(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(kc,Zc),Zc|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fi(kc,Zc),Zc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Fi(kc,Zc),Zc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fi(kc,Zc),Zc|=r;return Al(e,t,i,n),t.child}function Fl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ul(e,t,n,r,i){var a=Xi(n)?Si:Gi.current;return a=Ei(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Qo(),null===e||ml?(ia&&r&&ea(t),t.flags|=1,Al(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Gl(e,t,n,r,i){if(Xi(n)){var a=!0;Ti(t)}else a=!1;if(xa(t,i),null===t.stateNode)Ll(e,t),Ya(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,s=n.contextType;"object"===typeof s&&null!==s?s=Qa(s):s=Ei(t,s=Xi(n)?Si:Gi.current);var u=n.getDerivedStateFromProps,g="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;g||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||c!==s)&&La(t,o,r,s),Sa=!1;var d=t.memoizedState;o.state=d,Da(t,r,o,i),c=t.memoizedState,l!==r||d!==c||wi.current||Sa?("function"===typeof u&&(Va(t,n,u,r),c=t.memoizedState),(l=Sa||Ra(t,n,l,r,d,c,s))?(g||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xa(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:fa(t.type,l),o.props=s,g=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Qa(c):c=Ei(t,c=Xi(n)?Si:Gi.current);var I=n.getDerivedStateFromProps;(u="function"===typeof I||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==g||d!==c)&&La(t,o,r,c),Sa=!1,d=t.memoizedState,o.state=d,Da(t,r,o,i);var b=t.memoizedState;l!==g||d!==b||wi.current||Sa?("function"===typeof I&&(Va(t,n,I,r),b=t.memoizedState),(s=Sa||Ra(t,n,s,r,d,b,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,b,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,b,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=s):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return wl(e,t,n,r,a,i)}function wl(e,t,n,r,i,a){Fl(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Hl(e,t,a);r=t.stateNode,Bl.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Pa(t,e.child,null,a),t.child=Pa(t,null,l,a)):Al(e,t,l,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Sl(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),ro(e,t.containerInfo)}function El(e,t,n,r,i){return Ia(),ba(i),t.flags|=256,Al(e,t,n,r),t.child}var Xl,Zl,kl,Nl,Tl={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ol(e,t,n){var r,i=t.pendingProps,o=lo.current,l=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Fi(lo,1&o),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,l?(i=t.mode,l=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=c):l=Ds(c,i,0,null),e=Ts(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dl(n),t.memoizedState=Tl,e):Ml(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,l){if(n)return 256&t.flags?(t.flags&=-257,Vl(e,t,l,r=gl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ds({mode:"visible",children:r.children},i,0,null),(o=Ts(o,i,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Pa(t,e.child,null,l),t.child.memoizedState=Dl(l),t.memoizedState=Tl,o);if(0===(1&t.mode))return Vl(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Vl(e,t,l,r=gl(o=Error(a(419)),r,void 0))}if(c=0!==(l&e.childLanes),ml||c){if(null!==(r=Sc)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==o.retryLane&&(o.retryLane=i,wa(e,i),rs(r,e,i,-1))}return fs(),Vl(e,t,l,r=gl(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Gs.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=si(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(ji[_i++]=Pi,ji[_i++]=Ki,ji[_i++]=Ji,Pi=e.id,Ki=e.overflow,Ji=t),t=Ml(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(l){l=i.fallback,c=t.mode,r=(o=e.child).sibling;var s={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=s,t.deletions=null):(i=ks(o,s)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=ks(r,l):(l=Ts(l,c,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,c=null===(c=e.child.memoizedState)?Dl(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~n,t.memoizedState=Tl,i}return e=(l=e.child).sibling,i=ks(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ml(e,t){return(t=Ds({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,n,r){return null!==r&&ba(r),Pa(t,e.child,null,n),(e=Ml(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),va(e.return,t,n)}function Rl(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Yl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Al(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wl(e,n,t);else if(19===e.tag)Wl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fi(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rl(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rl(t,!0,n,null,a);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _l(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jl(t),null;case 1:case 17:return Xi(t.type)&&Zi(),jl(t),null;case 3:return r=t.stateNode,io(),Qi(wi),Qi(Gi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ga(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ls(aa),aa=null))),Zl(e,t),jl(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)kl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return jl(t),null}if(e=no($a.current),ga(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[Ii]=o,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Mr(Nr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":P(r,o),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mr("invalid",r);break;case"textarea":ie(r,o),Mr("invalid",r)}for(var c in pe(n,o),i=null,o)if(o.hasOwnProperty(c)){var s=o[c];"children"===c?"string"===typeof s?r.textContent!==s&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,s,e),i=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,s,e),i=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&Mr("scroll",r)}switch(n){case"input":z(r),$(r,o,!0);break;case"textarea":z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[Ii]=r,Xl(e,t,!1,!1),t.stateNode=e;e:{switch(c=Be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Mr(Nr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":P(e,r),i=J(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(o in pe(n,i),s=i)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?fe(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ge(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Mr("scroll",e):null!=u&&B(e,o,u,c))}switch(n){case"input":z(e),$(e,r,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+L(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return jl(t),null;case 6:if(e&&null!=t.stateNode)Nl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),ga(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return jl(t),null;case 13:if(Qi(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),Ia(),t.flags|=98560,o=!1;else if(o=ga(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else Ia(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;jl(t),o=!1}else null!==aa&&(ls(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Nc&&(Nc=3):fs())),null!==t.updateQueue&&(t.flags|=4),jl(t),null);case 4:return io(),Zl(e,t),null===e&&Rr(t.stateNode.containerInfo),jl(t),null;case 10:return ya(t.type._context),jl(t),null;case 19:if(Qi(lo),null===(o=t.memoizedState))return jl(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)zl(o,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,zl(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fi(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Yc&&(t.flags|=128,r=!0,zl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!ia)return jl(t),null}else 2*Ke()-o.renderingStartTime>Yc&&1073741824!==n&&(t.flags|=128,r=!0,zl(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=lo.current,Fi(lo,r?1&n|2:1&n),t):(jl(t),null);case 22:case 23:return ds(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Zc)&&(jl(t),6&t.subtreeFlags&&(t.flags|=8192)):jl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Jl(e,t){switch(ta(t),t.tag){case 1:return Xi(t.type)&&Zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Qi(wi),Qi(Gi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Qi(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ia()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Qi(lo),null;case 4:return io(),null;case 10:return ya(t.type._context),null;case 22:case 23:return ds(),null;default:return null}}Xl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Zl=function(){},kl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in pe(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&s!==c&&(null!=s||null!=c))if("style"===u)if(c){for(a in c)!c.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&c[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,c=c?c.__html:void 0,null!=s&&c!==s&&(o=o||[]).push(u,s)):"children"===u?"string"!==typeof s&&"number"!==typeof s||(o=o||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&Mr("scroll",e),o||c===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Nl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Pl=!1,Kl=!1,ql="function"===typeof WeakSet?WeakSet:Set,$l=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Qs(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Qs(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tc(t,n,a)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ac(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[Ii],delete t[hi],delete t[fi],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(sc(e,t,n),e=e.sibling;null!==e;)sc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var gc=null,dc=!1;function Ic(e,t,n){for(n=n.child;null!==n;)bc(e,t,n),n=n.sibling}function bc(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Kl||ec(n,t);case 6:var r=gc,i=dc;gc=null,Ic(e,t,n),dc=i,null!==(gc=r)&&(dc?(e=gc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gc.removeChild(n.stateNode));break;case 18:null!==gc&&(dc?(e=gc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Rt(e)):ci(gc,n.stateNode));break;case 4:r=gc,i=dc,gc=n.stateNode.containerInfo,dc=!0,Ic(e,t,n),gc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tc(n,t,o),i=i.next}while(i!==r)}Ic(e,t,n);break;case 1:if(!Kl&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qs(n,t,l)}Ic(e,t,n);break;case 21:Ic(e,t,n);break;case 22:1&n.mode?(Kl=(r=Kl)||null!==n.memoizedState,Ic(e,t,n),Kl=r):Ic(e,t,n);break;default:Ic(e,t,n)}}function hc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ql),t.forEach((function(t){var r=ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,c=l;e:for(;null!==c;){switch(c.tag){case 5:gc=c.stateNode,dc=!1;break e;case 3:case 4:gc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===gc)throw Error(a(160));bc(o,l,i),gc=null,dc=!1;var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(u){Qs(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cc(t,e),t=t.sibling}function Cc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fc(t,e),pc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(f){Qs(e,e.return,f)}try{rc(5,e,e.return)}catch(f){Qs(e,e.return,f)}}break;case 1:fc(t,e),pc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(fc(t,e),pc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(f){Qs(e,e.return,f)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,c=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===c&&"radio"===o.type&&null!=o.name&&K(i,o),Be(c,l);var u=Be(c,o);for(l=0;l<s.length;l+=2){var g=s[l],d=s[l+1];"style"===g?fe(i,d):"dangerouslySetInnerHTML"===g?ge(i,d):"children"===g?de(i,d):B(i,g,d,u)}switch(c){case"input":q(i,o);break;case"textarea":ae(i,o);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;null!=b?ne(i,!!o.multiple,b,!1):I!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ii]=o}catch(f){Qs(e,e.return,f)}}break;case 6:if(fc(t,e),pc(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(f){Qs(e,e.return,f)}}break;case 3:if(fc(t,e),pc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Rt(t.containerInfo)}catch(f){Qs(e,e.return,f)}break;case 4:default:fc(t,e),pc(e);break;case 13:fc(t,e),pc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Rc=Ke())),4&r&&hc(e);break;case 22:if(g=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(u=Kl)||g,fc(t,e),Kl=u):fc(t,e),pc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!g&&0!==(1&e.mode))for($l=e,g=e.child;null!==g;){for(d=$l=g;null!==$l;){switch(b=(I=$l).child,I.tag){case 0:case 11:case 14:case 15:rc(4,I,I.return);break;case 1:ec(I,I.return);var h=I.stateNode;if("function"===typeof h.componentWillUnmount){r=I,n=I.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(f){Qs(r,n,f)}}break;case 5:ec(I,I.return);break;case 22:if(null!==I.memoizedState){yc(d);continue}}null!==b?(b.return=I,$l=b):yc(d)}g=g.sibling}e:for(g=null,d=e;;){if(5===d.tag){if(null===g){g=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,l=void 0!==(s=d.memoizedProps.style)&&null!==s&&s.hasOwnProperty("display")?s.display:null,c.style.display=he("display",l))}catch(f){Qs(e,e.return,f)}}}else if(6===d.tag){if(null===g)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(f){Qs(e,e.return,f)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fc(t,e),pc(e),4&r&&hc(e);case 21:}}function pc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lc(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;sc(e,cc(e),o);break;default:throw Error(a(161))}}catch(l){Qs(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bc(e,t,n){$l=e,mc(e,t,n)}function mc(e,t,n){for(var r=0!==(1&e.mode);null!==$l;){var i=$l,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Pl;if(!o){var l=i.alternate,c=null!==l&&null!==l.memoizedState||Kl;l=Pl;var s=Kl;if(Pl=o,(Kl=c)&&!s)for($l=i;null!==$l;)c=(o=$l).child,22===o.tag&&null!==o.memoizedState?vc(i):null!==c?(c.return=o,$l=c):vc(i);for(;null!==a;)$l=a,mc(a,t,n),a=a.sibling;$l=i,Pl=l,Kl=s}Ac(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$l=a):Ac(e)}}function Ac(e){for(;null!==$l;){var t=$l;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kl||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Kl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Oa(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oa(t,l,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var g=u.memoizedState;if(null!==g){var d=g.dehydrated;null!==d&&Rt(d)}}}break;default:throw Error(a(163))}Kl||512&t.flags&&ac(t)}catch(I){Qs(t,t.return,I)}}if(t===e){$l=null;break}if(null!==(n=t.sibling)){n.return=t.return,$l=n;break}$l=t.return}}function yc(e){for(;null!==$l;){var t=$l;if(t===e){$l=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$l=n;break}$l=t.return}}function vc(e){for(;null!==$l;){var t=$l;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Qs(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Qs(t,i,c)}}var a=t.return;try{ac(t)}catch(c){Qs(t,a,c)}break;case 5:var o=t.return;try{ac(t)}catch(c){Qs(t,o,c)}}}catch(c){Qs(t,t.return,c)}if(t===e){$l=null;break}var l=t.sibling;if(null!==l){l.return=t.return,$l=l;break}$l=t.return}}var xc,Qc=Math.ceil,Fc=m.ReactCurrentDispatcher,Uc=m.ReactCurrentOwner,Gc=m.ReactCurrentBatchConfig,wc=0,Sc=null,Ec=null,Xc=0,Zc=0,kc=xi(0),Nc=0,Tc=null,Dc=0,Oc=0,Mc=0,Vc=null,Wc=null,Rc=0,Yc=1/0,Lc=null,Hc=!1,zc=null,jc=null,_c=!1,Jc=null,Pc=0,Kc=0,qc=null,$c=-1,es=0;function ts(){return 0!==(6&wc)?Ke():-1!==$c?$c:$c=Ke()}function ns(e){return 0===(1&e.mode)?1:0!==(2&wc)&&0!==Xc?Xc&-Xc:null!==ha.transition?(0===es&&(es=ht()),es):0!==(e=Bt)?e:e=void 0===(e=window.event)?16:Pt(e.type)}function rs(e,t,n,r){if(50<Kc)throw Kc=0,qc=null,Error(a(185));Ct(e,n,r),0!==(2&wc)&&e===Sc||(e===Sc&&(0===(2&wc)&&(Oc|=n),4===Nc&&cs(e,Xc)),is(e,r),1===n&&0===wc&&0===(1&t.mode)&&(Yc=Ke()+500,Mi&&Ri()))}function is(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),l=1<<o,c=i[o];-1===c?0!==(l&n)&&0===(l&r)||(i[o]=It(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=dt(e,e===Sc?Xc:0);if(0===r)null!==n&&_e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&_e(n),1===t)0===e.tag?function(e){Mi=!0,Wi(e)}(ss.bind(null,e)):Wi(ss.bind(null,e)),oi((function(){0===(6&wc)&&Ri()})),n=null;else{switch(mt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ss(n,as.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function as(e,t){if($c=-1,es=0,0!==(6&wc))throw Error(a(327));var n=e.callbackNode;if(vs()&&e.callbackNode!==n)return null;var r=dt(e,e===Sc?Xc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Cs(e,r);else{t=r;var i=wc;wc|=2;var o=hs();for(Sc===e&&Xc===t||(Lc=null,Yc=Ke()+500,Is(e,t));;)try{Bs();break}catch(c){bs(e,c)}Aa(),Fc.current=o,wc=i,null!==Ec?t=0:(Sc=null,Xc=0,t=Nc)}if(0!==t){if(2===t&&(0!==(i=bt(e))&&(r=i,t=os(e,i))),1===t)throw n=Tc,Is(e,0),cs(e,r),is(e,Ke()),n;if(6===t)cs(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cs(e,r))&&(0!==(o=bt(e))&&(r=o,t=os(e,o))),1===t))throw n=Tc,Is(e,0),cs(e,r),is(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:ys(e,Wc,Lc);break;case 3:if(cs(e,r),(130023424&r)===r&&10<(t=Rc+500-Ke())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ts(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(ys.bind(null,e,Wc,Lc),t);break}ys(e,Wc,Lc);break;case 4:if(cs(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-ot(r);o=1<<l,(l=t[l])>i&&(i=l),r&=~o}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qc(r/1960))-r)){e.timeoutHandle=ri(ys.bind(null,e,Wc,Lc),r);break}ys(e,Wc,Lc);break;default:throw Error(a(329))}}}return is(e,Ke()),e.callbackNode===n?as.bind(null,e):null}function os(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),2!==(e=Cs(e,t))&&(t=Wc,Wc=n,null!==t&&ls(t)),e}function ls(e){null===Wc?Wc=e:Wc.push.apply(Wc,e)}function cs(e,t){for(t&=~Mc,t&=~Oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ss(e){if(0!==(6&wc))throw Error(a(327));vs();var t=dt(e,0);if(0===(1&t))return is(e,Ke()),null;var n=Cs(e,t);if(0!==e.tag&&2===n){var r=bt(e);0!==r&&(t=r,n=os(e,r))}if(1===n)throw n=Tc,Is(e,0),cs(e,t),is(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ys(e,Wc,Lc),is(e,Ke()),null}function us(e,t){var n=wc;wc|=1;try{return e(t)}finally{0===(wc=n)&&(Yc=Ke()+500,Mi&&Ri())}}function gs(e){null!==Jc&&0===Jc.tag&&0===(6&wc)&&vs();var t=wc;wc|=1;var n=Gc.transition,r=Bt;try{if(Gc.transition=null,Bt=1,e)return e()}finally{Bt=r,Gc.transition=n,0===(6&(wc=t))&&Ri()}}function ds(){Zc=kc.current,Qi(kc)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ec)for(n=Ec.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Zi();break;case 3:io(),Qi(wi),Qi(Gi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Qi(lo);break;case 10:ya(r.type._context);break;case 22:case 23:ds()}n=n.return}if(Sc=e,Ec=e=ks(e.current,null),Xc=Zc=t,Nc=0,Tc=null,Mc=Oc=Dc=0,Wc=Vc=null,null!==Fa){for(t=0;t<Fa.length;t++)if(null!==(r=(n=Fa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Fa=null}return e}function bs(e,t){for(;;){var n=Ec;try{if(Aa(),go.current=ol,po){for(var r=ho.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(bo=0,Co=fo=ho=null,Bo=!1,mo=0,Uc.current=null,null===n||null===n.return){Nc=1,Tc=t,Ec=null;break}e:{var o=e,l=n.return,c=n,s=t;if(t=Xc,c.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s,g=c,d=g.tag;if(0===(1&g.mode)&&(0===d||11===d||15===d)){var I=g.alternate;I?(g.updateQueue=I.updateQueue,g.memoizedState=I.memoizedState,g.lanes=I.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Cl(l);if(null!==b){b.flags&=-257,pl(b,l,c,0,t),1&b.mode&&fl(o,u,t),s=u;var h=(t=b).updateQueue;if(null===h){var f=new Set;f.add(s),t.updateQueue=f}else h.add(s);break e}if(0===(1&t)){fl(o,u,t),fs();break e}s=Error(a(426))}else if(ia&&1&c.mode){var C=Cl(l);if(null!==C){0===(65536&C.flags)&&(C.flags|=256),pl(C,l,c,0,t),ba(ul(s,c));break e}}o=s=ul(s,c),4!==Nc&&(Nc=2),null===Vc?Vc=[o]:Vc.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,bl(0,s,t));break e;case 1:c=s;var p=o.type,B=o.stateNode;if(0===(128&o.flags)&&("function"===typeof p.getDerivedStateFromError||null!==B&&"function"===typeof B.componentDidCatch&&(null===jc||!jc.has(B)))){o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,hl(o,c,t));break e}}o=o.return}while(null!==o)}As(n)}catch(m){t=m,Ec===n&&null!==n&&(Ec=n=n.return);continue}break}}function hs(){var e=Fc.current;return Fc.current=ol,null===e?ol:e}function fs(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===Sc||0===(268435455&Dc)&&0===(268435455&Oc)||cs(Sc,Xc)}function Cs(e,t){var n=wc;wc|=2;var r=hs();for(Sc===e&&Xc===t||(Lc=null,Is(e,t));;)try{ps();break}catch(i){bs(e,i)}if(Aa(),wc=n,Fc.current=r,null!==Ec)throw Error(a(261));return Sc=null,Xc=0,Nc}function ps(){for(;null!==Ec;)ms(Ec)}function Bs(){for(;null!==Ec&&!Je();)ms(Ec)}function ms(e){var t=xc(e.alternate,e,Zc);e.memoizedProps=e.pendingProps,null===t?As(e):Ec=t,Uc.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=_l(n,t,Zc)))return void(Ec=n)}else{if(null!==(n=Jl(n,t)))return n.flags&=32767,void(Ec=n);if(null===e)return Nc=6,void(Ec=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ec=t);Ec=t=e}while(null!==t);0===Nc&&(Nc=5)}function ys(e,t,n){var r=Bt,i=Gc.transition;try{Gc.transition=null,Bt=1,function(e,t,n,r){do{vs()}while(null!==Jc);if(0!==(6&wc))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Sc&&(Ec=Sc=null,Xc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||_c||(_c=!0,Ss(tt,(function(){return vs(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Gc.transition,Gc.transition=null;var l=Bt;Bt=1;var c=wc;wc|=4,Uc.current=null,function(e,t){if(ei=Lt,Ir(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(A){n=null;break e}var l=0,c=-1,s=-1,u=0,g=0,d=e,I=null;t:for(;;){for(var b;d!==n||0!==i&&3!==d.nodeType||(c=l+i),d!==o||0!==r&&3!==d.nodeType||(s=l+r),3===d.nodeType&&(l+=d.nodeValue.length),null!==(b=d.firstChild);)I=d,d=b;for(;;){if(d===e)break t;if(I===n&&++u===i&&(c=l),I===o&&++g===r&&(s=l),null!==(b=d.nextSibling))break;I=(d=I).parentNode}d=b}n=-1===c||-1===s?null:{start:c,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Lt=!1,$l=t;null!==$l;)if(e=(t=$l).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$l=e;else for(;null!==$l;){t=$l;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var f=h.memoizedProps,C=h.memoizedState,p=t.stateNode,B=p.getSnapshotBeforeUpdate(t.elementType===t.type?f:fa(t.type,f),C);p.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var m=t.stateNode.containerInfo;1===m.nodeType?m.textContent="":9===m.nodeType&&m.documentElement&&m.removeChild(m.documentElement);break;default:throw Error(a(163))}}catch(A){Qs(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,$l=e;break}$l=t.return}h=nc,nc=!1}(e,n),Cc(n,e),br(ti),Lt=!!ei,ti=ei=null,e.current=n,Bc(n,e,i),Pe(),wc=c,Bt=l,Gc.transition=o}else e.current=n;if(_c&&(_c=!1,Jc=e,Pc=i),o=e.pendingLanes,0===o&&(jc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),is(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=zc,zc=null,e;0!==(1&Pc)&&0!==e.tag&&vs(),o=e.pendingLanes,0!==(1&o)?e===qc?Kc++:(Kc=0,qc=e):Kc=0,Ri()}(e,t,n,r)}finally{Gc.transition=i,Bt=r}return null}function vs(){if(null!==Jc){var e=mt(Pc),t=Gc.transition,n=Bt;try{if(Gc.transition=null,Bt=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,Pc=0,0!==(6&wc))throw Error(a(331));var i=wc;for(wc|=4,$l=e.current;null!==$l;){var o=$l,l=o.child;if(0!==(16&$l.flags)){var c=o.deletions;if(null!==c){for(var s=0;s<c.length;s++){var u=c[s];for($l=u;null!==$l;){var g=$l;switch(g.tag){case 0:case 11:case 15:rc(8,g,o)}var d=g.child;if(null!==d)d.return=g,$l=d;else for(;null!==$l;){var I=(g=$l).sibling,b=g.return;if(oc(g),g===u){$l=null;break}if(null!==I){I.return=b,$l=I;break}$l=b}}}var h=o.alternate;if(null!==h){var f=h.child;if(null!==f){h.child=null;do{var C=f.sibling;f.sibling=null,f=C}while(null!==f)}}$l=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,$l=l;else e:for(;null!==$l;){if(0!==(2048&(o=$l).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var p=o.sibling;if(null!==p){p.return=o.return,$l=p;break e}$l=o.return}}var B=e.current;for($l=B;null!==$l;){var m=(l=$l).child;if(0!==(2064&l.subtreeFlags)&&null!==m)m.return=l,$l=m;else e:for(l=B;null!==$l;){if(0!==(2048&(c=$l).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(y){Qs(c,c.return,y)}if(c===l){$l=null;break e}var A=c.sibling;if(null!==A){A.return=c.return,$l=A;break e}$l=c.return}}if(wc=i,Ri(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(y){}r=!0}return r}finally{Bt=n,Gc.transition=t}}return!1}function xs(e,t,n){e=ka(e,t=bl(0,t=ul(n,t),1),1),t=ts(),null!==e&&(Ct(e,1,t),is(e,t))}function Qs(e,t,n){if(3===e.tag)xs(e,e,n);else for(;null!==t;){if(3===t.tag){xs(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===jc||!jc.has(r))){t=ka(t,e=hl(t,e=ul(n,e),1),1),e=ts(),null!==t&&(Ct(t,1,e),is(t,e));break}}t=t.return}}function Fs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ts(),e.pingedLanes|=e.suspendedLanes&n,Sc===e&&(Xc&n)===n&&(4===Nc||3===Nc&&(130023424&Xc)===Xc&&500>Ke()-Rc?Is(e,0):Mc|=n),is(e,t)}function Us(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ts();null!==(e=wa(e,t))&&(Ct(e,t,n),is(e,n))}function Gs(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Us(e,n)}function ws(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Us(e,n)}function Ss(e,t){return je(e,t)}function Es(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(e,t,n,r){return new Es(e,t,n,r)}function Zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ks(e,t){var n=e.alternate;return null===n?((n=Xs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ns(e,t,n,r,i,o){var l=2;if(r=e,"function"===typeof e)Zs(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case v:return Ts(n.children,i,o,t);case x:l=8,i|=8;break;case Q:return(e=Xs(12,n,t,2|i)).elementType=Q,e.lanes=o,e;case w:return(e=Xs(13,n,t,i)).elementType=w,e.lanes=o,e;case S:return(e=Xs(19,n,t,i)).elementType=S,e.lanes=o,e;case Z:return Ds(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case F:l=10;break e;case U:l=9;break e;case G:l=11;break e;case E:l=14;break e;case X:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Xs(l,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ts(e,t,n,r){return(e=Xs(7,e,r,t)).lanes=n,e}function Ds(e,t,n,r){return(e=Xs(22,e,r,t)).elementType=Z,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return(e=Xs(6,e,null,t)).lanes=n,e}function Ms(e,t,n){return(t=Xs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vs(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ws(e,t,n,r,i,a,o,l,c){return e=new Vs(e,t,n,l,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Xs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ea(a),e}function Rs(e){if(!e)return Ui;e:{if(Re(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Xi(n))return Ni(e,n,t)}return t}function Ys(e,t,n,r,i,a,o,l,c){return(e=Ws(n,r,!0,e,0,a,0,l,c)).context=Rs(null),n=e.current,(a=Za(r=ts(),i=ns(n))).callback=void 0!==t&&null!==t?t:null,ka(n,a,i),e.current.lanes=i,Ct(e,i,r),is(e,r),e}function Ls(e,t,n,r){var i=t.current,a=ts(),o=ns(i);return n=Rs(n),null===t.context?t.context=n:t.pendingContext=n,(t=Za(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ka(i,t,o))&&(rs(e,i,o,a),Na(e,i,o)),o}function Hs(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function js(e,t){zs(e,t),(e=e.alternate)&&zs(e,t)}xc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wi.current)ml=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ml=!1,function(e,t,n){switch(t.tag){case 3:Sl(t),Ia();break;case 5:ao(t);break;case 1:Xi(t.type)&&Ti(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fi(Ca,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fi(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ol(e,t,n):(Fi(lo,1&lo.current),null!==(e=Hl(e,t,n))?e.sibling:null);Fi(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Yl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fi(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ql(e,t,n)}return Hl(e,t,n)}(e,t,n);ml=0!==(131072&e.flags)}else ml=!1,ia&&0!==(1048576&t.flags)&&$i(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ll(e,t),e=t.pendingProps;var i=Ei(t,Gi.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Qo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xi(r)?(o=!0,Ti(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ea(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=wl(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),Al(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Zs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===G)return 11;if(e===E)return 14}return 2}(r),e=fa(r,e),i){case 0:t=Ul(null,t,r,e,n);break e;case 1:t=Gl(null,t,r,e,n);break e;case 11:t=yl(null,t,r,e,n);break e;case 14:t=vl(null,t,r,fa(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ul(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gl(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 3:e:{if(Sl(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Xa(e,t),Da(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=El(e,t,r,n,i=ul(Error(a(423)),t));break e}if(r!==i){t=El(e,t,r,n,i=ul(Error(a(424)),t));break e}for(ra=si(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ia(),r===i){t=Hl(e,t,n);break e}Al(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&sa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==o&&ni(r,o)&&(t.flags|=32),Fl(e,t),Al(e,t,l,n),t.child;case 6:return null===e&&sa(t),null;case 13:return Ol(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Pa(t,null,r,n):Al(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,yl(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 7:return Al(e,t,t.pendingProps,n),t.child;case 8:case 12:return Al(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Fi(Ca,r._currentValue),r._currentValue=l,null!==o)if(lr(o.value,l)){if(o.children===i.children&&!wi.current){t=Hl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){l=o.child;for(var s=c.firstContext;null!==s;){if(s.context===r){if(1===o.tag){(s=Za(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var g=(u=u.shared).pending;null===g?s.next=s:(s.next=g.next,g.next=s),u.pending=s}}o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),va(o.return,n,t),c.lanes|=n;break}s=s.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(a(341));l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),va(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Al(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Qa(i)),t.flags|=1,Al(e,t,r,n),t.child;case 14:return i=fa(r=t.type,t.pendingProps),vl(e,t,r,i=fa(r.type,i),n);case 15:return xl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fa(r,i),Ll(e,t),t.tag=1,Xi(r)?(e=!0,Ti(t)):e=!1,xa(t,n),Ya(t,r,i),Ha(t,r,i,n),wl(null,t,r,!0,e,n);case 19:return Yl(e,t,n);case 22:return Ql(e,t,n)}throw Error(a(156,t.tag))};var _s="function"===typeof reportError?reportError:function(e){console.error(e)};function Js(e){this._internalRoot=e}function Ps(e){this._internalRoot=e}function Ks(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $s(){}function eu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var l=i;i=function(){var e=Hs(o);l.call(e)}}Ls(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hs(o);a.call(e)}}var o=Ys(t,r,e,0,null,!1,0,"",$s);return e._reactRootContainer=o,e[bi]=o.current,Rr(8===e.nodeType?e.parentNode:e),gs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Hs(c);l.call(e)}}var c=Ws(e,0,!1,null,0,!1,0,"",$s);return e._reactRootContainer=c,e[bi]=c.current,Rr(8===e.nodeType?e.parentNode:e),gs((function(){Ls(t,c,n,r)})),c}(n,t,e,i,r);return Hs(o)}Ps.prototype.render=Js.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ls(e,t,null,null)},Ps.prototype.unmount=Js.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gs((function(){Ls(null,e,null,null)})),t[bi]=null}},Ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&0!==t&&t<Zt[n].priority;n++);Zt.splice(n,0,e),0===n&&Dt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gt(t.pendingLanes);0!==n&&(pt(t,1|n),is(t,Ke()),0===(6&wc)&&(Yc=Ke()+500,Ri()))}break;case 13:gs((function(){var t=wa(e,1);if(null!==t){var n=ts();rs(t,e,1,n)}})),js(e,1)}},yt=function(e){if(13===e.tag){var t=wa(e,134217728);if(null!==t)rs(t,e,134217728,ts());js(e,134217728)}},vt=function(e){if(13===e.tag){var t=ns(e),n=wa(e,t);if(null!==n)rs(n,e,t,ts());js(e,t)}},xt=function(){return Bt},Qt=function(e,t){var n=Bt;try{return Bt=e,t()}finally{Bt=n}},ye=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(a(90));j(r),q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ge=us,we=gs;var tu={usingClientEntryPoint:!1,Events:[Bi,mi,Ai,Fe,Ue,us]},nu={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ks(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ks(e))throw Error(a(299));var n=!1,r="",i=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ws(e,1,!1,null,0,n,0,r,i),e[bi]=t.current,Rr(8===e.nodeType?e.parentNode:e),new Js(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return gs(e)},t.hydrate=function(e,t,n){if(!qs(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ks(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",l=_s;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Ys(t,null,e,1,null!=n?n:null,i,0,o,l),e[bi]=t.current,Rr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ps(t)},t.render=function(e,t,n){if(!qs(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qs(e))throw Error(a(40));return!!e._reactRootContainer&&(gs((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[bi]=null}))})),!0)},t.unstable_batchedUpdates=us,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qs(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,a={},s=null,u=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:s,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=s,t.jsxs=s},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),I=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,f={};function C(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||b}function p(){}function B(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||b}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},p.prototype=C.prototype;var m=B.prototype=new p;m.constructor=B,h(m,C.prototype),m.isPureReactComponent=!0;var A=Array.isArray,y=Object.prototype.hasOwnProperty,v={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,r){var i,a={},o=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)y.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+2];a.children=s}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===a[i]&&(a[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:l,props:a,_owner:v.current}}function F(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var U=/\/+/g;function G(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function w(e,t,i,a,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===a?"."+G(c,0):a,A(o)?(i="",null!=e&&(i=e.replace(U,"$&/")+"/"),w(o,t,i,"",(function(e){return e}))):null!=o&&(F(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(U,"$&/")+"/")+e)),t.push(o)),1;if(c=0,a=""===a?".":a+":",A(e))for(var s=0;s<e.length;s++){var u=a+G(l=e[s],s);c+=w(l,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),s=0;!(l=e.next()).done;)c+=w(l=l.value,t,i,u=a+G(l,s++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function S(e,t,n){if(null==e)return e;var r=[],i=0;return w(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var X={current:null},Z={transition:null},k={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:Z,ReactCurrentOwner:v};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=C,t.Fragment=i,t.Profiler=o,t.PureComponent=B,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=h({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=v.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(s in t)y.call(t,s)&&!x.hasOwnProperty(s)&&(i[s]=void 0===t[s]&&void 0!==c?c[s]:t[s])}var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){c=Array(s);for(var u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=Q,t.createFactory=function(e){var t=Q.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=Z.transition;Z.transition={};try{e()}finally{Z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return X.current.useCallback(e,t)},t.useContext=function(e){return X.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return X.current.useDeferredValue(e)},t.useEffect=function(e,t){return X.current.useEffect(e,t)},t.useId=function(){return X.current.useId()},t.useImperativeHandle=function(e,t,n){return X.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return X.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return X.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return X.current.useMemo(e,t)},t.useReducer=function(e,t,n){return X.current.useReducer(e,t,n)},t.useRef=function(e){return X.current.useRef(e)},t.useState=function(e){return X.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return X.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return X.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,c=e[l],s=l+1,u=e[s];if(0>a(c,n))s<i&&0>a(u,c)?(e[r]=u,e[s]=n,r=s):(e[r]=c,e[l]=n,r=l);else{if(!(s<i&&0>a(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var s=[],u=[],g=1,d=null,I=3,b=!1,h=!1,f=!1,C="function"===typeof setTimeout?setTimeout:null,p="function"===typeof clearTimeout?clearTimeout:null,B="undefined"!==typeof setImmediate?setImmediate:null;function m(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(s,t)}t=r(u)}}function A(e){if(f=!1,m(e),!h)if(null!==r(s))h=!0,Z(y);else{var t=r(u);null!==t&&k(A,t.startTime-e)}}function y(e,n){h=!1,f&&(f=!1,p(F),F=-1),b=!0;var a=I;try{for(m(n),d=r(s);null!==d&&(!(d.expirationTime>n)||e&&!w());){var o=d.callback;if("function"===typeof o){d.callback=null,I=d.priorityLevel;var l=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?d.callback=l:d===r(s)&&i(s),m(n)}else i(s);d=r(s)}if(null!==d)var c=!0;else{var g=r(u);null!==g&&k(A,g.startTime-n),c=!1}return c}finally{d=null,I=a,b=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var v,x=!1,Q=null,F=-1,U=5,G=-1;function w(){return!(t.unstable_now()-G<U)}function S(){if(null!==Q){var e=t.unstable_now();G=e;var n=!0;try{n=Q(!0,e)}finally{n?v():(x=!1,Q=null)}}else x=!1}if("function"===typeof B)v=function(){B(S)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,X=E.port2;E.port1.onmessage=S,v=function(){X.postMessage(null)}}else v=function(){C(S,0)};function Z(e){Q=e,x||(x=!0,v())}function k(e,n){F=C((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||b||(h=!0,Z(y))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return r(s)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:g++,callback:i,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(s)&&e===r(u)&&(f?(p(F),F=-1):f=!0,k(A,a-o))):(e.sortIndex=l,n(s,e),h||b||(h=!0,Z(y))),e},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},5225:function(module){var I;self,I=function(){return function(){var __webpack_modules__={773:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ src)\n});\n\n// NAMESPACE OBJECT: ./src/parser.ts\nvar src_parser_namespaceObject = {};\n__webpack_require__.r(src_parser_namespaceObject);\n__webpack_require__.d(src_parser_namespaceObject, {\n  "convert": () => (convert)\n});\n\n;// CONCATENATED MODULE: ./src/elements/ExcalidrawScene.ts\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ExcalidrawScene = /*#__PURE__*/function () {\n  function ExcalidrawScene() {\n    var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, ExcalidrawScene);\n\n    _defineProperty(this, "type", "excalidraw");\n\n    _defineProperty(this, "version", 2);\n\n    _defineProperty(this, "source", "https://excalidraw.com");\n\n    _defineProperty(this, "elements", []);\n\n    this.elements = elements;\n  }\n\n  _createClass(ExcalidrawScene, [{\n    key: "toExJSON",\n    value: function toExJSON() {\n      return _objectSpread(_objectSpread({}, this), {}, {\n        elements: this.elements.map(function (el) {\n          return _objectSpread({}, el);\n        })\n      });\n    }\n  }]);\n\n  return ExcalidrawScene;\n}();\n\n/* harmony default export */ const elements_ExcalidrawScene = (ExcalidrawScene);\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/common.js\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== \'undefined\' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/mat4.js\n\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction create() {\n  var out = new ARRAY_TYPE(16);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction clone(a) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str(a) {\n  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4\'s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix\'s elements by\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4\'s after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b\'s elements by before adding\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction mat4_equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nvar mul = (/* unused pure expression or super */ null && (multiply));\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nvar sub = (/* unused pure expression or super */ null && (subtract));\n;// CONCATENATED MODULE: ./node_modules/roughjs/bin/math.js\nfunction randomSeed() {\n    return Math.floor(Math.random() * 2 ** 31);\n}\nclass Random {\n    constructor(seed) {\n        this.seed = seed;\n    }\n    next() {\n        if (this.seed) {\n            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;\n        }\n        else {\n            return Math.random();\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./node_modules/nanoid/index.prod.js\n// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\n\n\nif (false) {}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = \'\'\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| \'\'` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || \'\'\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = \'\'\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += \'_\'\n    } else {\n      id += \'-\'\n    }\n  }\n  return id\n}\n\n\n\n;// CONCATENATED MODULE: ./src/utils.ts\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar utils_random = new Random(Date.now());\nvar randomInteger = function randomInteger() {\n  return Math.floor(utils_random.next() * Math.pow(2, 31));\n};\nvar randomId = function randomId() {\n  return nanoid();\n};\nvar safeNumber = function safeNumber(number) {\n  return Number(number.toFixed(2));\n};\nfunction dimensionsFromPoints(points) {\n  var xCoords = points.map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        x = _ref2[0];\n\n    return x;\n  });\n  var yCoords = points.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        y = _ref4[1];\n\n    return y;\n  });\n  var minX = Math.min.apply(Math, _toConsumableArray(xCoords));\n  var minY = Math.min.apply(Math, _toConsumableArray(yCoords));\n  var maxX = Math.max.apply(Math, _toConsumableArray(xCoords));\n  var maxY = Math.max.apply(Math, _toConsumableArray(yCoords));\n  return [maxX - minX, maxY - minY];\n} // winding order is clockwise values is positive, counter clockwise if negative.\n\nfunction getWindingOrder(points) {\n  var total = points.reduce(function (acc, _ref5, idx, arr) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        x1 = _ref6[0],\n        y1 = _ref6[1];\n\n    var p2 = arr[idx + 1];\n    var x2 = p2 ? p2[0] : 0;\n    var y2 = p2 ? p2[1] : 0;\n    var e = (x2 - x1) * (y2 + y1);\n    return e + acc;\n  }, 0);\n  return total > 0 ? "clockwise" : "counterclockwise";\n}\n// EXTERNAL MODULE: ./node_modules/chroma-js/chroma.js\nvar chroma = __webpack_require__(792);\nvar chroma_default = /*#__PURE__*/__webpack_require__.n(chroma);\n;// CONCATENATED MODULE: ./src/attributes.ts\nfunction attributes_toConsumableArray(arr) { return attributes_arrayWithoutHoles(arr) || attributes_iterableToArray(arr) || attributes_unsupportedIterableToArray(arr) || attributes_nonIterableSpread(); }\n\nfunction attributes_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction attributes_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return attributes_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return attributes_arrayLikeToArray(o, minLen); }\n\nfunction attributes_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction attributes_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return attributes_arrayLikeToArray(arr); }\n\nfunction attributes_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nfunction hexWithAlpha(color, alpha) {\n  return chroma_default()(color).alpha(alpha).css();\n}\nfunction has(el, attr) {\n  return el.hasAttribute(attr);\n}\nfunction get(el, attr, backup) {\n  return el.getAttribute(attr) || backup || "";\n}\nfunction getNum(el, attr, backup) {\n  var numVal = Number(get(el, attr));\n  return numVal === NaN ? backup || 0 : numVal;\n}\nvar presAttrs = {\n  stroke: "stroke",\n  "stroke-opacity": "stroke-opacity",\n  "stroke-width": "stroke-width",\n  fill: "fill",\n  "fill-opacity": "fill-opacity",\n  opacity: "opacity"\n};\nvar attrHandlers = {\n  stroke: function stroke(_ref) {\n    var el = _ref.el,\n        exVals = _ref.exVals;\n    var strokeColor = get(el, "stroke");\n    exVals.strokeColor = has(el, "stroke-opacity") ? hexWithAlpha(strokeColor, getNum(el, "stroke-opacity")) : strokeColor;\n  },\n  "stroke-opacity": function strokeOpacity(_ref2) {\n    var el = _ref2.el,\n        exVals = _ref2.exVals;\n    exVals.strokeColor = hexWithAlpha(get(el, "stroke", "#000000"), getNum(el, "stroke-opacity"));\n  },\n  "stroke-width": function strokeWidth(_ref3) {\n    var el = _ref3.el,\n        exVals = _ref3.exVals;\n    exVals.strokeWidth = getNum(el, "stroke-width");\n  },\n  fill: function fill(_ref4) {\n    var el = _ref4.el,\n        exVals = _ref4.exVals;\n    var fill = get(el, "fill");\n    exVals.backgroundColor = fill === "none" ? "#00000000" : fill;\n  },\n  "fill-opacity": function fillOpacity(_ref5) {\n    var el = _ref5.el,\n        exVals = _ref5.exVals;\n    exVals.backgroundColor = hexWithAlpha(get(el, "fill", "#000000"), getNum(el, "fill-opacity"));\n  },\n  opacity: function opacity(_ref6) {\n    var el = _ref6.el,\n        exVals = _ref6.exVals;\n    exVals.opacity = getNum(el, "opacity", 100);\n  }\n}; // Presentation Attributes for SVG Elements:\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation\n\nfunction presAttrsToElementValues(el) {\n  var exVals = attributes_toConsumableArray(el.attributes).reduce(function (exVals, attr) {\n    var name = attr.name;\n\n    if (Object.keys(attrHandlers).includes(name)) {\n      attrHandlers[name]({\n        el: el,\n        exVals: exVals\n      });\n    }\n\n    return exVals;\n  }, {});\n\n  return exVals;\n}\nfunction filterAttrsToElementValues(el) {\n  var filterVals = {};\n\n  if (has(el, "x")) {\n    filterVals.x = getNum(el, "x");\n  }\n\n  if (has(el, "y")) {\n    filterVals.y = getNum(el, "y");\n  }\n\n  if (has(el, "width")) {\n    filterVals.width = getNum(el, "width");\n  }\n\n  if (has(el, "height")) {\n    filterVals.height = getNum(el, "height");\n  }\n\n  return filterVals;\n}\nfunction pointsAttrToPoints(el) {\n  var points = [];\n\n  if (has(el, "points")) {\n    points = get(el, "points").split(" ").map(function (p) {\n      return p.split(",").map(parseFloat);\n    });\n  }\n\n  return points;\n}\n;// CONCATENATED MODULE: ./src/elements/Group.ts\nfunction Group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction Group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Group_ownKeys(Object(source), true).forEach(function (key) { Group_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction Group_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction getGroupAttrs(groups) {\n  return groups.reduce(function (acc, _ref) {\n    var element = _ref.element;\n    var elVals = presAttrsToElementValues(element);\n    return Group_objectSpread(Group_objectSpread({}, acc), elVals);\n  }, {});\n}\n\nvar Group = function Group(element) {\n  Group_classCallCheck(this, Group);\n\n  Group_defineProperty(this, "id", randomId());\n\n  Group_defineProperty(this, "element", void 0);\n\n  this.element = element;\n};\n\n/* harmony default export */ const elements_Group = (Group);\n;// CONCATENATED MODULE: ./src/elements/ExcalidrawElement.ts\nfunction ExcalidrawElement_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction ExcalidrawElement_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExcalidrawElement_ownKeys(Object(source), true).forEach(function (key) { ExcalidrawElement_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExcalidrawElement_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction ExcalidrawElement_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction createExElement() {\n  return {\n    id: randomId(),\n    x: 0,\n    y: 0,\n    strokeColor: "#000000",\n    backgroundColor: "#000000",\n    fillStyle: "solid",\n    strokeWidth: 1,\n    strokeStyle: "solid",\n    strokeSharpness: "sharp",\n    roughness: 0,\n    opacity: 100,\n    width: 0,\n    height: 0,\n    angle: 0,\n    seed: randomInteger(),\n    version: 0,\n    versionNonce: 0,\n    isDeleted: false,\n    groupIds: [],\n    boundElementIds: null\n  };\n}\nfunction createExRect() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "rectangle"\n  });\n}\nfunction createExLine() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "line",\n    points: []\n  });\n}\nfunction createExEllipse() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "ellipse"\n  });\n}\nfunction createExDraw() {\n  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {\n    type: "draw",\n    points: []\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/vec3.js\n\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_create() {\n  var out = new ARRAY_TYPE(3);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction vec3_length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction vec3_fromValues(x, y, z) {\n  var out = new ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3\'s after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3\'s\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3\'s\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly \'1\'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction vec3_rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction vec3_str(a) {\n  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction vec3_exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction vec3_equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nvar vec3_sub = (/* unused pure expression or super */ null && (vec3_subtract));\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nvar vec3_mul = (/* unused pure expression or super */ null && (vec3_multiply));\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nvar div = (/* unused pure expression or super */ null && (divide));\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nvar dist = (/* unused pure expression or super */ null && (distance));\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = (/* unused pure expression or super */ null && (squaredDistance));\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nvar len = (/* unused pure expression or super */ null && (vec3_length));\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = (/* unused pure expression or super */ null && (squaredLength));\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = vec3_create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n;// CONCATENATED MODULE: ./src/transform.ts\nfunction transform_slicedToArray(arr, i) { return transform_arrayWithHoles(arr) || transform_iterableToArrayLimit(arr, i) || transform_unsupportedIterableToArray(arr, i) || transform_nonIterableRest(); }\n\nfunction transform_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction transform_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return transform_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return transform_arrayLikeToArray(o, minLen); }\n\nfunction transform_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction transform_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction transform_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n/*\nSVG transform attr is a bit strange in that it can accept traditional\ncss transform string (at least per spec) as well as a it\'s own "unitless"\nversion of transform functions.\n\nhttps://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform\n*/\n\nvar transformFunctions = {\n  matrix: "matrix",\n  matrix3d: "matrix3d",\n  perspective: "perspective",\n  rotate: "rotate",\n  rotate3d: "rotate3d",\n  rotateX: "rotateX",\n  rotateY: "rotateY",\n  rotateZ: "rotateZ",\n  scale: "scale",\n  scale3d: "scale3d",\n  scaleX: "scaleX",\n  scaleY: "scaleY",\n  scaleZ: "scaleZ",\n  skew: "skew",\n  skewX: "skewX",\n  skewY: "skewY",\n  translate: "translate",\n  translate3d: "translate3d",\n  translateX: "translateX",\n  translateY: "translateY",\n  translateZ: "translateZ"\n};\nvar transformFunctionsArr = Object.keys(transformFunctions); // type Transform\n\nvar defaultUnits = {\n  matrix: "",\n  matrix3d: "",\n  perspective: "perspective",\n  rotate: "deg",\n  rotate3d: "deg",\n  rotateX: "deg",\n  rotateY: "deg",\n  rotateZ: "deg",\n  scale: "",\n  scale3d: "",\n  scaleX: "",\n  scaleY: "",\n  scaleZ: "",\n  skew: "skew",\n  skewX: "deg",\n  skewY: "deg",\n  translate: "px",\n  translate3d: "px",\n  translateX: "px",\n  translateY: "px",\n  translateZ: "px"\n}; // Convert between possible svg transform attribute values to css transform attribute values.\n\nvar svgTransformToCSSTransform = function svgTransformToCSSTransform(svgTransformStr) {\n  // Create transform function string "chunks", e.g "rotate(90deg)"\n  var tFuncs = svgTransformStr.match(/(\\w+)\\(([^)]*)\\)/g);\n\n  if (!tFuncs) {\n    return "";\n  }\n\n  var tFuncValues = tFuncs.map(function (tFuncStr) {\n    var _values;\n\n    var type = tFuncStr.split("(")[0];\n\n    if (!type) {\n      throw new Error("Unable to find transform name");\n    }\n\n    if (!transformFunctionsArr.includes(type)) {\n      throw new Error("transform function name \\"".concat(type, "\\" is not valid"));\n    } // get the arg/props of the transform function, e.g "90deg".\n\n\n    var tFuncParts = tFuncStr.match(/([-+]?[0-9]*\\.?[0-9]+)([a-z])*/g);\n\n    if (!tFuncParts) {\n      return {\n        type: type,\n        values: []\n      };\n    }\n\n    var values = tFuncParts.map(function (a) {\n      // Separate the arg value and unit. e.g ["90", "deg"]\n      var _a$matchAll = a.matchAll(/([-+]?[0-9]*\\.?[0-9]+)|([a-z])*/g),\n          _a$matchAll2 = transform_slicedToArray(_a$matchAll, 2),\n          value = _a$matchAll2[0],\n          unit = _a$matchAll2[1];\n\n      return {\n        unit: unit[0] || defaultUnits[type],\n        value: value[0]\n      };\n    }); // Not supporting x, y args of svg rotate transform yet...\n\n    if (values && type === "rotate" && ((_values = values) === null || _values === void 0 ? void 0 : _values.length) > 1) {\n      values = [values[0]];\n    }\n\n    return {\n      type: type,\n      values: values\n    };\n  }); // Generate a string of transform functions that can be set as a CSS Transform.\n\n  var csstransformStr = tFuncValues.map(function (_ref) {\n    var type = _ref.type,\n        values = _ref.values;\n    var valStr = values.map(function (_ref2) {\n      var unit = _ref2.unit,\n          value = _ref2.value;\n      return "".concat(value).concat(unit);\n    }).join(", ");\n    return "".concat(type, "(").concat(valStr, ")");\n  }).join(" ");\n  return csstransformStr;\n};\n\nvar createDOMMatrixFromSVGStr = function createDOMMatrixFromSVGStr(svgTransformStr) {\n  var cssTransformStr = svgTransformToCSSTransform(svgTransformStr);\n  return new DOMMatrix(cssTransformStr);\n};\nfunction getElementMatrix(el) {\n  if (el.hasAttribute("transform")) {\n    var elMat = new DOMMatrix(svgTransformToCSSTransform(el.getAttribute("transform") || ""));\n    return multiply(create(), create(), elMat.toFloat32Array());\n  }\n\n  return create();\n}\nfunction getTransformMatrix(el, groups) {\n  var accumMat = groups.map(function (_ref3) {\n    var element = _ref3.element;\n    return getElementMatrix(element);\n  }).concat([getElementMatrix(el)]).reduce(function (acc, mat) {\n    return multiply(acc, acc, mat);\n  }, create());\n  return accumMat;\n}\nfunction transformPoints(points, transform) {\n  return points.map(function (_ref4) {\n    var _ref5 = transform_slicedToArray(_ref4, 2),\n        x = _ref5[0],\n        y = _ref5[1];\n\n    var _vec3$transformMat = transformMat4(vec3_create(), vec3_fromValues(x, y, 1), transform),\n        _vec3$transformMat2 = transform_slicedToArray(_vec3$transformMat, 2),\n        newX = _vec3$transformMat2[0],\n        newY = _vec3$transformMat2[1];\n\n    return [newX, newY];\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/points-on-curve/lib/index.js\n// distance between 2 points\nfunction lib_distance(p1, p2) {\n    return Math.sqrt(distanceSq(p1, p2));\n}\n// distance between 2 points squared\nfunction distanceSq(p1, p2) {\n    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);\n}\n// Sistance squared from a point p to the line segment vw\nfunction distanceToSegmentSq(p, v, w) {\n    const l2 = distanceSq(v, w);\n    if (l2 === 0) {\n        return distanceSq(p, v);\n    }\n    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;\n    t = Math.max(0, Math.min(1, t));\n    return distanceSq(p, lib_lerp(v, w, t));\n}\nfunction lib_lerp(a, b, t) {\n    return [\n        a[0] + (b[0] - a[0]) * t,\n        a[1] + (b[1] - a[1]) * t,\n    ];\n}\n// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/\nfunction flatness(points, offset) {\n    const p1 = points[offset + 0];\n    const p2 = points[offset + 1];\n    const p3 = points[offset + 2];\n    const p4 = points[offset + 3];\n    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];\n    ux *= ux;\n    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];\n    uy *= uy;\n    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];\n    vx *= vx;\n    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];\n    vy *= vy;\n    if (ux < vx) {\n        ux = vx;\n    }\n    if (uy < vy) {\n        uy = vy;\n    }\n    return ux + uy;\n}\nfunction getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {\n    const outPoints = newPoints || [];\n    if (flatness(points, offset) < tolerance) {\n        const p0 = points[offset + 0];\n        if (outPoints.length) {\n            const d = lib_distance(outPoints[outPoints.length - 1], p0);\n            if (d > 1) {\n                outPoints.push(p0);\n            }\n        }\n        else {\n            outPoints.push(p0);\n        }\n        outPoints.push(points[offset + 3]);\n    }\n    else {\n        // subdivide\n        const t = .5;\n        const p1 = points[offset + 0];\n        const p2 = points[offset + 1];\n        const p3 = points[offset + 2];\n        const p4 = points[offset + 3];\n        const q1 = lib_lerp(p1, p2, t);\n        const q2 = lib_lerp(p2, p3, t);\n        const q3 = lib_lerp(p3, p4, t);\n        const r1 = lib_lerp(q1, q2, t);\n        const r2 = lib_lerp(q2, q3, t);\n        const red = lib_lerp(r1, r2, t);\n        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);\n        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);\n    }\n    return outPoints;\n}\nfunction simplify(points, distance) {\n    return simplifyPoints(points, 0, points.length, distance);\n}\n// Ramer\u2013Douglas\u2013Peucker algorithm\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction simplifyPoints(points, start, end, epsilon, newPoints) {\n    const outPoints = newPoints || [];\n    // find the most distance point from the endpoints\n    const s = points[start];\n    const e = points[end - 1];\n    let maxDistSq = 0;\n    let maxNdx = 1;\n    for (let i = start + 1; i < end - 1; ++i) {\n        const distSq = distanceToSegmentSq(points[i], s, e);\n        if (distSq > maxDistSq) {\n            maxDistSq = distSq;\n            maxNdx = i;\n        }\n    }\n    // if that point is too far, split\n    if (Math.sqrt(maxDistSq) > epsilon) {\n        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);\n        simplifyPoints(points, maxNdx, end, epsilon, outPoints);\n    }\n    else {\n        if (!outPoints.length) {\n            outPoints.push(s);\n        }\n        outPoints.push(e);\n    }\n    return outPoints;\n}\nfunction pointsOnBezierCurves(points, tolerance = 0.15, distance) {\n    const newPoints = [];\n    const numSegments = (points.length - 1) / 3;\n    for (let i = 0; i < numSegments; i++) {\n        const offset = i * 3;\n        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);\n    }\n    if (distance && distance > 0) {\n        return simplifyPoints(newPoints, 0, newPoints.length, distance);\n    }\n    return newPoints;\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/parser.js\nconst COMMAND = 0;\nconst NUMBER = 1;\nconst EOD = 2;\nconst PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };\nfunction tokenize(d) {\n    const tokens = new Array();\n    while (d !== \'\') {\n        if (d.match(/^([ \\t\\r\\n,]+)/)) {\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {\n            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };\n            d = d.substr(RegExp.$1.length);\n        }\n        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {\n            tokens[tokens.length] = { type: NUMBER, text: `${parseFloat(RegExp.$1)}` };\n            d = d.substr(RegExp.$1.length);\n        }\n        else {\n            return [];\n        }\n    }\n    tokens[tokens.length] = { type: EOD, text: \'\' };\n    return tokens;\n}\nfunction isType(token, type) {\n    return token.type === type;\n}\nfunction parsePath(d) {\n    const segments = [];\n    const tokens = tokenize(d);\n    let mode = \'BOD\';\n    let index = 0;\n    let token = tokens[index];\n    while (!isType(token, EOD)) {\n        let paramsCount = 0;\n        const params = [];\n        if (mode === \'BOD\') {\n            if (token.text === \'M\' || token.text === \'m\') {\n                index++;\n                paramsCount = PARAMS[token.text];\n                mode = token.text;\n            }\n            else {\n                return parsePath(\'M0,0\' + d);\n            }\n        }\n        else if (isType(token, NUMBER)) {\n            paramsCount = PARAMS[mode];\n        }\n        else {\n            index++;\n            paramsCount = PARAMS[token.text];\n            mode = token.text;\n        }\n        if ((index + paramsCount) < tokens.length) {\n            for (let i = index; i < index + paramsCount; i++) {\n                const numbeToken = tokens[i];\n                if (isType(numbeToken, NUMBER)) {\n                    params[params.length] = +numbeToken.text;\n                }\n                else {\n                    throw new Error(\'Param not a number: \' + mode + \',\' + numbeToken.text);\n                }\n            }\n            if (typeof PARAMS[mode] === \'number\') {\n                const segment = { key: mode, data: params };\n                segments.push(segment);\n                index += paramsCount;\n                token = tokens[index];\n                if (mode === \'M\')\n                    mode = \'L\';\n                if (mode === \'m\')\n                    mode = \'l\';\n            }\n            else {\n                throw new Error(\'Bad segment: \' + mode);\n            }\n        }\n        else {\n            throw new Error(\'Path data ended short\');\n        }\n    }\n    return segments;\n}\nfunction serialize(segments) {\n    const tokens = [];\n    for (const { key, data } of segments) {\n        tokens.push(key);\n        switch (key) {\n            case \'C\':\n            case \'c\':\n                tokens.push(data[0], `${data[1]},`, data[2], `${data[3]},`, data[4], data[5]);\n                break;\n            case \'S\':\n            case \'s\':\n            case \'Q\':\n            case \'q\':\n                tokens.push(data[0], `${data[1]},`, data[2], data[3]);\n                break;\n            default:\n                tokens.push(...data);\n                break;\n        }\n    }\n    return tokens.join(\' \');\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/absolutize.js\n// Translate relative commands to absolute commands\nfunction absolutize(segments) {\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    const out = [];\n    for (const { key, data } of segments) {\n        switch (key) {\n            case \'M\':\n                out.push({ key: \'M\', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case \'m\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'M\', data: [cx, cy] });\n                subx = cx;\n                suby = cy;\n                break;\n            case \'L\':\n                out.push({ key: \'L\', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case \'l\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'C\':\n                out.push({ key: \'C\', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                break;\n            case \'c\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'C\', data: newdata });\n                cx = newdata[4];\n                cy = newdata[5];\n                break;\n            }\n            case \'Q\':\n                out.push({ key: \'Q\', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case \'q\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'Q\', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case \'A\':\n                out.push({ key: \'A\', data: [...data] });\n                cx = data[5];\n                cy = data[6];\n                break;\n            case \'a\':\n                cx += data[5];\n                cy += data[6];\n                out.push({ key: \'A\', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });\n                break;\n            case \'H\':\n                out.push({ key: \'H\', data: [...data] });\n                cx = data[0];\n                break;\n            case \'h\':\n                cx += data[0];\n                out.push({ key: \'H\', data: [cx] });\n                break;\n            case \'V\':\n                out.push({ key: \'V\', data: [...data] });\n                cy = data[0];\n                break;\n            case \'v\':\n                cy += data[0];\n                out.push({ key: \'V\', data: [cy] });\n                break;\n            case \'S\':\n                out.push({ key: \'S\', data: [...data] });\n                cx = data[2];\n                cy = data[3];\n                break;\n            case \'s\': {\n                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));\n                out.push({ key: \'S\', data: newdata });\n                cx = newdata[2];\n                cy = newdata[3];\n                break;\n            }\n            case \'T\':\n                out.push({ key: \'T\', data: [...data] });\n                cx = data[0];\n                cy = data[1];\n                break;\n            case \'t\':\n                cx += data[0];\n                cy += data[1];\n                out.push({ key: \'T\', data: [cx, cy] });\n                break;\n            case \'Z\':\n            case \'z\':\n                out.push({ key: \'Z\', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n    }\n    return out;\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/normalize.js\n// Normalize path to include only M, L, C, and Z commands\nfunction normalize_normalize(segments) {\n    const out = [];\n    let lastType = \'\';\n    let cx = 0, cy = 0;\n    let subx = 0, suby = 0;\n    let lcx = 0, lcy = 0;\n    for (const { key, data } of segments) {\n        switch (key) {\n            case \'M\':\n                out.push({ key: \'M\', data: [...data] });\n                [cx, cy] = data;\n                [subx, suby] = data;\n                break;\n            case \'C\':\n                out.push({ key: \'C\', data: [...data] });\n                cx = data[4];\n                cy = data[5];\n                lcx = data[2];\n                lcy = data[3];\n                break;\n            case \'L\':\n                out.push({ key: \'L\', data: [...data] });\n                [cx, cy] = data;\n                break;\n            case \'H\':\n                cx = data[0];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'V\':\n                cy = data[0];\n                out.push({ key: \'L\', data: [cx, cy] });\n                break;\n            case \'S\': {\n                let cx1 = 0, cy1 = 0;\n                if (lastType === \'C\' || lastType === \'S\') {\n                    cx1 = cx + (cx - lcx);\n                    cy1 = cy + (cy - lcy);\n                }\n                else {\n                    cx1 = cx;\n                    cy1 = cy;\n                }\n                out.push({ key: \'C\', data: [cx1, cy1, ...data] });\n                lcx = data[0];\n                lcy = data[1];\n                cx = data[2];\n                cy = data[3];\n                break;\n            }\n            case \'T\': {\n                const [x, y] = data;\n                let x1 = 0, y1 = 0;\n                if (lastType === \'Q\' || lastType === \'T\') {\n                    x1 = cx + (cx - lcx);\n                    y1 = cy + (cy - lcy);\n                }\n                else {\n                    x1 = cx;\n                    y1 = cy;\n                }\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: \'C\', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case \'Q\': {\n                const [x1, y1, x, y] = data;\n                const cx1 = cx + 2 * (x1 - cx) / 3;\n                const cy1 = cy + 2 * (y1 - cy) / 3;\n                const cx2 = x + 2 * (x1 - x) / 3;\n                const cy2 = y + 2 * (y1 - y) / 3;\n                out.push({ key: \'C\', data: [cx1, cy1, cx2, cy2, x, y] });\n                lcx = x1;\n                lcy = y1;\n                cx = x;\n                cy = y;\n                break;\n            }\n            case \'A\': {\n                const r1 = Math.abs(data[0]);\n                const r2 = Math.abs(data[1]);\n                const angle = data[2];\n                const largeArcFlag = data[3];\n                const sweepFlag = data[4];\n                const x = data[5];\n                const y = data[6];\n                if (r1 === 0 || r2 === 0) {\n                    out.push({ key: \'C\', data: [cx, cy, x, y, x, y] });\n                    cx = x;\n                    cy = y;\n                }\n                else {\n                    if (cx !== x || cy !== y) {\n                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n                        curves.forEach(function (curve) {\n                            out.push({ key: \'C\', data: curve });\n                        });\n                        cx = x;\n                        cy = y;\n                    }\n                }\n                break;\n            }\n            case \'Z\':\n                out.push({ key: \'Z\', data: [] });\n                cx = subx;\n                cy = suby;\n                break;\n        }\n        lastType = key;\n    }\n    return out;\n}\nfunction degToRad(degrees) {\n    return (Math.PI * degrees) / 180;\n}\nfunction normalize_rotate(x, y, angleRad) {\n    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);\n    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);\n    return [X, Y];\n}\nfunction arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {\n    const angleRad = degToRad(angle);\n    let params = [];\n    let f1 = 0, f2 = 0, cx = 0, cy = 0;\n    if (recursive) {\n        [f1, f2, cx, cy] = recursive;\n    }\n    else {\n        [x1, y1] = normalize_rotate(x1, y1, -angleRad);\n        [x2, y2] = normalize_rotate(x2, y2, -angleRad);\n        const x = (x1 - x2) / 2;\n        const y = (y1 - y2) / 2;\n        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            r1 = h * r1;\n            r2 = h * r2;\n        }\n        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;\n        const r1Pow = r1 * r1;\n        const r2Pow = r2 * r2;\n        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;\n        const right = r1Pow * y * y + r2Pow * x * x;\n        const k = sign * Math.sqrt(Math.abs(left / right));\n        cx = k * r1 * y / r2 + (x1 + x2) / 2;\n        cy = k * -r2 * x / r1 + (y1 + y2) / 2;\n        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));\n        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));\n        if (x1 < cx) {\n            f1 = Math.PI - f1;\n        }\n        if (x2 < cx) {\n            f2 = Math.PI - f2;\n        }\n        if (f1 < 0) {\n            f1 = Math.PI * 2 + f1;\n        }\n        if (f2 < 0) {\n            f2 = Math.PI * 2 + f2;\n        }\n        if (sweepFlag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweepFlag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    let df = f2 - f1;\n    if (Math.abs(df) > (Math.PI * 120 / 180)) {\n        const f2old = f2;\n        const x2old = x2;\n        const y2old = y2;\n        if (sweepFlag && f2 > f1) {\n            f2 = f1 + (Math.PI * 120 / 180) * (1);\n        }\n        else {\n            f2 = f1 + (Math.PI * 120 / 180) * (-1);\n        }\n        x2 = cx + r1 * Math.cos(f2);\n        y2 = cy + r2 * Math.sin(f2);\n        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    const c1 = Math.cos(f1);\n    const s1 = Math.sin(f1);\n    const c2 = Math.cos(f2);\n    const s2 = Math.sin(f2);\n    const t = Math.tan(df / 4);\n    const hx = 4 / 3 * r1 * t;\n    const hy = 4 / 3 * r2 * t;\n    const m1 = [x1, y1];\n    const m2 = [x1 + hx * s1, y1 - hy * c1];\n    const m3 = [x2 + hx * s2, y2 - hy * c2];\n    const m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(params);\n    }\n    else {\n        params = [m2, m3, m4].concat(params);\n        const curves = [];\n        for (let i = 0; i < params.length; i += 3) {\n            const r1 = normalize_rotate(params[i][0], params[i][1], angleRad);\n            const r2 = normalize_rotate(params[i + 1][0], params[i + 1][1], angleRad);\n            const r3 = normalize_rotate(params[i + 2][0], params[i + 2][1], angleRad);\n            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);\n        }\n        return curves;\n    }\n}\n\n;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/points-on-path/lib/index.js\n\n\nfunction pointsOnPath(path, tolerance, distance) {\n    const segments = parsePath(path);\n    const normalized = normalize_normalize(absolutize(segments));\n    const sets = [];\n    let currentPoints = [];\n    let start = [0, 0];\n    let pendingCurve = [];\n    const appendPendingCurve = () => {\n        if (pendingCurve.length >= 4) {\n            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));\n        }\n        pendingCurve = [];\n    };\n    const appendPendingPoints = () => {\n        appendPendingCurve();\n        if (currentPoints.length) {\n            sets.push(currentPoints);\n            currentPoints = [];\n        }\n    };\n    for (const { key, data } of normalized) {\n        switch (key) {\n            case \'M\':\n                appendPendingPoints();\n                start = [data[0], data[1]];\n                currentPoints.push(start);\n                break;\n            case \'L\':\n                appendPendingCurve();\n                currentPoints.push([data[0], data[1]]);\n                break;\n            case \'C\':\n                if (!pendingCurve.length) {\n                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;\n                    pendingCurve.push([lastPoint[0], lastPoint[1]]);\n                }\n                pendingCurve.push([data[0], data[1]]);\n                pendingCurve.push([data[2], data[3]]);\n                pendingCurve.push([data[4], data[5]]);\n                break;\n            case \'Z\':\n                appendPendingCurve();\n                currentPoints.push([start[0], start[1]]);\n                break;\n        }\n    }\n    appendPendingPoints();\n    if (!distance) {\n        return sets;\n    }\n    const out = [];\n    for (const set of sets) {\n        const simplifiedSet = simplify(set, distance);\n        if (simplifiedSet.length) {\n            out.push(simplifiedSet);\n        }\n    }\n    return out;\n}\n\n;// CONCATENATED MODULE: ./src/walker.ts\nfunction walker_slicedToArray(arr, i) { return walker_arrayWithHoles(arr) || walker_iterableToArrayLimit(arr, i) || walker_unsupportedIterableToArray(arr, i) || walker_nonIterableRest(); }\n\nfunction walker_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction walker_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction walker_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction walker_toConsumableArray(arr) { return walker_arrayWithoutHoles(arr) || walker_iterableToArray(arr) || walker_unsupportedIterableToArray(arr) || walker_nonIterableSpread(); }\n\nfunction walker_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction walker_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return walker_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return walker_arrayLikeToArray(o, minLen); }\n\nfunction walker_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction walker_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return walker_arrayLikeToArray(arr); }\n\nfunction walker_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction walker_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction walker_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { walker_ownKeys(Object(source), true).forEach(function (key) { walker_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { walker_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction walker_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\nvar SUPPORTED_TAGS = ["svg", "path", "g", "use", "circle", "ellipse", "rect", "polyline", "polygon"];\n\nvar nodeValidator = function nodeValidator(node) {\n  if (SUPPORTED_TAGS.includes(node.tagName)) {\n    return NodeFilter.FILTER_ACCEPT;\n  }\n\n  return NodeFilter.FILTER_REJECT;\n};\n\nfunction createTreeWalker(dom) {\n  return document.createTreeWalker(dom, NodeFilter.SHOW_ALL, {\n    acceptNode: nodeValidator\n  });\n}\n\nvar walker_presAttrs = function presAttrs(el, groups) {\n  return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, getGroupAttrs(groups)), presAttrsToElementValues(el)), filterAttrsToElementValues(el));\n};\n\nvar skippedUseAttrs = ["id"];\nvar allwaysPassedUseAttrs = ["x", "y", "width", "height", "href", "xlink:href"];\n/*\n  "Most attributes on use do not override those already on the element\n  referenced by use. (This differs from how CSS style attributes override\n  those set \'earlier\' in the cascade). Only the attributes x, y, width,\n  height and href on the use element will override those set on the\n  referenced element. However, any other attributes not set on the referenced\n  element will be applied to the use element."\n\n  Situation 1: Attr is set on defEl, NOT on useEl\n    - result: use defEl attr\n  Situation 2: Attr is on useEl, NOT on defEl\n    - result: use the useEl attr\n  Situation 3: Attr is on both useEl and defEl\n    - result: use the defEl attr (Unless x, y, width, height, href, xlink:href)\n*/\n\nvar getDefElWithCorrectAttrs = function getDefElWithCorrectAttrs(defEl, useEl) {\n  var finalEl = walker_toConsumableArray(useEl.attributes).reduce(function (el, attr) {\n    if (skippedUseAttrs.includes(attr.value)) {\n      return el;\n    } // Does defEl have the attr? If so, use it, else use the useEl attr\n\n\n    if (!defEl.hasAttribute(attr.name) || allwaysPassedUseAttrs.includes(attr.name)) {\n      el.setAttribute(attr.name, useEl.getAttribute(attr.name) || "");\n    }\n\n    return el;\n  }, defEl.cloneNode());\n\n  return finalEl;\n};\n\nvar walkers = {\n  svg: function svg(args) {\n    walk(args, args.tw.nextNode());\n  },\n  g: function g(args) {\n    var nextArgs = walker_objectSpread(walker_objectSpread({}, args), {}, {\n      tw: createTreeWalker(args.tw.currentNode),\n      groups: [].concat(walker_toConsumableArray(args.groups), [new elements_Group(args.tw.currentNode)])\n    });\n\n    walk(nextArgs, nextArgs.tw.nextNode());\n    walk(args, args.tw.nextSibling());\n  },\n  use: function use(args) {\n    var root = args.root,\n        tw = args.tw,\n        scene = args.scene;\n    var useEl = tw.currentNode;\n    var id = useEl.getAttribute("href") || useEl.getAttribute("xlink:href");\n\n    if (!id) {\n      throw new Error("unable to get id of use element");\n    }\n\n    var defEl = root.querySelector(id);\n\n    if (!defEl) {\n      throw new Error("unable to find def element with id: ".concat(id));\n    }\n\n    var tempScene = new elements_ExcalidrawScene();\n    var finalEl = getDefElWithCorrectAttrs(defEl, useEl);\n    walk(walker_objectSpread(walker_objectSpread({}, args), {}, {\n      scene: tempScene,\n      tw: createTreeWalker(finalEl)\n    }), finalEl);\n    var exEl = tempScene.elements.pop();\n\n    if (!exEl) {\n      throw new Error("Unable to create ex element");\n    }\n\n    scene.elements.push(exEl);\n    walk(args, args.tw.nextNode());\n  },\n  circle: function circle(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var r = getNum(el, "r", 0);\n    var d = r * 2;\n    var x = getNum(el, "x", 0) + getNum(el, "cx", 0) - r;\n    var y = getNum(el, "y", 0) + getNum(el, "cy", 0) - r;\n    var mat = getTransformMatrix(el, groups); // @ts-ignore\n\n    var m = fromValues(d, 0, 0, 0, 0, d, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n\n    var circle = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      groupIds: groups.map(function (g) {\n        return g.id;\n      })\n    });\n\n    scene.elements.push(circle);\n    walk(args, tw.nextNode());\n  },\n  ellipse: function ellipse(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var rx = getNum(el, "rx", 0);\n    var ry = getNum(el, "ry", 0);\n    var cx = getNum(el, "cx", 0);\n    var cy = getNum(el, "cy", 0);\n    var x = getNum(el, "x", 0) + cx - rx;\n    var y = getNum(el, "y", 0) + cy - ry;\n    var w = rx * 2;\n    var h = ry * 2;\n    var mat = getTransformMatrix(el, groups);\n    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n\n    var ellipse = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      groupIds: groups.map(function (g) {\n        return g.id;\n      })\n    });\n\n    scene.elements.push(ellipse);\n    walk(args, tw.nextNode());\n  },\n  line: function line(args) {\n    // unimplemented\n    walk(args, args.tw.nextNode());\n  },\n  polygon: function polygon(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var points = pointsAttrToPoints(el);\n    var mat = getTransformMatrix(el, groups);\n    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points\n    // are relative to the first point.\n\n    var x = transformedPoints[0][0];\n    var y = transformedPoints[0][1];\n    var relativePoints = transformedPoints.map(function (_ref) {\n      var _ref2 = walker_slicedToArray(_ref, 2),\n          _x = _ref2[0],\n          _y = _ref2[1];\n\n      return [_x - x, _y - y];\n    });\n\n    var _dimensionsFromPoints = dimensionsFromPoints(relativePoints),\n        _dimensionsFromPoints2 = walker_slicedToArray(_dimensionsFromPoints, 2),\n        width = _dimensionsFromPoints2[0],\n        height = _dimensionsFromPoints2[1];\n\n    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {\n      points: relativePoints.concat([[0, 0]]),\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    scene.elements.push(line);\n    walk(args, args.tw.nextNode());\n  },\n  polyline: function polyline(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var mat = getTransformMatrix(el, groups);\n    var points = pointsAttrToPoints(el);\n    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points\n    // are relative to the first point.\n\n    var x = transformedPoints[0][0];\n    var y = transformedPoints[0][1];\n    var relativePoints = transformedPoints.map(function (_ref3) {\n      var _ref4 = walker_slicedToArray(_ref3, 2),\n          _x = _ref4[0],\n          _y = _ref4[1];\n\n      return [_x - x, _y - y];\n    });\n\n    var _dimensionsFromPoints3 = dimensionsFromPoints(relativePoints),\n        _dimensionsFromPoints4 = walker_slicedToArray(_dimensionsFromPoints3, 2),\n        width = _dimensionsFromPoints4[0],\n        height = _dimensionsFromPoints4[1];\n\n    var hasFill = has(el, "fill");\n    var fill = get(el, "fill");\n    var shouldFill = !hasFill || hasFill && fill !== "none";\n\n    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {\n      points: relativePoints.concat(shouldFill ? [[0, 0]] : []),\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    scene.elements.push(line);\n    walk(args, args.tw.nextNode());\n  },\n  rect: function rect(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var x = getNum(el, "x", 0);\n    var y = getNum(el, "y", 0);\n    var w = getNum(el, "width", 0);\n    var h = getNum(el, "height", 0);\n    var mat = getTransformMatrix(el, groups); // @ts-ignore\n\n    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);\n    var result = multiply(create(), mat, m);\n    /*\n    NOTE: Currently there doesn\'t seem to be a way to specify the border\n          radius of a rect within Excalidraw. This means that attributes\n          rx and ry can\'t be used.\n    */\n\n    var isRound = el.hasAttribute("rx") || el.hasAttribute("ry");\n\n    var rect = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExRect()), walker_presAttrs(el, groups)), {}, {\n      x: result[12],\n      y: result[13],\n      width: result[0],\n      height: result[5],\n      strokeSharpness: isRound ? "round" : "sharp"\n    });\n\n    scene.elements.push(rect);\n    walk(args, args.tw.nextNode());\n  },\n  path: function path(args) {\n    var tw = args.tw,\n        scene = args.scene,\n        groups = args.groups;\n    var el = tw.currentNode;\n    var mat = getTransformMatrix(el, groups);\n    var points = pointsOnPath(get(el, "d"));\n    var fillColor = get(el, "fill", "black");\n    var fillRule = get(el, "fill-rule", "nonzero");\n    var elements = [];\n    var localGroup = randomId();\n\n    switch (fillRule) {\n      case "nonzero":\n        var initialWindingOrder = "clockwise";\n        elements = points.map(function (pointArr, idx) {\n          var tPoints = transformPoints(pointArr, clone(mat));\n          var x = tPoints[0][0];\n          var y = tPoints[0][1];\n\n          var _dimensionsFromPoints5 = dimensionsFromPoints(tPoints),\n              _dimensionsFromPoints6 = walker_slicedToArray(_dimensionsFromPoints5, 2),\n              width = _dimensionsFromPoints6[0],\n              height = _dimensionsFromPoints6[1];\n\n          var relativePoints = tPoints.map(function (_ref5) {\n            var _ref6 = walker_slicedToArray(_ref5, 2),\n                _x = _ref6[0],\n                _y = _ref6[1];\n\n            return [_x - x, _y - y];\n          });\n          var windingOrder = getWindingOrder(relativePoints);\n\n          if (idx === 0) {\n            initialWindingOrder = windingOrder;\n            localGroup = randomId();\n          }\n\n          var backgroundColor = fillColor;\n\n          if (initialWindingOrder !== windingOrder) {\n            backgroundColor = "#FFFFFF";\n          }\n\n          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), {}, {\n            strokeWidth: 0,\n            strokeColor: "#00000000"\n          }, walker_presAttrs(el, groups)), {}, {\n            points: relativePoints,\n            backgroundColor: backgroundColor,\n            width: width,\n            height: height,\n            x: x + getNum(el, "x", 0),\n            y: y + getNum(el, "y", 0),\n            groupIds: [localGroup]\n          });\n        });\n        break;\n\n      case "evenodd":\n        elements = points.map(function (pointArr, idx) {\n          var tPoints = transformPoints(pointArr, clone(mat));\n          var x = tPoints[0][0];\n          var y = tPoints[0][1];\n\n          var _dimensionsFromPoints7 = dimensionsFromPoints(tPoints),\n              _dimensionsFromPoints8 = walker_slicedToArray(_dimensionsFromPoints7, 2),\n              width = _dimensionsFromPoints8[0],\n              height = _dimensionsFromPoints8[1];\n\n          var relativePoints = tPoints.map(function (_ref7) {\n            var _ref8 = walker_slicedToArray(_ref7, 2),\n                _x = _ref8[0],\n                _y = _ref8[1];\n\n            return [_x - x, _y - y];\n          });\n\n          if (idx === 0) {\n            localGroup = randomId();\n          }\n\n          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), walker_presAttrs(el, groups)), {}, {\n            points: relativePoints,\n            width: width,\n            height: height,\n            x: x + getNum(el, "x", 0),\n            y: y + getNum(el, "y", 0)\n          });\n        });\n        break;\n\n      default:\n    }\n\n    scene.elements = scene.elements.concat(elements);\n    walk(args, tw.nextNode());\n  }\n};\nfunction walk(args, nextNode) {\n  if (!nextNode) {\n    return;\n  }\n\n  var nodeName = nextNode.nodeName;\n\n  if (walkers[nodeName]) {\n    walkers[nodeName](args);\n  }\n}\n;// CONCATENATED MODULE: ./src/parser.ts\nfunction parser_toConsumableArray(arr) { return parser_arrayWithoutHoles(arr) || parser_iterableToArray(arr) || parser_unsupportedIterableToArray(arr) || parser_nonIterableSpread(); }\n\nfunction parser_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction parser_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parser_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parser_arrayLikeToArray(o, minLen); }\n\nfunction parser_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction parser_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parser_arrayLikeToArray(arr); }\n\nfunction parser_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\nvar convert = function convert(svgString) {\n  var parser = new DOMParser();\n  var svgDOM = parser.parseFromString(svgString, "image/svg+xml"); // was there a parsing error?\n\n  var errorsElements = svgDOM.querySelectorAll("parsererror");\n  var hasErrors = errorsElements.length > 0;\n  var content = null;\n\n  if (hasErrors) {\n    console.error("There were errors while parsing the given SVG: ", parser_toConsumableArray(errorsElements).map(function (el) {\n      return el.innerHTML;\n    }));\n  } else {\n    var tw = createTreeWalker(svgDOM);\n    var scene = new elements_ExcalidrawScene();\n    var groups = [];\n    walk({\n      tw: tw,\n      scene: scene,\n      groups: groups,\n      root: svgDOM\n    }, tw.nextNode());\n    content = scene.toExJSON();\n  }\n\n  return {\n    hasErrors: hasErrors,\n    errors: hasErrors ? errorsElements : null,\n    content: content\n  };\n};\n;// CONCATENATED MODULE: ./src/index.ts\n\n/* harmony default export */ const src = (src_parser_namespaceObject);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQXdCLFVBQUNDLEVBQUQ7QUFBQSxhQUFRQSxFQUFFLENBQUNvUCxTQUFYO0FBQUEsS0FBeEIsQ0FGRjtBQUlELEdBTEQsTUFLTztBQUNMLFFBQU0zRCxFQUFFLEdBQUdqQixnQkFBZ0IsQ0FBQ29FLE1BQUQsQ0FBM0I7QUFDQSxRQUFNM0MsS0FBSyxHQUFHLElBQUlwTSx3QkFBSixFQUFkO0FBQ0EsUUFBTWdGLE1BQWUsR0FBRyxFQUF4QjtBQUVBMkcsSUFBQUEsSUFBSSxDQUFDO0FBQUVDLE1BQUFBLEVBQUUsRUFBRkEsRUFBRjtBQUFNUSxNQUFBQSxLQUFLLEVBQUxBLEtBQU47QUFBYXBILE1BQUFBLE1BQU0sRUFBTkEsTUFBYjtBQUFxQm1ILE1BQUFBLElBQUksRUFBRTRDO0FBQTNCLEtBQUQsRUFBc0NuRCxFQUFFLENBQUNDLFFBQUgsRUFBdEMsQ0FBSjtBQUVBdUQsSUFBQUEsT0FBTyxHQUFHaEQsS0FBSyxDQUFDb0QsUUFBTixFQUFWO0FBQ0Q7O0FBRUQsU0FBTztBQUNMTCxJQUFBQSxTQUFTLEVBQVRBLFNBREs7QUFFTE0sSUFBQUEsTUFBTSxFQUFFTixTQUFTLEdBQUdGLGNBQUgsR0FBb0IsSUFGaEM7QUFHTEcsSUFBQUEsT0FBTyxFQUFQQTtBQUhLLEdBQVA7QUFLRCxDQTdCTSxDOztBQ1ZQO0FBRUEsMENBQWVQLDBCQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lLnRzPzFjNDQiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanM/Yzk0ZCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanM/NjVhMSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9yb3VnaGpzL2Jpbi9tYXRoLmpzPzIxMmIiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvbmFub2lkL2luZGV4LnByb2QuanM/NmQ3NyIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy91dGlscy50cz83ZGRhIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2F0dHJpYnV0ZXMudHM/M2Q5NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy9lbGVtZW50cy9Hcm91cC50cz9hNzI3Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50LnRzP2QzNWEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzPzlmZTciLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvdHJhbnNmb3JtLnRzPzVjZmEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcG9pbnRzLW9uLWN1cnZlL2xpYi9pbmRleC5qcz9mNDQ4Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL3BhcnNlci5qcz8xOWQ5Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL2Fic29sdXRpemUuanM/YzMwNiIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9ub3JtYWxpemUuanM/MzA4NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9pbmRleC5qcz85ZDg2Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BvaW50cy1vbi1wYXRoL2xpYi9pbmRleC5qcz9mMTkxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3dhbGtlci50cz8wMWRjIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3BhcnNlci50cz9iOTcxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjYWxpZHJhd0dlbmVyaWNFbGVtZW50IH0gZnJvbSBcIi4vRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuY2xhc3MgRXhjYWxpZHJhd1NjZW5lIHtcbiAgdHlwZSA9IFwiZXhjYWxpZHJhd1wiO1xuICB2ZXJzaW9uID0gMjtcbiAgc291cmNlID0gXCJodHRwczovL2V4Y2FsaWRyYXcuY29tXCI7XG4gIGVsZW1lbnRzOiBFeGNhbGlkcmF3R2VuZXJpY0VsZW1lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gW10pIHtcbiAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gIH1cblxuICB0b0V4SlNPTigpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLFxuICAgICAgZWxlbWVudHM6IHRoaXMuZWxlbWVudHMubWFwKChlbCkgPT4gKHsgLi4uZWwgfSkpLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhjYWxpZHJhd1NjZW5lO1xuIiwiLyoqXHJcbiAqIENvbW1vbiB1dGlsaXRpZXNcclxuICogQG1vZHVsZSBnbE1hdHJpeFxyXG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcclxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xyXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxyXG4gKiBAbW9kdWxlIG1hdDRcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcclxuICpcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcclxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcclxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxyXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxyXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXHJcbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tU2VlZCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMiAqKiAzMSk7XG59XG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKDIgKiogMzEgLSAxKSAmICh0aGlzLnNlZWQgPSBNYXRoLmltdWwoNDgyNzEsIHRoaXMuc2VlZCkpKSAvIDIgKiogMzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIFRoaXMgZmlsZSByZXBsYWNlcyBgaW5kZXguanNgIGluIGJ1bmRsZXJzIGxpa2Ugd2VicGFjayBvciBSb2xsdXAsXG4vLyBhY2NvcmRpbmcgdG8gYGJyb3dzZXJgIGNvbmZpZyBpbiBgcGFja2FnZS5qc29uYC5cblxuaW1wb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcblxuaWYgKGZhbHNlKSB7XG4gIC8vIEFsbCBidW5kbGVycyB3aWxsIHJlbW92ZSB0aGlzIGJsb2NrIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgJiZcbiAgICB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnUmVhY3QgTmF0aXZlIGRvZXMgbm90IGhhdmUgYSBidWlsdC1pbiBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzIHVzZSBgbmFub2lkL25vbi1zZWN1cmVgLiAnICtcbiAgICAgICAgJ0ZvciBzZWN1cmUgSURzLCBpbXBvcnQgYHJlYWN0LW5hdGl2ZS1nZXQtcmFuZG9tLXZhbHVlc2AgJyArXG4gICAgICAgICdiZWZvcmUgTmFubyBJRC4nXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0ltcG9ydCBmaWxlIHdpdGggYGlmICghd2luZG93LmNyeXB0bykgd2luZG93LmNyeXB0byA9IHdpbmRvdy5tc0NyeXB0b2AnICtcbiAgICAgICAgJyBiZWZvcmUgaW1wb3J0aW5nIE5hbm8gSUQgdG8gZml4IElFIDExIHN1cHBvcnQnXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzLCB5b3UgY2FuIHVzZSBuYW5vaWQvbm9uLXNlY3VyZS4nXG4gICAgKVxuICB9XG59XG5cbmxldCByYW5kb20gPSBieXRlcyA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzKSlcblxubGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgc2l6ZSwgZ2V0UmFuZG9tKSA9PiB7XG4gIC8vIEZpcnN0LCBhIGJpdG1hc2sgaXMgbmVjZXNzYXJ5IHRvIGdlbmVyYXRlIHRoZSBJRC4gVGhlIGJpdG1hc2sgbWFrZXMgYnl0ZXNcbiAgLy8gdmFsdWVzIGNsb3NlciB0byB0aGUgYWxwaGFiZXQgc2l6ZS4gVGhlIGJpdG1hc2sgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdFxuICAvLyBgMl4zMSAtIDFgIG51bWJlciwgd2hpY2ggZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBiaXRtYXNrIGZvciB0aGUgYWxwaGFiZXQgc2l6ZSAzMCBpcyAzMSAoMDAwMTExMTEpLlxuICAvLyBgTWF0aC5jbHozMmAgaXMgbm90IHVzZWQsIGJlY2F1c2UgaXQgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2Vycy5cbiAgbGV0IG1hc2sgPSAoMiA8PCAoTWF0aC5sb2coYWxwaGFiZXQubGVuZ3RoIC0gMSkgLyBNYXRoLkxOMikpIC0gMVxuICAvLyBUaG91Z2gsIHRoZSBiaXRtYXNrIHNvbHV0aW9uIGlzIG5vdCBwZXJmZWN0IHNpbmNlIHRoZSBieXRlcyBleGNlZWRpbmdcbiAgLy8gdGhlIGFscGhhYmV0IHNpemUgYXJlIHJlZnVzZWQuIFRoZXJlZm9yZSwgdG8gcmVsaWFibHkgZ2VuZXJhdGUgdGhlIElELFxuICAvLyB0aGUgcmFuZG9tIGJ5dGVzIHJlZHVuZGFuY3kgaGFzIHRvIGJlIHNhdGlzZmllZC5cblxuICAvLyBOb3RlOiBldmVyeSBoYXJkd2FyZSByYW5kb20gZ2VuZXJhdG9yIGNhbGwgaXMgcGVyZm9ybWFuY2UgZXhwZW5zaXZlLFxuICAvLyBiZWNhdXNlIHRoZSBzeXN0ZW0gY2FsbCBmb3IgZW50cm9weSBjb2xsZWN0aW9uIHRha2VzIGEgbG90IG9mIHRpbWUuXG4gIC8vIFNvLCB0byBhdm9pZCBhZGRpdGlvbmFsIHN5c3RlbSBjYWxscywgZXh0cmEgYnl0ZXMgYXJlIHJlcXVlc3RlZCBpbiBhZHZhbmNlLlxuXG4gIC8vIE5leHQsIGEgc3RlcCBkZXRlcm1pbmVzIGhvdyBtYW55IHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cbiAgLy8gVGhlIG51bWJlciBvZiByYW5kb20gYnl0ZXMgZ2V0cyBkZWNpZGVkIHVwb24gdGhlIElEIHNpemUsIG1hc2ssXG4gIC8vIGFscGhhYmV0IHNpemUsIGFuZCBtYWdpYyBudW1iZXIgMS42ICh1c2luZyAxLjYgcGVha3MgYXQgcGVyZm9ybWFuY2VcbiAgLy8gYWNjb3JkaW5nIHRvIGJlbmNobWFya3MpLlxuXG4gIC8vIGAtfmYgPT4gTWF0aC5jZWlsKGYpYCBpZiBmIGlzIGEgZmxvYXRcbiAgLy8gYC1+aSA9PiBpICsgMWAgaWYgaSBpcyBhbiBpbnRlZ2VyXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBzaXplKSAvIGFscGhhYmV0Lmxlbmd0aClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBpZCA9ICcnXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBieXRlcyA9IGdldFJhbmRvbShzdGVwKVxuICAgICAgLy8gQSBjb21wYWN0IGFsdGVybmF0aXZlIGZvciBgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyBpKyspYC5cbiAgICAgIGxldCBqID0gc3RlcFxuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAvLyBBZGRpbmcgYHx8ICcnYCByZWZ1c2VzIGEgcmFuZG9tIGJ5dGUgdGhhdCBleGNlZWRzIHRoZSBhbHBoYWJldCBzaXplLlxuICAgICAgICBpZCArPSBhbHBoYWJldFtieXRlc1tqXSAmIG1hc2tdIHx8ICcnXG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09IHNpemUpIHJldHVybiBpZFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUpID0+IGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKVxuXG5sZXQgbmFub2lkID0gKHNpemUgPSAyMSkgPT4ge1xuICBsZXQgaWQgPSAnJ1xuICBsZXQgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKVxuXG4gIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gIHdoaWxlIChzaXplLS0pIHtcbiAgICAvLyBJdCBpcyBpbmNvcnJlY3QgdG8gdXNlIGJ5dGVzIGV4Y2VlZGluZyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAvLyBUaGUgZm9sbG93aW5nIG1hc2sgcmVkdWNlcyB0aGUgcmFuZG9tIGJ5dGUgaW4gdGhlIDAtMjU1IHZhbHVlXG4gICAgLy8gcmFuZ2UgdG8gdGhlIDAtNjMgdmFsdWUgcmFuZ2UuIFRoZXJlZm9yZSwgYWRkaW5nIGhhY2tzLCBzdWNoXG4gICAgLy8gYXMgZW1wdHkgc3RyaW5nIGZhbGxiYWNrIG9yIG1hZ2ljIG51bWJlcnMsIGlzIHVubmVjY2Vzc2FyeSBiZWNhdXNlXG4gICAgLy8gdGhlIGJpdG1hc2sgdHJpbXMgYnl0ZXMgZG93biB0byB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICBsZXQgYnl0ZSA9IGJ5dGVzW3NpemVdICYgNjNcbiAgICBpZiAoYnl0ZSA8IDM2KSB7XG4gICAgICAvLyBgMC05YS16YFxuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgLy8gYEEtWmBcbiAgICAgIGlkICs9IChieXRlIC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpXG4gICAgfSBlbHNlIGlmIChieXRlIDwgNjMpIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCArPSAnLSdcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkXG59XG5cbmV4cG9ydCB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQsIGN1c3RvbVJhbmRvbSwgdXJsQWxwaGFiZXQsIHJhbmRvbSB9XG4iLCJpbXBvcnQgeyBSYW5kb20gfSBmcm9tIFwicm91Z2hqcy9iaW4vbWF0aFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5jb25zdCByYW5kb20gPSBuZXcgUmFuZG9tKERhdGUubm93KCkpO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tSW50ZWdlciA9ICgpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogMiAqKiAzMSk7XG5cbmV4cG9ydCBjb25zdCByYW5kb21JZCA9ICgpOiBzdHJpbmcgPT4gbmFub2lkKCk7XG5cbmV4cG9ydCBjb25zdCBzYWZlTnVtYmVyID0gKG51bWJlcjogbnVtYmVyKTogbnVtYmVyID0+IE51bWJlcihudW1iZXIudG9GaXhlZCgyKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkaW1lbnNpb25zRnJvbVBvaW50cyhwb2ludHM6IG51bWJlcltdW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHhDb29yZHMgPSBwb2ludHMubWFwKChbeF0pID0+IHgpO1xuICBjb25zdCB5Q29vcmRzID0gcG9pbnRzLm1hcCgoWywgeV0pID0+IHkpO1xuXG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbiguLi54Q29vcmRzKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlDb29yZHMpO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueENvb3Jkcyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCguLi55Q29vcmRzKTtcblxuICByZXR1cm4gW21heFggLSBtaW5YLCBtYXhZIC0gbWluWV07XG59XG5cbi8vIHdpbmRpbmcgb3JkZXIgaXMgY2xvY2t3aXNlIHZhbHVlcyBpcyBwb3NpdGl2ZSwgY291bnRlciBjbG9ja3dpc2UgaWYgbmVnYXRpdmUuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZGluZ09yZGVyKFxuICBwb2ludHM6IFBvaW50W10sXG4pOiBcImNsb2Nrd2lzZVwiIHwgXCJjb3VudGVyY2xvY2t3aXNlXCIge1xuICBjb25zdCB0b3RhbCA9IHBvaW50cy5yZWR1Y2UoKGFjYywgW3gxLCB5MV0sIGlkeCwgYXJyKSA9PiB7XG4gICAgY29uc3QgcDIgPSBhcnJbaWR4ICsgMV07XG4gICAgY29uc3QgeDIgPSBwMiA/IHAyWzBdIDogMDtcbiAgICBjb25zdCB5MiA9IHAyID8gcDJbMV0gOiAwO1xuXG4gICAgY29uc3QgZSA9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcblxuICAgIHJldHVybiBlICsgYWNjO1xuICB9LCAwKTtcblxuICByZXR1cm4gdG90YWwgPiAwID8gXCJjbG9ja3dpc2VcIiA6IFwiY291bnRlcmNsb2Nrd2lzZVwiO1xufVxuIiwiaW1wb3J0IGNocm9tYSBmcm9tIFwiY2hyb21hLWpzXCI7XG5pbXBvcnQgeyBFeGNhbGlkcmF3RWxlbWVudEJhc2UgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGV4V2l0aEFscGhhKGNvbG9yOiBzdHJpbmcsIGFscGhhOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gY2hyb21hKGNvbG9yKS5hbHBoYShhbHBoYSkuY3NzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXMoZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKGF0dHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcsIGJhY2t1cD86IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgYmFja3VwIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROdW0oZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZywgYmFja3VwPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbnVtVmFsID0gTnVtYmVyKGdldChlbCwgYXR0cikpO1xuICByZXR1cm4gbnVtVmFsID09PSBOYU4gPyBiYWNrdXAgfHwgMCA6IG51bVZhbDtcbn1cblxuY29uc3QgcHJlc0F0dHJzID0ge1xuICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2Utb3BhY2l0eVwiLFxuICBcInN0cm9rZS13aWR0aFwiOiBcInN0cm9rZS13aWR0aFwiLFxuICBmaWxsOiBcImZpbGxcIixcbiAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsLW9wYWNpdHlcIixcbiAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG59IGFzIGNvbnN0O1xuXG50eXBlIEV4UGFydGlhbEVsZW1lbnQgPSBQYXJ0aWFsPEV4Y2FsaWRyYXdFbGVtZW50QmFzZT47XG5cbnR5cGUgQXR0ckhhbmRsZXJBcmdzID0ge1xuICBlbDogRWxlbWVudDtcbiAgZXhWYWxzOiBFeFBhcnRpYWxFbGVtZW50O1xufTtcblxudHlwZSBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBba2V5IGluIGtleW9mIHR5cGVvZiBwcmVzQXR0cnNdOiAoYXJnczogQXR0ckhhbmRsZXJBcmdzKSA9PiB2b2lkO1xufTtcblxuY29uc3QgYXR0ckhhbmRsZXJzOiBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBzdHJva2U6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gZ2V0KGVsLCBcInN0cm9rZVwiKTtcblxuICAgIGV4VmFscy5zdHJva2VDb2xvciA9IGhhcyhlbCwgXCJzdHJva2Utb3BhY2l0eVwiKVxuICAgICAgPyBoZXhXaXRoQWxwaGEoc3Ryb2tlQ29sb3IsIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSlcbiAgICAgIDogc3Ryb2tlQ29sb3I7XG4gIH0sXG5cbiAgXCJzdHJva2Utb3BhY2l0eVwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuc3Ryb2tlQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwic3Ryb2tlXCIsIFwiIzAwMDAwMFwiKSxcbiAgICAgIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSxcbiAgICApO1xuICB9LFxuXG4gIFwic3Ryb2tlLXdpZHRoXCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5zdHJva2VXaWR0aCA9IGdldE51bShlbCwgXCJzdHJva2Utd2lkdGhcIik7XG4gIH0sXG5cbiAgZmlsbDogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgYGZpbGxgKTtcblxuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBmaWxsID09PSBcIm5vbmVcIiA/IFwiIzAwMDAwMDAwXCIgOiBmaWxsO1xuICB9LFxuXG4gIFwiZmlsbC1vcGFjaXR5XCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwiZmlsbFwiLCBcIiMwMDAwMDBcIiksXG4gICAgICBnZXROdW0oZWwsIFwiZmlsbC1vcGFjaXR5XCIpLFxuICAgICk7XG4gIH0sXG5cbiAgb3BhY2l0eTogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgZXhWYWxzLm9wYWNpdHkgPSBnZXROdW0oZWwsIFwib3BhY2l0eVwiLCAxMDApO1xuICB9LFxufTtcblxuLy8gUHJlc2VudGF0aW9uIEF0dHJpYnV0ZXMgZm9yIFNWRyBFbGVtZW50czpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvUHJlc2VudGF0aW9uXG5leHBvcnQgZnVuY3Rpb24gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKFxuICBlbDogRWxlbWVudCxcbik6IFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPiB7XG4gIGNvbnN0IGV4VmFscyA9IFsuLi5lbC5hdHRyaWJ1dGVzXS5yZWR1Y2UoKGV4VmFscywgYXR0cikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBhdHRyLm5hbWU7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoYXR0ckhhbmRsZXJzKS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgYXR0ckhhbmRsZXJzW25hbWUgYXMga2V5b2YgUHJlc0F0dHJIYW5kbGVyc10oeyBlbCwgZXhWYWxzIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBleFZhbHM7XG4gIH0sIHt9IGFzIEV4UGFydGlhbEVsZW1lbnQpO1xuXG4gIHJldHVybiBleFZhbHM7XG59XG5cbnR5cGUgRmlsdGVyQXR0cnMgPSBQYXJ0aWFsPFxuICBQaWNrPEV4Y2FsaWRyYXdFbGVtZW50QmFzZSwgXCJ4XCIgfCBcInlcIiB8IFwid2lkdGhcIiB8IFwiaGVpZ2h0XCI+XG4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWw6IEVsZW1lbnQpOiBGaWx0ZXJBdHRycyB7XG4gIGNvbnN0IGZpbHRlclZhbHM6IEZpbHRlckF0dHJzID0ge307XG5cbiAgaWYgKGhhcyhlbCwgXCJ4XCIpKSB7XG4gICAgZmlsdGVyVmFscy54ID0gZ2V0TnVtKGVsLCBcInhcIik7XG4gIH1cblxuICBpZiAoaGFzKGVsLCBcInlcIikpIHtcbiAgICBmaWx0ZXJWYWxzLnkgPSBnZXROdW0oZWwsIFwieVwiKTtcbiAgfVxuXG4gIGlmIChoYXMoZWwsIFwid2lkdGhcIikpIHtcbiAgICBmaWx0ZXJWYWxzLndpZHRoID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIpO1xuICB9XG5cbiAgaWYgKGhhcyhlbCwgXCJoZWlnaHRcIikpIHtcbiAgICBmaWx0ZXJWYWxzLmhlaWdodCA9IGdldE51bShlbCwgXCJoZWlnaHRcIik7XG4gIH1cblxuICByZXR1cm4gZmlsdGVyVmFscztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0F0dHJUb1BvaW50cyhlbDogRWxlbWVudCk6IG51bWJlcltdW10ge1xuICBsZXQgcG9pbnRzOiBudW1iZXJbXVtdID0gW107XG5cbiAgaWYgKGhhcyhlbCwgXCJwb2ludHNcIikpIHtcbiAgICBwb2ludHMgPSBnZXQoZWwsIFwicG9pbnRzXCIpXG4gICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAubWFwKChwKSA9PiBwLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VGbG9hdCkpO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50cztcbn1cbiIsImltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi4vYXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgRXhjYWxpZHJhd0VsZW1lbnRCYXNlIH0gZnJvbSBcIi4uL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cEF0dHJzKGdyb3VwczogR3JvdXBbXSk6IGFueSB7XG4gIHJldHVybiBncm91cHMucmVkdWNlKChhY2MsIHsgZWxlbWVudCB9KSA9PiB7XG4gICAgY29uc3QgZWxWYWxzID0gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHsgLi4uYWNjLCAuLi5lbFZhbHMgfTtcbiAgfSwge30gYXMgUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+KTtcbn1cblxuY2xhc3MgR3JvdXAge1xuICBpZCA9IHJhbmRvbUlkKCk7XG5cbiAgZWxlbWVudDogRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDtcbiIsImltcG9ydCB7IHJhbmRvbUlkLCByYW5kb21JbnRlZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gIEdyb3VwSWQsXG4gIEZpbGxTdHlsZSxcbiAgU3Ryb2tlU3R5bGUsXG4gIFN0cm9rZVNoYXJwbmVzcyxcbiAgRXhjYWxpZHJhd0xpbmVhckVsZW1lbnQsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGVtZW50QmFzZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHN0cm9rZUNvbG9yOiBzdHJpbmc7XG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICBmaWxsU3R5bGU6IEZpbGxTdHlsZTtcbiAgc3Ryb2tlV2lkdGg6IG51bWJlcjtcbiAgc3Ryb2tlU3R5bGU6IFN0cm9rZVN0eWxlO1xuICBzdHJva2VTaGFycG5lc3M6IFN0cm9rZVNoYXJwbmVzcztcbiAgcm91Z2huZXNzOiBudW1iZXI7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGFuZ2xlOiBudW1iZXI7XG4gIC8qKiBSYW5kb20gaW50ZWdlciB1c2VkIHRvIHNlZWQgc2hhcGUgZ2VuZXJhdGlvbiBzbyB0aGF0IHRoZSByb3VnaGpzIHNoYXBlXG4gICAgICBkb2Vzbid0IGRpZmZlciBhY3Jvc3MgcmVuZGVycy4gKi9cbiAgc2VlZDogbnVtYmVyO1xuICAvKiogSW50ZWdlciB0aGF0IGlzIHNlcXVlbnRpYWxseSBpbmNyZW1lbnRlZCBvbiBlYWNoIGNoYW5nZS4gVXNlZCB0byByZWNvbmNpbGVcbiAgICAgIGVsZW1lbnRzIGR1cmluZyBjb2xsYWJvcmF0aW9uIG9yIHdoZW4gc2F2aW5nIHRvIHNlcnZlci4gKi9cbiAgdmVyc2lvbjogbnVtYmVyO1xuICAvKiogUmFuZG9tIGludGVnZXIgdGhhdCBpcyByZWdlbmVyYXRlZCBvbiBlYWNoIGNoYW5nZS5cbiAgICAgIFVzZWQgZm9yIGRldGVybWluaXN0aWMgcmVjb25jaWxpYXRpb24gb2YgdXBkYXRlcyBkdXJpbmcgY29sbGFib3JhdGlvbixcbiAgICAgIGluIGNhc2UgdGhlIHZlcnNpb25zIChzZWUgYWJvdmUpIGFyZSBpZGVudGljYWwuICovXG4gIHZlcnNpb25Ob25jZTogbnVtYmVyO1xuICBpc0RlbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKiBMaXN0IG9mIGdyb3VwcyB0aGUgZWxlbWVudCBiZWxvbmdzIHRvLlxuICAgICAgT3JkZXJlZCBmcm9tIGRlZXBlc3QgdG8gc2hhbGxvd2VzdC4gKi9cbiAgZ3JvdXBJZHM6IEdyb3VwSWRbXTtcbiAgLyoqIElkcyBvZiAobGluZWFyKSBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCB0byB0aGlzIGVsZW1lbnQuICovXG4gIGJvdW5kRWxlbWVudElkczogRXhjYWxpZHJhd0xpbmVhckVsZW1lbnRbXCJpZFwiXVtdIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwicmVjdGFuZ2xlXCI7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3TGluZSA9IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSAmIHtcbiAgdHlwZTogXCJsaW5lXCI7XG4gIHBvaW50czogcmVhZG9ubHkgUG9pbnRbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGxpcHNlID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcImVsbGlwc2VcIjtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdHZW5lcmljRWxlbWVudCA9XG4gIHwgRXhjYWxpZHJhd1JlY3RhbmdsZVxuICB8IEV4Y2FsaWRyYXdFbGxpcHNlXG4gIHwgRXhjYWxpZHJhd0xpbmVcbiAgfCBFeGNhbGlkcmF3RHJhdztcblxuZXhwb3J0IHR5cGUgRXhjYWxpZHJhd0RyYXcgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwiZHJhd1wiO1xuICBwb2ludHM6IHJlYWRvbmx5IFBvaW50W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGVtZW50KCk6IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJhbmRvbUlkKCksXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHN0cm9rZUNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgIGZpbGxTdHlsZTogXCJzb2xpZFwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIHN0cm9rZVN0eWxlOiBcInNvbGlkXCIsXG4gICAgc3Ryb2tlU2hhcnBuZXNzOiBcInNoYXJwXCIsXG4gICAgcm91Z2huZXNzOiAwLFxuICAgIG9wYWNpdHk6IDEwMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgYW5nbGU6IDAsXG4gICAgc2VlZDogcmFuZG9tSW50ZWdlcigpLFxuICAgIHZlcnNpb246IDAsXG4gICAgdmVyc2lvbk5vbmNlOiAwLFxuICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgZ3JvdXBJZHM6IFtdLFxuICAgIGJvdW5kRWxlbWVudElkczogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4UmVjdCgpOiBFeGNhbGlkcmF3UmVjdGFuZ2xlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcInJlY3RhbmdsZVwiLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhMaW5lKCk6IEV4Y2FsaWRyYXdMaW5lIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImxpbmVcIixcbiAgICBwb2ludHM6IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGxpcHNlKCk6IEV4Y2FsaWRyYXdFbGxpcHNlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImVsbGlwc2VcIixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RHJhdygpOiBFeGNhbGlkcmF3RHJhdyB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJkcmF3XCIsXG4gICAgcG9pbnRzOiBbXSxcbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjM1xyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxyXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcclxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IEdyb3VwIGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuXG4vKlxuU1ZHIHRyYW5zZm9ybSBhdHRyIGlzIGEgYml0IHN0cmFuZ2UgaW4gdGhhdCBpdCBjYW4gYWNjZXB0IHRyYWRpdGlvbmFsXG5jc3MgdHJhbnNmb3JtIHN0cmluZyAoYXQgbGVhc3QgcGVyIHNwZWMpIGFzIHdlbGwgYXMgYSBpdCdzIG93biBcInVuaXRsZXNzXCJcbnZlcnNpb24gb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucy5cblxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS90cmFuc2Zvcm1cbiovXG5cbmNvbnN0IHRyYW5zZm9ybUZ1bmN0aW9ucyA9IHtcbiAgbWF0cml4OiBcIm1hdHJpeFwiLFxuICBtYXRyaXgzZDogXCJtYXRyaXgzZFwiLFxuICBwZXJzcGVjdGl2ZTogXCJwZXJzcGVjdGl2ZVwiLFxuICByb3RhdGU6IFwicm90YXRlXCIsXG4gIHJvdGF0ZTNkOiBcInJvdGF0ZTNkXCIsXG4gIHJvdGF0ZVg6IFwicm90YXRlWFwiLFxuICByb3RhdGVZOiBcInJvdGF0ZVlcIixcbiAgcm90YXRlWjogXCJyb3RhdGVaXCIsXG4gIHNjYWxlOiBcInNjYWxlXCIsXG4gIHNjYWxlM2Q6IFwic2NhbGUzZFwiLFxuICBzY2FsZVg6IFwic2NhbGVYXCIsXG4gIHNjYWxlWTogXCJzY2FsZVlcIixcbiAgc2NhbGVaOiBcInNjYWxlWlwiLFxuICBza2V3OiBcInNrZXdcIixcbiAgc2tld1g6IFwic2tld1hcIixcbiAgc2tld1k6IFwic2tld1lcIixcbiAgdHJhbnNsYXRlOiBcInRyYW5zbGF0ZVwiLFxuICB0cmFuc2xhdGUzZDogXCJ0cmFuc2xhdGUzZFwiLFxuICB0cmFuc2xhdGVYOiBcInRyYW5zbGF0ZVhcIixcbiAgdHJhbnNsYXRlWTogXCJ0cmFuc2xhdGVZXCIsXG4gIHRyYW5zbGF0ZVo6IFwidHJhbnNsYXRlWlwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgdHJhbnNmb3JtRnVuY3Rpb25zQXJyID0gT2JqZWN0LmtleXModHJhbnNmb3JtRnVuY3Rpb25zKTtcblxuLy8gdHlwZSBUcmFuc2Zvcm1cblxudHlwZSBUcmFuc2Zvcm1GdW5jVmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHVuaXQ6IHN0cmluZztcbn07XG5cbnR5cGUgVHJhbnNmb3JtRnVuYyA9IHtcbiAgdHlwZToga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgdmFsdWVzOiBUcmFuc2Zvcm1GdW5jVmFsdWVbXTtcbn07XG5cbmNvbnN0IGRlZmF1bHRVbml0cyA9IHtcbiAgbWF0cml4OiBcIlwiLFxuICBtYXRyaXgzZDogXCJcIixcbiAgcGVyc3BlY3RpdmU6IFwicGVyc3BlY3RpdmVcIixcbiAgcm90YXRlOiBcImRlZ1wiLFxuICByb3RhdGUzZDogXCJkZWdcIixcbiAgcm90YXRlWDogXCJkZWdcIixcbiAgcm90YXRlWTogXCJkZWdcIixcbiAgcm90YXRlWjogXCJkZWdcIixcbiAgc2NhbGU6IFwiXCIsXG4gIHNjYWxlM2Q6IFwiXCIsXG4gIHNjYWxlWDogXCJcIixcbiAgc2NhbGVZOiBcIlwiLFxuICBzY2FsZVo6IFwiXCIsXG4gIHNrZXc6IFwic2tld1wiLFxuICBza2V3WDogXCJkZWdcIixcbiAgc2tld1k6IFwiZGVnXCIsXG4gIHRyYW5zbGF0ZTogXCJweFwiLFxuICB0cmFuc2xhdGUzZDogXCJweFwiLFxuICB0cmFuc2xhdGVYOiBcInB4XCIsXG4gIHRyYW5zbGF0ZVk6IFwicHhcIixcbiAgdHJhbnNsYXRlWjogXCJweFwiLFxufTtcblxuLy8gQ29udmVydCBiZXR3ZWVuIHBvc3NpYmxlIHN2ZyB0cmFuc2Zvcm0gYXR0cmlidXRlIHZhbHVlcyB0byBjc3MgdHJhbnNmb3JtIGF0dHJpYnV0ZSB2YWx1ZXMuXG5jb25zdCBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybSA9IChzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIC8vIENyZWF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24gc3RyaW5nIFwiY2h1bmtzXCIsIGUuZyBcInJvdGF0ZSg5MGRlZylcIlxuICBjb25zdCB0RnVuY3MgPSBzdmdUcmFuc2Zvcm1TdHIubWF0Y2goLyhcXHcrKVxcKChbXildKilcXCkvZyk7XG4gIGlmICghdEZ1bmNzKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBjb25zdCB0RnVuY1ZhbHVlczogVHJhbnNmb3JtRnVuY1tdID0gdEZ1bmNzLm1hcChcbiAgICAodEZ1bmNTdHIpOiBUcmFuc2Zvcm1GdW5jID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0RnVuY1N0ci5zcGxpdChcIihcIilbMF0gYXMga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0cmFuc2Zvcm0gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNmb3JtRnVuY3Rpb25zQXJyLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNmb3JtIGZ1bmN0aW9uIG5hbWUgXCIke3R5cGV9XCIgaXMgbm90IHZhbGlkYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCB0aGUgYXJnL3Byb3BzIG9mIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24sIGUuZyBcIjkwZGVnXCIuXG4gICAgICBjb25zdCB0RnVuY1BhcnRzID0gdEZ1bmNTdHIubWF0Y2goLyhbLStdP1swLTldKlxcLj9bMC05XSspKFthLXpdKSovZyk7XG4gICAgICBpZiAoIXRGdW5jUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZSwgdmFsdWVzOiBbXSB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgdmFsdWVzID0gdEZ1bmNQYXJ0cy5tYXAoXG4gICAgICAgIChhKTogVHJhbnNmb3JtRnVuY1ZhbHVlID0+IHtcbiAgICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgYXJnIHZhbHVlIGFuZCB1bml0LiBlLmcgW1wiOTBcIiwgXCJkZWdcIl1cbiAgICAgICAgICBjb25zdCBbdmFsdWUsIHVuaXRdID0gYS5tYXRjaEFsbCgvKFstK10/WzAtOV0qXFwuP1swLTldKyl8KFthLXpdKSovZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5pdDogdW5pdFswXSB8fCBkZWZhdWx0VW5pdHNbdHlwZV0sXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVbMF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIC8vIE5vdCBzdXBwb3J0aW5nIHgsIHkgYXJncyBvZiBzdmcgcm90YXRlIHRyYW5zZm9ybSB5ZXQuLi5cbiAgICAgIGlmICh2YWx1ZXMgJiYgdHlwZSA9PT0gXCJyb3RhdGVcIiAmJiB2YWx1ZXM/Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsdWVzID0gW3ZhbHVlc1swXV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHZhbHVlcyxcbiAgICAgIH07XG4gICAgfSxcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBhIHN0cmluZyBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHNldCBhcyBhIENTUyBUcmFuc2Zvcm0uXG4gIGNvbnN0IGNzc3RyYW5zZm9ybVN0ciA9IHRGdW5jVmFsdWVzXG4gICAgLm1hcCgoeyB0eXBlLCB2YWx1ZXMgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsU3RyID0gdmFsdWVzXG4gICAgICAgIC5tYXAoKHsgdW5pdCwgdmFsdWUgfSkgPT4gYCR7dmFsdWV9JHt1bml0fWApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICByZXR1cm4gYCR7dHlwZX0oJHt2YWxTdHJ9KWA7XG4gICAgfSlcbiAgICAuam9pbihcIiBcIik7XG5cbiAgcmV0dXJuIGNzc3RyYW5zZm9ybVN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVET01NYXRyaXhGcm9tU1ZHU3RyID0gKFxuICBzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyxcbik6IERPTU1hdHJpeCA9PiB7XG4gIGNvbnN0IGNzc1RyYW5zZm9ybVN0ciA9IHN2Z1RyYW5zZm9ybVRvQ1NTVHJhbnNmb3JtKHN2Z1RyYW5zZm9ybVN0cik7XG5cbiAgcmV0dXJuIG5ldyBET01NYXRyaXgoY3NzVHJhbnNmb3JtU3RyKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TWF0cml4KGVsOiBFbGVtZW50KTogbWF0NCB7XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICBjb25zdCBlbE1hdCA9IG5ldyBET01NYXRyaXgoXG4gICAgICBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybShlbC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikgfHwgXCJcIiksXG4gICAgKTtcblxuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdDQuY3JlYXRlKCksIGVsTWF0LnRvRmxvYXQzMkFycmF5KCkpO1xuICB9XG5cbiAgcmV0dXJuIG1hdDQuY3JlYXRlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1NYXRyaXgoZWw6IEVsZW1lbnQsIGdyb3VwczogR3JvdXBbXSk6IG1hdDQge1xuICBjb25zdCBhY2N1bU1hdCA9IGdyb3Vwc1xuICAgIC5tYXAoKHsgZWxlbWVudCB9KSA9PiBnZXRFbGVtZW50TWF0cml4KGVsZW1lbnQpKVxuICAgIC5jb25jYXQoW2dldEVsZW1lbnRNYXRyaXgoZWwpXSlcbiAgICAucmVkdWNlKChhY2MsIG1hdCkgPT4gbWF0NC5tdWx0aXBseShhY2MsIGFjYywgbWF0KSwgbWF0NC5jcmVhdGUoKSk7XG5cbiAgcmV0dXJuIGFjY3VtTWF0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzKFxuICBwb2ludHM6IG51bWJlcltdW10sXG4gIHRyYW5zZm9ybTogbWF0NCxcbik6IFtudW1iZXIsIG51bWJlcl1bXSB7XG4gIHJldHVybiBwb2ludHMubWFwKChbeCwgeV0pID0+IHtcbiAgICBjb25zdCBbbmV3WCwgbmV3WV0gPSB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKHgsIHksIDEpLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICk7XG5cbiAgICByZXR1cm4gW25ld1gsIG5ld1ldO1xuICB9KTtcbn1cbiIsIi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbmZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcShwMSwgcDIpKTtcbn1cbi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHMgc3F1YXJlZFxuZnVuY3Rpb24gZGlzdGFuY2VTcShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgKyBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKTtcbn1cbi8vIFNpc3RhbmNlIHNxdWFyZWQgZnJvbSBhIHBvaW50IHAgdG8gdGhlIGxpbmUgc2VnbWVudCB2d1xuZnVuY3Rpb24gZGlzdGFuY2VUb1NlZ21lbnRTcShwLCB2LCB3KSB7XG4gICAgY29uc3QgbDIgPSBkaXN0YW5jZVNxKHYsIHcpO1xuICAgIGlmIChsMiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGlzdGFuY2VTcShwLCB2KTtcbiAgICB9XG4gICAgbGV0IHQgPSAoKHBbMF0gLSB2WzBdKSAqICh3WzBdIC0gdlswXSkgKyAocFsxXSAtIHZbMV0pICogKHdbMV0gLSB2WzFdKSkgLyBsMjtcbiAgICB0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdCkpO1xuICAgIHJldHVybiBkaXN0YW5jZVNxKHAsIGxlcnAodiwgdywgdCkpO1xufVxuZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYVswXSArIChiWzBdIC0gYVswXSkgKiB0LFxuICAgICAgICBhWzFdICsgKGJbMV0gLSBhWzFdKSAqIHQsXG4gICAgXTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3NlYW50MjMud29yZHByZXNzLmNvbS8yMDEwLzExLzEyL29mZnNldC1iZXppZXItY3VydmVzL1xuZnVuY3Rpb24gZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIHtcbiAgICBjb25zdCBwMSA9IHBvaW50c1tvZmZzZXQgKyAwXTtcbiAgICBjb25zdCBwMiA9IHBvaW50c1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICBjb25zdCBwNCA9IHBvaW50c1tvZmZzZXQgKyAzXTtcbiAgICBsZXQgdXggPSAzICogcDJbMF0gLSAyICogcDFbMF0gLSBwNFswXTtcbiAgICB1eCAqPSB1eDtcbiAgICBsZXQgdXkgPSAzICogcDJbMV0gLSAyICogcDFbMV0gLSBwNFsxXTtcbiAgICB1eSAqPSB1eTtcbiAgICBsZXQgdnggPSAzICogcDNbMF0gLSAyICogcDRbMF0gLSBwMVswXTtcbiAgICB2eCAqPSB2eDtcbiAgICBsZXQgdnkgPSAzICogcDNbMV0gLSAyICogcDRbMV0gLSBwMVsxXTtcbiAgICB2eSAqPSB2eTtcbiAgICBpZiAodXggPCB2eCkge1xuICAgICAgICB1eCA9IHZ4O1xuICAgIH1cbiAgICBpZiAodXkgPCB2eSkge1xuICAgICAgICB1eSA9IHZ5O1xuICAgIH1cbiAgICByZXR1cm4gdXggKyB1eTtcbn1cbmZ1bmN0aW9uIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cykge1xuICAgIGNvbnN0IG91dFBvaW50cyA9IG5ld1BvaW50cyB8fCBbXTtcbiAgICBpZiAoZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIDwgdG9sZXJhbmNlKSB7XG4gICAgICAgIGNvbnN0IHAwID0gcG9pbnRzW29mZnNldCArIDBdO1xuICAgICAgICBpZiAob3V0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGRpc3RhbmNlKG91dFBvaW50c1tvdXRQb2ludHMubGVuZ3RoIC0gMV0sIHAwKTtcbiAgICAgICAgICAgIGlmIChkID4gMSkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChwb2ludHNbb2Zmc2V0ICsgM10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3ViZGl2aWRlXG4gICAgICAgIGNvbnN0IHQgPSAuNTtcbiAgICAgICAgY29uc3QgcDEgPSBwb2ludHNbb2Zmc2V0ICsgMF07XG4gICAgICAgIGNvbnN0IHAyID0gcG9pbnRzW29mZnNldCArIDFdO1xuICAgICAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICAgICAgY29uc3QgcDQgPSBwb2ludHNbb2Zmc2V0ICsgM107XG4gICAgICAgIGNvbnN0IHExID0gbGVycChwMSwgcDIsIHQpO1xuICAgICAgICBjb25zdCBxMiA9IGxlcnAocDIsIHAzLCB0KTtcbiAgICAgICAgY29uc3QgcTMgPSBsZXJwKHAzLCBwNCwgdCk7XG4gICAgICAgIGNvbnN0IHIxID0gbGVycChxMSwgcTIsIHQpO1xuICAgICAgICBjb25zdCByMiA9IGxlcnAocTIsIHEzLCB0KTtcbiAgICAgICAgY29uc3QgcmVkID0gbGVycChyMSwgcjIsIHQpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcDEsIHExLCByMSwgcmVkXSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcmVkLCByMiwgcTMsIHA0XSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0UG9pbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICByZXR1cm4gc2ltcGxpZnlQb2ludHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBkaXN0YW5jZSk7XG59XG4vLyBSYW1lcuKAk0RvdWdsYXPigJNQZXVja2VyIGFsZ29yaXRobVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXIlRTIlODAlOTNEb3VnbGFzJUUyJTgwJTkzUGV1Y2tlcl9hbGdvcml0aG1cbmZ1bmN0aW9uIHNpbXBsaWZ5UG9pbnRzKHBvaW50cywgc3RhcnQsIGVuZCwgZXBzaWxvbiwgbmV3UG9pbnRzKSB7XG4gICAgY29uc3Qgb3V0UG9pbnRzID0gbmV3UG9pbnRzIHx8IFtdO1xuICAgIC8vIGZpbmQgdGhlIG1vc3QgZGlzdGFuY2UgcG9pbnQgZnJvbSB0aGUgZW5kcG9pbnRzXG4gICAgY29uc3QgcyA9IHBvaW50c1tzdGFydF07XG4gICAgY29uc3QgZSA9IHBvaW50c1tlbmQgLSAxXTtcbiAgICBsZXQgbWF4RGlzdFNxID0gMDtcbiAgICBsZXQgbWF4TmR4ID0gMTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgZW5kIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RTcSA9IGRpc3RhbmNlVG9TZWdtZW50U3EocG9pbnRzW2ldLCBzLCBlKTtcbiAgICAgICAgaWYgKGRpc3RTcSA+IG1heERpc3RTcSkge1xuICAgICAgICAgICAgbWF4RGlzdFNxID0gZGlzdFNxO1xuICAgICAgICAgICAgbWF4TmR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB0aGF0IHBvaW50IGlzIHRvbyBmYXIsIHNwbGl0XG4gICAgaWYgKE1hdGguc3FydChtYXhEaXN0U3EpID4gZXBzaWxvbikge1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIHN0YXJ0LCBtYXhOZHggKyAxLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIG1heE5keCwgZW5kLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFvdXRQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXRQb2ludHMucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChlKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dFBvaW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkJlemllckN1cnZlcyhwb2ludHMsIHRvbGVyYW5jZSA9IDAuMTUsIGRpc3RhbmNlKSB7XG4gICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgY29uc3QgbnVtU2VnbWVudHMgPSAocG9pbnRzLmxlbmd0aCAtIDEpIC8gMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIDM7XG4gICAgICAgIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cyk7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZSAmJiBkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZ5UG9pbnRzKG5ld1BvaW50cywgMCwgbmV3UG9pbnRzLmxlbmd0aCwgZGlzdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UG9pbnRzO1xufVxuIiwiY29uc3QgQ09NTUFORCA9IDA7XG5jb25zdCBOVU1CRVIgPSAxO1xuY29uc3QgRU9EID0gMjtcbmNvbnN0IFBBUkFNUyA9IHsgQTogNywgYTogNywgQzogNiwgYzogNiwgSDogMSwgaDogMSwgTDogMiwgbDogMiwgTTogMiwgbTogMiwgUTogNCwgcTogNCwgUzogNCwgczogNCwgVDogMiwgdDogMiwgVjogMSwgdjogMSwgWjogMCwgejogMCB9O1xuZnVuY3Rpb24gdG9rZW5pemUoZCkge1xuICAgIGNvbnN0IHRva2VucyA9IG5ldyBBcnJheSgpO1xuICAgIHdoaWxlIChkICE9PSAnJykge1xuICAgICAgICBpZiAoZC5tYXRjaCgvXihbIFxcdFxcclxcbixdKykvKSkge1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGQubWF0Y2goL14oW2FBY0NoSGxMbU1xUXNTdFR2VnpaXSkvKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0geyB0eXBlOiBDT01NQU5ELCB0ZXh0OiBSZWdFeHAuJDEgfTtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkLm1hdGNoKC9eKChbLStdP1swLTldKyhcXC5bMC05XSopP3xbLStdP1xcLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogTlVNQkVSLCB0ZXh0OiBgJHtwYXJzZUZsb2F0KFJlZ0V4cC4kMSl9YCB9O1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogRU9ELCB0ZXh0OiAnJyB9O1xuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBpc1R5cGUodG9rZW4sIHR5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gdHlwZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgoZCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoZCk7XG4gICAgbGV0IG1vZGUgPSAnQk9EJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgd2hpbGUgKCFpc1R5cGUodG9rZW4sIEVPRCkpIHtcbiAgICAgICAgbGV0IHBhcmFtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgIGlmIChtb2RlID09PSAnQk9EJykge1xuICAgICAgICAgICAgaWYgKHRva2VuLnRleHQgPT09ICdNJyB8fCB0b2tlbi50ZXh0ID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgICAgIG1vZGUgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGF0aCgnTTAsMCcgKyBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1R5cGUodG9rZW4sIE5VTUJFUikpIHtcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW21vZGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgbW9kZSA9IHRva2VuLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChpbmRleCArIHBhcmFtc0NvdW50KSA8IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGluZGV4ICsgcGFyYW1zQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlVG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzVHlwZShudW1iZVRva2VuLCBOVU1CRVIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbXMubGVuZ3RoXSA9ICtudW1iZVRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtIG5vdCBhIG51bWJlcjogJyArIG1vZGUgKyAnLCcgKyBudW1iZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgUEFSQU1TW21vZGVdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB7IGtleTogbW9kZSwgZGF0YTogcGFyYW1zIH07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBwYXJhbXNDb3VudDtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdNJylcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9ICdMJztcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ20nKVxuICAgICAgICAgICAgICAgICAgICBtb2RlID0gJ2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudDogJyArIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIGRhdGEgZW5kZWQgc2hvcnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKHNlZ21lbnRzKSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKGtleSk7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGRhdGFbMF0sIGAke2RhdGFbMV19LGAsIGRhdGFbMl0sIGAke2RhdGFbM119LGAsIGRhdGFbNF0sIGRhdGFbNV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goZGF0YVswXSwgYCR7ZGF0YVsxXX0sYCwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKC4uLmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnMuam9pbignICcpO1xufVxuIiwiLy8gVHJhbnNsYXRlIHJlbGF0aXZlIGNvbW1hbmRzIHRvIGFic29sdXRlIGNvbW1hbmRzXG5leHBvcnQgZnVuY3Rpb24gYWJzb2x1dGl6ZShzZWdtZW50cykge1xuICAgIGxldCBjeCA9IDAsIGN5ID0gMDtcbiAgICBsZXQgc3VieCA9IDAsIHN1YnkgPSAwO1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZvciAoY29uc3QgeyBrZXksIGRhdGEgfSBvZiBzZWdtZW50cykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdNJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIFtjeCwgY3ldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBbc3VieCwgc3VieV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIHN1YnggPSBjeDtcbiAgICAgICAgICAgICAgICBzdWJ5ID0gY3k7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVs0XTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1EnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSwgZGF0YVs0XSwgY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICBjeCArPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFtjeF0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdTJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBOb3JtYWxpemUgcGF0aCB0byBpbmNsdWRlIG9ubHkgTSwgTCwgQywgYW5kIFogY29tbWFuZHNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoc2VnbWVudHMpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBsZXQgbGFzdFR5cGUgPSAnJztcbiAgICBsZXQgY3ggPSAwLCBjeSA9IDA7XG4gICAgbGV0IHN1YnggPSAwLCBzdWJ5ID0gMDtcbiAgICBsZXQgbGN4ID0gMCwgbGN5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgW3N1YngsIHN1YnldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGxjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgbGN5ID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTJzoge1xuICAgICAgICAgICAgICAgIGxldCBjeDEgPSAwLCBjeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ0MnIHx8IGxhc3RUeXBlID09PSAnUycpIHtcbiAgICAgICAgICAgICAgICAgICAgY3gxID0gY3ggKyAoY3ggLSBsY3gpO1xuICAgICAgICAgICAgICAgICAgICBjeTEgPSBjeSArIChjeSAtIGxjeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgY3kxID0gY3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBsY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHgxID0gMCwgeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ1EnIHx8IGxhc3RUeXBlID09PSAnVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeCArIChjeCAtIGxjeCk7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gY3kgKyAoY3kgLSBsY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBjeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3gxID0gY3ggKyAyICogKHgxIC0gY3gpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTEgPSBjeSArIDIgKiAoeTEgLSBjeSkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN4MiA9IHggKyAyICogKHgxIC0geCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MiA9IHkgKyAyICogKHkxIC0geSkgLyAzO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgY3gyLCBjeTIsIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IHgxO1xuICAgICAgICAgICAgICAgIGxjeSA9IHkxO1xuICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdRJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4MSwgeTEsIHgsIHldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBjeDEgPSBjeCArIDIgKiAoeDEgLSBjeCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MSA9IGN5ICsgMiAqICh5MSAtIGN5KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3gyID0geCArIDIgKiAoeDEgLSB4KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3kyID0geSArIDIgKiAoeTEgLSB5KSAvIDM7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogW2N4MSwgY3kxLCBjeDIsIGN5MiwgeCwgeV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0geDE7XG4gICAgICAgICAgICAgICAgbGN5ID0geTE7XG4gICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0EnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjEgPSBNYXRoLmFicyhkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByMiA9IE1hdGguYWJzKGRhdGFbMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN3ZWVwRmxhZyA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgaWYgKHIxID09PSAwIHx8IHIyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeCwgY3ksIHgsIHksIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCAhPT0geCB8fCBjeSAhPT0geSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VydmVzID0gYXJjVG9DdWJpY0N1cnZlcyhjeCwgY3ksIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJ2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IGN1cnZlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUeXBlID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiAoTWF0aC5QSSAqIGRlZ3JlZXMpIC8gMTgwO1xufVxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlUmFkKSB7XG4gICAgY29uc3QgWCA9IHggKiBNYXRoLmNvcyhhbmdsZVJhZCkgLSB5ICogTWF0aC5zaW4oYW5nbGVSYWQpO1xuICAgIGNvbnN0IFkgPSB4ICogTWF0aC5zaW4oYW5nbGVSYWQpICsgeSAqIE1hdGguY29zKGFuZ2xlUmFkKTtcbiAgICByZXR1cm4gW1gsIFldO1xufVxuZnVuY3Rpb24gYXJjVG9DdWJpY0N1cnZlcyh4MSwgeTEsIHgyLCB5MiwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcsIHJlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IGFuZ2xlUmFkID0gZGVnVG9SYWQoYW5nbGUpO1xuICAgIGxldCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgZjEgPSAwLCBmMiA9IDAsIGN4ID0gMCwgY3kgPSAwO1xuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgW2YxLCBmMiwgY3gsIGN5XSA9IHJlY3Vyc2l2ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFt4MSwgeTFdID0gcm90YXRlKHgxLCB5MSwgLWFuZ2xlUmFkKTtcbiAgICAgICAgW3gyLCB5Ml0gPSByb3RhdGUoeDIsIHkyLCAtYW5nbGVSYWQpO1xuICAgICAgICBjb25zdCB4ID0gKHgxIC0geDIpIC8gMjtcbiAgICAgICAgY29uc3QgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgIGxldCBoID0gKHggKiB4KSAvIChyMSAqIHIxKSArICh5ICogeSkgLyAocjIgKiByMik7XG4gICAgICAgIGlmIChoID4gMSkge1xuICAgICAgICAgICAgaCA9IE1hdGguc3FydChoKTtcbiAgICAgICAgICAgIHIxID0gaCAqIHIxO1xuICAgICAgICAgICAgcjIgPSBoICogcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbiA9IChsYXJnZUFyY0ZsYWcgPT09IHN3ZWVwRmxhZykgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHIxUG93ID0gcjEgKiByMTtcbiAgICAgICAgY29uc3QgcjJQb3cgPSByMiAqIHIyO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcjFQb3cgKiByMlBvdyAtIHIxUG93ICogeSAqIHkgLSByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCByaWdodCA9IHIxUG93ICogeSAqIHkgKyByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCBrID0gc2lnbiAqIE1hdGguc3FydChNYXRoLmFicyhsZWZ0IC8gcmlnaHQpKTtcbiAgICAgICAgY3ggPSBrICogcjEgKiB5IC8gcjIgKyAoeDEgKyB4MikgLyAyO1xuICAgICAgICBjeSA9IGsgKiAtcjIgKiB4IC8gcjEgKyAoeTEgKyB5MikgLyAyO1xuICAgICAgICBmMSA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTEgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBmMiA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTIgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBpZiAoeDEgPCBjeCkge1xuICAgICAgICAgICAgZjEgPSBNYXRoLlBJIC0gZjE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgyIDwgY3gpIHtcbiAgICAgICAgICAgIGYyID0gTWF0aC5QSSAtIGYyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmMSA8IDApIHtcbiAgICAgICAgICAgIGYxID0gTWF0aC5QSSAqIDIgKyBmMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZjIgPCAwKSB7XG4gICAgICAgICAgICBmMiA9IE1hdGguUEkgKiAyICsgZjI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3ZWVwRmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICBmMSA9IGYxIC0gTWF0aC5QSSAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzd2VlcEZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgZjIgPSBmMiAtIE1hdGguUEkgKiAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBkZiA9IGYyIC0gZjE7XG4gICAgaWYgKE1hdGguYWJzKGRmKSA+IChNYXRoLlBJICogMTIwIC8gMTgwKSkge1xuICAgICAgICBjb25zdCBmMm9sZCA9IGYyO1xuICAgICAgICBjb25zdCB4Mm9sZCA9IHgyO1xuICAgICAgICBjb25zdCB5Mm9sZCA9IHkyO1xuICAgICAgICBpZiAoc3dlZXBGbGFnICYmIGYyID4gZjEpIHtcbiAgICAgICAgICAgIGYyID0gZjEgKyAoTWF0aC5QSSAqIDEyMCAvIDE4MCkgKiAoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmMiA9IGYxICsgKE1hdGguUEkgKiAxMjAgLyAxODApICogKC0xKTtcbiAgICAgICAgfVxuICAgICAgICB4MiA9IGN4ICsgcjEgKiBNYXRoLmNvcyhmMik7XG4gICAgICAgIHkyID0gY3kgKyByMiAqIE1hdGguc2luKGYyKTtcbiAgICAgICAgcGFyYW1zID0gYXJjVG9DdWJpY0N1cnZlcyh4MiwgeTIsIHgyb2xkLCB5Mm9sZCwgcjEsIHIyLCBhbmdsZSwgMCwgc3dlZXBGbGFnLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICB9XG4gICAgZGYgPSBmMiAtIGYxO1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoZjEpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oZjEpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoZjIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oZjIpO1xuICAgIGNvbnN0IHQgPSBNYXRoLnRhbihkZiAvIDQpO1xuICAgIGNvbnN0IGh4ID0gNCAvIDMgKiByMSAqIHQ7XG4gICAgY29uc3QgaHkgPSA0IC8gMyAqIHIyICogdDtcbiAgICBjb25zdCBtMSA9IFt4MSwgeTFdO1xuICAgIGNvbnN0IG0yID0gW3gxICsgaHggKiBzMSwgeTEgLSBoeSAqIGMxXTtcbiAgICBjb25zdCBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl07XG4gICAgY29uc3QgbTQgPSBbeDIsIHkyXTtcbiAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gcm90YXRlKHBhcmFtc1tpXVswXSwgcGFyYW1zW2ldWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMiA9IHJvdGF0ZShwYXJhbXNbaSArIDFdWzBdLCBwYXJhbXNbaSArIDFdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMyA9IHJvdGF0ZShwYXJhbXNbaSArIDJdWzBdLCBwYXJhbXNbaSArIDJdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjdXJ2ZXMucHVzaChbcjFbMF0sIHIxWzFdLCByMlswXSwgcjJbMV0sIHIzWzBdLCByM1sxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJ2ZXM7XG4gICAgfVxufVxuIiwiZXhwb3J0IHsgcGFyc2VQYXRoLCBzZXJpYWxpemUgfSBmcm9tICcuL3BhcnNlci5qcyc7XG5leHBvcnQgeyBhYnNvbHV0aXplIH0gZnJvbSAnLi9hYnNvbHV0aXplLmpzJztcbmV4cG9ydCB7IG5vcm1hbGl6ZSB9IGZyb20gJy4vbm9ybWFsaXplLmpzJztcbiIsImltcG9ydCB7IHBvaW50c09uQmV6aWVyQ3VydmVzLCBzaW1wbGlmeSB9IGZyb20gJ3BvaW50cy1vbi1jdXJ2ZSc7XG5pbXBvcnQgeyBwYXJzZVBhdGgsIGFic29sdXRpemUsIG5vcm1hbGl6ZSB9IGZyb20gJ3BhdGgtZGF0YS1wYXJzZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c09uUGF0aChwYXRoLCB0b2xlcmFuY2UsIGRpc3RhbmNlKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZShhYnNvbHV0aXplKHNlZ21lbnRzKSk7XG4gICAgY29uc3Qgc2V0cyA9IFtdO1xuICAgIGxldCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgIGxldCBwZW5kaW5nQ3VydmUgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRQZW5kaW5nQ3VydmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwZW5kaW5nQ3VydmUubGVuZ3RoID49IDQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaCguLi5wb2ludHNPbkJlemllckN1cnZlcyhwZW5kaW5nQ3VydmUsIHRvbGVyYW5jZSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdDdXJ2ZSA9IFtdO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kUGVuZGluZ1BvaW50cyA9ICgpID0+IHtcbiAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgIGlmIChjdXJyZW50UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0cy5wdXNoKGN1cnJlbnRQb2ludHMpO1xuICAgICAgICAgICAgY3VycmVudFBvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygbm9ybWFsaXplZCkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ1BvaW50cygpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2RhdGFbMF0sIGRhdGFbMV1dO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ0N1cnZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBjdXJyZW50UG9pbnRzLmxlbmd0aCA/IGN1cnJlbnRQb2ludHNbY3VycmVudFBvaW50cy5sZW5ndGggLSAxXSA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbbGFzdFBvaW50WzBdLCBsYXN0UG9pbnRbMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbZGF0YVsyXSwgZGF0YVszXV0pO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdDdXJ2ZS5wdXNoKFtkYXRhWzRdLCBkYXRhWzVdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW3N0YXJ0WzBdLCBzdGFydFsxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZFBlbmRpbmdQb2ludHMoKTtcbiAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBzZXRzO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNldCBvZiBzZXRzKSB7XG4gICAgICAgIGNvbnN0IHNpbXBsaWZpZWRTZXQgPSBzaW1wbGlmeShzZXQsIGRpc3RhbmNlKTtcbiAgICAgICAgaWYgKHNpbXBsaWZpZWRTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXQucHVzaChzaW1wbGlmaWVkU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IHsgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7IGRpbWVuc2lvbnNGcm9tUG9pbnRzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAsIHsgZ2V0R3JvdXBBdHRycyB9IGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQge1xuICBFeGNhbGlkcmF3RWxlbWVudEJhc2UsXG4gIEV4Y2FsaWRyYXdSZWN0YW5nbGUsXG4gIEV4Y2FsaWRyYXdFbGxpcHNlLFxuICBFeGNhbGlkcmF3TGluZSxcbiAgRXhjYWxpZHJhd0RyYXcsXG4gIGNyZWF0ZUV4UmVjdCxcbiAgY3JlYXRlRXhFbGxpcHNlLFxuICBjcmVhdGVFeExpbmUsXG4gIGNyZWF0ZUV4RHJhdyxcbiAgUG9pbnQsXG59IGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5pbXBvcnQge1xuICBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMsXG4gIGZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzLFxuICBwb2ludHNBdHRyVG9Qb2ludHMsXG4gIGhhcyxcbiAgZ2V0LFxuICBnZXROdW0sXG59IGZyb20gXCIuL2F0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IGdldFRyYW5zZm9ybU1hdHJpeCwgdHJhbnNmb3JtUG9pbnRzIH0gZnJvbSBcIi4vdHJhbnNmb3JtXCI7XG5pbXBvcnQgeyBwb2ludHNPblBhdGggfSBmcm9tIFwicG9pbnRzLW9uLXBhdGhcIjtcbmltcG9ydCB7IHJhbmRvbUlkLCBnZXRXaW5kaW5nT3JkZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jb25zdCBTVVBQT1JURURfVEFHUyA9IFtcbiAgXCJzdmdcIixcbiAgXCJwYXRoXCIsXG4gIFwiZ1wiLFxuICBcInVzZVwiLFxuICBcImNpcmNsZVwiLFxuICBcImVsbGlwc2VcIixcbiAgXCJyZWN0XCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJwb2x5Z29uXCIsXG5dO1xuXG5jb25zdCBub2RlVmFsaWRhdG9yID0gKG5vZGU6IEVsZW1lbnQpOiBudW1iZXIgPT4ge1xuICBpZiAoU1VQUE9SVEVEX1RBR1MuaW5jbHVkZXMobm9kZS50YWdOYW1lKSkge1xuICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gIH1cblxuICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyZWVXYWxrZXIoZG9tOiBOb2RlKTogVHJlZVdhbGtlciB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvbSwgTm9kZUZpbHRlci5TSE9XX0FMTCwge1xuICAgIGFjY2VwdE5vZGU6IG5vZGVWYWxpZGF0b3IsXG4gIH0pO1xufVxuXG50eXBlIFdhbGtlckFyZ3MgPSB7XG4gIHJvb3Q6IERvY3VtZW50O1xuICB0dzogVHJlZVdhbGtlcjtcbiAgc2NlbmU6IEV4Y2FsaWRyYXdTY2VuZTtcbiAgZ3JvdXBzOiBHcm91cFtdO1xufTtcblxuY29uc3QgcHJlc0F0dHJzID0gKFxuICBlbDogRWxlbWVudCxcbiAgZ3JvdXBzOiBHcm91cFtdLFxuKTogUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgLi4ucHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsKSxcbiAgICAuLi5maWx0ZXJBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gIH07XG59O1xuXG5jb25zdCBza2lwcGVkVXNlQXR0cnMgPSBbXCJpZFwiXTtcbmNvbnN0IGFsbHdheXNQYXNzZWRVc2VBdHRycyA9IFtcbiAgXCJ4XCIsXG4gIFwieVwiLFxuICBcIndpZHRoXCIsXG4gIFwiaGVpZ2h0XCIsXG4gIFwiaHJlZlwiLFxuICBcInhsaW5rOmhyZWZcIixcbl07XG5cbi8qXG4gIFwiTW9zdCBhdHRyaWJ1dGVzIG9uIHVzZSBkbyBub3Qgb3ZlcnJpZGUgdGhvc2UgYWxyZWFkeSBvbiB0aGUgZWxlbWVudFxuICByZWZlcmVuY2VkIGJ5IHVzZS4gKFRoaXMgZGlmZmVycyBmcm9tIGhvdyBDU1Mgc3R5bGUgYXR0cmlidXRlcyBvdmVycmlkZVxuICB0aG9zZSBzZXQgJ2VhcmxpZXInIGluIHRoZSBjYXNjYWRlKS4gT25seSB0aGUgYXR0cmlidXRlcyB4LCB5LCB3aWR0aCxcbiAgaGVpZ2h0IGFuZCBocmVmIG9uIHRoZSB1c2UgZWxlbWVudCB3aWxsIG92ZXJyaWRlIHRob3NlIHNldCBvbiB0aGVcbiAgcmVmZXJlbmNlZCBlbGVtZW50LiBIb3dldmVyLCBhbnkgb3RoZXIgYXR0cmlidXRlcyBub3Qgc2V0IG9uIHRoZSByZWZlcmVuY2VkXG4gIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSB1c2UgZWxlbWVudC5cIlxuXG4gIFNpdHVhdGlvbiAxOiBBdHRyIGlzIHNldCBvbiBkZWZFbCwgTk9UIG9uIHVzZUVsXG4gICAgLSByZXN1bHQ6IHVzZSBkZWZFbCBhdHRyXG4gIFNpdHVhdGlvbiAyOiBBdHRyIGlzIG9uIHVzZUVsLCBOT1Qgb24gZGVmRWxcbiAgICAtIHJlc3VsdDogdXNlIHRoZSB1c2VFbCBhdHRyXG4gIFNpdHVhdGlvbiAzOiBBdHRyIGlzIG9uIGJvdGggdXNlRWwgYW5kIGRlZkVsXG4gICAgLSByZXN1bHQ6IHVzZSB0aGUgZGVmRWwgYXR0ciAoVW5sZXNzIHgsIHksIHdpZHRoLCBoZWlnaHQsIGhyZWYsIHhsaW5rOmhyZWYpXG4qL1xuY29uc3QgZ2V0RGVmRWxXaXRoQ29ycmVjdEF0dHJzID0gKGRlZkVsOiBFbGVtZW50LCB1c2VFbDogRWxlbWVudCk6IEVsZW1lbnQgPT4ge1xuICBjb25zdCBmaW5hbEVsID0gWy4uLnVzZUVsLmF0dHJpYnV0ZXNdLnJlZHVjZSgoZWwsIGF0dHIpID0+IHtcbiAgICBpZiAoc2tpcHBlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gRG9lcyBkZWZFbCBoYXZlIHRoZSBhdHRyPyBJZiBzbywgdXNlIGl0LCBlbHNlIHVzZSB0aGUgdXNlRWwgYXR0clxuICAgIGlmIChcbiAgICAgICFkZWZFbC5oYXNBdHRyaWJ1dGUoYXR0ci5uYW1lKSB8fFxuICAgICAgYWxsd2F5c1Bhc3NlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIubmFtZSlcbiAgICApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIHVzZUVsLmdldEF0dHJpYnV0ZShhdHRyLm5hbWUpIHx8IFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sIGRlZkVsLmNsb25lTm9kZSgpIGFzIEVsZW1lbnQpO1xuXG4gIHJldHVybiBmaW5hbEVsO1xufTtcblxuY29uc3Qgd2Fsa2VycyA9IHtcbiAgc3ZnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IG5leHRBcmdzID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHR3OiBjcmVhdGVUcmVlV2Fsa2VyKGFyZ3MudHcuY3VycmVudE5vZGUpLFxuICAgICAgZ3JvdXBzOiBbLi4uYXJncy5ncm91cHMsIG5ldyBHcm91cChhcmdzLnR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQpXSxcbiAgICB9O1xuXG4gICAgd2FsayhuZXh0QXJncywgbmV4dEFyZ3MudHcubmV4dE5vZGUoKSk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dFNpYmxpbmcoKSk7XG4gIH0sXG5cbiAgdXNlOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgcm9vdCwgdHcsIHNjZW5lIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVzZUVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IGlkID0gdXNlRWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fCB1c2VFbC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5hYmxlIHRvIGdldCBpZCBvZiB1c2UgZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZFbCA9IHJvb3QucXVlcnlTZWxlY3RvcihpZCk7XG5cbiAgICBpZiAoIWRlZkVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuYWJsZSB0byBmaW5kIGRlZiBlbGVtZW50IHdpdGggaWQ6ICR7aWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcFNjZW5lID0gbmV3IEV4Y2FsaWRyYXdTY2VuZSgpO1xuXG4gICAgY29uc3QgZmluYWxFbCA9IGdldERlZkVsV2l0aENvcnJlY3RBdHRycyhkZWZFbCwgdXNlRWwpO1xuXG4gICAgd2FsayhcbiAgICAgIHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgc2NlbmU6IHRlbXBTY2VuZSxcbiAgICAgICAgdHc6IGNyZWF0ZVRyZWVXYWxrZXIoZmluYWxFbCksXG4gICAgICB9LFxuICAgICAgZmluYWxFbCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhFbCA9IHRlbXBTY2VuZS5lbGVtZW50cy5wb3AoKTtcblxuICAgIGlmICghZXhFbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBleCBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2goZXhFbCk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgY2lyY2xlOiAoYXJnczogV2Fsa2VyQXJncyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgciA9IGdldE51bShlbCwgXCJyXCIsIDApO1xuICAgIGNvbnN0IGQgPSByICogMjtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBnZXROdW0oZWwsIFwiY3hcIiwgMCkgLSByO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGdldE51bShlbCwgXCJjeVwiLCAwKSAtIHI7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyhkLCAwLCAwLCAwLCAwLCBkLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGNpcmNsZTogRXhjYWxpZHJhd0VsbGlwc2UgPSB7XG4gICAgICAuLi5jcmVhdGVFeEVsbGlwc2UoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgZ3JvdXBJZHM6IGdyb3Vwcy5tYXAoKGcpID0+IGcuaWQpLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGNpcmNsZSk7XG5cbiAgICB3YWxrKGFyZ3MsIHR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGVsbGlwc2U6IChhcmdzOiBXYWxrZXJBcmdzKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCByeCA9IGdldE51bShlbCwgXCJyeFwiLCAwKTtcbiAgICBjb25zdCByeSA9IGdldE51bShlbCwgXCJyeVwiLCAwKTtcbiAgICBjb25zdCBjeCA9IGdldE51bShlbCwgXCJjeFwiLCAwKTtcbiAgICBjb25zdCBjeSA9IGdldE51bShlbCwgXCJjeVwiLCAwKTtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBjeCAtIHJ4O1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGN5IC0gcnk7XG4gICAgY29uc3QgdyA9IHJ4ICogMjtcbiAgICBjb25zdCBoID0gcnkgKiAyO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyh3LCAwLCAwLCAwLCAwLCBoLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGVsbGlwc2U6IEV4Y2FsaWRyYXdFbGxpcHNlID0ge1xuICAgICAgLi4uY3JlYXRlRXhFbGxpcHNlKCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIGdyb3VwSWRzOiBncm91cHMubWFwKChnKSA9PiBnLmlkKSxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChlbGxpcHNlKTtcblxuICAgIHdhbGsoYXJncywgdHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgbGluZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICAvLyB1bmltcGxlbWVudGVkXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlnb246IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNBdHRyVG9Qb2ludHMoZWwpO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludHMgPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXQpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBvaW50IG5lZWRzIHRvIGJlIDAsIDAsIGFuZCBhbGwgZm9sbG93aW5nIHBvaW50c1xuICAgIC8vIGFyZSByZWxhdGl2ZSB0byB0aGUgZmlyc3QgcG9pbnQuXG4gICAgY29uc3QgeCA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzBdO1xuICAgIGNvbnN0IHkgPSB0cmFuc2Zvcm1lZFBvaW50c1swXVsxXTtcblxuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdHJhbnNmb3JtZWRQb2ludHMubWFwKChbX3gsIF95XSkgPT4gW1xuICAgICAgX3ggLSB4LFxuICAgICAgX3kgLSB5LFxuICAgIF0pO1xuXG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHMocmVsYXRpdmVQb2ludHMpO1xuXG4gICAgY29uc3QgbGluZTogRXhjYWxpZHJhd0xpbmUgPSB7XG4gICAgICAuLi5jcmVhdGVFeExpbmUoKSxcbiAgICAgIC4uLmdldEdyb3VwQXR0cnMoZ3JvdXBzKSxcbiAgICAgIC4uLnByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLmNvbmNhdChbWzAsIDBdXSksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGxpbmUpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlsaW5lOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzQXR0clRvUG9pbnRzKGVsKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFBvaW50cyA9IHRyYW5zZm9ybVBvaW50cyhwb2ludHMsIG1hdCk7XG5cbiAgICAvLyBUaGUgZmlyc3QgcG9pbnQgbmVlZHMgdG8gYmUgMCwgMCwgYW5kIGFsbCBmb2xsb3dpbmcgcG9pbnRzXG4gICAgLy8gYXJlIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCBwb2ludC5cbiAgICBjb25zdCB4ID0gdHJhbnNmb3JtZWRQb2ludHNbMF1bMF07XG4gICAgY29uc3QgeSA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzFdO1xuXG4gICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0cmFuc2Zvcm1lZFBvaW50cy5tYXAoKFtfeCwgX3ldKSA9PiBbXG4gICAgICBfeCAtIHgsXG4gICAgICBfeSAtIHksXG4gICAgXSk7XG5cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyhyZWxhdGl2ZVBvaW50cyk7XG5cbiAgICBjb25zdCBoYXNGaWxsID0gaGFzKGVsLCBcImZpbGxcIik7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgXCJmaWxsXCIpO1xuXG4gICAgY29uc3Qgc2hvdWxkRmlsbCA9ICFoYXNGaWxsIHx8IChoYXNGaWxsICYmIGZpbGwgIT09IFwibm9uZVwiKTtcblxuICAgIGNvbnN0IGxpbmU6IEV4Y2FsaWRyYXdMaW5lID0ge1xuICAgICAgLi4uY3JlYXRlRXhMaW5lKCksXG4gICAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgICAuLi5wcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cy5jb25jYXQoc2hvdWxkRmlsbCA/IFtbMCwgMF1dIDogW10pLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChsaW5lKTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICByZWN0OiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKTtcbiAgICBjb25zdCB3ID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIsIDApO1xuICAgIGNvbnN0IGggPSBnZXROdW0oZWwsIFwiaGVpZ2h0XCIsIDApO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXModywgMCwgMCwgMCwgMCwgaCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICAvKlxuICAgIE5PVEU6IEN1cnJlbnRseSB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSB3YXkgdG8gc3BlY2lmeSB0aGUgYm9yZGVyXG4gICAgICAgICAgcmFkaXVzIG9mIGEgcmVjdCB3aXRoaW4gRXhjYWxpZHJhdy4gVGhpcyBtZWFucyB0aGF0IGF0dHJpYnV0ZXNcbiAgICAgICAgICByeCBhbmQgcnkgY2FuJ3QgYmUgdXNlZC5cbiAgICAqL1xuICAgIGNvbnN0IGlzUm91bmQgPSBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSB8fCBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKTtcblxuICAgIGNvbnN0IHJlY3Q6IEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSB7XG4gICAgICAuLi5jcmVhdGVFeFJlY3QoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgc3Ryb2tlU2hhcnBuZXNzOiBpc1JvdW5kID8gXCJyb3VuZFwiIDogXCJzaGFycFwiLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKHJlY3QpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBhdGg6IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNPblBhdGgoZ2V0KGVsLCBcImRcIikpO1xuXG4gICAgY29uc3QgZmlsbENvbG9yID0gZ2V0KGVsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcbiAgICBjb25zdCBmaWxsUnVsZSA9IGdldChlbCwgXCJmaWxsLXJ1bGVcIiwgXCJub256ZXJvXCIpO1xuXG4gICAgbGV0IGVsZW1lbnRzOiBFeGNhbGlkcmF3RHJhd1tdID0gW107XG4gICAgbGV0IGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuXG4gICAgc3dpdGNoIChmaWxsUnVsZSkge1xuICAgICAgY2FzZSBcIm5vbnplcm9cIjpcbiAgICAgICAgbGV0IGluaXRpYWxXaW5kaW5nT3JkZXIgPSBcImNsb2Nrd2lzZVwiO1xuXG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpbmRpbmdPcmRlciA9IGdldFdpbmRpbmdPcmRlcihyZWxhdGl2ZVBvaW50cyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxXaW5kaW5nT3JkZXIgPSB3aW5kaW5nT3JkZXI7XG4gICAgICAgICAgICAgIGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxXaW5kaW5nT3JkZXIgIT09IHdpbmRpbmdPcmRlcikge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNGRkZGRkZcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uY3JlYXRlRXhEcmF3KCksXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgICAgICAgICAgICBzdHJva2VDb2xvcjogXCIjMDAwMDAwMDBcIixcbiAgICAgICAgICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgICAgICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgICBncm91cElkczogW2xvY2FsR3JvdXBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVub2RkXCI6XG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgbG9jYWxHcm91cCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUV4RHJhdygpLFxuICAgICAgICAgICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICAgICAgICAgIHBvaW50czogcmVsYXRpdmVQb2ludHMsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgc2NlbmUuZWxlbWVudHMgPSBzY2VuZS5lbGVtZW50cy5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgd2FsayhhcmdzLCB0dy5uZXh0Tm9kZSgpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWxrKGFyZ3M6IFdhbGtlckFyZ3MsIG5leHROb2RlOiBOb2RlIHwgbnVsbCk6IHZvaWQge1xuICBpZiAoIW5leHROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgbm9kZU5hbWUgPSBuZXh0Tm9kZS5ub2RlTmFtZSBhcyBrZXlvZiB0eXBlb2Ygd2Fsa2VycztcbiAgaWYgKHdhbGtlcnNbbm9kZU5hbWVdKSB7XG4gICAgd2Fsa2Vyc1tub2RlTmFtZV0oYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZWxlbWVudHMvR3JvdXBcIjtcbmltcG9ydCB7IGNyZWF0ZVRyZWVXYWxrZXIsIHdhbGsgfSBmcm9tIFwiLi93YWxrZXJcIjtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2lvblJlc3VsdCA9IHtcbiAgaGFzRXJyb3JzOiBib29sZWFuO1xuICBlcnJvcnM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsO1xuICBjb250ZW50OiBhbnk7IC8vIFNlcmlhbGl6ZWQgRXhjYWxpZHJhdyBKU09OXG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydCA9IChzdmdTdHJpbmc6IHN0cmluZyk6IENvbnZlcnNpb25SZXN1bHQgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHN2Z0RPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnU3RyaW5nLCBcImltYWdlL3N2Zyt4bWxcIik7XG5cbiAgLy8gd2FzIHRoZXJlIGEgcGFyc2luZyBlcnJvcj9cbiAgY29uc3QgZXJyb3JzRWxlbWVudHMgPSBzdmdET00ucXVlcnlTZWxlY3RvckFsbChcInBhcnNlcmVycm9yXCIpO1xuICBjb25zdCBoYXNFcnJvcnMgPSBlcnJvcnNFbGVtZW50cy5sZW5ndGggPiAwO1xuICBsZXQgY29udGVudCA9IG51bGw7XG5cbiAgaWYgKGhhc0Vycm9ycykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZXJlIHdlcmUgZXJyb3JzIHdoaWxlIHBhcnNpbmcgdGhlIGdpdmVuIFNWRzogXCIsXG4gICAgICBbLi4uZXJyb3JzRWxlbWVudHNdLm1hcCgoZWwpID0+IGVsLmlubmVySFRNTCksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0dyA9IGNyZWF0ZVRyZWVXYWxrZXIoc3ZnRE9NKTtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBFeGNhbGlkcmF3U2NlbmUoKTtcbiAgICBjb25zdCBncm91cHM6IEdyb3VwW10gPSBbXTtcblxuICAgIHdhbGsoeyB0dywgc2NlbmUsIGdyb3Vwcywgcm9vdDogc3ZnRE9NIH0sIHR3Lm5leHROb2RlKCkpO1xuXG4gICAgY29udGVudCA9IHNjZW5lLnRvRXhKU09OKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhhc0Vycm9ycyxcbiAgICBlcnJvcnM6IGhhc0Vycm9ycyA/IGVycm9yc0VsZW1lbnRzIDogbnVsbCxcbiAgICBjb250ZW50LFxuICB9O1xufTtcbiIsImltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwiLi9wYXJzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VyO1xuIl0sIm5hbWVzIjpbIkV4Y2FsaWRyYXdTY2VuZSIsImVsZW1lbnRzIiwibWFwIiwiZWwiLCJSYW5kb20iLCJuYW5vaWQiLCJyYW5kb20iLCJEYXRlIiwibm93IiwicmFuZG9tSW50ZWdlciIsIk1hdGgiLCJmbG9vciIsIm5leHQiLCJyYW5kb21JZCIsInNhZmVOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZGltZW5zaW9uc0Zyb21Qb2ludHMiLCJwb2ludHMiLCJ4Q29vcmRzIiwieCIsInlDb29yZHMiLCJ5IiwibWluWCIsIm1pbiIsIm1pblkiLCJtYXhYIiwibWF4IiwibWF4WSIsImdldFdpbmRpbmdPcmRlciIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiaWR4IiwiYXJyIiwieDEiLCJ5MSIsInAyIiwieDIiLCJ5MiIsImUiLCJjaHJvbWEiLCJoZXhXaXRoQWxwaGEiLCJjb2xvciIsImFscGhhIiwiY3NzIiwiaGFzIiwiYXR0ciIsImhhc0F0dHJpYnV0ZSIsImdldCIsImJhY2t1cCIsImdldEF0dHJpYnV0ZSIsImdldE51bSIsIm51bVZhbCIsIk5hTiIsInByZXNBdHRycyIsInN0cm9rZSIsImZpbGwiLCJvcGFjaXR5IiwiYXR0ckhhbmRsZXJzIiwiZXhWYWxzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImJhY2tncm91bmRDb2xvciIsInByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyIsImF0dHJpYnV0ZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMiLCJmaWx0ZXJWYWxzIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludHNBdHRyVG9Qb2ludHMiLCJzcGxpdCIsInAiLCJwYXJzZUZsb2F0IiwiZ2V0R3JvdXBBdHRycyIsImdyb3VwcyIsImVsZW1lbnQiLCJlbFZhbHMiLCJHcm91cCIsImNyZWF0ZUV4RWxlbWVudCIsImlkIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VTaGFycG5lc3MiLCJyb3VnaG5lc3MiLCJhbmdsZSIsInNlZWQiLCJ2ZXJzaW9uIiwidmVyc2lvbk5vbmNlIiwiaXNEZWxldGVkIiwiZ3JvdXBJZHMiLCJib3VuZEVsZW1lbnRJZHMiLCJjcmVhdGVFeFJlY3QiLCJ0eXBlIiwiY3JlYXRlRXhMaW5lIiwiY3JlYXRlRXhFbGxpcHNlIiwiY3JlYXRlRXhEcmF3IiwidmVjMyIsIm1hdDQiLCJ0cmFuc2Zvcm1GdW5jdGlvbnMiLCJtYXRyaXgiLCJtYXRyaXgzZCIsInBlcnNwZWN0aXZlIiwicm90YXRlIiwicm90YXRlM2QiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZSIsInNjYWxlM2QiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJza2V3Iiwic2tld1giLCJza2V3WSIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZTNkIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwidHJhbnNmb3JtRnVuY3Rpb25zQXJyIiwiZGVmYXVsdFVuaXRzIiwic3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0iLCJzdmdUcmFuc2Zvcm1TdHIiLCJ0RnVuY3MiLCJtYXRjaCIsInRGdW5jVmFsdWVzIiwidEZ1bmNTdHIiLCJFcnJvciIsInRGdW5jUGFydHMiLCJ2YWx1ZXMiLCJhIiwibWF0Y2hBbGwiLCJ2YWx1ZSIsInVuaXQiLCJsZW5ndGgiLCJjc3N0cmFuc2Zvcm1TdHIiLCJ2YWxTdHIiLCJqb2luIiwiY3JlYXRlRE9NTWF0cml4RnJvbVNWR1N0ciIsImNzc1RyYW5zZm9ybVN0ciIsIkRPTU1hdHJpeCIsImdldEVsZW1lbnRNYXRyaXgiLCJlbE1hdCIsIm11bHRpcGx5IiwiY3JlYXRlIiwidG9GbG9hdDMyQXJyYXkiLCJnZXRUcmFuc2Zvcm1NYXRyaXgiLCJhY2N1bU1hdCIsImNvbmNhdCIsIm1hdCIsInRyYW5zZm9ybVBvaW50cyIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU1hdDQiLCJmcm9tVmFsdWVzIiwibmV3WCIsIm5ld1kiLCJwb2ludHNPblBhdGgiLCJTVVBQT1JURURfVEFHUyIsIm5vZGVWYWxpZGF0b3IiLCJub2RlIiwidGFnTmFtZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJkb20iLCJkb2N1bWVudCIsIlNIT1dfQUxMIiwiYWNjZXB0Tm9kZSIsInNraXBwZWRVc2VBdHRycyIsImFsbHdheXNQYXNzZWRVc2VBdHRycyIsImdldERlZkVsV2l0aENvcnJlY3RBdHRycyIsImRlZkVsIiwidXNlRWwiLCJmaW5hbEVsIiwic2V0QXR0cmlidXRlIiwiY2xvbmVOb2RlIiwid2Fsa2VycyIsInN2ZyIsImFyZ3MiLCJ3YWxrIiwidHciLCJuZXh0Tm9kZSIsImciLCJuZXh0QXJncyIsImN1cnJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJ1c2UiLCJyb290Iiwic2NlbmUiLCJxdWVyeVNlbGVjdG9yIiwidGVtcFNjZW5lIiwiZXhFbCIsInBvcCIsInB1c2giLCJjaXJjbGUiLCJyIiwiZCIsIm0iLCJyZXN1bHQiLCJlbGxpcHNlIiwicngiLCJyeSIsImN4IiwiY3kiLCJ3IiwiaCIsImxpbmUiLCJwb2x5Z29uIiwidHJhbnNmb3JtZWRQb2ludHMiLCJyZWxhdGl2ZVBvaW50cyIsIl94IiwiX3kiLCJwb2x5bGluZSIsImhhc0ZpbGwiLCJzaG91bGRGaWxsIiwicmVjdCIsImlzUm91bmQiLCJwYXRoIiwiZmlsbENvbG9yIiwiZmlsbFJ1bGUiLCJsb2NhbEdyb3VwIiwiaW5pdGlhbFdpbmRpbmdPcmRlciIsInBvaW50QXJyIiwidFBvaW50cyIsImNsb25lIiwid2luZGluZ09yZGVyIiwibm9kZU5hbWUiLCJjb252ZXJ0Iiwic3ZnU3RyaW5nIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwic3ZnRE9NIiwicGFyc2VGcm9tU3RyaW5nIiwiZXJyb3JzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFzRXJyb3JzIiwiY29udGVudCIsImNvbnNvbGUiLCJlcnJvciIsImlubmVySFRNTCIsInRvRXhKU09OIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///773\n')},792:function _(module){eval("/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    0;\n}(this, (function () { 'use strict';\n\n    var limit = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var clip_rgb = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {\n        var name = list[i];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var unpack = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var last = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb,\n    \tlimit: limit,\n    \ttype: type,\n    \tunpack: unpack,\n    \tlast: last,\n    \tPI: PI,\n    \tTWOPI: PI*2,\n    \tPITHIRD: PI/3,\n    \tDEG2RAD: PI / 180,\n    \tRAD2DEG: 180 / PI\n    };\n\n    var input = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$1 = utils.last;\n    var clip_rgb$1 = utils.clip_rgb;\n    var type$1 = utils.type;\n\n\n    var Color = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$1(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$1(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!input.sorted) {\n                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (input.format[mode]) {\n            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$1(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color.prototype.toString = function toString () {\n        if (type$1(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color;\n\n    var chroma = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));\n    };\n\n    chroma.Color = Color_1;\n    chroma.version = '2.1.2';\n\n    var chroma_1 = chroma;\n\n    var unpack$1 = utils.unpack;\n    var max = Math.max;\n\n    var rgb2cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$1(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max(r,max(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk;\n\n    var unpack$2 = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$2(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var unpack$3 = utils.unpack;\n    var type$2 = utils.type;\n\n\n\n    Color_1.prototype.cmyk = function() {\n        return rgb2cmyk_1(this._rgb);\n    };\n\n    chroma_1.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input.format.cmyk = cmyk2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'cmyk');\n            if (type$2(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$4 = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$4(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css;\n\n    var unpack$5 = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$5(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl;\n\n    var unpack$6 = utils.unpack;\n    var last$3 = utils.last;\n\n\n    var round = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$6(args, 'rgba');\n        var mode = last$3(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css_1(rgb2hsl_1(rgba), mode);\n        }\n        rgba[0] = round(rgba[0]);\n        rgba[1] = round(rgba[1]);\n        rgba[2] = round(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css;\n\n    var unpack$7 = utils.unpack;\n    var round$1 = Math.round;\n\n    var hsl2rgb = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$7(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$2 = Math.round;\n\n    var css2rgb = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input.format.named) {\n            try {\n                return input.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb_1(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb_1(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb;\n\n    var type$3 = utils.type;\n\n\n\n\n    Color_1.prototype.css = function(mode) {\n        return rgb2css_1(this._rgb, mode);\n    };\n\n    chroma_1.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));\n    };\n\n    input.format.css = css2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    input.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$8(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma_1.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color_1.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$9 = utils.unpack;\n\n    var rgb2hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$9(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg;\n\n    var unpack$a = utils.unpack;\n    var floor = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$a(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$b = utils.unpack;\n    var type$4 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hcg = function() {\n        return rgb2hcg_1(this._rgb);\n    };\n\n    chroma_1.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input.format.hcg = hcg2rgb_1;\n\n    input.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$b(args, 'hcg');\n            if (type$4(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$c = utils.unpack;\n    var last$4 = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$c(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last$4(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb;\n\n    var type$5 = utils.type;\n\n\n\n\n    Color_1.prototype.hex = function(mode) {\n        return rgb2hex_1(this._rgb, mode);\n    };\n\n    chroma_1.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));\n    };\n\n    input.format.hex = hex2rgb_1;\n    input.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$d = utils.unpack;\n    var TWOPI = utils.TWOPI;\n    var min = Math.min;\n    var sqrt = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI - h;\n            }\n            h /= TWOPI;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi;\n\n    var unpack$e = utils.unpack;\n    var limit$1 = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$e(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit$1(i*r*3);\n        g = limit$1(i*g*3);\n        b = limit$1(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$f = utils.unpack;\n    var type$6 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsi = function() {\n        return rgb2hsi_1(this._rgb);\n    };\n\n    chroma_1.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input.format.hsi = hsi2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'hsi');\n            if (type$6(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$g = utils.unpack;\n    var type$7 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsl = function() {\n        return rgb2hsl_1(this._rgb);\n    };\n\n    chroma_1.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input.format.hsl = hsl2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$g(args, 'hsl');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$h = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$h(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv = rgb2hsl$1;\n\n    var unpack$i = utils.unpack;\n    var floor$1 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$i(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$1(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$j = utils.unpack;\n    var type$8 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma_1.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input.format.hsv = hsv2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$j(args, 'hsv');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var unpack$k = utils.unpack;\n    var pow = Math.pow;\n\n    var rgb2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$k(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > labConstants.t3) { return pow(t, 1 / 3); }\n        return t / labConstants.t2 + labConstants.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab;\n\n    var unpack$l = utils.unpack;\n    var pow$1 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$l(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = labConstants.Yn * lab_xyz(y);\n        x = labConstants.Xn * lab_xyz(x);\n        z = labConstants.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$9 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lab = function() {\n        return rgb2lab_1(this._rgb);\n    };\n\n    chroma_1.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));\n    };\n\n    input.format.lab = lab2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'lab');\n            if (type$9(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$n = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$1 = Math.sqrt;\n    var atan2 = Math.atan2;\n    var round$4 = Math.round;\n\n    var lab2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$n(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$1(a * a + b * b);\n        var h = (atan2(b, a) * RAD2DEG + 360) % 360;\n        if (round$4(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch;\n\n    var unpack$o = utils.unpack;\n\n\n\n    var rgb2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab_1(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch_1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch;\n\n    var unpack$p = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin = Math.sin;\n    var cos$1 = Math.cos;\n\n    var lch2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$p(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$1(h) * c, sin(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab;\n\n    var unpack$q = utils.unpack;\n\n\n\n    var lch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$q(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab_1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb_1 (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb;\n\n    var unpack$r = utils.unpack;\n\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$r(args, 'hcl').reverse();\n        return lch2rgb_1.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$s = utils.unpack;\n    var type$a = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };\n    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };\n\n    chroma_1.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));\n    };\n    chroma_1.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input.format.lch = lch2rgb_1;\n    input.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$s(args, m);\n            if (type$a(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11;\n\n    var type$b = utils.type;\n\n\n\n\n\n    Color_1.prototype.name = function() {\n        var hex = rgb2hex_1(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$t = utils.unpack;\n\n    var rgb2num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$t(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num;\n\n    var type$c = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$c(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var type$d = utils.type;\n\n\n\n    Color_1.prototype.num = function() {\n        return rgb2num_1(this._rgb);\n    };\n\n    chroma_1.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));\n    };\n\n    input.format.num = num2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var unpack$u = utils.unpack;\n    var type$e = utils.type;\n    var round$5 = Math.round;\n\n    Color_1.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$5);\n    };\n\n    Color_1.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$5(v)) : v;\n        });\n    };\n\n    chroma_1.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$u(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$u(args, 'rgba');\n            if (type$e(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log = Math.log;\n\n    var temperature2rgb = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n\n    var unpack$v = utils.unpack;\n    var round$6 = Math.round;\n\n    var rgb2temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$v(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb_1(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round$6(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature;\n\n    Color_1.prototype.temp =\n    Color_1.prototype.kelvin =\n    Color_1.prototype.temperature = function() {\n        return rgb2temperature_1(this._rgb);\n    };\n\n    chroma_1.temp =\n    chroma_1.kelvin =\n    chroma_1.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));\n    };\n\n    input.format.temp =\n    input.format.kelvin =\n    input.format.temperature = temperature2rgb_1;\n\n    var type$f = utils.type;\n\n    Color_1.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$f(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    Color_1.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    Color_1.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= labConstants.Kn * amount;\n    \treturn new Color_1(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color_1.prototype.darker = Color_1.prototype.darken;\n    Color_1.prototype.brighter = Color_1.prototype.brighten;\n\n    Color_1.prototype.get = function(mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var type$g = utils.type;\n    var pow$2 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color_1.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$g(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color_1([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color_1([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();\n            return new Color_1(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator = {};\n\n    var type$h = utils.type;\n\n\n    var mix = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }\n        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    Color_1.prototype.mix =\n    Color_1.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    Color_1.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    Color_1.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += labConstants.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color_1(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var type$i = utils.type;\n\n    Color_1.prototype.set = function(mc, value, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) {\n                if (type$i(value) == 'string') {\n                    switch(value.charAt(0)) {\n                        case '+': src[i] += +value; break;\n                        case '-': src[i] += +value; break;\n                        case '*': src[i] *= +(value.substr(1)); break;\n                        case '/': src[i] /= +(value.substr(1)); break;\n                        default: src[i] = +value;\n                    }\n                } else if (type$i(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color_1(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var rgb$1 = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.rgb = rgb$1;\n\n    var sqrt$2 = Math.sqrt;\n    var pow$3 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color_1(\n            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),\n            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),\n            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.lrgb = lrgb;\n\n    var lab$1 = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator.lab = lab$1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1-(hue0+360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1+360-hue0;\n            } else{\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1-lbv0);\n        return new Color_1([hue, sat, lbv], m);\n    };\n\n    var lch$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator.lch = lch$1;\n    interpolator.hcl = lch$1;\n\n    var num$1 = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color_1(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator.num = num$1;\n\n    var hcg$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator.hcg = hcg$1;\n\n    var hsi$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator.hsi = hsi$1;\n\n    var hsl$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator.hsl = hsl$1;\n\n    var hsv$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator.hsv = hsv$1;\n\n    var clip_rgb$2 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$3 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$1 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$1(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$1(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$3(xyz[0]);\n        xyz[1] = sqrt$3(xyz[1]);\n        xyz[2] = sqrt$3(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color_1(clip_rgb$2(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n\n    var type$j = utils.type;\n\n    var pow$5 = Math.pow;\n\n    var scale = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma_1('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&\n                chroma_1.brewer[colors.toLowerCase()]) {\n                colors = chroma_1.brewer[colors.toLowerCase()];\n            }\n            if (type$j(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma_1(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$5(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$j(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$j(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma_1(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$j(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma_1.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma_1.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors, _pos);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$j(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma_1[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma_1(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n\n\n\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 5) {\n            var I0 = bezier(colors.slice(0, 3));\n            var I1 = bezier(colors.slice(2, 5));\n            I = function(t) {\n                if (t < 0.5) {\n                    return I0(t*2);\n                } else {\n                    return I1((t-0.5)*2);\n                }\n            };\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n\n\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma_1(top).rgb();\n            var c1 = chroma_1(bottom).rgb();\n            return chroma_1.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken$1 = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken$1));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$k = utils.type;\n    var clip_rgb$3 = utils.clip_rgb;\n    var TWOPI$2 = utils.TWOPI;\n    var pow$6 = Math.pow;\n    var sin$2 = Math.sin;\n    var cos$3 = Math.cos;\n\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$k(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));\n            var l = pow$6(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$3(a);\n            var sin_a = sin$2(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$k(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$k(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma_1.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var digits = '0123456789abcdef';\n\n    var floor$2 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$2(random() * 16));\n        }\n        return new Color_1(code, 'hex');\n    };\n\n    var log$1 = Math.log;\n    var pow$7 = Math.pow;\n    var floor$3 = Math.floor;\n    var abs = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log$1(min);\n            var max_log = Math.LOG10E * log$1(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor$3(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var sqrt$4 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var abs$1 = Math.abs;\n    var cos$4 = Math.cos;\n    var PI$2 = Math.PI;\n\n    var deltaE = function(a, b, L, C) {\n        if ( L === void 0 ) L=1;\n        if ( C === void 0 ) C=1;\n\n        // Delta E (CMC)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var c1 = sqrt$4((a1 * a1) + (b1 * b1));\n        var c2 = sqrt$4((a2 * a2) + (b2 * b2));\n        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));\n        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;\n        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;\n        while (h1 < 0) { h1 += 360; }\n        while (h1 >= 360) { h1 -= 360; }\n        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));\n        var c4 = c1 * c1 * c1 * c1;\n        var f = sqrt$4(c4 / (c4 + 1900.0));\n        var sh = sc * (((f * t) + 1.0) - f);\n        var delL = L1 - L2;\n        var delC = c1 - c2;\n        var delA = a1 - a2;\n        var delB = b1 - b2;\n        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);\n        var v1 = delL / (L * sl);\n        var v2 = delC / (C * sc);\n        var v3 = sh;\n        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));\n    };\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n\n\n\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {\n        var key = list$1[i$1];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --\x3e convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --\x3e modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma_1.average = average;\n    chroma_1.bezier = bezier_1;\n    chroma_1.blend = blend_1;\n    chroma_1.cubehelix = cubehelix;\n    chroma_1.mix = chroma_1.interpolate = mix;\n    chroma_1.random = random_1;\n    chroma_1.scale = scale;\n\n    // other utility methods\n    chroma_1.analyze = analyze_1.analyze;\n    chroma_1.contrast = contrast;\n    chroma_1.deltaE = deltaE;\n    chroma_1.distance = distance;\n    chroma_1.limits = analyze_1.limits;\n    chroma_1.valid = valid;\n\n    // scale\n    chroma_1.scales = scales;\n\n    // colors\n    chroma_1.colors = w3cx11_1;\n    chroma_1.brewer = colorbrewer_1;\n\n    var chroma_js = chroma_1;\n\n    return chroma_js;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLEVBQUUsYUFBYSxFQUFFO0FBQ25ELG1DQUFtQyxFQUFFLGFBQWEsRUFBRTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEI7QUFDQSx1QkFBdUI7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsTUFBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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cUJBQXFCO0FBQzlFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9jaHJvbWEtanMvY2hyb21hLmpzPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbC5jaHJvbWEgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiAoeCwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKCBtaW4gPT09IHZvaWQgMCApIG1pbj0wO1xuICAgICAgICBpZiAoIG1heCA9PT0gdm9pZCAwICkgbWF4PTE7XG5cbiAgICAgICAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbiAgICB9O1xuXG4gICAgdmFyIGNsaXBfcmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgICAgICByZ2IuX2NsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgcmdiLl91bmNsaXBwZWQgPSByZ2Iuc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmdiW2ldIDwgMCB8fCByZ2JbaV0gPiAyNTUpIHsgcmdiLl9jbGlwcGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLy8gcG9ydGVkIGZyb20galF1ZXJ5J3MgJC50eXBlXG4gICAgdmFyIGNsYXNzVG9UeXBlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3RbaV07XG5cbiAgICAgICAgY2xhc3NUb1R5cGVbKFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIildID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2sgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUoYXJnc1swXSkgPT0gJ29iamVjdCcgJiYga2V5T3JkZXIpIHtcbiAgICBcdFx0cmV0dXJuIGtleU9yZGVyLnNwbGl0KCcnKVxuICAgIFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba10gIT09IHVuZGVmaW5lZDsgfSlcbiAgICBcdFx0XHQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBhcmdzWzBdW2tdOyB9KTtcbiAgICBcdH1cbiAgICBcdC8vIG90aGVyd2lzZSB3ZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICBcdC8vICh3aGljaCB3ZSBzdXBwb3NlIGlzIGFuIGFycmF5IG9mIGFyZ3MpXG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBhcmdzLmxlbmd0aC0xO1xuICAgICAgICBpZiAodHlwZShhcmdzW2xdKSA9PSAnc3RyaW5nJykgeyByZXR1cm4gYXJnc1tsXS50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiLFxuICAgIFx0bGltaXQ6IGxpbWl0LFxuICAgIFx0dHlwZTogdHlwZSxcbiAgICBcdHVucGFjazogdW5wYWNrLFxuICAgIFx0bGFzdDogbGFzdCxcbiAgICBcdFBJOiBQSSxcbiAgICBcdFRXT1BJOiBQSSoyLFxuICAgIFx0UElUSElSRDogUEkvMyxcbiAgICBcdERFRzJSQUQ6IFBJIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUElcbiAgICB9O1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgIFx0Zm9ybWF0OiB7fSxcbiAgICBcdGF1dG9kZXRlY3Q6IFtdXG4gICAgfTtcblxuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBjbGlwX3JnYiQxID0gdXRpbHMuY2xpcF9yZ2I7XG4gICAgdmFyIHR5cGUkMSA9IHV0aWxzLnR5cGU7XG5cblxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIENvbG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlJDEoYXJnc1swXSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgYXJndW1lbnQgaXMgYWxyZWFkeSBhIENvbG9yIGluc3RhbmNlXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgYXJndW1lbnQgY291bGQgYmUgdGhlIG1vZGVcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDEoYXJncyk7XG4gICAgICAgIHZhciBhdXRvZGV0ZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFtb2RlKSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaW5wdXQuc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2RldGVjdCA9IGlucHV0LmF1dG9kZXRlY3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiLnAgLSBhLnA7IH0pO1xuICAgICAgICAgICAgICAgIGlucHV0LnNvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvLWRldGVjdCBmb3JtYXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQuZm9ybWF0W21vZGVdKSB7XG4gICAgICAgICAgICB2YXIgcmdiID0gaW5wdXQuZm9ybWF0W21vZGVdLmFwcGx5KG51bGwsIGF1dG9kZXRlY3QgPyBhcmdzIDogYXJncy5zbGljZSgwLC0xKSk7XG4gICAgICAgICAgICBtZS5fcmdiID0gY2xpcF9yZ2IkMShyZ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdDogJythcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBhbHBoYSBjaGFubmVsXG4gICAgICAgIGlmIChtZS5fcmdiLmxlbmd0aCA9PT0gMykgeyBtZS5fcmdiLnB1c2goMSk7IH1cbiAgICB9O1xuXG4gICAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICBpZiAodHlwZSQxKHRoaXMuaGV4KSA9PSAnZnVuY3Rpb24nKSB7IHJldHVybiB0aGlzLmhleCgpOyB9XG4gICAgICAgIHJldHVybiAoXCJbXCIgKyAodGhpcy5fcmdiLmpvaW4oJywnKSkgKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHZhciBDb2xvcl8xID0gQ29sb3I7XG5cbiAgICB2YXIgY2hyb21hID0gZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBcdHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBjaHJvbWEuQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgfTtcblxuICAgIGNocm9tYS5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hLnZlcnNpb24gPSAnMi4xLjInO1xuXG4gICAgdmFyIGNocm9tYV8xID0gY2hyb21hO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDEoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICByID0gciAvIDI1NTtcbiAgICAgICAgZyA9IGcgLyAyNTU7XG4gICAgICAgIGIgPSBiIC8gMjU1O1xuICAgICAgICB2YXIgayA9IDEgLSBtYXgocixtYXgoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIGNteWsycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skMihhcmdzLCAnY215aycpO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBtID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgayA9IGFyZ3NbM107XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAxO1xuICAgICAgICBpZiAoayA9PT0gMSkgeyByZXR1cm4gWzAsMCwwLGFscGhhXTsgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYyA+PSAxID8gMCA6IDI1NSAqICgxLWMpICogKDEtayksIC8vIHJcbiAgICAgICAgICAgIG0gPj0gMSA/IDAgOiAyNTUgKiAoMS1tKSAqICgxLWspLCAvLyBnXG4gICAgICAgICAgICB5ID49IDEgPyAwIDogMjU1ICogKDEteSkgKiAoMS1rKSwgLy8gYlxuICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgdmFyIGNteWsycmdiXzEgPSBjbXlrMnJnYjtcblxuICAgIHZhciB1bnBhY2skMyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQyID0gdXRpbHMudHlwZTtcblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5jbXlrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyY215a18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmNteWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjbXlrJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuY215ayA9IGNteWsycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQzKGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQyKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ0ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhzbGEgPSB1bnBhY2skNChhcmdzLCAnaHNsYScpO1xuICAgICAgICB2YXIgbW9kZSA9IGxhc3QkMihhcmdzKSB8fCAnbHNhJztcbiAgICAgICAgaHNsYVswXSA9IHJuZChoc2xhWzBdIHx8IDApO1xuICAgICAgICBoc2xhWzFdID0gcm5kKGhzbGFbMV0qMTAwKSArICclJztcbiAgICAgICAgaHNsYVsyXSA9IHJuZChoc2xhWzJdKjEwMCkgKyAnJSc7XG4gICAgICAgIGlmIChtb2RlID09PSAnaHNsYScgfHwgKGhzbGEubGVuZ3RoID4gMyAmJiBoc2xhWzNdPDEpKSB7XG4gICAgICAgICAgICBoc2xhWzNdID0gaHNsYS5sZW5ndGggPiAzID8gaHNsYVszXSA6IDE7XG4gICAgICAgICAgICBtb2RlID0gJ2hzbGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHNsYS5sZW5ndGggPSAzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobW9kZSArIFwiKFwiICsgKGhzbGEuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJjc3NfMSA9IGhzbDJjc3M7XG5cbiAgICB2YXIgdW5wYWNrJDUgPSB1dGlscy51bnBhY2s7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHNsKHIsZyxiKVxuICAgICAqIC0gcmdiMmhzbChyLGcsYixhKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGIsYV0pXG4gICAgICogLSByZ2IyaHNsKHtyLGcsYixhfSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbDtcblxuICAgIHZhciB1bnBhY2skNiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcblxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIC8qXG4gICAgICogc3VwcG9ydGVkIGFyZ3VtZW50czpcbiAgICAgKiAtIHJnYjJjc3MocixnLGIpXG4gICAgICogLSByZ2IyY3NzKHIsZyxiLGEpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYl0sIG1vZGUpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYixhXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3Moe3IsZyxiLGF9LCBtb2RlKVxuICAgICAqL1xuICAgIHZhciByZ2IyY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDYoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDMoYXJncykgfHwgJ3JnYic7XG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDMpID09ICdoc2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHNsMmNzc18xKHJnYjJoc2xfMShyZ2JhKSwgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmdiYVswXSA9IHJvdW5kKHJnYmFbMF0pO1xuICAgICAgICByZ2JhWzFdID0gcm91bmQocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZChyZ2JhWzJdKTtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdyZ2JhJyB8fCAocmdiYS5sZW5ndGggPiAzICYmIHJnYmFbM108MSkpIHtcbiAgICAgICAgICAgIHJnYmFbM10gPSByZ2JhLmxlbmd0aCA+IDMgPyByZ2JhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAncmdiYSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAocmdiYS5zbGljZSgwLG1vZGU9PT0ncmdiJz8zOjQpLmpvaW4oJywnKSkgKyBcIilcIik7XG4gICAgfTtcblxuICAgIHZhciByZ2IyY3NzXzEgPSByZ2IyY3NzO1xuXG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBoc2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skNyhhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkMShjWzBdKjI1NSkscm91bmQkMShjWzFdKjI1NSkscm91bmQkMShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2I7XG5cbiAgICB2YXIgUkVfUkdCID0gL15yZ2JcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC87XG4gICAgdmFyIFJFX1JHQkEgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX1JHQl9QQ1QgPSAvXnJnYlxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQV9QQ1QgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX0hTTCA9IC9eaHNsXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqXFwpJC87XG4gICAgdmFyIFJFX0hTTEEgPSAvXmhzbGFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcblxuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBjc3MycmdiID0gZnVuY3Rpb24gKGNzcykge1xuICAgICAgICBjc3MgPSBjc3MudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciBtO1xuXG4gICAgICAgIGlmIChpbnB1dC5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZvcm1hdC5uYW1lZChjc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiKDI1MCwyMCwwKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gK3JnYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYlszXSA9IDE7ICAvLyBkZWZhdWx0IGFscGhhXG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgyNTAsMjAsMCwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMT0wOyBpJDE8NDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkMVtpJDFdID0gK3JnYiQxW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmdiJDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMTAwJSwwJSwwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQl9QQ1QpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQyID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQyPTA7IGkkMjwzOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJnYiQyW2kkMl0gPSByb3VuZCQyKHJnYiQyW2kkMl0gKiAyLjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYiQyWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2IkMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYmEoMTAwJSwwJSwwJSwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDMgPSBtLnNsaWNlKDEsNSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDM9MDsgaSQzPDM7IGkkMysrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDNbaSQzXSA9IHJvdW5kJDIocmdiJDNbaSQzXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDNbM10gPSArcmdiJDNbM107XG4gICAgICAgICAgICByZXR1cm4gcmdiJDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoc2woMCwxMDAlLDUwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTCkpKSB7XG4gICAgICAgICAgICB2YXIgaHNsID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsWzFdICo9IDAuMDE7XG4gICAgICAgICAgICBoc2xbMl0gKj0gMC4wMTtcbiAgICAgICAgICAgIHZhciByZ2IkNCA9IGhzbDJyZ2JfMShoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiXzEoaHNsJDEpO1xuICAgICAgICAgICAgcmdiJDVbM10gPSArbVs0XTsgIC8vIGRlZmF1bHQgYWxwaGEgPSAxXG4gICAgICAgICAgICByZXR1cm4gcmdiJDU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY3NzMnJnYi50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2I7XG5cbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3NfMSh0aGlzLl9yZ2IsIG1vZGUpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5jc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjc3MnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5jc3MgPSBjc3MycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSQzKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiXzEudGVzdChoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ4ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQuZm9ybWF0LmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2IgPSB1bnBhY2skOChhcmdzLCAncmdiYScpO1xuICAgICAgICByZ2JbMF0gKj0gMjU1O1xuICAgICAgICByZ2JbMV0gKj0gMjU1O1xuICAgICAgICByZ2JbMl0gKj0gMjU1O1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5nbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2dsJ10pICkpO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmdiID0gdGhpcy5fcmdiO1xuICAgICAgICByZXR1cm4gW3JnYlswXS8yNTUsIHJnYlsxXS8yNTUsIHJnYlsyXS8yNTUsIHJnYlszXV07XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2skOSA9IHV0aWxzLnVucGFjaztcblxuICAgIHZhciByZ2IyaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciBjID0gZGVsdGEgKiAxMDAgLyAyNTU7XG4gICAgICAgIHZhciBfZyA9IG1pbiAvICgyNTUgLSBkZWx0YSkgKiAxMDA7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4KSB7IGggPSAyKyhiIC0gcikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGIgPT09IG1heCkgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIGMsIF9nXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoY2dfMSA9IHJnYjJoY2c7XG5cbiAgICB2YXIgdW5wYWNrJGEgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICAgIC8qXG4gICAgICogdGhpcyBpcyBiYXNpY2FsbHkganVzdCBIU1Ygd2l0aCBzb21lIG1pbm9yIHR3ZWFrc1xuICAgICAqXG4gICAgICogaHVlLi4gWzAuLjM2MF1cbiAgICAgKiBjaHJvbWEgLi4gWzAuLjFdXG4gICAgICogZ3JheW5lc3MgLi4gWzAuLjFdXG4gICAgICovXG5cbiAgICB2YXIgaGNnMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFzc2lnbiwgYXNzaWduJDEsIGFzc2lnbiQyLCBhc3NpZ24kMywgYXNzaWduJDQsIGFzc2lnbiQ1O1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYShhcmdzLCAnaGNnJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgX2cgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIF9nID0gX2cgKiAyNTU7XG4gICAgICAgIHZhciBfYyA9IGMgKiAyNTU7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBfZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yKGgpO1xuICAgICAgICAgICAgdmFyIGYgPSBoIC0gaTtcbiAgICAgICAgICAgIHZhciBwID0gX2cgKiAoMSAtIGMpO1xuICAgICAgICAgICAgdmFyIHEgPSBwICsgX2MgKiAoMSAtIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSBwICsgX2MgKiBmO1xuICAgICAgICAgICAgdmFyIHYgPSBwICsgX2M7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IChhc3NpZ24gPSBbdiwgdCwgcF0sIHIgPSBhc3NpZ25bMF0sIGcgPSBhc3NpZ25bMV0sIGIgPSBhc3NpZ25bMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMTogKGFzc2lnbiQxID0gW3EsIHYsIHBdLCByID0gYXNzaWduJDFbMF0sIGcgPSBhc3NpZ24kMVsxXSwgYiA9IGFzc2lnbiQxWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDI6IChhc3NpZ24kMiA9IFtwLCB2LCB0XSwgciA9IGFzc2lnbiQyWzBdLCBnID0gYXNzaWduJDJbMV0sIGIgPSBhc3NpZ24kMlsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAoYXNzaWduJDMgPSBbcCwgcSwgdl0sIHIgPSBhc3NpZ24kM1swXSwgZyA9IGFzc2lnbiQzWzFdLCBiID0gYXNzaWduJDNbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNDogKGFzc2lnbiQ0ID0gW3QsIHAsIHZdLCByID0gYXNzaWduJDRbMF0sIGcgPSBhc3NpZ24kNFsxXSwgYiA9IGFzc2lnbiQ0WzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IChhc3NpZ24kNSA9IFt2LCBwLCBxXSwgciA9IGFzc2lnbiQ1WzBdLCBnID0gYXNzaWduJDVbMV0sIGIgPSBhc3NpZ24kNVsyXSk7IGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiLCBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciBoY2cycmdiXzEgPSBoY2cycmdiO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDQgPSB1dGlscy50eXBlO1xuXG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmhjZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhjZ18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmhjZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjZyddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmhjZyA9IGhjZzJyZ2JfMTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGIoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkNChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRjID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDQgPSB1dGlscy5sYXN0O1xuICAgIHZhciByb3VuZCQzID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IyaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skYyhhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDQoYXJncykgfHwgJ2F1dG8nO1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChtb2RlID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIG1vZGUgPSBhIDwgMSA/ICdyZ2JhJyA6ICdyZ2InO1xuICAgICAgICB9XG4gICAgICAgIHIgPSByb3VuZCQzKHIpO1xuICAgICAgICBnID0gcm91bmQkMyhnKTtcbiAgICAgICAgYiA9IHJvdW5kJDMoYik7XG4gICAgICAgIHZhciB1ID0gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG4gICAgICAgIHZhciBzdHIgPSBcIjAwMDAwMFwiICsgdS50b1N0cmluZygxNik7IC8vIy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSA2KTtcbiAgICAgICAgdmFyIGh4YSA9ICcwJyArIHJvdW5kJDMoYSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBoeGEgPSBoeGEuc3Vic3RyKGh4YS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3dpdGNoIChtb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gKFwiI1wiICsgc3RyICsgaHhhKTtcbiAgICAgICAgICAgIGNhc2UgJ2FyZ2InOiByZXR1cm4gKFwiI1wiICsgaHhhICsgc3RyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAoXCIjXCIgKyBzdHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGV4XzEgPSByZ2IyaGV4O1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wdGlvbmFsIGxlYWRpbmcgI1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDQgfHwgaGV4Lmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHBhbmQgc2hvcnQtbm90YXRpb24gdG8gZnVsbCBzaXgtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgICAgICB2YXIgciA9IHUgPj4gMTY7XG4gICAgICAgICAgICB2YXIgZyA9IHUgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiA9IHUgJiAweEZGO1xuICAgICAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hdGNoIHJnYmEgaGV4IGZvcm1hdCwgZWcgI0ZGMDAwMDc3XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYQSkpIHtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA1IHx8IGhleC5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIGVpZ2h0LWRpZ2l0XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdK2hleFswXStoZXhbMV0raGV4WzFdK2hleFsyXStoZXhbMl0raGV4WzNdK2hleFszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1JDEgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByJDEgPSB1JDEgPj4gMjQgJiAweEZGO1xuICAgICAgICAgICAgdmFyIGckMSA9IHUkMSA+PiAxNiAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiQxID0gdSQxID4+IDggJiAweEZGO1xuICAgICAgICAgICAgdmFyIGEgPSBNYXRoLnJvdW5kKCh1JDEgJiAweEZGKSAvIDB4RkYgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFtyJDEsZyQxLGIkMSxhXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHVzZWQgdG8gY2hlY2sgZm9yIGNzcyBjb2xvcnMgaGVyZVxuICAgICAgICAvLyBpZiBfaW5wdXQuY3NzPyBhbmQgcmdiID0gX2lucHV0LmNzcyBoZXhcbiAgICAgICAgLy8gICAgIHJldHVybiByZ2JcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBoZXggY29sb3I6IFwiICsgaGV4KSk7XG4gICAgfTtcblxuICAgIHZhciBoZXgycmdiXzEgPSBoZXgycmdiO1xuXG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIHJldHVybiByZ2IyaGV4XzEodGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGV4J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDQsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJDUoaCkgPT09ICdzdHJpbmcnICYmIFszLDQsNSw2LDcsOCw5XS5pbmRleE9mKGgubGVuZ3RoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGQgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFRXT1BJID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIHZhciBhY29zID0gTWF0aC5hY29zO1xuXG4gICAgdmFyIHJnYjJoc2kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvcmdiMmhzaS5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRkKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIHZhciBtaW5fID0gbWluKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCgoci1nKSooci1nKSArIChyLWIpKihnLWIpKTtcbiAgICAgICAgICAgIGggPSBhY29zKGgpO1xuICAgICAgICAgICAgaWYgKGIgPiBnKSB7XG4gICAgICAgICAgICAgICAgaCA9IFRXT1BJIC0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggLz0gVFdPUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaTtcblxuICAgIHZhciB1bnBhY2skZSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGltaXQkMSA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcztcblxuICAgIC8qXG4gICAgICogaHVlIFswLi4zNjBdXG4gICAgICogc2F0dXJhdGlvbiBbMC4uMV1cbiAgICAgKiBpbnRlbnNpdHkgWzAuLjFdXG4gICAgICovXG4gICAgdmFyIGhzaTJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvaHNpMnJnYi5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgYXJncyA9IHVucGFjayRlKGFyZ3MsICdoc2knKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBpID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuXG4gICAgICAgIGlmIChpc05hTihoKSkgeyBoID0gMDsgfVxuICAgICAgICBpZiAoaXNOYU4ocykpIHsgcyA9IDA7IH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGh1ZVxuICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgIGlmIChoIDwgMS8zKSB7XG4gICAgICAgICAgICBiID0gKDEtcykvMztcbiAgICAgICAgICAgIHIgPSAoMStzKmNvcyhUV09QSSQxKmgpL2NvcyhQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgYiA9IDEgLSAocitnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLT0gMi8zO1xuICAgICAgICAgICAgZyA9ICgxLXMpLzM7XG4gICAgICAgICAgICBiID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgciA9IDEgLSAoZytiKTtcbiAgICAgICAgfVxuICAgICAgICByID0gbGltaXQkMShpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdCQxKGkqZyozKTtcbiAgICAgICAgYiA9IGxpbWl0JDEoaSpiKjMpO1xuICAgICAgICByZXR1cm4gW3IqMjU1LCBnKjI1NSwgYioyNTUsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzaTJyZ2JfMSA9IGhzaTJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNpXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNpID0gaHNpMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnaHNpJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ2KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2knO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGcgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNyA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNsID0gaHNsMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZyhhcmdzLCAnaHNsJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIG1pbiQxID0gTWF0aC5taW47XG4gICAgdmFyIG1heCQxID0gTWF0aC5tYXg7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHN2KHIsZyxiKVxuICAgICAqIC0gcmdiMmhzdihbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzdih7cixnLGJ9KVxuICAgICAqL1xuICAgIHZhciByZ2IyaHNsJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRoKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIG1pbl8gPSBtaW4kMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heF8gPSBtYXgkMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4XyAtIG1pbl87XG4gICAgICAgIHZhciBoLHMsdjtcbiAgICAgICAgdiA9IG1heF8gLyAyNTUuMDtcbiAgICAgICAgaWYgKG1heF8gPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gZGVsdGEgLyBtYXhfO1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heF8pIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heF8pIHsgaCA9IDIrKGIgLSByKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoYiA9PT0gbWF4XykgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIHMsIHZdXG4gICAgfTtcblxuICAgIHZhciByZ2IyaHN2ID0gcmdiMmhzbCQxO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAgIHZhciBoc3YycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRpKGFyZ3MsICdoc3YnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciB2ID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuICAgICAgICB2ICo9IDI1NTtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaCA9PT0gMzYwKSB7IGggPSAwOyB9XG4gICAgICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgICAgICBoIC89IDYwO1xuXG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yJDEoaCk7XG4gICAgICAgICAgICB2YXIgZiA9IGggLSBpO1xuICAgICAgICAgICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgIHZhciBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogKGFzc2lnbiA9IFt2LCB0LCBwXSwgciA9IGFzc2lnblswXSwgZyA9IGFzc2lnblsxXSwgYiA9IGFzc2lnblsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAoYXNzaWduJDEgPSBbcSwgdiwgcF0sIHIgPSBhc3NpZ24kMVswXSwgZyA9IGFzc2lnbiQxWzFdLCBiID0gYXNzaWduJDFbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMjogKGFzc2lnbiQyID0gW3AsIHYsIHRdLCByID0gYXNzaWduJDJbMF0sIGcgPSBhc3NpZ24kMlsxXSwgYiA9IGFzc2lnbiQyWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM6IChhc3NpZ24kMyA9IFtwLCBxLCB2XSwgciA9IGFzc2lnbiQzWzBdLCBnID0gYXNzaWduJDNbMV0sIGIgPSBhc3NpZ24kM1syXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAoYXNzaWduJDQgPSBbdCwgcCwgdl0sIHIgPSBhc3NpZ24kNFswXSwgZyA9IGFzc2lnbiQ0WzFdLCBiID0gYXNzaWduJDRbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNTogKGFzc2lnbiQ1ID0gW3YsIHAsIHFdLCByID0gYXNzaWduJDVbMF0sIGcgPSBhc3NpZ24kNVsxXSwgYiA9IGFzc2lnbiQ1WzJdKTsgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLGFyZ3MubGVuZ3RoID4gMz9hcmdzWzNdOjFdO1xuICAgIH07XG5cbiAgICB2YXIgaHN2MnJnYl8xID0gaHN2MnJnYjtcblxuICAgIHZhciB1bnBhY2skaiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ4ID0gdXRpbHMudHlwZTtcblxuXG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oc3YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc3YodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHN2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHN2J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHN2ID0gaHN2MnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaihhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ4KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBwb3cgPSBNYXRoLnBvdztcblxuICAgIHZhciByZ2IybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skayhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X2xhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0ID4gbGFiQ29uc3RhbnRzLnQzKSB7IHJldHVybiBwb3codCwgMSAvIDMpOyB9XG4gICAgICAgIHJldHVybiB0IC8gbGFiQ29uc3RhbnRzLnQyICsgbGFiQ29uc3RhbnRzLnQwO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnh5eiA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICByID0gcmdiX3h5eihyKTtcbiAgICAgICAgZyA9IHJnYl94eXooZyk7XG4gICAgICAgIGIgPSByZ2JfeHl6KGIpO1xuICAgICAgICB2YXIgeCA9IHh5el9sYWIoKDAuNDEyNDU2NCAqIHIgKyAwLjM1NzU3NjEgKiBnICsgMC4xODA0Mzc1ICogYikgLyBsYWJDb25zdGFudHMuWG4pO1xuICAgICAgICB2YXIgeSA9IHh5el9sYWIoKDAuMjEyNjcyOSAqIHIgKyAwLjcxNTE1MjIgKiBnICsgMC4wNzIxNzUwICogYikgLyBsYWJDb25zdGFudHMuWW4pO1xuICAgICAgICB2YXIgeiA9IHh5el9sYWIoKDAuMDE5MzMzOSAqIHIgKyAwLjExOTE5MjAgKiBnICsgMC45NTAzMDQxICogYikgLyBsYWJDb25zdGFudHMuWm4pO1xuICAgICAgICByZXR1cm4gW3gseSx6XTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsYWJfMSA9IHJnYjJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJGwgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyQxID0gTWF0aC5wb3c7XG5cbiAgICAvKlxuICAgICAqIEwqIFswLi4xMDBdXG4gICAgICogYSBbLTEwMC4uMTAwXVxuICAgICAqIGIgWy0xMDAuLjEwMF1cbiAgICAgKi9cbiAgICB2YXIgbGFiMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgeCx5LHosIHIsZyxiXztcblxuICAgICAgICB5ID0gKGwgKyAxNikgLyAxMTY7XG4gICAgICAgIHggPSBpc05hTihhKSA/IHkgOiB5ICsgYSAvIDUwMDtcbiAgICAgICAgeiA9IGlzTmFOKGIpID8geSA6IHkgLSBiIC8gMjAwO1xuXG4gICAgICAgIHkgPSBsYWJDb25zdGFudHMuWW4gKiBsYWJfeHl6KHkpO1xuICAgICAgICB4ID0gbGFiQ29uc3RhbnRzLlhuICogbGFiX3h5eih4KTtcbiAgICAgICAgeiA9IGxhYkNvbnN0YW50cy5abiAqIGxhYl94eXooeik7XG5cbiAgICAgICAgciA9IHh5el9yZ2IoMy4yNDA0NTQyICogeCAtIDEuNTM3MTM4NSAqIHkgLSAwLjQ5ODUzMTQgKiB6KTsgIC8vIEQ2NSAtPiBzUkdCXG4gICAgICAgIGcgPSB4eXpfcmdiKC0wLjk2OTI2NjAgKiB4ICsgMS44NzYwMTA4ICogeSArIDAuMDQxNTU2MCAqIHopO1xuICAgICAgICBiXyA9IHh5el9yZ2IoMC4wNTU2NDM0ICogeCAtIDAuMjA0MDI1OSAqIHkgKyAxLjA1NzIyNTIgKiB6KTtcblxuICAgICAgICByZXR1cm4gW3IsZyxiXyxhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciB4eXpfcmdiID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIDI1NSAqIChyIDw9IDAuMDAzMDQgPyAxMi45MiAqIHIgOiAxLjA1NSAqIHBvdyQxKHIsIDEgLyAyLjQpIC0gMC4wNTUpXG4gICAgfTtcblxuICAgIHZhciBsYWJfeHl6ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPiBsYWJDb25zdGFudHMudDEgPyB0ICogdCAqIHQgOiBsYWJDb25zdGFudHMudDIgKiAodCAtIGxhYkNvbnN0YW50cy50MClcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJyZ2JfMSA9IGxhYjJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJG0gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkOSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybGFiXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGFiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubGFiID0gbGFiMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skbShhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJG4gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yID0gTWF0aC5hdGFuMjtcbiAgICB2YXIgcm91bmQkNCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbGFiMmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJG4oYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYyA9IHNxcnQkMShhICogYSArIGIgKiBiKTtcbiAgICAgICAgdmFyIGggPSAoYXRhbjIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDQoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJG8gPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIHJnYjJsY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRvKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gcmdiMmxhYl8xKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoXzEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJHAgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIERFRzJSQUQgPSB1dGlscy5ERUcyUkFEO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcblxuICAgIHZhciBsY2gybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHAoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQxKGgpICogYywgc2luKGgpICogY11cbiAgICB9O1xuXG4gICAgdmFyIGxjaDJsYWJfMSA9IGxjaDJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJHEgPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIGxjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWJfMSAobCxjLGgpO1xuICAgICAgICB2YXIgTCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gbGFiMnJnYl8xIChMLGEsYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGxjaDJyZ2JfMSA9IGxjaDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG5cblxuICAgIHZhciBoY2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBoY2wgPSB1bnBhY2skcihhcmdzLCAnaGNsJykucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gbGNoMnJnYl8xLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHMgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkYSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoXzEodGhpcy5fcmdiKTsgfTtcbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oY2wgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYjJsY2hfMSh0aGlzLl9yZ2IpLnJldmVyc2UoKTsgfTtcblxuICAgIGNocm9tYV8xLmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2xjaCddKSApKTtcbiAgICB9O1xuICAgIGNocm9tYV8xLmhjbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjbCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmxjaCA9IGxjaDJyZ2JfMTtcbiAgICBpbnB1dC5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayRzKGFyZ3MsIG0pO1xuICAgICAgICAgICAgaWYgKHR5cGUkYShhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pO1xuXG4gICAgLyoqXG4gICAgXHRYMTEgY29sb3IgbmFtZXNcblxuICAgIFx0aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAgKi9cblxuICAgIHZhciB3M2N4MTEgPSB7XG4gICAgICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgICAgICBhbnRpcXVld2hpdGU6ICcjZmFlYmQ3JyxcbiAgICAgICAgYXF1YTogJyMwMGZmZmYnLFxuICAgICAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgICAgIGF6dXJlOiAnI2YwZmZmZicsXG4gICAgICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgICAgICBibGFjazogJyMwMDAwMDAnLFxuICAgICAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgICAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgICAgIGJsdWV2aW9sZXQ6ICcjOGEyYmUyJyxcbiAgICAgICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICAgICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgICAgIGNhZGV0Ymx1ZTogJyM1ZjllYTAnLFxuICAgICAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgICAgICBjb3JhbDogJyNmZjdmNTAnLFxuICAgICAgICBjb3JuZmxvd2VyOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICAgICAgY3lhbjogJyMwMGZmZmYnLFxuICAgICAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgICAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgICAgICBkYXJrZ29sZGVucm9kOiAnI2I4ODYwYicsXG4gICAgICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgICAgICBkYXJrZ3JleTogJyNhOWE5YTknLFxuICAgICAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICAgICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICAgICAgZGFya29saXZlZ3JlZW46ICcjNTU2YjJmJyxcbiAgICAgICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgICAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgICAgIGRhcmtyZWQ6ICcjOGIwMDAwJyxcbiAgICAgICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgICAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICAgICAgZGFya3NsYXRlYmx1ZTogJyM0ODNkOGInLFxuICAgICAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICAgICAgZGFya3R1cnF1b2lzZTogJyMwMGNlZDEnLFxuICAgICAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgICAgIGRlZXBza3libHVlOiAnIzAwYmZmZicsXG4gICAgICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgICAgICBkb2RnZXJibHVlOiAnIzFlOTBmZicsXG4gICAgICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgICAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgICAgICBmb3Jlc3RncmVlbjogJyMyMjhiMjInLFxuICAgICAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgICAgICBnaG9zdHdoaXRlOiAnI2Y4ZjhmZicsXG4gICAgICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICAgICAgZ29sZGVucm9kOiAnI2RhYTUyMCcsXG4gICAgICAgIGdyYXk6ICcjODA4MDgwJyxcbiAgICAgICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICAgICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICAgICAgZ3JleTogJyM4MDgwODAnLFxuICAgICAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgICAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgICAgIGluZGlhbnJlZDogJyNjZDVjNWMnLFxuICAgICAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICAgICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICAgICAga2hha2k6ICcjZjBlNjhjJyxcbiAgICAgICAgbGFzZXJsZW1vbjogJyNmZmZmNTQnLFxuICAgICAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgICAgICBsYXZlbmRlcmJsdXNoOiAnI2ZmZjBmNScsXG4gICAgICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgICAgICBsZW1vbmNoaWZmb246ICcjZmZmYWNkJyxcbiAgICAgICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICAgICAgbGlnaHRjeWFuOiAnI2UwZmZmZicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9kOiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodGdyZWVuOiAnIzkwZWU5MCcsXG4gICAgICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICAgICAgbGlnaHRzYWxtb246ICcjZmZhMDdhJyxcbiAgICAgICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgICAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyYXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICAgICAgbGlnaHR5ZWxsb3c6ICcjZmZmZmUwJyxcbiAgICAgICAgbGltZTogJyMwMGZmMDAnLFxuICAgICAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICAgICAgbGluZW46ICcjZmFmMGU2JyxcbiAgICAgICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgICAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICAgICAgbWFyb29uMjogJyM3ZjAwMDAnLFxuICAgICAgICBtYXJvb24zOiAnI2IwMzA2MCcsXG4gICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICAgICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgICAgICBtZWRpdW1vcmNoaWQ6ICcjYmE1NWQzJyxcbiAgICAgICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgICAgIG1lZGl1bXNsYXRlYmx1ZTogJyM3YjY4ZWUnLFxuICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgICAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICAgICAgbWVkaXVtdmlvbGV0cmVkOiAnI2M3MTU4NScsXG4gICAgICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgICAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICAgICAgbWlzdHlyb3NlOiAnI2ZmZTRlMScsXG4gICAgICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgICAgIG5hdnk6ICcjMDAwMDgwJyxcbiAgICAgICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgICAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgICAgICBvbGl2ZWRyYWI6ICcjNmI4ZTIzJyxcbiAgICAgICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgICAgICBvcmNoaWQ6ICcjZGE3MGQ2JyxcbiAgICAgICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgICAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICAgICAgcGFsZXR1cnF1b2lzZTogJyNhZmVlZWUnLFxuICAgICAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICAgICAgcGVhY2hwdWZmOiAnI2ZmZGFiOScsXG4gICAgICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICAgICAgcGluazogJyNmZmMwY2InLFxuICAgICAgICBwbHVtOiAnI2RkYTBkZCcsXG4gICAgICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICAgICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgICAgIHB1cnBsZTI6ICcjN2YwMDdmJyxcbiAgICAgICAgcHVycGxlMzogJyNhMDIwZjAnLFxuICAgICAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgICAgIHJlZDogJyNmZjAwMDAnLFxuICAgICAgICByb3N5YnJvd246ICcjYmM4ZjhmJyxcbiAgICAgICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgICAgIHNhbG1vbjogJyNmYTgwNzInLFxuICAgICAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgICAgIHNlYXNoZWxsOiAnI2ZmZjVlZScsXG4gICAgICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgICAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICAgICAgc2t5Ymx1ZTogJyM4N2NlZWInLFxuICAgICAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICAgICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgICAgIHNsYXRlZ3JleTogJyM3MDgwOTAnLFxuICAgICAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgICAgIHN0ZWVsYmx1ZTogJyM0NjgyYjQnLFxuICAgICAgICB0YW46ICcjZDJiNDhjJyxcbiAgICAgICAgdGVhbDogJyMwMDgwODAnLFxuICAgICAgICB0aGlzdGxlOiAnI2Q4YmZkOCcsXG4gICAgICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgICAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICAgICAgdmlvbGV0OiAnI2VlODJlZScsXG4gICAgICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgICAgIHdoaXRlc21va2U6ICcjZjVmNWY1JyxcbiAgICAgICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMidcbiAgICB9O1xuXG4gICAgdmFyIHczY3gxMV8xID0gdzNjeDExO1xuXG4gICAgdmFyIHR5cGUkYiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXhfMSh0aGlzLl9yZ2IsICdyZ2InKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyh3M2N4MTFfMSk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgIGlmICh3M2N4MTFfMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodzNjeDExXzFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2JfMSh3M2N4MTFfMVtuYW1lXSk7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbG9yIG5hbWU6ICcrbmFtZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDUsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJGIoaCkgPT09ICdzdHJpbmcnICYmIHczY3gxMV8xW2gudG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25hbWVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayR0KGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgcmV0dXJuIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJudW1fMSA9IHJnYjJudW07XG5cbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRjKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubnVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbnVtJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNSxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlJGQoYXJnc1swXSkgPT09ICdudW1iZXInICYmIGFyZ3NbMF0gPj0gMCAmJiBhcmdzWzBdIDw9IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJHUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHJvdW5kJDUgPSBNYXRoLnJvdW5kO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24ocm5kKSB7XG4gICAgICAgIGlmICggcm5kID09PSB2b2lkIDAgKSBybmQ9dHJ1ZTtcblxuICAgICAgICBpZiAocm5kID09PSBmYWxzZSkgeyByZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyk7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpLm1hcChyb3VuZCQ1KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiYSA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDQpLm1hcChmdW5jdGlvbiAodixpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTwzID8gKHJuZCA9PT0gZmFsc2UgPyB2IDogcm91bmQkNSh2KSkgOiB2O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsncmdiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJHUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAncmdiYScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZShhcmdzKSA9PT0gJ2FycmF5JyAmJiAoYXJncy5sZW5ndGggPT09IDMgfHxcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlJGUoYXJnc1szXSkgPT0gJ251bWJlcicgJiYgYXJnc1szXSA+PSAwICYmIGFyZ3NbM10gPD0gMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQmFzZWQgb24gaW1wbGVtZW50YXRpb24gYnkgTmVpbCBCYXJ0bGV0dFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZWlsYmFydGxldHQvY29sb3ItdGVtcGVyYXR1cmVcbiAgICAgKi9cblxuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2coZyk7XG4gICAgICAgICAgICBiID0gdGVtcCA8IDIwID8gMCA6IC0yNTQuNzY5MzUxODQxMjA5MDIgKyAwLjgyNzQwOTYwNjQwMDczOTUgKiAoYiA9IHRlbXAtMTApICsgMTE1LjY3OTk0NDAxMDY2MTQ3ICogbG9nKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IDM1MS45NzY5MDU2NjgwNTY5MyArIDAuMTE0MjA2NDUzNzg0MTY1ICogKHIgPSB0ZW1wLTU1KSAtIDQwLjI1MzY2MzA5MzMyMTI3ICogbG9nKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nKGcpO1xuICAgICAgICAgICAgYiA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgIH07XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiXzEgPSB0ZW1wZXJhdHVyZTJyZ2I7XG5cbiAgICAvKlxuICAgICAqIEJhc2VkIG9uIGltcGxlbWVudGF0aW9uIGJ5IE5laWwgQmFydGxldHRcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbmVpbGJhcnRsZXR0L2NvbG9yLXRlbXBlcmF0dXJlXG4gICAgICoqL1xuXG5cbiAgICB2YXIgdW5wYWNrJHYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIHJnYjJ0ZW1wZXJhdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJHYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYl8xKHRlbXApO1xuICAgICAgICAgICAgaWYgKChyZ2IkMVsyXSAvIHJnYiQxWzBdKSA+PSAoYiAvIHIpKSB7XG4gICAgICAgICAgICAgICAgbWF4VGVtcCA9IHRlbXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3VuZCQ2KHRlbXApO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnRlbXBlcmF0dXJlXzEgPSByZ2IydGVtcGVyYXR1cmU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS50ZW1wID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5rZWx2aW4gPVxuICAgIENvbG9yXzEucHJvdG90eXBlLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IydGVtcGVyYXR1cmVfMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS50ZW1wID1cbiAgICBjaHJvbWFfMS5rZWx2aW4gPVxuICAgIGNocm9tYV8xLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LnRlbXAgPVxuICAgIGlucHV0LmZvcm1hdC5rZWx2aW4gPVxuICAgIGlucHV0LmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHR5cGUkZiA9IHV0aWxzLnR5cGU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5hbHBoYSA9IGZ1bmN0aW9uKGEsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlPWZhbHNlO1xuXG4gICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQgJiYgdHlwZSRmKGEpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JnYlszXSA9IGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoW3RoaXMuX3JnYlswXSwgdGhpcy5fcmdiWzFdLCB0aGlzLl9yZ2JbMl0sIGFdLCAncmdiJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYlszXTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuY2xpcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmdiLl9jbGlwcGVkIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5kYXJrZW4gPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsYWIgPSBtZS5sYWIoKTtcbiAgICBcdGxhYlswXSAtPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGFiLCAnbGFiJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHJldHVybiB0aGlzLmRhcmtlbigtYW1vdW50KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuZGFya2VyID0gQ29sb3JfMS5wcm90b3R5cGUuZGFya2VuO1xuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVyID0gQ29sb3JfMS5wcm90b3R5cGUuYnJpZ2h0ZW47XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihtYykge1xuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7IHJldHVybiBzcmNbaV07IH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR5cGUkZyA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQyID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSRnKGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yXzEoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDIoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yID0ge307XG5cbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcblxuXG4gICAgdmFyIG1peCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAzIF07XG5cbiAgICAgICAgdmFyIG1vZGUgPSByZXN0WzBdIHx8ICdscmdiJztcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0gJiYgIXJlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHN1cHBvcnRlZCBtb2RlXG4gICAgICAgICAgICBtb2RlID0gT2JqZWN0LmtleXMoaW50ZXJwb2xhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVycG9sYXRvclttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImludGVycG9sYXRpb24gbW9kZSBcIiArIG1vZGUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUkaChjb2wxKSAhPT0gJ29iamVjdCcpIHsgY29sMSA9IG5ldyBDb2xvcl8xKGNvbDEpOyB9XG4gICAgICAgIGlmICh0eXBlJGgoY29sMikgIT09ICdvYmplY3QnKSB7IGNvbDIgPSBuZXcgQ29sb3JfMShjb2wyKTsgfVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yW21vZGVdKGNvbDEsIGNvbDIsIGYpXG4gICAgICAgICAgICAuYWxwaGEoY29sMS5hbHBoYSgpICsgZiAqIChjb2wyLmFscGhhKCkgLSBjb2wxLmFscGhhKCkpKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubWl4ID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKGNvbDIsIGYpIHtcbiAgICBcdGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgXHR2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBcdHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICAgIFx0cmV0dXJuIG1peC5hcHBseSh2b2lkIDAsIFsgdGhpcywgY29sMiwgZiBdLmNvbmNhdCggcmVzdCApKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucHJlbXVsdGlwbHkgPSBmdW5jdGlvbihtdXRhdGUpIHtcbiAgICBcdGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICBcdHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgXHR2YXIgYSA9IHJnYlszXTtcbiAgICBcdGlmIChtdXRhdGUpIHtcbiAgICBcdFx0dGhpcy5fcmdiID0gW3JnYlswXSphLCByZ2JbMV0qYSwgcmdiWzJdKmEsIGFdO1xuICAgIFx0XHRyZXR1cm4gdGhpcztcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHJldHVybiBuZXcgQ29sb3JfMShbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV0sICdyZ2InKTtcbiAgICBcdH1cbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsY2ggPSBtZS5sY2goKTtcbiAgICBcdGxjaFsxXSArPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJGkgPSB1dGlscy50eXBlO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obWMsIHZhbHVlLCBtdXRhdGUpIHtcbiAgICAgICAgaWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaSh2YWx1ZSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKyc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKic6IHNyY1tpXSAqPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6IHNyY1tpXSAvPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc3JjW2ldID0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlJGkodmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzcmNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB2YWx1ZSBmb3IgQ29sb3Iuc2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3V0ID0gbmV3IENvbG9yXzEoc3JjLCBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JnYiA9IG91dC5fcmdiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJnYiQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIHh5ejAgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5fcmdiO1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoXG4gICAgICAgICAgICB4eXowWzBdICsgZiAqICh4eXoxWzBdLXh5ejBbMF0pLFxuICAgICAgICAgICAgeHl6MFsxXSArIGYgKiAoeHl6MVsxXS14eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0teHl6MFsyXSksXG4gICAgICAgICAgICAncmdiJ1xuICAgICAgICApXG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvci5yZ2IgPSByZ2IkMTtcblxuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQzID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHgxLDIpICogKDEtZikgKyBwb3ckMyh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHkxLDIpICogKDEtZikgKyBwb3ckMyh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHoxLDIpICogKDEtZikgKyBwb3ckMyh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubHJnYiA9IGxyZ2I7XG5cbiAgICB2YXIgbGFiJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGFiID0gbGFiJDE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHVlMCwgaHVlMSwgc2F0MCwgc2F0MSwgbGJ2MCwgbGJ2MTtcbiAgICAgICAgaWYgKG0uc3Vic3RyKDAsIDEpID09PSAnaCcpIHtcbiAgICAgICAgICAgIChhc3NpZ24gPSB4eXowLCBodWUwID0gYXNzaWduWzBdLCBzYXQwID0gYXNzaWduWzFdLCBsYnYwID0gYXNzaWduWzJdKTtcbiAgICAgICAgICAgIChhc3NpZ24kMSA9IHh5ejEsIGh1ZTEgPSBhc3NpZ24kMVswXSwgc2F0MSA9IGFzc2lnbiQxWzFdLCBsYnYxID0gYXNzaWduJDFbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhdCwgaHVlLCBsYnYsIGRoO1xuXG4gICAgICAgIGlmICghaXNOYU4oaHVlMCkgJiYgIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICAvLyBib3RoIGNvbG9ycyBoYXZlIGh1ZVxuICAgICAgICAgICAgaWYgKGh1ZTEgPiBodWUwICYmIGh1ZTEgLSBodWUwID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxLShodWUwKzM2MCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGh1ZTEgPCBodWUwICYmIGh1ZTAgLSBodWUxID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxKzM2MC1odWUwO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIGh1ZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBodWUwICsgZiAqIGRoO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUwKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMDtcbiAgICAgICAgICAgIGlmICgobGJ2MSA9PSAxIHx8IGxidjEgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQwOyB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICBodWUgPSBodWUxO1xuICAgICAgICAgICAgaWYgKChsYnYwID09IDEgfHwgbGJ2MCA9PSAwKSAmJiBtICE9ICdoc3YnKSB7IHNhdCA9IHNhdDE7IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IE51bWJlci5OYU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2F0ID09PSB1bmRlZmluZWQpIHsgc2F0ID0gc2F0MCArIGYgKiAoc2F0MSAtIHNhdDApOyB9XG4gICAgICAgIGxidiA9IGxidjAgKyBmICogKGxidjEtbGJ2MCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbaHVlLCBzYXQsIGxidl0sIG0pO1xuICAgIH07XG5cbiAgICB2YXIgbGNoJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2xjaCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGNoID0gbGNoJDE7XG4gICAgaW50ZXJwb2xhdG9yLmhjbCA9IGxjaCQxO1xuXG4gICAgdmFyIG51bSQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubnVtID0gbnVtJDE7XG5cbiAgICB2YXIgaGNnJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaGNnID0gaGNnJDE7XG5cbiAgICB2YXIgaHNpJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNpID0gaHNpJDE7XG5cbiAgICB2YXIgaHNsJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNsID0gaHNsJDE7XG5cbiAgICB2YXIgaHN2JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHN2ID0gaHN2JDE7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMSA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yXzEoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDEoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQxKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yXzEoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQzKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMyh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDMoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShjbGlwX3JnYiQyKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG5cbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBwb3ckNSA9IE1hdGgucG93O1xuXG4gICAgdmFyIHNjYWxlID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWFfMSgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkaihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWFfMS5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWFfMS5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hXzEuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJGooY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYV8xKGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQ1KHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSRqKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hXzEoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSRqKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYV8xLmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWFfMS5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMsIF9wb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYV8xW291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hXzEoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuXG5cblxuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvcl8xKGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICB2YXIgSTAgPSBiZXppZXIoY29sb3JzLnNsaWNlKDAsIDMpKTtcbiAgICAgICAgICAgIHZhciBJMSA9IGJlemllcihjb2xvcnMuc2xpY2UoMiwgNSkpO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTAodCoyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTEoKHQtMC41KSoyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgIH07XG5cbiAgICB2YXIgYmV6aWVyXzEgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG4gICAgICAgIHZhciBmID0gYmV6aWVyKGNvbG9ycyk7XG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FsZShmKTsgfTtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogaW50ZXJwb2xhdGVzIGJldHdlZW4gYSBzZXQgb2YgY29sb3JzIHV6aW5nIGEgYmV6aWVyIHNwbGluZVxuICAgICAqIGJsZW5kIG1vZGUgZm9ybXVsYXMgdGFrZW4gZnJvbSBodHRwOi8vd3d3LnZlbnR1cmUtd2FyZS5jb20va2V2aW4vY29kaW5nL2xldHMtbGVhcm4tbWF0aC1waG90b3Nob3AtYmxlbmQtbW9kZXMvXG4gICAgICovXG5cblxuXG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWFfMSh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hXzEoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMS5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiQxID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSA+IGIgPyBiIDogYTsgfTtcbiAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYSA6IGI7IH07XG4gICAgdmFyIHNjcmVlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIDI1NSAqICgxIC0gKDEtYS8yNTUpICogKDEtYi8yNTUpKTsgfTtcbiAgICB2YXIgb3ZlcmxheSA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGIgPCAxMjggPyAyICogYSAqIGIgLyAyNTUgOiAyNTUgKiAoMSAtIDIgKiAoMSAtIGEgLyAyNTUgKSAqICggMSAtIGIgLyAyNTUgKSk7IH07XG4gICAgdmFyIGJ1cm4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxIC0gYiAvIDI1NSkgLyAoYS8yNTUpKTsgfTtcbiAgICB2YXIgZG9kZ2UgPSBmdW5jdGlvbiAoYSxiKSB7XG4gICAgICAgIGlmIChhID09PSAyNTUpIHsgcmV0dXJuIDI1NTsgfVxuICAgICAgICBhID0gMjU1ICogKGIgLyAyNTUpIC8gKDEgLSBhIC8gMjU1KTtcbiAgICAgICAgcmV0dXJuIGEgPiAyNTUgPyAyNTUgOiBhXG4gICAgfTtcblxuICAgIC8vICMgYWRkID0gKGEsYikgLT5cbiAgICAvLyAjICAgICBpZiAoYSArIGIgPiAyNTUpIHRoZW4gMjU1IGVsc2UgYSArIGJcblxuICAgIGJsZW5kLm5vcm1hbCA9IGJsZW5kX2YoZWFjaChub3JtYWwpKTtcbiAgICBibGVuZC5tdWx0aXBseSA9IGJsZW5kX2YoZWFjaChtdWx0aXBseSkpO1xuICAgIGJsZW5kLnNjcmVlbiA9IGJsZW5kX2YoZWFjaChzY3JlZW4pKTtcbiAgICBibGVuZC5vdmVybGF5ID0gYmxlbmRfZihlYWNoKG92ZXJsYXkpKTtcbiAgICBibGVuZC5kYXJrZW4gPSBibGVuZF9mKGVhY2goZGFya2VuJDEpKTtcbiAgICBibGVuZC5saWdodGVuID0gYmxlbmRfZihlYWNoKGxpZ2h0ZW4pKTtcbiAgICBibGVuZC5kb2RnZSA9IGJsZW5kX2YoZWFjaChkb2RnZSkpO1xuICAgIGJsZW5kLmJ1cm4gPSBibGVuZF9mKGVhY2goYnVybikpO1xuICAgIC8vIGJsZW5kLmFkZCA9IGJsZW5kX2YoZWFjaChhZGQpKTtcblxuICAgIHZhciBibGVuZF8xID0gYmxlbmQ7XG5cbiAgICAvLyBjdWJlaGVsaXggaW50ZXJwb2xhdGlvblxuICAgIC8vIGJhc2VkIG9uIEQuQS4gR3JlZW4gXCJBIGNvbG91ciBzY2hlbWUgZm9yIHRoZSBkaXNwbGF5IG9mIGFzdHJvbm9taWNhbCBpbnRlbnNpdHkgaW1hZ2VzXCJcbiAgICAvLyBodHRwOi8vYXN0cm9uLXNvYy5pbi9idWxsZXRpbi8xMUp1bmUvMjg5MzkyMDExLnBkZlxuXG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNsaXBfcmdiJDMgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBwb3ckNiA9IE1hdGgucG93O1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBjb3MkMyA9IE1hdGguY29zO1xuXG5cbiAgICB2YXIgY3ViZWhlbGl4ID0gZnVuY3Rpb24oc3RhcnQsIHJvdGF0aW9ucywgaHVlLCBnYW1tYSwgbGlnaHRuZXNzKSB7XG4gICAgICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0PTMwMDtcbiAgICAgICAgaWYgKCByb3RhdGlvbnMgPT09IHZvaWQgMCApIHJvdGF0aW9ucz0tMS41O1xuICAgICAgICBpZiAoIGh1ZSA9PT0gdm9pZCAwICkgaHVlPTE7XG4gICAgICAgIGlmICggZ2FtbWEgPT09IHZvaWQgMCApIGdhbW1hPTE7XG4gICAgICAgIGlmICggbGlnaHRuZXNzID09PSB2b2lkIDAgKSBsaWdodG5lc3M9WzAsMV07XG5cbiAgICAgICAgdmFyIGRoID0gMCwgZGw7XG4gICAgICAgIGlmICh0eXBlJGsobGlnaHRuZXNzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgZGwgPSBsaWdodG5lc3NbMV0gLSBsaWdodG5lc3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICBsaWdodG5lc3MgPSBbbGlnaHRuZXNzLCBsaWdodG5lc3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihmcmFjdCkge1xuICAgICAgICAgICAgdmFyIGEgPSBUV09QSSQyICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQ2KGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDMoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMihhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMShjbGlwX3JnYiQzKFtyKjI1NSxnKjI1NSxiKjI1NSwxXSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc3RhcnQgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBpZiAoKHMgPT0gbnVsbCkpIHsgcmV0dXJuIHN0YXJ0OyB9XG4gICAgICAgICAgICBzdGFydCA9IHM7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnJvdGF0aW9ucyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGlmICgociA9PSBudWxsKSkgeyByZXR1cm4gcm90YXRpb25zOyB9XG4gICAgICAgICAgICByb3RhdGlvbnMgPSByO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5nYW1tYSA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgIGlmICgoZyA9PSBudWxsKSkgeyByZXR1cm4gZ2FtbWE7IH1cbiAgICAgICAgICAgIGdhbW1hID0gZztcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuaHVlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBodWU7IH1cbiAgICAgICAgICAgIGh1ZSA9IGg7XG4gICAgICAgICAgICBpZiAodHlwZSRrKGh1ZSkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZVsxXSAtIGh1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZGggPT09IDApIHsgaHVlID0gaHVlWzFdOyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYubGlnaHRuZXNzID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBsaWdodG5lc3M7IH1cbiAgICAgICAgICAgIGlmICh0eXBlJGsoaCkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBoO1xuICAgICAgICAgICAgICAgIGRsID0gaFsxXSAtIGhbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtoLGhdO1xuICAgICAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaHJvbWFfMS5zY2FsZShmKTsgfTtcblxuICAgICAgICBmLmh1ZShodWUpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICB2YXIgZGlnaXRzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIHZhciByYW5kb21fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSAnIyc7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gZGlnaXRzLmNoYXJBdChmbG9vciQyKHJhbmRvbSgpICogMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoY29kZSwgJ2hleCcpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nJDEgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IkMyA9IE1hdGguZmxvb3I7XG4gICAgdmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2ckMShtaW4pO1xuICAgICAgICAgICAgdmFyIG1heF9sb2cgPSBNYXRoLkxPRzEwRSAqIGxvZyQxKG1heCk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTE7IGkkMTxudW07IGkkMSsrKSB7XG4gICAgICAgICAgICAgICAgbGltaXRzLnB1c2gocG93JDcoMTAsIG1pbl9sb2cgKyAoKGkkMS9udW0pICogKG1heF9sb2cgLSBtaW5fbG9nKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAncScpIHsgLy8gcXVhbnRpbGUgc2NhbGVcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MTsgaSQyPG51bTsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9ICgodmFsdWVzLmxlbmd0aC0xKSAqIGkkMikvbnVtO1xuICAgICAgICAgICAgICAgIHZhciBwYiA9IGZsb29yJDMocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzKGNlbnRyb2lkc1tqJDFdLXZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluZGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVyU2l6ZXNbYmVzdF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW2kkNF0gPSBiZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbnRyb2lkcyBzdGVwXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NlbnRyb2lkcyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMj0wOyBqJDI8bnVtOyBqJDIrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkkNT0wOyBpJDU8bjsgaSQ1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbY2x1c3Rlcl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdICs9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMz0wOyBqJDM8bnVtOyBqJDMrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQzXSAqPSAxL2NsdXN0ZXJTaXplc1tqJDNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGNvbnZlcmdlbmNlXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQ0PTA7IGokNDxudW07IGokNCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbaiQ0XSAhPT0gY2VudHJvaWRzW2okNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRyb2lkcyA9IG5ld0NlbnRyb2lkcztcbiAgICAgICAgICAgICAgICBuYl9pdGVycysrO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5iX2l0ZXJzID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmluaXNoZWQgay1tZWFucyBjbHVzdGVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0IGlzIGJvcnJvd2VkIGZyb20gZ2FicmllbGZsb3IuaXRcbiAgICAgICAgICAgIHZhciBrQ2x1c3RlcnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGokNT0wOyBqJDU8bnVtOyBqJDUrKykge1xuICAgICAgICAgICAgICAgIGtDbHVzdGVyc1tqJDVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpJDY9MDsgaSQ2PG47IGkkNisrKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNl07XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2NsdXN0ZXJdLnB1c2godmFsdWVzW2kkNl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRtcEtNZWFuc0JyZWFrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ2PTA7IGokNjxudW07IGokNisrKSB7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1bMF0pO1xuICAgICAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcy5wdXNoKGtDbHVzdGVyc1tqJDZdW2tDbHVzdGVyc1tqJDZdLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MgPSB0bXBLTWVhbnNCcmVha3Muc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaCh0bXBLTWVhbnNCcmVha3NbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ3PTE7IGkkNyA8IHRtcEtNZWFuc0JyZWFrcy5sZW5ndGg7IGkkNys9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRtcEtNZWFuc0JyZWFrc1tpJDddO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odikgJiYgKGxpbWl0cy5pbmRleE9mKHYpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfTtcblxuICAgIHZhciBhbmFseXplXzEgPSB7YW5hbHl6ZTogYW5hbHl6ZSwgbGltaXRzOiBsaW1pdHN9O1xuXG4gICAgdmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gV0NBRyBjb250cmFzdCByYXRpb1xuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZlxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5sdW1pbmFuY2UoKTtcbiAgICAgICAgdmFyIGwyID0gYi5sdW1pbmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGwxID4gbDIgPyAobDEgKyAwLjA1KSAvIChsMiArIDAuMDUpIDogKGwyICsgMC4wNSkgLyAobDEgKyAwLjA1KTtcbiAgICB9O1xuXG4gICAgdmFyIHNxcnQkNCA9IE1hdGguc3FydDtcbiAgICB2YXIgYXRhbjIkMiA9IE1hdGguYXRhbjI7XG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG4gICAgdmFyIGNvcyQ0ID0gTWF0aC5jb3M7XG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEwsIEMpIHtcbiAgICAgICAgaWYgKCBMID09PSB2b2lkIDAgKSBMPTE7XG4gICAgICAgIGlmICggQyA9PT0gdm9pZCAwICkgQz0xO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENNQylcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DTUMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIHJlZiA9IEFycmF5LmZyb20oYS5sYWIoKSk7XG4gICAgICAgIHZhciBMMSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGExID0gcmVmWzFdO1xuICAgICAgICB2YXIgYjEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IEFycmF5LmZyb20oYi5sYWIoKSk7XG4gICAgICAgIHZhciBMMiA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgYTIgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGIyID0gcmVmJDFbMl07XG4gICAgICAgIHZhciBjMSA9IHNxcnQkNCgoYTEgKiBhMSkgKyAoYjEgKiBiMSkpO1xuICAgICAgICB2YXIgYzIgPSBzcXJ0JDQoKGEyICogYTIpICsgKGIyICogYjIpKTtcbiAgICAgICAgdmFyIHNsID0gTDEgPCAxNi4wID8gMC41MTEgOiAoMC4wNDA5NzUgKiBMMSkgLyAoMS4wICsgKDAuMDE3NjUgKiBMMSkpO1xuICAgICAgICB2YXIgc2MgPSAoKDAuMDYzOCAqIGMxKSAvICgxLjAgKyAoMC4wMTMxICogYzEpKSkgKyAwLjYzODtcbiAgICAgICAgdmFyIGgxID0gYzEgPCAwLjAwMDAwMSA/IDAuMCA6IChhdGFuMiQyKGIxLCBhMSkgKiAxODAuMCkgLyBQSSQyO1xuICAgICAgICB3aGlsZSAoaDEgPCAwKSB7IGgxICs9IDM2MDsgfVxuICAgICAgICB3aGlsZSAoaDEgPj0gMzYwKSB7IGgxIC09IDM2MDsgfVxuICAgICAgICB2YXIgdCA9IChoMSA+PSAxNjQuMCkgJiYgKGgxIDw9IDM0NS4wKSA/ICgwLjU2ICsgYWJzJDEoMC4yICogY29zJDQoKFBJJDIgKiAoaDEgKyAxNjguMCkpIC8gMTgwLjApKSkgOiAoMC4zNiArIGFicyQxKDAuNCAqIGNvcyQ0KChQSSQyICogKGgxICsgMzUuMCkpIC8gMTgwLjApKSk7XG4gICAgICAgIHZhciBjNCA9IGMxICogYzEgKiBjMSAqIGMxO1xuICAgICAgICB2YXIgZiA9IHNxcnQkNChjNCAvIChjNCArIDE5MDAuMCkpO1xuICAgICAgICB2YXIgc2ggPSBzYyAqICgoKGYgKiB0KSArIDEuMCkgLSBmKTtcbiAgICAgICAgdmFyIGRlbEwgPSBMMSAtIEwyO1xuICAgICAgICB2YXIgZGVsQyA9IGMxIC0gYzI7XG4gICAgICAgIHZhciBkZWxBID0gYTEgLSBhMjtcbiAgICAgICAgdmFyIGRlbEIgPSBiMSAtIGIyO1xuICAgICAgICB2YXIgZEgyID0gKChkZWxBICogZGVsQSkgKyAoZGVsQiAqIGRlbEIpKSAtIChkZWxDICogZGVsQyk7XG4gICAgICAgIHZhciB2MSA9IGRlbEwgLyAoTCAqIHNsKTtcbiAgICAgICAgdmFyIHYyID0gZGVsQyAvIChDICogc2MpO1xuICAgICAgICB2YXIgdjMgPSBzaDtcbiAgICAgICAgcmV0dXJuIHNxcnQkNCgodjEgKiB2MSkgKyAodjIgKiB2MikgKyAoZEgyIC8gKHYzICogdjMpKSk7XG4gICAgfTtcblxuICAgIC8vIHNpbXBsZSBFdWNsaWRlYW4gZGlzdGFuY2VcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiLCBtb2RlKSB7XG4gICAgICAgIGlmICggbW9kZSA9PT0gdm9pZCAwICkgbW9kZT0nbGFiJztcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMTk3NilcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXF1YXRpb25zLmh0bWxcbiAgICAgICAgYSA9IG5ldyBDb2xvcl8xKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yXzEoYik7XG4gICAgICAgIHZhciBsMSA9IGEuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgbDIgPSBiLmdldChtb2RlKTtcbiAgICAgICAgdmFyIHN1bV9zcSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbDEpIHtcbiAgICAgICAgICAgIHZhciBkID0gKGwxW2ldIHx8IDApIC0gKGwyW2ldIHx8IDApO1xuICAgICAgICAgICAgc3VtX3NxICs9IGQqZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bV9zcSk7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzKSApKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc29tZSBwcmUtZGVmaW5lZCBjb2xvciBzY2FsZXM6XG5cblxuXG5cbiAgICB2YXIgc2NhbGVzID0ge1xuICAgIFx0Y29vbDogZnVuY3Rpb24gY29vbCgpIHsgcmV0dXJuIHNjYWxlKFtjaHJvbWFfMS5oc2woMTgwLDEsLjkpLCBjaHJvbWFfMS5oc2woMjUwLC43LC40KV0pIH0sXG4gICAgXHRob3Q6IGZ1bmN0aW9uIGhvdCgpIHsgcmV0dXJuIHNjYWxlKFsnIzAwMCcsJyNmMDAnLCcjZmYwJywnI2ZmZiddLCBbMCwuMjUsLjc1LDFdKS5tb2RlKCdyZ2InKSB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgICBDb2xvckJyZXdlciBjb2xvcnMgZm9yIGNocm9tYS5qc1xuXG4gICAgICAgIENvcHlyaWdodCAoYykgMjAwMiBDeW50aGlhIEJyZXdlciwgTWFyayBIYXJyb3dlciwgYW5kIFRoZVxuICAgICAgICBQZW5uc3lsdmFuaWEgU3RhdGUgVW5pdmVyc2l0eS5cblxuICAgICAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICAgICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICAgICAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG4gICAgICAgIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SXG4gICAgICAgIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gICAgICAgIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAgKi9cblxuICAgIHZhciBjb2xvcmJyZXdlciA9IHtcbiAgICAgICAgLy8gc2VxdWVudGlhbFxuICAgICAgICBPclJkOiBbJyNmZmY3ZWMnLCAnI2ZlZThjOCcsICcjZmRkNDllJywgJyNmZGJiODQnLCAnI2ZjOGQ1OScsICcjZWY2NTQ4JywgJyNkNzMwMWYnLCAnI2IzMDAwMCcsICcjN2YwMDAwJ10sXG4gICAgICAgIFB1QnU6IFsnI2ZmZjdmYicsICcjZWNlN2YyJywgJyNkMGQxZTYnLCAnI2E2YmRkYicsICcjNzRhOWNmJywgJyMzNjkwYzAnLCAnIzA1NzBiMCcsICcjMDQ1YThkJywgJyMwMjM4NTgnXSxcbiAgICAgICAgQnVQdTogWycjZjdmY2ZkJywgJyNlMGVjZjQnLCAnI2JmZDNlNicsICcjOWViY2RhJywgJyM4Yzk2YzYnLCAnIzhjNmJiMScsICcjODg0MTlkJywgJyM4MTBmN2MnLCAnIzRkMDA0YiddLFxuICAgICAgICBPcmFuZ2VzOiBbJyNmZmY1ZWInLCAnI2ZlZTZjZScsICcjZmRkMGEyJywgJyNmZGFlNmInLCAnI2ZkOGQzYycsICcjZjE2OTEzJywgJyNkOTQ4MDEnLCAnI2E2MzYwMycsICcjN2YyNzA0J10sXG4gICAgICAgIEJ1R246IFsnI2Y3ZmNmZCcsICcjZTVmNWY5JywgJyNjY2VjZTYnLCAnIzk5ZDhjOScsICcjNjZjMmE0JywgJyM0MWFlNzYnLCAnIzIzOGI0NScsICcjMDA2ZDJjJywgJyMwMDQ0MWInXSxcbiAgICAgICAgWWxPckJyOiBbJyNmZmZmZTUnLCAnI2ZmZjdiYycsICcjZmVlMzkxJywgJyNmZWM0NGYnLCAnI2ZlOTkyOScsICcjZWM3MDE0JywgJyNjYzRjMDInLCAnIzk5MzQwNCcsICcjNjYyNTA2J10sXG4gICAgICAgIFlsR246IFsnI2ZmZmZlNScsICcjZjdmY2I5JywgJyNkOWYwYTMnLCAnI2FkZGQ4ZScsICcjNzhjNjc5JywgJyM0MWFiNWQnLCAnIzIzODQ0MycsICcjMDA2ODM3JywgJyMwMDQ1MjknXSxcbiAgICAgICAgUmVkczogWycjZmZmNWYwJywgJyNmZWUwZDInLCAnI2ZjYmJhMScsICcjZmM5MjcyJywgJyNmYjZhNGEnLCAnI2VmM2IyYycsICcjY2IxODFkJywgJyNhNTBmMTUnLCAnIzY3MDAwZCddLFxuICAgICAgICBSZFB1OiBbJyNmZmY3ZjMnLCAnI2ZkZTBkZCcsICcjZmNjNWMwJywgJyNmYTlmYjUnLCAnI2Y3NjhhMScsICcjZGQzNDk3JywgJyNhZTAxN2UnLCAnIzdhMDE3NycsICcjNDkwMDZhJ10sXG4gICAgICAgIEdyZWVuczogWycjZjdmY2Y1JywgJyNlNWY1ZTAnLCAnI2M3ZTljMCcsICcjYTFkOTliJywgJyM3NGM0NzYnLCAnIzQxYWI1ZCcsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbEduQnU6IFsnI2ZmZmZkOScsICcjZWRmOGIxJywgJyNjN2U5YjQnLCAnIzdmY2RiYicsICcjNDFiNmM0JywgJyMxZDkxYzAnLCAnIzIyNWVhOCcsICcjMjUzNDk0JywgJyMwODFkNTgnXSxcbiAgICAgICAgUHVycGxlczogWycjZmNmYmZkJywgJyNlZmVkZjUnLCAnI2RhZGFlYicsICcjYmNiZGRjJywgJyM5ZTlhYzgnLCAnIzgwN2RiYScsICcjNmE1MWEzJywgJyM1NDI3OGYnLCAnIzNmMDA3ZCddLFxuICAgICAgICBHbkJ1OiBbJyNmN2ZjZjAnLCAnI2UwZjNkYicsICcjY2NlYmM1JywgJyNhOGRkYjUnLCAnIzdiY2NjNCcsICcjNGViM2QzJywgJyMyYjhjYmUnLCAnIzA4NjhhYycsICcjMDg0MDgxJ10sXG4gICAgICAgIEdyZXlzOiBbJyNmZmZmZmYnLCAnI2YwZjBmMCcsICcjZDlkOWQ5JywgJyNiZGJkYmQnLCAnIzk2OTY5NicsICcjNzM3MzczJywgJyM1MjUyNTInLCAnIzI1MjUyNScsICcjMDAwMDAwJ10sXG4gICAgICAgIFlsT3JSZDogWycjZmZmZmNjJywgJyNmZmVkYTAnLCAnI2ZlZDk3NicsICcjZmViMjRjJywgJyNmZDhkM2MnLCAnI2ZjNGUyYScsICcjZTMxYTFjJywgJyNiZDAwMjYnLCAnIzgwMDAyNiddLFxuICAgICAgICBQdVJkOiBbJyNmN2Y0ZjknLCAnI2U3ZTFlZicsICcjZDRiOWRhJywgJyNjOTk0YzcnLCAnI2RmNjViMCcsICcjZTcyOThhJywgJyNjZTEyNTYnLCAnIzk4MDA0MycsICcjNjcwMDFmJ10sXG4gICAgICAgIEJsdWVzOiBbJyNmN2ZiZmYnLCAnI2RlZWJmNycsICcjYzZkYmVmJywgJyM5ZWNhZTEnLCAnIzZiYWVkNicsICcjNDI5MmM2JywgJyMyMTcxYjUnLCAnIzA4NTE5YycsICcjMDgzMDZiJ10sXG4gICAgICAgIFB1QnVHbjogWycjZmZmN2ZiJywgJyNlY2UyZjAnLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM2N2E5Y2YnLCAnIzM2OTBjMCcsICcjMDI4MThhJywgJyMwMTZjNTknLCAnIzAxNDYzNiddLFxuICAgICAgICBWaXJpZGlzOiBbJyM0NDAxNTQnLCAnIzQ4Mjc3NycsICcjM2Y0YThhJywgJyMzMTY3OGUnLCAnIzI2ODM4ZicsICcjMWY5ZDhhJywgJyM2Y2NlNWEnLCAnI2I2ZGUyYicsICcjZmVlODI1J10sXG5cbiAgICAgICAgLy8gZGl2ZXJnaW5nXG5cbiAgICAgICAgU3BlY3RyYWw6IFsnIzllMDE0MicsICcjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNmZmZmYmYnLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCcsICcjNWU0ZmEyJ10sXG4gICAgICAgIFJkWWxHbjogWycjYTUwMDI2JywgJyNkNzMwMjcnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZDllZjhiJywgJyNhNmQ5NmEnLCAnIzY2YmQ2MycsICcjMWE5ODUwJywgJyMwMDY4MzcnXSxcbiAgICAgICAgUmRCdTogWycjNjcwMDFmJywgJyNiMjE4MmInLCAnI2Q2NjA0ZCcsICcjZjRhNTgyJywgJyNmZGRiYzcnLCAnI2Y3ZjdmNycsICcjZDFlNWYwJywgJyM5MmM1ZGUnLCAnIzQzOTNjMycsICcjMjE2NmFjJywgJyMwNTMwNjEnXSxcbiAgICAgICAgUGlZRzogWycjOGUwMTUyJywgJyNjNTFiN2QnLCAnI2RlNzdhZScsICcjZjFiNmRhJywgJyNmZGUwZWYnLCAnI2Y3ZjdmNycsICcjZTZmNWQwJywgJyNiOGUxODYnLCAnIzdmYmM0MScsICcjNGQ5MjIxJywgJyMyNzY0MTknXSxcbiAgICAgICAgUFJHbjogWycjNDAwMDRiJywgJyM3NjJhODMnLCAnIzk5NzBhYicsICcjYzJhNWNmJywgJyNlN2Q0ZTgnLCAnI2Y3ZjdmNycsICcjZDlmMGQzJywgJyNhNmRiYTAnLCAnIzVhYWU2MScsICcjMWI3ODM3JywgJyMwMDQ0MWInXSxcbiAgICAgICAgUmRZbEJ1OiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA5MCcsICcjZmZmZmJmJywgJyNlMGYzZjgnLCAnI2FiZDllOScsICcjNzRhZGQxJywgJyM0NTc1YjQnLCAnIzMxMzY5NSddLFxuICAgICAgICBCckJHOiBbJyM1NDMwMDUnLCAnIzhjNTEwYScsICcjYmY4MTJkJywgJyNkZmMyN2QnLCAnI2Y2ZThjMycsICcjZjVmNWY1JywgJyNjN2VhZTUnLCAnIzgwY2RjMScsICcjMzU5NzhmJywgJyMwMTY2NWUnLCAnIzAwM2MzMCddLFxuICAgICAgICBSZEd5OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZmZmZmZmJywgJyNlMGUwZTAnLCAnI2JhYmFiYScsICcjODc4Nzg3JywgJyM0ZDRkNGQnLCAnIzFhMWExYSddLFxuICAgICAgICBQdU9yOiBbJyM3ZjNiMDgnLCAnI2IzNTgwNicsICcjZTA4MjE0JywgJyNmZGI4NjMnLCAnI2ZlZTBiNicsICcjZjdmN2Y3JywgJyNkOGRhZWInLCAnI2IyYWJkMicsICcjODA3M2FjJywgJyM1NDI3ODgnLCAnIzJkMDA0YiddLFxuXG4gICAgICAgIC8vIHF1YWxpdGF0aXZlXG5cbiAgICAgICAgU2V0MjogWycjNjZjMmE1JywgJyNmYzhkNjInLCAnIzhkYTBjYicsICcjZTc4YWMzJywgJyNhNmQ4NTQnLCAnI2ZmZDkyZicsICcjZTVjNDk0JywgJyNiM2IzYjMnXSxcbiAgICAgICAgQWNjZW50OiBbJyM3ZmM5N2YnLCAnI2JlYWVkNCcsICcjZmRjMDg2JywgJyNmZmZmOTknLCAnIzM4NmNiMCcsICcjZjAwMjdmJywgJyNiZjViMTcnLCAnIzY2NjY2NiddLFxuICAgICAgICBTZXQxOiBbJyNlNDFhMWMnLCAnIzM3N2ViOCcsICcjNGRhZjRhJywgJyM5ODRlYTMnLCAnI2ZmN2YwMCcsICcjZmZmZjMzJywgJyNhNjU2MjgnLCAnI2Y3ODFiZicsICcjOTk5OTk5J10sXG4gICAgICAgIFNldDM6IFsnIzhkZDNjNycsICcjZmZmZmIzJywgJyNiZWJhZGEnLCAnI2ZiODA3MicsICcjODBiMWQzJywgJyNmZGI0NjInLCAnI2IzZGU2OScsICcjZmNjZGU1JywgJyNkOWQ5ZDknLCAnI2JjODBiZCcsICcjY2NlYmM1JywgJyNmZmVkNmYnXSxcbiAgICAgICAgRGFyazI6IFsnIzFiOWU3NycsICcjZDk1ZjAyJywgJyM3NTcwYjMnLCAnI2U3Mjk4YScsICcjNjZhNjFlJywgJyNlNmFiMDInLCAnI2E2NzYxZCcsICcjNjY2NjY2J10sXG4gICAgICAgIFBhaXJlZDogWycjYTZjZWUzJywgJyMxZjc4YjQnLCAnI2IyZGY4YScsICcjMzNhMDJjJywgJyNmYjlhOTknLCAnI2UzMWExYycsICcjZmRiZjZmJywgJyNmZjdmMDAnLCAnI2NhYjJkNicsICcjNmEzZDlhJywgJyNmZmZmOTknLCAnI2IxNTkyOCddLFxuICAgICAgICBQYXN0ZWwyOiBbJyNiM2UyY2QnLCAnI2ZkY2RhYycsICcjY2JkNWU4JywgJyNmNGNhZTQnLCAnI2U2ZjVjOScsICcjZmZmMmFlJywgJyNmMWUyY2MnLCAnI2NjY2NjYyddLFxuICAgICAgICBQYXN0ZWwxOiBbJyNmYmI0YWUnLCAnI2IzY2RlMycsICcjY2NlYmM1JywgJyNkZWNiZTQnLCAnI2ZlZDlhNicsICcjZmZmZmNjJywgJyNlNWQ4YmQnLCAnI2ZkZGFlYycsICcjZjJmMmYyJ10sXG4gICAgfTtcblxuICAgIC8vIGFkZCBsb3dlcmNhc2UgYWxpYXNlcyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGVzXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGlzdCQxID0gT2JqZWN0LmtleXMoY29sb3JicmV3ZXIpOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdCQxW2kkMV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIG9wZXJhdG9ycyAtLT4gbW9kaWZ5IGV4aXN0aW5nIENvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gaW50ZXJwb2xhdG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gZ2VuZXJhdG9ycyAtLSA+IGNyZWF0ZSBuZXcgY29sb3JzXG4gICAgY2hyb21hXzEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hXzEuYmV6aWVyID0gYmV6aWVyXzE7XG4gICAgY2hyb21hXzEuYmxlbmQgPSBibGVuZF8xO1xuICAgIGNocm9tYV8xLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWFfMS5taXggPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZSA9IG1peDtcbiAgICBjaHJvbWFfMS5yYW5kb20gPSByYW5kb21fMTtcbiAgICBjaHJvbWFfMS5zY2FsZSA9IHNjYWxlO1xuXG4gICAgLy8gb3RoZXIgdXRpbGl0eSBtZXRob2RzXG4gICAgY2hyb21hXzEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYV8xLmNvbnRyYXN0ID0gY29udHJhc3Q7XG4gICAgY2hyb21hXzEuZGVsdGFFID0gZGVsdGFFO1xuICAgIGNocm9tYV8xLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hXzEubGltaXRzID0gYW5hbHl6ZV8xLmxpbWl0cztcbiAgICBjaHJvbWFfMS52YWxpZCA9IHZhbGlkO1xuXG4gICAgLy8gc2NhbGVcbiAgICBjaHJvbWFfMS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWFfMS5jb2xvcnMgPSB3M2N4MTFfMTtcbiAgICBjaHJvbWFfMS5icmV3ZXIgPSBjb2xvcmJyZXdlcl8xO1xuXG4gICAgdmFyIGNocm9tYV9qcyA9IGNocm9tYV8xO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///792\n")}},__webpack_module_cache__={};function __nested_webpack_require_638166__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_638166__),n.exports}__nested_webpack_require_638166__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __nested_webpack_require_638166__.d(t,{a:t}),t},__nested_webpack_require_638166__.d=function(e,t){for(var n in t)__nested_webpack_require_638166__.o(t,n)&&!__nested_webpack_require_638166__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_638166__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_638166__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_638166__(773);return __nested_webpack_exports__}()},module.exports=I()},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){s=!0,i=u}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(2791),t=__webpack_require__(1250);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=__webpack_require__(1046);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),l=new U(r||[]);return i(o,"_invoke",{value:v(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var I={};function b(){}function h(){}function f(){}var C={};s(C,o,(function(){return this}));var p=Object.getPrototypeOf,B=p&&p(p(G([])));B&&B!==t&&r.call(B,o)&&(C=B);var m=f.prototype=b.prototype=Object.create(C);function A(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function a(i,o,l,c){var s=d(e[i],e,o);if("throw"!==s.type){var u=s.arg,g=u.value;return g&&"object"==n(g)&&r.call(g,"__await")?t.resolve(g.__await).then((function(e){a("next",e,l,c)}),(function(e){a("throw",e,l,c)})):t.resolve(g).then((function(e){u.value=e,l(u)}),(function(e){return a("throw",e,l,c)}))}c(s.arg)}var o;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function v(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=x(o,n);if(l){if(l===I)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===I)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),I;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,I;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,I):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function Q(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Q,this),this.reset(!0)}function G(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:w}}function w(){return{value:void 0,done:!0}}return h.prototype=f,i(m,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},A(y.prototype),s(y.prototype,l,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(m),s(m,c,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=G,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,I):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:G(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),I}},e}function d(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,l,"next",e)}function l(e){d(a,r,i,o,l,"throw",e)}o(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){s=!0,i=u}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=__webpack_require__(763),f=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(f){return!1}return"showOpenFilePicker"in self}();f?Promise.resolve().then((function(){return y})):Promise.resolve().then((function(){return S}));f?Promise.resolve().then((function(){return F})):Promise.resolve().then((function(){return X}));var C=f?Promise.resolve().then((function(){return G})):Promise.resolve().then((function(){return k}));function p(){return B.apply(this,arguments)}function B(){return B=I(g().mark((function e(){var t,n=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var m=function(){var e=I(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFile();case 2:return n=e.sent,e.abrupt("return",(n.handle=t,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=I(g().mark((function e(){var t,n,r,i,a=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[{}],Array.isArray(t)||(t=[t]),n=[],t.forEach((function(e,t){n[t]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map((function(r){n[t].accept[r]=e.extensions||[]})):n[t].accept["*/*"]=e.extensions||[]})),e.next=6,window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:n,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});case 6:return r=e.sent,e.next=9,Promise.all(r.map(m));case 9:return i=e.sent,e.abrupt("return",t[0].multiple?i:i[0]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y={__proto__:null,default:A};function v(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return v=function(e){this.s=e,this.n=e.next},v.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new v(e)}var x=function(){var e=I(g().mark((function e(t,n){var r,i,a,o,l,c,s,d,I,b,h=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>2&&void 0!==h[2]?h[2]:t.name,i=h.length>3?h[3]:void 0,a=[],o=[],c=!1,s=!1,e.prev=4,d=g().mark((function e(){var l,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=I.value,c="".concat(r,"/").concat(l.name),"file"===l.kind?o.push(l.getFile().then((function(e){return e.directoryHandle=t,e.handle=l,Object.defineProperty(e,"webkitRelativePath",{configurable:!0,enumerable:!0,get:function(){return c}})}))):"directory"!==l.kind||!n||i&&i(l)||a.push(x(l,n,c,i));case 2:case"end":return e.stop()}}),e)})),b=function(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new v(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(t.values());case 7:return e.next=9,b.next();case 9:if(!(c=!(I=e.sent).done)){e.next=14;break}return e.delegateYield(d(),"t0",11);case 11:c=!1,e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),s=!0,l=e.t1;case 19:if(e.prev=19,e.prev=20,e.t2=c&&null!=b.return,!e.t2){e.next=25;break}return e.next=25,b.return();case 25:if(e.prev=25,!s){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(19);case 30:return e.t3=[],e.t4=u,e.next=34,Promise.all(a);case 34:return e.t5=e.sent.flat(),e.t6=(0,e.t4)(e.t5),e.t7=u,e.next=39,Promise.all(o);case 39:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.abrupt("return",e.t3.concat.call(e.t3,e.t6,e.t9));case 42:case"end":return e.stop()}}),e,null,[[4,16,19,30],[20,,25,29]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=I(g().mark((function e(){var t,n,r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).recursive=t.recursive||!1,t.mode=t.mode||"read",e.next=4,window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});case 4:return n=e.sent,e.next=7,n.values();case 7:return e.next=9,e.sent.next();case 9:if(!e.sent.done){e.next=13;break}e.t0=[n],e.next=14;break;case 13:e.t0=x(n,t.recursive,void 0,t.skipDirectory);case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F={__proto__:null,default:Q},U=function(){var e=I(g().mark((function e(t){var n,r,i,a,o,l,c,s,u,d=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:[{}],r=d.length>2&&void 0!==d[2]?d[2]:null,i=d.length>3&&void 0!==d[3]&&d[3],a=d.length>4&&void 0!==d[4]?d[4]:null,Array.isArray(n)||(n=[n]),n[0].fileName=n[0].fileName||"Untitled",o=[],l=null,t instanceof Blob&&t.type?l=t.type:t.headers&&t.headers.get("content-type")&&(l=t.headers.get("content-type")),n.forEach((function(e,t){o[t]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===t&&l&&e.mimeTypes.push(l),e.mimeTypes.map((function(n){o[t].accept[n]=e.extensions||[]}))):l?o[t].accept[l]=e.extensions||[]:o[t].accept["*/*"]=e.extensions||[]})),!r){e.next=17;break}return e.prev=8,e.next=11,r.getFile();case 11:e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(8),r=null,!i){e.next=17;break}throw e.t0;case 17:if(e.t1=r,e.t1){e.next=22;break}return e.next=21,window.showSaveFilePicker({suggestedName:n[0].fileName,id:n[0].id,startIn:n[0].startIn,types:o,excludeAcceptAllOption:n[0].excludeAcceptAllOption||!1});case 21:e.t1=e.sent;case 22:return c=e.t1,!r&&a&&a(c),e.next=26,c.createWritable();case 26:if(s=e.sent,!("stream"in t)){e.next=32;break}return u=t.stream(),e.next=31,u.pipeTo(s);case 31:return e.abrupt("return",c);case 32:if(!("body"in t)){e.next=38;break}return e.next=35,t.body.pipeTo(s);case 35:e.t2=c,e.next=47;break;case 38:return e.t3=s,e.next=41,t;case 41:return e.t4=e.sent,e.next=44,e.t3.write.call(e.t3,e.t4);case 44:return e.next=46,s.close();case 46:e.t2=c;case 47:return e.abrupt("return",e.t2);case 48:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}(),G={__proto__:null,default:U},w=function(){var e=I(g().mark((function e(){var t,n=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],e.abrupt("return",(Array.isArray(t)||(t=[t]),new Promise((function(e,n){var r=document.createElement("input");r.type="file";var i=[].concat(u(t.map((function(e){return e.mimeTypes||[]}))),u(t.map((function(e){return e.extensions||[]})))).join();r.multiple=t[0].multiple||!1,r.accept=i||"",r.style.display="none",document.body.append(r);var a=function(t){"function"==typeof o&&o(),e(t)},o=t[0].legacySetup&&t[0].legacySetup(a,(function(){return o(n)}),r),l=function e(){window.removeEventListener("focus",e),r.remove()};r.addEventListener("click",(function(){window.addEventListener("focus",l)})),r.addEventListener("change",(function(){window.removeEventListener("focus",l),r.remove(),a(r.multiple?Array.from(r.files):r.files[0])})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S={__proto__:null,default:w},E=function(){var e=I(g().mark((function e(){var t,n=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],e.abrupt("return",(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.webkitdirectory=!0;var i=function(t){"function"==typeof a&&a(),e(t)},a=t[0].legacySetup&&t[0].legacySetup(i,(function(){return a(n)}),r);r.addEventListener("change",(function(){var e=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(e=e.filter((function(e){return e.webkitRelativePath.split("/").every((function(e){return!t[0].skipDirectory({name:e,kind:"directory"})}))}))):e=e.filter((function(e){return 2===e.webkitRelativePath.split("/").length})),i(e)})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X={__proto__:null,default:E},Z=function(){var e=I(g().mark((function e(t){var n,r,i,a,o,l=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},Array.isArray(n)&&(n=n[0]),r=document.createElement("a"),i=t,e.t0="body"in t,!e.t0){e.next=9;break}return e.next=8,function(){var e=I(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getReader(),i=new ReadableStream({start:function(e){return function(){var t=I(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.read().then((function(t){var r=t.done,i=t.value;if(!r)return e.enqueue(i),n();e.close()})));case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()()}}),a=new Response(i),e.next=5,a.blob();case 5:return o=e.sent,e.abrupt("return",(r.releaseLock(),new Blob([o],{type:n})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t.body,t.headers.get("content-type"));case 8:i=e.sent;case 9:return r.download=n.fileName||"Untitled",e.t1=URL,e.next=13,i;case 13:return e.t2=e.sent,r.href=e.t1.createObjectURL.call(e.t1,e.t2),a=function(){"function"==typeof o&&o()},o=n.legacySetup&&n.legacySetup(a,(function(){return o()}),r),e.abrupt("return",(r.addEventListener("click",(function(){setTimeout((function(){return URL.revokeObjectURL(r.href)}),3e4),a()})),r.click(),null));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={__proto__:null,default:Z},N=__webpack_require__(5168),T=__webpack_require__.n(N),D=function(e){return new Promise((function(t){var n=new(T());e.forEach((function(t,r){var i=r+1===e.length;n.addFrame(t.imageData,{delay:i?2e3:500})})),n.on("finished",(function(e){p(e,{fileName:"excalidraw-claymate.gif"}).then(t)})),n.render()}))},O="http://www.w3.org/2000/svg",M=function(e,t,n,r,i){t.setAttribute("opacity","0");var a=e.ownerDocument.createElementNS(O,"animate");a.setAttribute("attributeName","opacity"),a.setAttribute("from","1"),a.setAttribute("to","1"),a.setAttribute("begin","".concat(n,"ms")),a.setAttribute("dur","".concat(r,"ms")),i&&a.setAttribute("fill","freeze"),t.appendChild(a)},V=function(e,t,n,r,i,a){var o;if(a.pointerImg){var l=e.ownerDocument.createElementNS(O,"image");l.setAttribute("href",a.pointerImg),a.pointerWidth&&l.setAttribute("width",a.pointerWidth),a.pointerHeight&&l.setAttribute("height",a.pointerHeight),M(e,l,r,i);var c=e.ownerDocument.createElementNS(O,"animateMotion");c.setAttribute("path",function(e){var t=e.match(/(M[^C]*C[^M]*)/g);if(!t)return e;if(t.length<=2)return t[t.length-1];var n=t.reduce((function(e,t,n){var r=b(t.match(/M([\d.-]+) ([\d.-]+) C([\d.-]+) ([\d.-]+)/)||[],5),i=r[1],a=r[2],o=r[3],l=r[4],c=Math.hypot(Number(o)-Number(i),Number(l)-Number(a));return c>e[1]?[n,c]:e}),[0,0]);return t[b(n,1)[0]]}(n)),c.setAttribute("begin","".concat(r,"ms")),c.setAttribute("dur","".concat(i,"ms")),l.appendChild(c),null===(o=t.parentNode)||void 0===o||o.appendChild(l)}},W=function(e,t,n,r,i){for(var a,o,l=t.getAttribute("d")||"",c=(null===(a=l.match(/M/g))||void 0===a?void 0:a.length)||0,s=((null===(o=l.match(/C/g))||void 0===o?void 0:o.length)||0)/c,u=l,g=function(i){var a=l.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){","".concat(i),"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=b(t[3]?t[3].match(/.* (\S+) (\S+)$/).slice(1,3):[t[1],t[2]],2),a=r[0],o=r[1];return"M".concat(t[1]," ").concat(t[2]).concat(t[3])+" C".concat(a," ").concat(o,", ").concat(a," ").concat(o,", ").concat(a," ").concat(o).repeat(s-i)}));0===i&&t.setAttribute("d",a);var o=e.ownerDocument.createElementNS(O,"animate");o.setAttribute("attributeName","d"),o.setAttribute("from",a),o.setAttribute("to",u),o.setAttribute("begin","".concat(n+i*(r/s),"ms")),o.setAttribute("dur","".concat(r/s,"ms")),o.setAttribute("fill","freeze"),t.appendChild(o),u=a},d=s-1;d>=0;d-=1)g(d);V(e,t,l,n,r,i),M(e,t,n,r,!0)},R=function(e,t,n,r,i){var a=t.getAttribute("d")||"";if(a.includes("C"))W(e,t,n,r,i);else{var o=a.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"M".concat(t[1]," ").concat(t[2])+t[3].replace(/L\S+ \S+/g,"L".concat(t[1]," ").concat(t[2]))}));t.setAttribute("d",o);var l=e.ownerDocument.createElementNS(O,"animate");l.setAttribute("attributeName","d"),l.setAttribute("from",o),l.setAttribute("to",a),l.setAttribute("begin","".concat(n,"ms")),l.setAttribute("dur","".concat(r,"ms")),l.setAttribute("fill","freeze"),t.appendChild(l)}},Y=function(e,t,n,r,i){var a,o,l,c,s=t.getAttribute("d")||"",g=(null===(a=s.match(/M/g))||void 0===a?void 0:a.length)||0,d=(null===(o=s.match(/C/g))||void 0===o?void 0:o.length)||0;if(g===d+1&&(g=(null===(l=(s=s.replace(/^M\S+ \S+ M/,"M")).match(/M/g))||void 0===l?void 0:l.length)||0,d=(null===(c=s.match(/C/g))||void 0===c?void 0:c.length)||0),g!==d)throw new Error("unexpected m/c counts");for(var I=t.getAttribute("stroke-dasharray")?1:Math.min(2,g),h=g/I,f=s,C=function(a){var o=s.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(I),"){","".concat(a),"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(I),".*"].join("")),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"".concat(t[1])+u(Array(I).keys()).map((function(e){var n=b(t.slice(2+2*I+2*e),2),r=n[0],i=n[1];return"M".concat(r," ").concat(i," C").concat(r," ").concat(i,", ").concat(r," ").concat(i,", ").concat(r," ").concat(i," ")})).join("").repeat(h-a)}));0===a&&t.setAttribute("d",o);var l=e.ownerDocument.createElementNS(O,"animate");l.setAttribute("attributeName","d"),l.setAttribute("from",o),l.setAttribute("to",f),l.setAttribute("begin","".concat(n+a*(r/h),"ms")),l.setAttribute("dur","".concat(r/h,"ms")),l.setAttribute("fill","freeze"),t.appendChild(l),f=o,V(e,t,s.replace(new RegExp(["(?:","M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(I),"){","".concat(a),"}","(M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+) ?".repeat(I),".*"].join("")),"$1"),n+a*(r/h),r/h,i)},p=h-1;p>=0;p-=1)C(p);M(e,t,n,r,!0)},L=0,H=function(e,t,n,r,i,a){var o=e.ownerDocument.createElementNS(O,"path"),l=e.ownerDocument.createElementNS(O,"animate");l.setAttribute("attributeName","d"),l.setAttribute("from",n),l.setAttribute("to",r),l.setAttribute("begin","".concat(i,"ms")),l.setAttribute("dur","".concat(a,"ms")),o.appendChild(l),t.appendChild(o)},z=function(e,t,n,r,i,a){var o=t.childNodes,l=o.length;o.forEach((function(t){!function(e,t,n,r,i,a){var o;if("start"!==(n.getAttribute("text-anchor")||"start")){var l=n.getAttribute("opacity")||"1.0",c=e.ownerDocument.createElementNS(O,"animate");return c.setAttribute("attributeName","opacity"),c.setAttribute("from","0.0"),c.setAttribute("to",l),c.setAttribute("begin","".concat(r,"ms")),c.setAttribute("dur","".concat(i,"ms")),c.setAttribute("fill","freeze"),n.appendChild(c),void n.setAttribute("opacity","0.0")}var s=Number(n.getAttribute("x")||0),u=Number(n.getAttribute("y")||0);L+=1;var g=e.ownerDocument.createElementNS(O,"path");g.setAttribute("id","pathForText"+L);var d=e.ownerDocument.createElementNS(O,"animate");d.setAttribute("attributeName","d"),d.setAttribute("from","m".concat(s," ").concat(u," h0")),d.setAttribute("to","m".concat(s," ").concat(u," h").concat(t)),d.setAttribute("begin","".concat(r,"ms")),d.setAttribute("dur","".concat(i,"ms")),d.setAttribute("fill","freeze"),g.appendChild(d);var I=e.ownerDocument.createElementNS(O,"textPath");I.setAttribute("href","#pathForText"+L),I.textContent=n.textContent,n.textContent=" ",null===(o=function(e,t){for(var n=e.childNodes,r=0;r<n.length;++r)if(n[r].tagName===t)return n[r];return null}(e,"defs"))||void 0===o||o.appendChild(g),n.appendChild(I),V(e,n,"m".concat(s," ").concat(u," h").concat(t),r,i,a)}(e,n,t,r,i/l,a),r+=i/l}))},j=function(e,t,n,r,i,a){var o=n.type,c=n.roundness,s=n.width;"line"===o?function(e,t,n,r,i,a){var o=n?W:Y,l=t.childNodes;l[0].getAttribute("fill-rule")?(o(e,l[0].childNodes[1],r,.75*i,a),r+=.75*i,R(e,l[0].childNodes[0],r,.25*i,a)):o(e,l[0].childNodes[0],r,i,a)}(e,t,!!c,r,i,a):"arrow"===o?function(e,t,n,r,i,a){var o=n?W:Y,l=t.childNodes.length;o(e,t.childNodes[0].childNodes[0],r,i/(l+2)*3,a),r+=i/(l+2)*3;for(var c=1;c<l;c+=1)for(var s=t.childNodes[c].childNodes.length,u=0;u<s;u+=1)W(e,t.childNodes[c].childNodes[u],r,i/(l+2)/s,a),r+=i/(l+2)/s}(e,t,!!c,r,i,a):"rectangle"===o||"diamond"===o?function(e,t,n,r,i){t.childNodes[1]?(Y(e,t.childNodes[1],n,.75*r,i),n+=.75*r,R(e,t.childNodes[0],n,.25*r,i)):Y(e,t.childNodes[0],n,r,i)}(e,t,r,i,a):"ellipse"===o?function(e,t,n,r,i){t.childNodes[1]?(W(e,t.childNodes[1],n,.75*r,i),n+=.75*r,R(e,t.childNodes[0],n,.25*r,i)):W(e,t.childNodes[0],n,r,i)}(e,t,r,i,a):"text"===o?z(e,t,s,r,i,a):"freedraw"===n.type?function(e,t,n,r,i,a){var o=t.childNodes[0];o.setAttribute("opacity","0");var c=e.ownerDocument.createElementNS(O,"animate");c.setAttribute("attributeName","opacity"),c.setAttribute("from","0"),c.setAttribute("to","1"),c.setAttribute("calcMode","discrete"),c.setAttribute("begin","".concat(r+i-1,"ms")),c.setAttribute("dur","".concat(1,"ms")),c.setAttribute("fill","freeze"),o.appendChild(c),V(e,o,n.points.reduce((function(e,t){var n=b(t,2),r=n[0],i=n[1];return e?e+" T ".concat(r," ").concat(i):"M ".concat(r," ").concat(i)}),""),r,i,a);for(var s=n.points.length,u=o.getAttribute("d"),g=s-1;g>=0;g-=1){var d=g>0?(0,l.getFreeDrawSvgPath)(Object.assign(Object.assign({},n),{points:n.points.slice(0,g)})):"M 0 0";H(e,t,d,u,r+g*(i/s),i/s),u=d}}(e,t,n,r,i,a):"image"===o?function(e,t,n,r){var i=t.getAttribute("opacity")||"1.0",a=e.ownerDocument.createElementNS(O,"animate");a.setAttribute("attributeName","opacity"),a.setAttribute("from","0.0"),a.setAttribute("to",i),a.setAttribute("begin","".concat(n,"ms")),a.setAttribute("dur","".concat(r,"ms")),a.setAttribute("fill","freeze"),t.appendChild(a),t.setAttribute("opacity","0.0")}(e,t,r,i):console.error("unknown excalidraw element type",n.type)},_=function(e,t){var n=e.id.match(new RegExp("".concat(t,":(-?\\d+)")));return n&&Number(n[1])||0},J=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){var n={},r=0;return e.childNodes.forEach((function(e){if("g"===e.tagName){var i=t[r].groupIds;if(i.length>=1){var a=i[0];n[a]=n[a]||[],n[a].push([e,r])}r+=1}})),n}(e,t),a=new Map,o=null!==(n=r.startMs)&&void 0!==n?n:1e3,l=u(e.childNodes).filter((function(e){return"g"===e.tagName||"use"===e.tagName}));if(l.length!==t.length)throw new Error("element length mismatch");var c=new Map(l.map((function(e,n){return[e,t[n]]})));return function(e,t){return u(e).sort((function(n,r){var i=e.indexOf(n),a=e.indexOf(r);return _(t[i],"animateOrder")-_(t[a],"animateOrder")}))}(l,t).forEach((function(n){var l=c.get(n),s=l.groupIds;if(!a.has(n))if(s.length>=1){var u=s[0],g=i[u],d=_(l,"animateDuration")||5e3/(g.length+1);j(e,n,l,o,d,r),o+=d,a.set(n,!0),g.forEach((function(n){var i=b(n,2),l=i[0],c=i[1],s=_(t[c],"animateDuration")||5e3/(g.length+1);a.has(l)||(j(e,l,t[c],o,s,r),o+=s,a.set(l,!0))})),delete i[u]}else{var I=_(l,"animateDuration")||500;j(e,n,l,o,I,r),o+=I,a.set(n,!0)}})),{finishedMs:o+1e3}},P=function(e){var t=[],n=[],r=function e(t){if("animate"===t.tagName){var r=/([0-9.]+)ms/.exec(t.getAttribute("begin")||"");r&&n.push(Number(r[1]))}t.childNodes.forEach((function(t){e(t)}))};return e.childNodes.forEach((function(e){"g"===e.tagName?(r(e),n.length&&(t.push(Math.min.apply(Math,n)),n.splice(0))):"defs"===e.tagName&&e.childNodes.forEach((function(e){r(e),n.length&&(t.push(Math.min.apply(Math,n)),n.splice(0))}))})),t},K=function(e){return e.filter((function(e){return!e.isDeleted}))},q=function(){var e=I(g().mark((function e(t,n){var r,i,a,c,s,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r='<!DOCTYPE html>\n    <html lang="en">\n      <style>\n        svg { width: 100%; height: 100%; }\n        body { margin: 0px; font-size: 24px; '.concat(n.darkMode?"filter: ".concat("invert(93%) hue-rotate(180deg)","; "):"","}\n        button { background: transparent; border: none; cursor: pointer; padding: 3px; margin: 0px 10px; font-size: inherit;}\n        #container { display: flex; flex-direction: column; height: 100%; background: white; }\n        #navigation { display: flex; justify-content: center; align-items: center; padding: 5px; border-top: 1px solid lightgray; background: white; }\n        #leftbuttons { position: absolute; left: 10px; display: flex; }\n        #rightbuttons { position: absolute; right: 10px; display: flex; }\n        #slides { height: calc(100vh - 50px); }\n      </style>\n      <script>\n        let index = 0;\n        let totalScenes = ").concat(t.length,"\n        function updateTitle() {\n          document.getElementById('title').innerText = '' + (index + 1) + ' of ' + totalScenes;\n        }\n        function moveLeft() {\n          if (index > 0) {\n            document.getElementById('scene' + index).style.display = 'none';\n            index -= 1;\n            document.getElementById('scene' + index).style.display = 'block';\n            updateTitle();\n            document.getElementById('scene' + index).setCurrentTime(0);\n          }\n        }\n        function moveRight() {\n          if (index < totalScenes - 1) {\n            document.getElementById('scene' + index).style.display = 'none';\n            index += 1;\n            document.getElementById('scene' + index).style.display = 'block';\n            updateTitle();\n            document.getElementById('scene' + index).setCurrentTime(0);\n          }\n        }\n        function closeNavigation() {\n          document.getElementById('navigation').style.display = 'none';\n          document.getElementById('slides').style.height = '100vh'\n        }\n        function toggleMaximise() {\n          if (document.fullscreenElement === document.body) {\n            document.exitFullscreen();\n          } else {\n            document.body.requestFullscreen();\n          }\n        }\n        ").concat((g=!!n.animate,g?"\n      function togglePausedAnimations() {\n        const svg = document.getElementById('scene' + index);\n        if (svg.animationsPaused()) {\n          for (const svg of document.getElementsByTagName('svg')) {\n            svg.unpauseAnimations();\n          }\n        } else {\n          for (const svg of document.getElementsByTagName('svg')) {\n            svg.pauseAnimations();\n          }\n        }\n      }\n      const beginTimeLists = [];\n      let animateTimer;\n      function stepForwardAnimations() {\n        const svg = document.getElementById('scene' + index);\n        const beginTimeList = beginTimeLists[index];\n        const currentTime = svg.getCurrentTime() * 1000;\n        let nextTime = beginTimeList.find((t) => t > currentTime + 50);\n        console.log(currentTime, beginTimeList, nextTime);\n        if (nextTime) {\n          nextTime -= 1;\n        } else {\n          nextTime = currentTime + 500;\n        }\n        clearTimeout(animateTimer);\n        svg.unpauseAnimations();\n        animateTimer = setTimeout(() => {\n          svg.pauseAnimations();\n          svg.setCurrentTime(nextTime / 1000);\n        }, nextTime - currentTime);\n      }\n      function resetAnimations() {\n        const svg = document.getElementById('scene' + index);\n        svg.setCurrentTime(0);\n      }\n":"\n      function togglePausedAnimations() {}\n      function stepForwardAnimations() {}\n      function resetAnimations() {}\n"),"\n        ").concat("\n  function startRecording() {\n    import('https://unpkg.com/browser-fs-access').then(({ fileSave }) => {\n      navigator.mediaDevices.getDisplayMedia({\n        video: { displaySurface: 'browser' },\n      }).then(function(stream) {\n        navigator.mediaDevices.getUserMedia({\n          audio: true,\n        }).catch(() => null).then(function(audioStream) {\n          if (audioStream) {\n            const audioTrack = audioStream.getAudioTracks()[0];\n            stream.getVideoTracks()[0].onended = () => {\n              audioTrack.stop();\n            };\n            stream.addTrack(audioTrack);\n          }\n          const recorder = new MediaRecorder(stream);\n          recorder.ondataavailable = (e) => {\n            const blob = new Blob([e.data], { type: \"video/webm\" });\n            const opts = { fileName: \"video.webm\", extensions: [\".webm\"] };\n            fileSave(blob, opts).catch(() => {\n              document.getElementById('startrecordingbutton').onclick = () => {\n                fileSave(blob, opts);\n              };\n              window.alert('Click the recording button again to save file');\n            });\n          };\n          recorder.start();\n        });\n      });\n    });\n  }\n","\n        document.addEventListener('DOMContentLoaded', () => {\n          document.getElementById('scene' + index).style.display = 'block';\n          document.getElementById('scene' + index).setCurrentTime(0);\n        });\n        document.addEventListener('keydown', (event) => {\n          if (event.key === 'ArrowRight') {\n            moveRight();\n          }\n          if (event.key === 'ArrowLeft') {\n            moveLeft();\n          }\n          if (event.key.toLowerCase() === 'f') {\n            toggleMaximise();\n          }\n          if (event.key.toLowerCase() === 'p') {\n            togglePausedAnimations();\n          }\n          if (event.key.toLowerCase() === 's') {\n            stepForwardAnimations();\n          }\n          if (event.key.toLowerCase() === 'r') {\n            resetAnimations();\n          }\n        });\n      <\/script>\n      <body>\n      <div id=\"container\">\n      <div id=\"slides\">\n  "),i=0;case 2:if(!(i<t.length)){e.next=15;break}return a=t[i],e.next=6,(0,l.exportToSvg)(o(o({},a.drawing),{},{appState:o(o({},a.drawing.appState),{},{exportWithDarkMode:!1})}));case 6:c=e.sent,n.animate&&J(c,K(a.drawing.elements),n.animateOptions),c.id="scene".concat(i),c.style.display="none",r+=c.outerHTML,n.animate&&((s=P(c)).sort((function(e,t){return e-t})),r+="\n        <script>\n          beginTimeLists.push(".concat(JSON.stringify(s),");\n        <\/script>\n      "));case 12:++i,e.next=2;break;case 15:return u=n.animate?'\n    <div id="leftbuttons">\n     <button type="button" onclick="togglePausedAnimations()" title="Play or pause animations">P</button>\n     <button type="button" onclick="stepForwardAnimations()" title="Step forward animations">S</button>\n     <button type="button" onclick="resetAnimations()" title="Reset animations">R</button>\n    </div>\n':"",r+='\n    </div>\n    <div id="navigation">\n      '.concat(u,'\n      <button class="navbutton" type="button" onclick="moveLeft()" title="Previous slide">&#9664;</button>\n      <div id="title">1 of ').concat(t.length,'</div>\n      <button class="navbutton" type="button" onclick="moveRight()" title="Next slide">&#9654;</button>\n      <div id="rightbuttons">\n        <button type="button" onclick="startRecording()" title="Start recording" id="startrecordingbutton">&#x1F3A5;</button>\n        <button type="button" onclick="toggleMaximise()" title="Toggle full-screen">&#x26F6;</button>\n        <button type="button" onclick="closeNavigation()" title="Close this panel">&#x2716;</button>\n      </div>\n    </div>\n  </div></body></html>\n'),e.next=19,p(new Blob([r],{type:"text/html"}),{fileName:"excalidraw-claymate.html"});case 19:case"end":return e.stop()}var g}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=I(g().mark((function e(t,n,r){var i,a,o,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.exportToSvg)(t.drawing);case 2:i=e.sent,n.animate&&J(i,K(t.drawing.elements),n.animateOptions),a=i.outerHTML,r?(o=document.getElementById(r))&&(o.innerHTML=a):(c=window.open("","_blank"))&&(c.document.body.innerHTML=a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=__webpack_require__(184),te=function(e,t){var n=e.match(new RegExp("".concat(t,":(-?\\d+)")));return null===n?void 0:Number(n[1])||0},ne=function(e,t,n,r){var i=o({},e.appState.selectedElementIds);return{elements:e.elements.map((function(e){var a,l=e.id;return t.includes(l)?(a=l.match(new RegExp("".concat(n,":(-?\\d+)")))?l.replace(new RegExp("".concat(n,":(-?\\d+)")),"".concat(n,":").concat(r)):l+"-".concat(n,":").concat(r),l===a?e:(i[a]=i[l],delete i[l],o(o({},e),{},{id:a}))):e})),appState:o(o({},e.appState),{},{selectedElementIds:i}),files:e.files}},re=function(e){var t,n,r=e.animateEnabled,i=e.setAnimateEnabled,a=e.scene,l=e.updateDrawing,c=e.animateOptions,s=e.setAnimateOptions,u=e.previewCurrentScene,g=null!==(t=null===a||void 0===a?void 0:a.drawing.elements)&&void 0!==t?t:[],d=a?Object.keys(null!==(n=a.drawing.appState.selectedElementIds)&&void 0!==n?n:{}).filter((function(e){return a.drawing.appState.selectedElementIds[e]&&g.some((function(t){return t.id===e}))})):[],I=new Set;d.forEach((function(e){I.add(te(e,"animateOrder"))}));var b=!r||!I.size,h=new Set;d.forEach((function(e){h.add(te(e,"animateDuration"))}));var f=!r||!h.size;return(0,ee.jsxs)("div",{className:"AnimateConfig",children:[(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("label",{children:[(0,ee.jsx)("input",{type:"checkbox",checked:r,onChange:function(){return i((function(e){return!e}))}}),"Enable animate"]})," ",(0,ee.jsx)("button",{disabled:!r,onClick:u,children:"Preview"})]}),(0,ee.jsxs)("div",{style:{opacity:b?.3:1},children:["Animate order:"," ",I.size>1?(0,ee.jsx)(ee.Fragment,{children:"(mixed)"}):(0,ee.jsx)("input",{disabled:b,value:1===I.size&&I.values().next().value||0,onChange:function(e){var t=Math.floor(Number(e.target.value));a&&Number.isFinite(t)&&l(ne(a.drawing,d,"animateOrder",t))},type:"number",style:{width:40}})]}),(0,ee.jsxs)("div",{style:{opacity:f?.3:1},children:["Animate duration (ms):"," ",h.size>1?(0,ee.jsx)(ee.Fragment,{children:"(mixed)"}):(0,ee.jsx)("input",{disabled:f,value:1===h.size&&h.values().next().value||"",onChange:function(e){var t=Math.floor(Number(e.target.value));a&&Number.isFinite(t)&&l(ne(a.drawing,d,"animateDuration",t))},placeholder:"Default",style:{width:50}})]}),(0,ee.jsxs)("div",{style:{opacity:r?1:.3},children:["Animate pointer:"," ",(0,ee.jsx)("input",{disabled:!r,value:c.pointerImg||"",onChange:function(e){s((function(t){return o(o({},t),{},{pointerImg:e.target.value})}))},placeholder:"URL...",style:{width:50}})," ",(0,ee.jsxs)("label",{className:"AnimateConfig-button-like ".concat(r?"AnimateConfig-button-like-enabled":"AnimateConfig-button-like-disabled"),children:[(0,ee.jsx)("input",{disabled:!r,type:"file",accept:"image/*",onChange:function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){if("string"===typeof n.result){var e=n.result;s((function(t){return o(o({},t),{},{pointerImg:e})}))}},n.readAsDataURL(t)}},style:{width:0}}),"File"]})]}),(0,ee.jsxs)("div",{style:{opacity:r?1:.3},children:["(Pointer width:"," ",(0,ee.jsx)("input",{disabled:!r,value:c.pointerWidth||"",onChange:function(e){s((function(t){return o(o({},t),{},{pointerWidth:e.target.value})}))},placeholder:"Num...",style:{width:50}}),")"]})]})},ie=__webpack_require__(5225),ae=__webpack_require__.n(ie),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},le=function(){var e=I(g().mark((function e(t,n){var r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name.endsWith(".excalidraw")){e.next=5;break}return e.next=3,(0,l.loadFromBlob)(t,n,null);case 3:return r=e.sent,e.abrupt("return",o(o({},r),{},{appState:o(o({},n),r.appState)}));case 5:if("image/svg+xml"!==t.type){e.next=10;break}return e.next=8,ce(t);case 8:return i=e.sent,e.abrupt("return",{elements:i,appState:n,files:null});case 10:if(!t.type.startsWith("image/")){e.next=15;break}return e.next=13,se(t);case 13:return a=e.sent,e.abrupt("return",{elements:a,appState:n,files:null});case 15:return console.log("Unsupported file dropped",t),window.alert("Unsupported file dropped"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=I(g().mark((function e(t){var n,r,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,r=ae().convert(n),i=r.hasErrors,a=r.content,!i){e.next=6;break}throw Error("Error in convertSvgToElements");case 6:return e.abrupt("return",a.elements);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=I(g().mark((function e(t){var n,r,i,a,o,l,c,s,u,d,I,h,f,C,p,B;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,createImageBitmap(t);case 2:if(n=e.sent,r=64/Math.max(n.width,n.height),(i=document.createElement("canvas")).width=n.width*r,i.height=n.height*r,a=i.getContext("2d")){e.next=10;break}throw Error("Error in convertSvgToElements");case 10:for(a.drawImage(n,0,0,n.width,n.height,0,0,i.width,i.height),o=a.getImageData(0,0,i.width,i.height),l=[],c=oe(),s=0;s<i.height;++s)for(u=0;u<i.width;++u)d=o.data.slice(4*(s*i.width+u)),I=b(d,4),h=I[0],f=I[1],C=I[2],p=I[3],B={type:"rectangle",version:1,versionNonce:0,isDeleted:!1,id:oe(),fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",roughness:0,opacity:100,angle:0,x:300+5*u,y:100+5*s,strokeColor:"transparent",backgroundColor:"rgba(".concat(h,",").concat(f,",").concat(C,",").concat(p,")"),width:5,height:5,seed:0,groupIds:[c],roundness:null,boundElements:null,updated:1,link:null,locked:!1},l.push(B);return e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue="invert(93%) hue-rotate(180deg)",ge=(0,e.memo)((function(t){var n=t.scene,r=t.darkMode,i=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(i.current){var e=i.current.getContext("2d");e&&e.putImageData(n.imageData,0,0)}}),[n]),(0,ee.jsx)("canvas",{ref:i,width:n.width,height:n.height,style:{filter:r?ue:void 0}})})),de=function(t){var n,r=t.scenes,i=t.currentIndex,a=t.updateScenes,o=t.moveToScene,l=t.addScene,c=t.updateDrawing,s=b((0,e.useState)(!1),2),d=s[0],f=s[1],C=b((0,e.useState)(!1),2),p=C[0],B=C[1],m=b((0,e.useState)({}),2),A=m[0],y=m[1],v="dark"===(null===(n=r[i||0])||void 0===n?void 0:n.drawing.appState.theme),x=function(){var e=I(g().mark((function e(t){var n,a,o,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=t.dataTransfer)||void 0===n?void 0:n.files[0],o=void 0!==i&&r[i].drawing.appState,!a||!o){e.next=7;break}return e.next=5,le(a,o);case 5:(c=e.sent)&&l(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=I(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=I(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(r,{darkMode:v,animate:p,animateOptions:A});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=I(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i){e.next=7;break}return t="",(n=document.getElementById("previewOuter"))&&(t="previewInner"),e.next=6,$(r[i],{darkMode:v,animate:p,animateOptions:A},t);case 6:n&&(n.style.display="block");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ee.jsxs)("div",{className:"Claymate",style:{filter:v?ue:void 0},onDragOver:function(e){return e.preventDefault()},onDrop:x,children:[(0,ee.jsx)("div",{className:"Claymate-scenes",children:r.map((function(e,t){var n="MissingId";return(0,h.isEmpty)(r[t].drawing.elements)||(n=r[t].drawing.elements[0].id),(0,ee.jsxs)("div",{className:"Claymate-scene ".concat(t===i?"Claymate-current-scene":""),onClick:function(){return o(t)},"data-testid":n,children:[(0,ee.jsx)(ge,{scene:e,darkMode:v}),(0,ee.jsx)("button",{type:"button",className:"Claymate-delete","aria-label":"Delete",disabled:r.length<=1,onClick:function(t){t.stopPropagation(),function(e){var t=r.findIndex((function(t){return t.id===e}));if(t>=0){var n=r.length-1;if(n>0){var o;if(void 0!==i){var l=t===i;if(i>t||l){var c=i;l&&(i===n?c=i-1:0===i&&(c=1)),o={index:i>0?i-1:i,drawing:r[c].drawing}}}a((function(t){return t.filter((function(t){return t.id!==e}))}),o)}}}(e.id)},children:"\u2716"}),(0,ee.jsx)("button",{type:"button",className:"Claymate-left","aria-label":"Move Left",disabled:0===t,onClick:function(t){t.stopPropagation(),function(e){var t=r.findIndex((function(t){return t.id===e}));a((function(e){var n=u(e);return n[t-1]=e[t],n[t]=e[t-1],n}),{index:t-1,drawing:r[t].drawing})}(e.id)},children:"\u2b05"}),(0,ee.jsx)("button",{type:"button",className:"Claymate-right","aria-label":"Move Right",disabled:t===r.length-1,onClick:function(t){t.stopPropagation(),function(e){var t=r.findIndex((function(t){return t.id===e}));a((function(e){var n=u(e);return n[t+1]=e[t],n[t]=e[t+1],n}),{index:t+1,drawing:r[t].drawing})}(e.id)},children:"\u27a1"})]},e.id)}))}),(0,ee.jsx)("div",{className:"Claymate-configs",children:d&&(0,ee.jsx)(re,{animateEnabled:p,setAnimateEnabled:B,scene:void 0===i?void 0:r[i],updateDrawing:c,animateOptions:A,setAnimateOptions:y,previewCurrentScene:U})}),(0,ee.jsxs)("div",{className:"Claymate-buttons",children:[(0,ee.jsx)("button",{type:"button",onClick:function(){return l()},children:"Add scene"}),(0,ee.jsx)("button",{type:"button",onClick:Q,disabled:0===r.length,children:"Export GIF"}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("button",{type:"button",onClick:function(){return f((function(e){return!e}))},children:d?(0,ee.jsx)(ee.Fragment,{children:"\u25b8"}):(0,ee.jsx)(ee.Fragment,{children:"\u25c2"})}),(0,ee.jsx)("button",{type:"button",onClick:function(){return F()},disabled:0===r.length,children:"Export HTML"})]}),(0,ee.jsx)("button",{type:"button",onClick:function(){a((function(e){return u(e).reverse()}),void 0!==i?{index:r.length-1-i,drawing:r[i].drawing}:void 0)},disabled:r.length<=1,children:"Reverse order"})]})]})},Ie=__webpack_require__(8111),be=__webpack_require__.n(Ie),he=function(){var e=I(g().mark((function e(t,n){var r,i,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.exportToCanvas)(t);case 2:if(r=e.sent,i=n?n.width:r.width,a=n?n.height:r.height,i&&a){e.next=7;break}return e.abrupt("return");case 7:if(!(o=r.getContext("2d"))){e.next=10;break}return e.abrupt("return",{id:oe(),width:i,height:a,imageData:o.getImageData(0,0,i,a),drawing:t});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}var Ce="claymate-scenes",pe=function(){try{var e=JSON.parse(localStorage.getItem("excalidraw-elements")||"");return e.appState.collaborators=new Map,e}catch(f){return null}},Be=function(){var e=I(g().mark((function e(){var t,n,r,i,a,o,l,c,s,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem(Ce)||"",!((n=t&&t.length>0?JSON.parse(t):void 0)&&n.length>0)){e.next=26;break}i=[],a=fe(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=17;break}return(l=o.value).appState.collaborators=new Map,e.next=13,he(l,r?{width:r.width,height:r.height}:void 0);case 13:(c=e.sent)&&(r||(r=c),i.push(c));case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:return e.abrupt("return",i);case 26:e.next=43;break;case 28:if(e.prev=28,e.t1=e.catch(0),console.error("Error loading from storage",e.t1),e.prev=31,!(s=pe())){e.next=39;break}return e.next=36,he(s);case 36:if(!(u=e.sent)){e.next=39;break}return e.abrupt("return",[u]);case 39:e.next=43;break;case 41:e.prev=41,e.t2=e.catch(31);case 43:return e.abrupt("return",null);case 44:case"end":return e.stop()}}),e,null,[[0,28],[6,19,22,25],[31,41]])})));return function(){return e.apply(this,arguments)}}(),me=function(e){return e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Complete=2]="Complete",e}(me||{}),Ae=function(){var t,n,r=(0,e.useRef)(me.NotStarted),i=b((0,e.useState)(0),2),a=i[0],l=i[1],c=b((0,e.useState)(0),2),s=c[0],d=c[1],h=b((0,e.useState)([]),2),f=h[0],C=h[1],p=b((0,e.useState)(),2),B=p[0],m=p[1],A=void 0!==s&&s<f.length?o(o({},f[s]),{},{drawing:B}):void 0;null!=A&&1!==f.length&&(t=A.width,n=A.height);var y=(0,e.useCallback)((function(e,t,n){l((function(e){return e+1})),m(e),n&&void 0!==t&&n(t,e)}),[]),v=(0,e.useCallback)((function(e,r){null!=e&&r&&I(g().mark((function i(){var a;return g().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,he(r,void 0===t||void 0===n?void 0:{width:t,height:n});case 2:(a=i.sent)&&C((function(t){var n=u(t);return n[e]=a,n}));case 4:case"end":return i.stop()}}),i)})))()}),[t,n]),x=(0,e.useCallback)((function(e,t){C(e),t&&(d(t.index),y(t.drawing,t.index,v))}),[d,y,v]),Q=(0,e.useCallback)((function(e){y(f[e].drawing,e,v),d(e)}),[y,f,v]),F=(0,e.useCallback)((function(e){var t=e||B;t&&I(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t,f[0]&&{width:f[0].width,height:f[0].height});case 2:(n=e.sent)&&x((function(e){return[].concat(u(e),[n])}),{index:f.length,drawing:t});case 4:case"end":return e.stop()}}),e)})))()}),[x,f,B]);return(0,e.useEffect)((function(){r.current===me.NotStarted&&(r.current=me.Started,I(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(t=e.sent)&&t.length>0?(C(t),d(0),y(t[0].drawing,0,v)):F(),r.current=me.Complete;case 5:case"end":return e.stop()}}),e)})))())}),[v,y,F]),(0,e.useEffect)((function(){r.current===me.Complete&&function(e){var t=JSON.stringify(e.map((function(e){return e.drawing})));localStorage.setItem(Ce,t)}(f)}),[f]),{moveToScene:Q,addScene:F,onChange:function(e,t,n){if(void 0!==s&&(null==B||!be()(e,B.elements)||!be()(t,B.appState))){var r={elements:e.map((function(e){return o({},e)})),appState:o({},t),files:n};m(r),v(s,r)}},drawingVersion:a,currentIndex:s,scenes:f,updateScenes:x,initialData:B}},ye="claymate-libraries",ve=function(){var t=(0,e.useMemo)((function(){return function(){try{var e=localStorage.getItem(ye),t=e?JSON.parse(e):void 0;if(t)return t}catch(f){console.error("Unable to load libraries",f)}}()}),[]),n=(0,e.useRef)(t);return{onLibraryChange:(0,e.useCallback)((function(e){!function(e){var t=JSON.stringify(e);localStorage.setItem(ye,t)}(e),n.current=e}),[]),libraryItems:n.current}},xe=function(){var t=(0,e.useRef)(null),n=Ae(),r=n.moveToScene,i=n.addScene,a=n.onChange,c=n.drawingVersion,s=n.currentIndex,u=n.initialData,g=n.scenes,d=n.updateScenes,I=ve(),b=I.onLibraryChange,h=I.libraryItems,f=(0,e.useMemo)((function(){return o(o({},u),{},h?{libraryItems:h,files:(null===u||void 0===u?void 0:u.files)||void 0}:{files:(null===u||void 0===u?void 0:u.files)||void 0})}),[u,h]);return(0,ee.jsxs)("div",{className:"ClaymateApp",children:[(0,ee.jsx)(l.Excalidraw,{ref:t,initialData:f,onChange:a,onLibraryChange:b},c),(0,ee.jsx)(de,{scenes:g,currentIndex:s,updateScenes:d,moveToScene:r,addScene:i,updateDrawing:function(e){var n;null===(n=t.current)||void 0===n||n.updateScene(e)}})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=document.getElementById("root");(0,t.s)(Qe).render((0,ee.jsx)(e.StrictMode,{children:(0,ee.jsx)(xe,{})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}()})();
//# sourceMappingURL=main.98e7b938.js.map